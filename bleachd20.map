{"version":3,"file":"dnd5e.mjs","sources":["module/canvas/map-location-control-icon.mjs","module/applications/advancement/advancement-config.mjs","module/applications/advancement/advancement-flow.mjs","module/documents/actor/proficiency.mjs","module/data/abstract.mjs","module/data/fields.mjs","module/data/advancement/base-advancement.mjs","module/documents/advancement/advancement.mjs","module/applications/advancement/ability-score-improvement-config.mjs","module/applications/advancement/ability-score-improvement-flow.mjs","module/data/advancement/ability-score-improvement.mjs","module/documents/advancement/ability-score-improvement.mjs","module/applications/advancement/hit-points-config.mjs","module/applications/advancement/hit-points-flow.mjs","module/utils.mjs","module/documents/advancement/hit-points.mjs","module/applications/advancement/item-choice-config.mjs","module/applications/actor/short-rest.mjs","module/applications/actor/long-rest.mjs","module/applications/property-attribution.mjs","module/filter.mjs","module/applications/compendium-browser.mjs","module/canvas/token-placement.mjs","module/dice/simplify-roll-formula.mjs","module/data/item/fields/summons-field.mjs","module/dice/dice.mjs","module/applications/dialog-mixin.mjs","module/applications/award.mjs","module/data/shared/source-field.mjs","module/data/journal/spells.mjs","module/applications/advancement/advancement-manager.mjs","module/applications/advancement/advancement-confirmation-dialog.mjs","module/data/item/fields/enchantment-field.mjs","module/applications/item/ability-use-dialog.mjs","module/documents/actor/select-choices.mjs","module/documents/actor/trait.mjs","module/applications/advancement/trait-config.mjs","module/applications/advancement/trait-flow.mjs","module/data/advancement/trait.mjs","module/documents/advancement/trait.mjs","module/data/item/templates/item-description.mjs","module/data/item/templates/starting-equipment.mjs","module/data/item/class.mjs","module/data/item/templates/equippable-item.mjs","module/data/item/templates/identifiable.mjs","module/data/item/templates/physical-item.mjs","module/data/shared/currency.mjs","module/data/item/container.mjs","module/data/item/templates/action.mjs","module/data/item/templates/activated-effect.mjs","module/data/item/templates/item-type.mjs","module/data/item/templates/mountable.mjs","module/data/item/fields/item-type-field.mjs","module/data/item/equipment.mjs","module/data/item/spell.mjs","module/documents/mixins/flags.mjs","module/documents/mixins/document.mjs","module/documents/item.mjs","module/data/collection/items-collection.mjs","module/applications/journal/spells-unlinked-config.mjs","module/applications/journal/spells-page-sheet.mjs","module/dice/aggregate-damage-rolls.mjs","module/dice/d20-roll.mjs","module/dice/damage-roll.mjs","module/documents/macro.mjs","module/enrichers.mjs","module/documents/active-effect.mjs","module/documents/actor/actor.mjs","module/applications/advancement/item-grant-flow.mjs","module/applications/advancement/item-choice-flow.mjs","module/data/advancement/spell-config.mjs","module/data/advancement/item-choice.mjs","module/applications/advancement/item-grant-config.mjs","module/data/advancement/item-grant.mjs","module/documents/advancement/item-grant.mjs","module/documents/advancement/item-choice.mjs","module/data/advancement/scale-value.mjs","module/applications/advancement/scale-value-config.mjs","module/applications/advancement/scale-value-flow.mjs","module/documents/advancement/scale-value.mjs","module/applications/advancement/size-config.mjs","module/applications/advancement/size-flow.mjs","module/data/advancement/size.mjs","module/documents/advancement/size.mjs","module/config.mjs","module/module-art.mjs","module/settings.mjs","module/applications/context-menu.mjs","module/applications/components/effects.mjs","module/applications/actor/base-config.mjs","module/applications/actor/ability-config.mjs","module/applications/actor/armor-config.mjs","module/applications/actor/concentration-config.mjs","module/applications/actor/hit-dice-config.mjs","module/applications/actor/hit-points-config.mjs","module/applications/actor/initiative-config.mjs","module/applications/actor/movement-config.mjs","module/applications/actor/senses-config.mjs","module/applications/actor/sheet-flags.mjs","module/applications/actor/type-config.mjs","module/applications/actor/damage-modification-config.mjs","module/applications/source-config.mjs","module/applications/actor/trait-selector.mjs","module/applications/actor/proficiency-config.mjs","module/applications/actor/tool-selector.mjs","module/applications/actor/sheet-mixin.mjs","module/applications/actor/spell-slots-config.mjs","module/applications/actor/base-sheet.mjs","module/applications/actor/character-sheet.mjs","module/documents/actor/hit-dice.mjs","module/data/shared/creature-type-field.mjs","module/data/shared/roll-config-field.mjs","module/data/shared/movement-field.mjs","module/data/shared/senses-field.mjs","module/data/actor/templates/attributes.mjs","module/data/actor/templates/common.mjs","module/data/actor/templates/creature.mjs","module/data/actor/templates/details.mjs","module/data/actor/templates/traits.mjs","module/data/actor/character.mjs","module/applications/sheet-config.mjs","module/applications/tabs.mjs","module/applications/actor/sheet-v2-mixin.mjs","module/applications/actor/character-sheet-2.mjs","module/applications/actor/npc-sheet.mjs","module/applications/actor/npc-sheet-2.mjs","module/applications/actor/vehicle-sheet.mjs","module/applications/actor/group-sheet.mjs","module/applications/actor/skills-config.mjs","module/applications/advancement/advancement-migration-dialog.mjs","module/applications/advancement/advancement-selection.mjs","module/applications/combat/combat-tracker.mjs","module/applications/components/adopted-stylesheet-mixin.mjs","module/applications/components/checkbox.mjs","module/applications/components/chat-tray-element.mjs","module/applications/components/damage-application.mjs","module/applications/components/enchantment-application.mjs","module/applications/components/filigree-box.mjs","module/applications/components/filter-state.mjs","module/applications/components/icon.mjs","module/applications/currency-manager.mjs","module/applications/components/inventory.mjs","module/applications/components/item-list-controls.mjs","module/applications/components/proficiency-cycle.mjs","module/applications/components/slide-toggle.mjs","module/applications/components/_module.mjs","module/applications/accordion.mjs","module/applications/item/enchantment-config.mjs","module/applications/item/starting-equipment-config.mjs","module/applications/item/summoning-config.mjs","module/applications/item/item-sheet.mjs","module/applications/item/container-sheet.mjs","module/applications/item/item-compendium.mjs","module/applications/item/item-directory.mjs","module/applications/journal/journal-editor.mjs","module/applications/journal/class-page-sheet.mjs","module/applications/journal/map-page-sheet.mjs","module/applications/journal/rule-page-sheet.mjs","module/applications/journal/journal-sheet.mjs","module/applications/journal/table-of-contents.mjs","module/data/token/token-system-flags.mjs","module/documents/token.mjs","module/applications/token-config.mjs","module/canvas/ability-template.mjs","module/canvas/detection-modes/blindsight.mjs","module/canvas/grid.mjs","module/canvas/note.mjs","module/canvas/token.mjs","module/canvas/token-ring.mjs","module/canvas/shaders/parts/token-ring-shader-core.mjs","module/canvas/shaders/token-ring-shader-v11.mjs","module/data/actor/group-system-flags.mjs","module/data/actor/group.mjs","module/data/actor/npc.mjs","module/data/actor/vehicle.mjs","module/data/actor/_module.mjs","module/data/item/background.mjs","module/data/item/consumable.mjs","module/data/item/feat.mjs","module/data/item/loot.mjs","module/data/item/race.mjs","module/data/item/subclass.mjs","module/data/item/tool.mjs","module/data/item/weapon.mjs","module/data/item/_module.mjs","module/data/journal/class.mjs","module/data/journal/map.mjs","module/data/journal/rule.mjs","module/data/journal/subclass.mjs","module/data/journal/_module.mjs","module/data/user/user-system-flags.mjs","module/documents/chat-message.mjs","module/documents/combat.mjs","module/documents/combatant.mjs","module/documents/user.mjs","module/documents/_module.mjs","module/migration.mjs","module/tooltips.mjs","dnd5e.mjs"],"sourcesContent":["/**\n * Custom control icon used to display Map Location journal pages when pinned to the map.\n */\nexport default class MapLocationControlIcon extends PIXI.Container {\n  constructor({code, size=40, ...style}={}, ...args) {\n    super(...args);\n\n    this.code = code;\n    this.size = size;\n    this.style = style;\n\n    this.renderMarker();\n    this.refresh();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Perform the actual rendering of the marker.\n   */\n  renderMarker() {\n    this.radius = this.size / 2;\n    this.circle = [this.radius, this.radius, this.radius + 8];\n    this.backgroundColor = this.style.backgroundColor;\n    this.borderColor = this.style.borderHoverColor;\n\n    // Define hit area\n    this.eventMode = \"static\";\n    this.interactiveChildren = false;\n    this.hitArea = new PIXI.Circle(...this.circle);\n    this.cursor = \"pointer\";\n\n    // Drop Shadow\n    this.shadow = this.addChild(new PIXI.Graphics());\n    this.shadow.clear()\n      .beginFill(this.style.shadowColor, 0.65)\n      .drawCircle(this.radius + 8, this.radius + 8, this.radius + 10)\n      .endFill();\n    this.shadow.filters = [new PIXI.filters.BlurFilter(16)];\n\n    // 3D Effect\n    this.extrude = this.addChild(new PIXI.Graphics());\n    this.extrude.clear()\n      .beginFill(this.style.borderColor, 1.0)\n      .drawCircle(this.radius + 2, this.radius + 2, this.radius + 9)\n      .endFill();\n\n    // Background\n    this.bg = this.addChild(new PIXI.Graphics());\n    this.bg.clear()\n      .beginFill(this.backgroundColor, 1.0)\n      .lineStyle(2, this.style.borderColor, 1.0)\n      .drawCircle(...this.circle)\n      .endFill();\n\n    // Text\n    this.text = new PreciseText(this.code, this._getTextStyle(this.code.length, this.size));\n    this.text.anchor.set(0.5, 0.5);\n    this.text.position.set(this.radius, this.radius);\n    this.addChild(this.text);\n\n    // Border\n    this.border = this.addChild(new PIXI.Graphics());\n    this.border.visible = false;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Code text to be rendered.\n   * @type {string}\n   */\n  code;\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  refresh({ visible, iconColor, borderColor, borderVisible }={}) {\n    if ( borderColor ) this.borderColor = borderColor;\n    this.border.clear().lineStyle(2, this.borderColor, 1.0).drawCircle(...this.circle).endFill();\n    if ( borderVisible !== undefined ) this.border.visible = borderVisible;\n    if ( visible !== undefined ) this.visible = visible;\n    return this;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Define PIXI TestStyle object for rendering the map location code.\n   * @param {number} characterCount  Number of characters in the code.\n   * @param {number} size            Size of the icon in the Scene.\n   * @returns {PIXI.TextStyle}\n   * @protected\n   */\n  _getTextStyle(characterCount, size) {\n    const style = CONFIG.canvasTextStyle.clone();\n    style.dropShadow = false;\n    style.fill = Color.from(this.style.textColor);\n    style.strokeThickness = 0;\n    style.fontFamily = [\"Signika\"];\n    if ( this.style.fontFamily ) style.fontFamily.unshift(this.style.fontFamily);\n    style.fontSize = characterCount > 2 ? size * .5 : size * .6;\n    return style;\n  }\n}\n","/**\n * Base configuration application for advancements that can be extended by other types to implement custom\n * editing interfaces.\n *\n * @param {Advancement} advancement            The advancement item being edited.\n * @param {object} [options={}]                Additional options passed to FormApplication.\n * @param {string} [options.dropKeyPath=null]  Path within advancement configuration where dropped items are stored.\n *                                             If populated, will enable default drop & delete behavior.\n */\nexport default class AdvancementConfig extends FormApplication {\n  constructor(advancement, options={}) {\n    super(advancement, options);\n    this.#advancementId = advancement.id;\n    this.item = advancement.item;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The ID of the advancement being created or edited.\n   * @type {string}\n   */\n  #advancementId;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Parent item to which this advancement belongs.\n   * @type {Item5e}\n   */\n  item;\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\", \"advancement\", \"dialog\"],\n      template: \"systems/dnd5e/templates/advancement/advancement-config.hbs\",\n      width: 400,\n      height: \"auto\",\n      submitOnChange: true,\n      closeOnSubmit: false,\n      dropKeyPath: null\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The advancement being created or edited.\n   * @type {Advancement}\n   */\n  get advancement() {\n    return this.item.advancement.byId[this.#advancementId];\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  get title() {\n    const type = this.advancement.constructor.metadata.title;\n    return `${game.i18n.format(\"DND5E.AdvancementConfigureTitle\", { item: this.item.name })}: ${type}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async close(options={}) {\n    await super.close(options);\n    delete this.advancement?.apps[this.appId];\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  getData() {\n    const levels = Object.fromEntries(Array.fromRange(CONFIG.DND5E.maxLevel + 1).map(l => [l, l]));\n    if ( [\"class\", \"subclass\"].includes(this.item.type) ) delete levels[0];\n    else levels[0] = game.i18n.localize(\"DND5E.AdvancementLevelAnyHeader\");\n    const context = {\n      appId: this.id,\n      CONFIG: CONFIG.DND5E,\n      ...this.advancement.toObject(false),\n      src: this.advancement.toObject(),\n      default: {\n        title: this.advancement.constructor.metadata.title,\n        icon: this.advancement.constructor.metadata.icon,\n        hint: \"\"\n      },\n      levels,\n      showClassRestrictions: this.item.type === \"class\",\n      showLevelSelector: !this.advancement.constructor.metadata.multiLevel\n    };\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Perform any changes to configuration data before it is saved to the advancement.\n   * @param {object} configuration  Configuration object.\n   * @returns {object}              Modified configuration.\n   */\n  async prepareConfigurationUpdate(configuration) {\n    return configuration;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n\n    // Remove an item from the list\n    if ( this.options.dropKeyPath ) html.on(\"click\", \"[data-action='delete']\", this._onItemDelete.bind(this));\n\n    for ( const element of html[0].querySelectorAll(\"multi-select\") ) {\n      element.addEventListener(\"change\", this._onChangeInput.bind(this));\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  render(force=false, options={}) {\n    this.advancement.apps[this.appId] = this;\n    return super.render(force, options);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _updateObject(event, formData) {\n    let updates = foundry.utils.expandObject(formData);\n    if ( updates.configuration ) updates.configuration = await this.prepareConfigurationUpdate(updates.configuration);\n    await this.advancement.update(updates);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Helper method to take an object and apply updates that remove any empty keys.\n   * @param {object} object  Object to be cleaned.\n   * @returns {object}       Copy of object with only non false-ish values included and others marked\n   *                         using `-=` syntax to be removed by update process.\n   * @protected\n   */\n  static _cleanedObject(object) {\n    return Object.entries(object).reduce((obj, [key, value]) => {\n      let keep = false;\n      if ( foundry.utils.getType(value) === \"Object\" ) {\n        keep = Object.values(value).some(v => v);\n      } else if ( value ) keep = true;\n      if ( keep ) obj[key] = value;\n      else obj[`-=${key}`] = null;\n      return obj;\n    }, {});\n  }\n\n  /* -------------------------------------------- */\n  /*  Drag & Drop for Item Pools                  */\n  /* -------------------------------------------- */\n\n  /**\n   * Handle deleting an existing Item entry from the Advancement.\n   * @param {Event} event        The originating click event.\n   * @returns {Promise<Item5e>}  The updated parent Item after the application re-renders.\n   * @protected\n   */\n  async _onItemDelete(event) {\n    event.preventDefault();\n    const uuidToDelete = event.currentTarget.closest(\"[data-item-uuid]\")?.dataset.itemUuid;\n    if ( !uuidToDelete ) return;\n    const items = foundry.utils.getProperty(this.advancement.configuration, this.options.dropKeyPath);\n    const updates = { configuration: await this.prepareConfigurationUpdate({\n      [this.options.dropKeyPath]: items.filter(i => i.uuid !== uuidToDelete)\n    }) };\n    await this.advancement.update(updates);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _canDragDrop() {\n    return this.isEditable;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _onDrop(event) {\n    if ( !this.options.dropKeyPath ) throw new Error(\n      \"AdvancementConfig#options.dropKeyPath must be configured or #_onDrop must be overridden to support\"\n      + \" drag and drop on advancement config items.\"\n    );\n\n    // Try to extract the data\n    const data = TextEditor.getDragEventData(event);\n\n    if ( data?.type !== \"Item\" ) return false;\n    const item = await Item.implementation.fromDropData(data);\n\n    try {\n      this._validateDroppedItem(event, item);\n    } catch(err) {\n      ui.notifications.error(err.message);\n      return null;\n    }\n\n    const existingItems = foundry.utils.getProperty(this.advancement.configuration, this.options.dropKeyPath);\n\n    // Abort if this uuid is the parent item\n    if ( item.uuid === this.item.uuid ) {\n      ui.notifications.error(\"DND5E.AdvancementItemGrantRecursiveWarning\", {localize: true});\n      return null;\n    }\n\n    // Abort if this uuid exists already\n    if ( existingItems.find(i => i.uuid === item.uuid) ) {\n      ui.notifications.warn(\"DND5E.AdvancementItemGrantDuplicateWarning\", {localize: true});\n      return null;\n    }\n\n    await this.advancement.update({[`configuration.${this.options.dropKeyPath}`]: [\n      ...existingItems, { uuid: item.uuid }\n    ]});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Called when an item is dropped to validate the Item before it is saved. An error should be thrown\n   * if the item is invalid.\n   * @param {Event} event  Triggering drop event.\n   * @param {Item5e} item  The materialized Item that was dropped.\n   * @throws An error if the item is invalid.\n   * @protected\n   */\n  _validateDroppedItem(event, item) {}\n\n}\n","/**\n * Base class for the advancement interface displayed by the advancement prompt that should be subclassed by\n * individual advancement types.\n *\n * @param {Item5e} item           Item to which the advancement belongs.\n * @param {string} advancementId  ID of the advancement this flow modifies.\n * @param {number} level          Level for which to configure this flow.\n * @param {object} [options={}]   Application rendering options.\n */\nexport default class AdvancementFlow extends FormApplication {\n  constructor(item, advancementId, level, options={}) {\n    super({}, options);\n\n    /**\n     * The item that houses the Advancement.\n     * @type {Item5e}\n     */\n    this.item = item;\n\n    /**\n     * ID of the advancement this flow modifies.\n     * @type {string}\n     * @private\n     */\n    this._advancementId = advancementId;\n\n    /**\n     * Level for which to configure this flow.\n     * @type {number}\n     */\n    this.level = level;\n\n    /**\n     * Data retained by the advancement manager during a reverse step. If restoring data using Advancement#restore,\n     * this data should be used when displaying the flow's form.\n     * @type {object|null}\n     */\n    this.retainedData = null;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      template: \"systems/dnd5e/templates/advancement/advancement-flow.hbs\",\n      popOut: false\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get id() {\n    return `actor-${this.advancement.item.id}-advancement-${this.advancement.id}-${this.level}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get title() {\n    return this.advancement.title;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The Advancement object this flow modifies.\n   * @type {Advancement|null}\n   */\n  get advancement() {\n    return this.item.advancement?.byId[this._advancementId] ?? null;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Set the retained data for this flow. This method gives the flow a chance to do any additional prep\n   * work required for the retained data before the application is rendered.\n   * @param {object} data  Retained data associated with this flow.\n   */\n  async retainData(data) {\n    this.retainedData = data;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  getData() {\n    return {\n      appId: this.id,\n      advancement: this.advancement,\n      type: this.advancement.constructor.typeName,\n      title: this.title,\n      summary: this.advancement.summaryForLevel(this.level),\n      level: this.level\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _render(...args) {\n    await super._render(...args);\n\n    // Call setPosition on manager to adjust for size changes\n    this.options.manager?.setPosition();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _updateObject(event, formData) {\n    await this.advancement.apply(this.level, formData);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _canDragDrop(selector) {\n    return true;\n  }\n\n}\n","/**\n * Object describing the proficiency for a specific ability or skill.\n *\n * @param {number} proficiency   Actor's flat proficiency bonus based on their current level.\n * @param {number} multiplier    Value by which to multiply the actor's base proficiency value.\n * @param {boolean} [roundDown]  Should half-values be rounded up or down?\n */\nexport default class Proficiency {\n  constructor(proficiency, multiplier, roundDown=true) {\n\n    /**\n     * Base proficiency value of the actor.\n     * @type {number}\n     * @private\n     */\n    this._baseProficiency = Number(proficiency ?? 0);\n\n    /**\n     * Value by which to multiply the actor's base proficiency value.\n     * @type {number}\n     */\n    this.multiplier = Number(multiplier ?? 0);\n\n    /**\n     * Direction decimal results should be rounded (\"up\" or \"down\").\n     * @type {string}\n     */\n    this.rounding = roundDown ? \"down\" : \"up\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Calculate an actor's proficiency modifier based on level or CR.\n   * @param {number} level  Level or CR To use for calculating proficiency modifier.\n   * @returns {number}      Proficiency modifier.\n   */\n  static calculateMod(level) {\n    return Math.floor((level + 7) / 4);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Flat proficiency value regardless of proficiency mode.\n   * @type {number}\n   */\n  get flat() {\n    const roundMethod = (this.rounding === \"down\") ? Math.floor : Math.ceil;\n    return roundMethod(this.multiplier * this._baseProficiency);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Dice-based proficiency value regardless of proficiency mode.\n   * @type {string}\n   */\n  get dice() {\n    if ( (this._baseProficiency === 0) || (this.multiplier === 0) ) return \"0\";\n    const roundTerm = (this.rounding === \"down\") ? \"floor\" : \"ceil\";\n    if ( this.multiplier === 0.5 ) {\n      return `${roundTerm}(1d${this._baseProficiency * 2} / 2)`;\n    } else {\n      return `${this.multiplier}d${this._baseProficiency * 2}`;\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Either flat or dice proficiency term based on configured setting.\n   * @type {string}\n   */\n  get term() {\n    return (game.settings.get(\"dnd5e\", \"proficiencyModifier\") === \"dice\") ? this.dice : String(this.flat);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Whether the proficiency is greater than zero.\n   * @type {boolean}\n   */\n  get hasProficiency() {\n    return (this._baseProficiency > 0) && (this.multiplier > 0);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Override the default `toString` method to return flat proficiency for backwards compatibility in formula.\n   * @returns {string}  Flat proficiency value.\n   */\n  toString() {\n    return this.term;\n  }\n}\n","import Proficiency from \"../documents/actor/proficiency.mjs\";\n\n/**\n * Data Model variant with some extra methods to support template mix-ins.\n *\n * **Note**: This uses some advanced Javascript techniques that are not necessary for most data models.\n * Please refer to the [advancement data models]{@link BaseAdvancement} for an example of a more typical usage.\n *\n * In template.json, each Actor or Item type can incorporate several templates which are chunks of data that are\n * common across all the types that use them. One way to represent them in the schema for a given Document type is to\n * duplicate schema definitions for the templates and write them directly into the Data Model for the Document type.\n * This works fine for small templates or systems that do not need many Document types but for more complex systems\n * this boilerplate can become prohibitive.\n *\n * Here we have opted to instead create a separate Data Model for each template available. These define their own\n * schemas which are then mixed-in to the final schema for the Document type's Data Model. A Document type Data Model\n * can define its own schema unique to it, and then add templates in direct correspondence to those in template.json\n * via SystemDataModel.mixin.\n */\nexport default class SystemDataModel extends foundry.abstract.TypeDataModel {\n\n  /** @inheritdoc */\n  static _enableV10Validation = true;\n\n  /**\n   * System type that this system data model represents (e.g. \"character\", \"npc\", \"vehicle\").\n   * @type {string}\n   */\n  static _systemType;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Base templates used for construction.\n   * @type {*[]}\n   * @private\n   */\n  static _schemaTemplates = [];\n\n  /* -------------------------------------------- */\n\n  /**\n   * The field names of the base templates used for construction.\n   * @type {Set<string>}\n   * @private\n   */\n  static get _schemaTemplateFields() {\n    const fieldNames = Object.freeze(new Set(this._schemaTemplates.map(t => t.schema.keys()).flat()));\n    Object.defineProperty(this, \"_schemaTemplateFields\", {\n      value: fieldNames,\n      writable: false,\n      configurable: false\n    });\n    return fieldNames;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * A list of properties that should not be mixed-in to the final type.\n   * @type {Set<string>}\n   * @private\n   */\n  static _immiscible = new Set([\"length\", \"mixed\", \"name\", \"prototype\", \"cleanData\", \"_cleanData\",\n    \"_initializationOrder\", \"validateJoint\", \"_validateJoint\", \"migrateData\", \"_migrateData\",\n    \"shimData\", \"_shimData\", \"defineSchema\"]);\n\n  /* -------------------------------------------- */\n\n  /**\n   * @typedef {object} SystemDataModelMetadata\n   * @property {typeof DataModel} [systemFlagsModel]  Model that represents flags data within the dnd5e namespace.\n   */\n\n  /**\n   * Metadata that describes this DataModel.\n   * @type {SystemDataModelMetadata}\n   */\n  static metadata = Object.freeze({\n    systemFlagsModel: null\n  });\n\n  get metadata() {\n    return this.constructor.metadata;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Filters available for this item type when using the compendium browser.\n   * @returns {CompendiumBrowserFilterDefinition}\n   */\n  static get compendiumBrowserFilters() {\n    return new Map();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static defineSchema() {\n    const schema = {};\n    for ( const template of this._schemaTemplates ) {\n      if ( !template.defineSchema ) {\n        throw new Error(`Invalid dnd5e template mixin ${template} defined on class ${this.constructor}`);\n      }\n      this.mergeSchema(schema, template.defineSchema());\n    }\n    return schema;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Merge two schema definitions together as well as possible.\n   * @param {DataSchema} a  First schema that forms the basis for the merge. *Will be mutated.*\n   * @param {DataSchema} b  Second schema that will be merged in, overwriting any non-mergeable properties.\n   * @returns {DataSchema}  Fully merged schema.\n   */\n  static mergeSchema(a, b) {\n    Object.assign(a, b);\n    return a;\n  }\n\n\n  /* -------------------------------------------- */\n  /*  Data Cleaning                               */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static cleanData(source, options) {\n    this._cleanData(source, options);\n    return super.cleanData(source, options);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Performs cleaning without calling DataModel.cleanData.\n   * @param {object} [source]         The source data\n   * @param {object} [options={}]     Additional options (see DataModel.cleanData)\n   * @protected\n   */\n  static _cleanData(source, options) {\n    for ( const template of this._schemaTemplates ) {\n      template._cleanData(source, options);\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Initialization                         */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static *_initializationOrder() {\n    for ( const template of this._schemaTemplates ) {\n      for ( const entry of template._initializationOrder() ) {\n        entry[1] = this.schema.get(entry[0]);\n        yield entry;\n      }\n    }\n    for ( const entry of this.schema.entries() ) {\n      if ( this._schemaTemplateFields.has(entry[0]) ) continue;\n      yield entry;\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Socket Event Handlers                       */\n  /* -------------------------------------------- */\n\n  /**\n   * Pre-creation logic for this system data.\n   * @param {object} data               The initial data object provided to the document creation request.\n   * @param {object} options            Additional options which modify the creation request.\n   * @param {User} user                 The User requesting the document creation.\n   * @returns {Promise<boolean|void>}   A return value of false indicates the creation operation should be cancelled.\n   * @see {Document#_preCreate}\n   * @protected\n   */\n  async _preCreate(data, options, user) {\n    const actor = this.parent.actor;\n    if ( (actor?.type !== \"character\") || !this.metadata?.singleton ) return;\n    if ( actor.itemTypes[data.type]?.length ) {\n      ui.notifications.error(game.i18n.format(\"DND5E.ActorWarningSingleton\", {\n        itemType: game.i18n.localize(CONFIG.Item.typeLabels[data.type]),\n        actorType: game.i18n.localize(CONFIG.Actor.typeLabels[actor.type])\n      }));\n      return false;\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Validation                             */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  validate(options={}) {\n    if ( this.constructor._enableV10Validation === false ) return true;\n    return super.validate(options);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static validateJoint(data) {\n    this._validateJoint(data);\n    return super.validateJoint(data);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Performs joint validation without calling DataModel.validateJoint.\n   * @param {object} data     The source data\n   * @throws                  An error if a validation failure is detected\n   * @protected\n   */\n  static _validateJoint(data) {\n    for ( const template of this._schemaTemplates ) {\n      template._validateJoint(data);\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Migration                              */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static migrateData(source) {\n    this._migrateData(source);\n    return super.migrateData(source);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Performs migration without calling DataModel.migrateData.\n   * @param {object} source     The source data\n   * @protected\n   */\n  static _migrateData(source) {\n    for ( const template of this._schemaTemplates ) {\n      template._migrateData(source);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static shimData(data, options) {\n    this._shimData(data, options);\n    return super.shimData(data, options);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Performs shimming without calling DataModel.shimData.\n   * @param {object} data         The source data\n   * @param {object} [options]    Additional options (see DataModel.shimData)\n   * @protected\n   */\n  static _shimData(data, options) {\n    for ( const template of this._schemaTemplates ) {\n      template._shimData(data, options);\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Mixins                                      */\n  /* -------------------------------------------- */\n\n  /**\n   * Mix multiple templates with the base type.\n   * @param {...*} templates            Template classes to mix.\n   * @returns {typeof SystemDataModel}  Final prepared type.\n   */\n  static mixin(...templates) {\n    for ( const template of templates ) {\n      if ( !(template.prototype instanceof SystemDataModel) ) {\n        throw new Error(`${template.name} is not a subclass of SystemDataModel`);\n      }\n    }\n\n    const Base = class extends this {};\n    Object.defineProperty(Base, \"_schemaTemplates\", {\n      value: Object.seal([...this._schemaTemplates, ...templates]),\n      writable: false,\n      configurable: false\n    });\n\n    for ( const template of templates ) {\n      // Take all static methods and fields from template and mix in to base class\n      for ( const [key, descriptor] of Object.entries(Object.getOwnPropertyDescriptors(template)) ) {\n        if ( this._immiscible.has(key) ) continue;\n        Object.defineProperty(Base, key, descriptor);\n      }\n\n      // Take all instance methods and fields from template and mix in to base class\n      for ( const [key, descriptor] of Object.entries(Object.getOwnPropertyDescriptors(template.prototype)) ) {\n        if ( [\"constructor\"].includes(key) ) continue;\n        Object.defineProperty(Base.prototype, key, descriptor);\n      }\n    }\n\n    return Base;\n  }\n}\n\n/* -------------------------------------------- */\n\n/**\n * Variant of the SystemDataModel with some extra actor-specific handling.\n */\nexport class ActorDataModel extends SystemDataModel {\n\n  /**\n   * @typedef {SystemDataModelMetadata} ActorDataModelMetadata\n   * @property {boolean} supportsAdvancement  Can advancement be performed for this actor type?\n   */\n\n  /** @type {ActorDataModelMetadata} */\n  static metadata = Object.freeze(foundry.utils.mergeObject(super.metadata, {\n    supportsAdvancement: false\n  }, {inplace: false}));\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * Other actors that are available for currency transfers from this actor.\n   * @type {Actor5e[]}\n   */\n  get transferDestinations() {\n    const primaryParty = game.settings.get(\"dnd5e\", \"primaryParty\")?.actor;\n    if ( !primaryParty?.system.members.ids.has(this.parent.id) ) return [];\n    const destinations = primaryParty.system.members.map(m => m.actor).filter(a => a.isOwner && a !== this.parent);\n    if ( primaryParty.isOwner ) destinations.unshift(primaryParty);\n    return destinations;\n  }\n\n  /* -------------------------------------------- */\n  /*  Helpers                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare a data object which defines the data schema used by dice roll commands against this Actor.\n   * @param {object} [options]\n   * @param {boolean} [options.deterministic] Whether to force deterministic values for data properties that could be\n   *                                          either a die term or a flat term.\n   * @returns {object}\n   */\n  getRollData({ deterministic=false }={}) {\n    const data = { ...this };\n    data.prof = new Proficiency(this.attributes?.prof ?? 0, 1);\n    if ( deterministic ) data.prof = data.prof.flat;\n    return data;\n  }\n}\n\n/* -------------------------------------------- */\n\n/**\n * Variant of the SystemDataModel with support for rich item tooltips.\n */\nexport class ItemDataModel extends SystemDataModel {\n\n  /**\n   * @typedef {SystemDataModelMetadata} ItemDataModelMetadata\n   * @property {boolean} enchantable    Can this item be modified by enchantment effects?\n   * @property {boolean} inventoryItem  Should this item be listed with an actor's inventory?\n   * @property {number} inventoryOrder  Order this item appears in the actor's inventory, smaller numbers are earlier.\n   * @property {boolean} singleton      Should only a single item of this type be allowed on an actor?\n   */\n\n  /** @type {ItemDataModelMetadata} */\n  static metadata = Object.freeze(foundry.utils.mergeObject(super.metadata, {\n    enchantable: false,\n    inventoryItem: false,\n    inventoryOrder: Infinity,\n    singleton: false\n  }, {inplace: false}));\n\n  /**\n   * The handlebars template for rendering item tooltips.\n   * @type {string}\n   */\n  static ITEM_TOOLTIP_TEMPLATE = \"systems/dnd5e/templates/items/parts/item-tooltip.hbs\";\n\n  /* -------------------------------------------- */\n  /*  Data Preparation                            */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareBaseData() {\n    if ( this.parent.isEmbedded ) {\n      const sourceId = this.parent.flags.dnd5e?.sourceId ?? this.parent._stats.compendiumSource\n        ?? this.parent.flags.core?.sourceId;\n      if ( sourceId ) this.parent.actor?.sourcedItems?.set(sourceId, this.parent);\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Helpers                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Render a rich tooltip for this item.\n   * @param {EnrichmentOptions} [enrichmentOptions={}]  Options for text enrichment.\n   * @returns {{content: string, classes: string[]}}\n   */\n  async richTooltip(enrichmentOptions={}) {\n    return {\n      content: await renderTemplate(\n        this.constructor.ITEM_TOOLTIP_TEMPLATE, await this.getCardData(enrichmentOptions)\n      ),\n      classes: [\"dnd5e2\", \"dnd5e-tooltip\", \"item-tooltip\"]\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare item card template data.\n   * @param {EnrichmentOptions} enrichmentOptions  Options for text enrichment.\n   * @returns {Promise<object>}\n   */\n  async getCardData(enrichmentOptions={}) {\n    const { name, type, img } = this.parent;\n    let {\n      price, weight, uses, identified, unidentified, description, school, materials, activation, properties\n    } = this;\n    const rollData = this.parent.getRollData();\n    const isIdentified = identified !== false;\n    const chat = isIdentified ? description.chat || description.value : unidentified?.description;\n    description = game.user.isGM || isIdentified ? description.value : unidentified?.description;\n    uses = this.hasLimitedUses && (game.user.isGM || identified) ? uses : null;\n    price = game.user.isGM || identified ? price : null;\n\n    const subtitle = [this.type?.label ?? game.i18n.localize(CONFIG.Item.typeLabels[this.parent.type])];\n    const context = {\n      name, type, img, price, weight, uses, school, materials, activation,\n      config: CONFIG.DND5E,\n      controlHints: game.settings.get(\"dnd5e\", \"controlHints\"),\n      labels: foundry.utils.deepClone(this.parent.labels),\n      tags: this.parent.labels?.components?.tags,\n      subtitle: subtitle.filterJoin(\" &bull; \"),\n      description: {\n        value: await TextEditor.enrichHTML(description ?? \"\", {\n          rollData, async: true, relativeTo: this.parent, ...enrichmentOptions\n        }),\n        chat: await TextEditor.enrichHTML(chat ?? \"\", {\n          rollData, async: true, relativeTo: this.parent, ...enrichmentOptions\n        })\n      }\n    };\n\n    context.properties = [];\n\n    if ( game.user.isGM || isIdentified ) {\n      context.properties.push(\n        ...this.cardProperties ?? [],\n        ...this.activatedEffectCardProperties ?? [],\n        ...this.equippableItemCardProperties ?? []\n      );\n    }\n\n    if ( context.labels.duration ) {\n      context.labels.concentrationDuration = properties?.has(\"concentration\")\n        ? game.i18n.format(\"DND5E.ConcentrationDuration\", {\n          duration: context.labels.duration.toLocaleLowerCase(game.i18n.lang)\n        })\n        : context.labels.duration;\n    }\n\n    context.properties = context.properties.filter(_ => _);\n    context.hasProperties = context.tags?.length || context.properties.length;\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * @typedef {object} FavoriteData5e\n   * @property {string} img                  The icon path.\n   * @property {string} title                The title.\n   * @property {string|string[]} [subtitle]  An optional subtitle or several subtitle parts.\n   * @property {number} [value]              A single value to display.\n   * @property {number} [quantity]           The item's quantity.\n   * @property {string|number} [modifier]    A modifier associated with the item.\n   * @property {number} [passive]            A passive score associated with the item.\n   * @property {object} [range]              The item's range.\n   * @property {number} [range.value]        The first range increment.\n   * @property {number|null} [range.long]    The second range increment.\n   * @property {string} [range.units]        The range units.\n   * @property {object} [save]               The item's saving throw.\n   * @property {string} [save.ability]       The saving throw ability.\n   * @property {number} [save.dc]            The saving throw DC.\n   * @property {object} [uses]               Data on an item's uses.\n   * @property {number} [uses.value]         The current available uses.\n   * @property {number} [uses.max]           The maximum available uses.\n   * @property {string} [uses.name]          The property to update on the item. If none is provided, the property will\n   *                                         not be updatable.\n   * @property {boolean} [toggle]            The effect's toggle state.\n   * @property {boolean} [suppressed]        Whether the favorite is suppressed.\n   */\n\n  /**\n   * Prepare item favorite data.\n   * @returns {Promise<FavoriteData5e>}\n   */\n  async getFavoriteData() {\n    return {\n      img: this.parent.img,\n      title: this.parent.name,\n      subtitle: game.i18n.localize(CONFIG.Item.typeLabels[this.parent.type])\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare a data object which defines the data schema used by dice roll commands against this Item.\n   * @param {object} [options]\n   * @param {boolean} [options.deterministic] Whether to force deterministic values for data properties that could be\n   *                                          either a die term or a flat term.\n   * @returns {object}\n   */\n  getRollData({ deterministic=false }={}) {\n    const actorRollData = this.parent.actor?.getRollData({ deterministic }) ?? {};\n    const data = { ...actorRollData, item: { ...this } };\n    return data;\n  }\n}\n\n/* -------------------------------------------- */\n\n/**\n * Data Model variant that does not export fields with an `undefined` value during `toObject(true)`.\n */\nexport class SparseDataModel extends foundry.abstract.DataModel {\n  /** @inheritdoc */\n  toObject(source=true) {\n    if ( !source ) return super.toObject(source);\n    const clone = foundry.utils.flattenObject(this._source);\n    // Remove any undefined keys from the source data\n    Object.keys(clone).filter(k => clone[k] === undefined).forEach(k => delete clone[k]);\n    return foundry.utils.expandObject(clone);\n  }\n}\n","import Advancement from \"../documents/advancement/advancement.mjs\";\n\n/**\n * Data field that selects the appropriate advancement data model if available, otherwise defaults to generic\n * `ObjectField` to prevent issues with custom advancement types that aren't currently loaded.\n */\nexport class AdvancementField extends foundry.data.fields.ObjectField {\n\n  /**\n   * Get the BaseAdvancement definition for the specified advancement type.\n   * @param {string} type                    The Advancement type.\n   * @returns {typeof BaseAdvancement|null}  The BaseAdvancement class, or null.\n   */\n  getModelForType(type) {\n    let config = CONFIG.DND5E.advancementTypes[type];\n    if ( config?.prototype instanceof Advancement ) {\n      foundry.utils.logCompatibilityWarning(\n        \"Advancement type configuration changed into an object with `documentClass` defining the advancement class.\",\n        { since: \"DnD5e 3.1\", until: \"DnD5e 3.3\", once: true }\n      );\n      return config;\n    }\n    return config?.documentClass ?? null;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _cleanType(value, options) {\n    if ( !(typeof value === \"object\") ) value = {};\n\n    const cls = this.getModelForType(value.type);\n    if ( cls ) return cls.cleanData(value, options);\n    return value;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  initialize(value, model, options={}) {\n    const cls = this.getModelForType(value.type);\n    if ( cls ) return new cls(value, {parent: model, ...options});\n    return foundry.utils.deepClone(value);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate this field's candidate source data.\n   * @param {object} sourceData   Candidate source data of the root model\n   * @param {any} fieldData       The value of this field within the source data\n   */\n  migrateSource(sourceData, fieldData) {\n    const cls = this.getModelForType(fieldData.type);\n    if ( cls ) cls.migrateDataSafe(fieldData);\n  }\n}\n\n/* -------------------------------------------- */\n\n/**\n * Data field that automatically selects the Advancement-specific configuration or value data models.\n *\n * @param {Advancement} advancementType  Advancement class to which this field belongs.\n */\nexport class AdvancementDataField extends foundry.data.fields.ObjectField {\n  constructor(advancementType, options={}) {\n    super(options);\n    this.advancementType = advancementType;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static get _defaults() {\n    return foundry.utils.mergeObject(super._defaults, {required: true});\n  }\n\n  /**\n   * Get the DataModel definition for the specified field as defined in metadata.\n   * @returns {typeof DataModel|null}  The DataModel class, or null.\n   */\n  getModel() {\n    return this.advancementType.metadata?.dataModels?.[this.name];\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get the defaults object for the specified field as defined in metadata.\n   * @returns {object}\n   */\n  getDefaults() {\n    return this.advancementType.metadata?.defaults?.[this.name] ?? {};\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _cleanType(value, options) {\n    if ( !(typeof value === \"object\") ) value = {};\n\n    // Use a defined DataModel\n    const cls = this.getModel();\n    if ( cls ) return cls.cleanData(value, options);\n    if ( options.partial ) return value;\n\n    // Use the defined defaults\n    const defaults = this.getDefaults();\n    return foundry.utils.mergeObject(defaults, value, {inplace: false});\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  initialize(value, model, options={}) {\n    const cls = this.getModel();\n    if ( cls ) return new cls(value, {parent: model, ...options});\n    return foundry.utils.deepClone(value);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate this field's candidate source data.\n   * @param {object} sourceData   Candidate source data of the root model\n   * @param {any} fieldData       The value of this field within the source data\n   */\n  migrateSource(sourceData, fieldData) {\n    const cls = this.getModel();\n    if ( cls ) cls.migrateDataSafe(fieldData);\n  }\n}\n\n/* -------------------------------------------- */\n\n/**\n * @typedef {StringFieldOptions} FormulaFieldOptions\n * @property {boolean} [deterministic=false]  Is this formula not allowed to have dice values?\n */\n\n/**\n * Special case StringField which represents a formula.\n *\n * @param {FormulaFieldOptions} [options={}]  Options which configure the behavior of the field.\n * @property {boolean} deterministic=false    Is this formula not allowed to have dice values?\n */\nexport class FormulaField extends foundry.data.fields.StringField {\n\n  /** @inheritdoc */\n  static get _defaults() {\n    return foundry.utils.mergeObject(super._defaults, {\n      deterministic: false\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _validateType(value) {\n    Roll.validate(value);\n    if ( this.options.deterministic ) {\n      const roll = new Roll(value);\n      if ( !roll.isDeterministic ) throw new Error(\"must not contain dice terms\");\n    }\n    super._validateType(value);\n  }\n}\n\n/* -------------------------------------------- */\n\n/**\n * Special case StringField that includes automatic validation for identifiers.\n */\nexport class IdentifierField extends foundry.data.fields.StringField {\n  /** @override */\n  _validateType(value) {\n    if ( !dnd5e.utils.validators.isValidIdentifier(value) ) {\n      throw new Error(game.i18n.localize(\"DND5E.IdentifierError\"));\n    }\n  }\n}\n\n/* -------------------------------------------- */\n\n/**\n * @typedef {StringFieldOptions} LocalDocumentFieldOptions\n * @property {boolean} [fallback=false]  Display the string value if no matching item is found.\n */\n\n/**\n * A mirror of ForeignDocumentField that references a Document embedded within this Document.\n *\n * @param {typeof Document} model              The local DataModel class definition which this field should link to.\n * @param {LocalDocumentFieldOptions} options  Options which configure the behavior of the field.\n */\nexport class LocalDocumentField extends foundry.data.fields.DocumentIdField {\n  constructor(model, options={}) {\n    if ( !foundry.utils.isSubclass(model, foundry.abstract.DataModel) ) {\n      throw new Error(\"A ForeignDocumentField must specify a DataModel subclass as its type\");\n    }\n\n    super(options);\n    this.model = model;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * A reference to the model class which is stored in this field.\n   * @type {typeof Document}\n   */\n  model;\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static get _defaults() {\n    return foundry.utils.mergeObject(super._defaults, {\n      nullable: true,\n      readonly: false,\n      idOnly: false,\n      fallback: false\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  _cast(value) {\n    if ( typeof value === \"string\" ) return value;\n    if ( (value instanceof this.model) ) return value._id;\n    throw new Error(`The value provided to a LocalDocumentField must be a ${this.model.name} instance.`);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _validateType(value) {\n    if ( !this.options.fallback ) super._validateType(value);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  initialize(value, model, options={}) {\n    if ( this.idOnly ) return this.options.fallback || foundry.data.validators.isValidId(value) ? value : null;\n    const collection = model.parent?.[this.model.metadata.collection];\n    return () => {\n      const document = collection?.get(value);\n      if ( !document ) return this.options.fallback ? value : null;\n      if ( this.options.fallback ) Object.defineProperty(document, \"toString\", {\n        value: () => document.name,\n        configurable: true,\n        enumerable: false\n      });\n      return document;\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  toObject(value) {\n    return value?._id ?? value;\n  }\n}\n\n/* -------------------------------------------- */\n\n/**\n * @callback MappingFieldInitialValueBuilder\n * @param {string} key       The key within the object where this new value is being generated.\n * @param {*} initial        The generic initial data provided by the contained model.\n * @param {object} existing  Any existing mapping data.\n * @returns {object}         Value to use as default for this key.\n */\n\n/**\n * @typedef {DataFieldOptions} MappingFieldOptions\n * @property {string[]} [initialKeys]       Keys that will be created if no data is provided.\n * @property {MappingFieldInitialValueBuilder} [initialValue]  Function to calculate the initial value for a key.\n * @property {boolean} [initialKeysOnly=false]  Should the keys in the initialized data be limited to the keys provided\n *                                              by `options.initialKeys`?\n */\n\n/**\n * A subclass of ObjectField that represents a mapping of keys to the provided DataField type.\n *\n * @param {DataField} model                    The class of DataField which should be embedded in this field.\n * @param {MappingFieldOptions} [options={}]   Options which configure the behavior of the field.\n * @property {string[]} [initialKeys]          Keys that will be created if no data is provided.\n * @property {MappingFieldInitialValueBuilder} [initialValue]  Function to calculate the initial value for a key.\n * @property {boolean} [initialKeysOnly=false]  Should the keys in the initialized data be limited to the keys provided\n *                                              by `options.initialKeys`?\n */\nexport class MappingField extends foundry.data.fields.ObjectField {\n  constructor(model, options) {\n    if ( !(model instanceof foundry.data.fields.DataField) ) {\n      throw new Error(\"MappingField must have a DataField as its contained element\");\n    }\n    super(options);\n\n    /**\n     * The embedded DataField definition which is contained in this field.\n     * @type {DataField}\n     */\n    this.model = model;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static get _defaults() {\n    return foundry.utils.mergeObject(super._defaults, {\n      initialKeys: null,\n      initialValue: null,\n      initialKeysOnly: false\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _cleanType(value, options) {\n    Object.entries(value).forEach(([k, v]) => value[k] = this.model.clean(v, options));\n    return value;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  getInitialValue(data) {\n    let keys = this.initialKeys;\n    const initial = super.getInitialValue(data);\n    if ( !keys || !foundry.utils.isEmpty(initial) ) return initial;\n    if ( !(keys instanceof Array) ) keys = Object.keys(keys);\n    for ( const key of keys ) initial[key] = this._getInitialValueForKey(key);\n    return initial;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get the initial value for the provided key.\n   * @param {string} key       Key within the object being built.\n   * @param {object} [object]  Any existing mapping data.\n   * @returns {*}              Initial value based on provided field type.\n   */\n  _getInitialValueForKey(key, object) {\n    const initial = this.model.getInitialValue();\n    return this.initialValue?.(key, initial, object) ?? initial;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  _validateType(value, options={}) {\n    if ( foundry.utils.getType(value) !== \"Object\" ) throw new Error(\"must be an Object\");\n    const errors = this._validateValues(value, options);\n    if ( !foundry.utils.isEmpty(errors) ) throw new foundry.data.validation.DataModelValidationError(errors);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Validate each value of the object.\n   * @param {object} value     The object to validate.\n   * @param {object} options   Validation options.\n   * @returns {Object<Error>}  An object of value-specific errors by key.\n   */\n  _validateValues(value, options) {\n    const errors = {};\n    for ( const [k, v] of Object.entries(value) ) {\n      const error = this.model.validate(v, options);\n      if ( error ) errors[k] = error;\n    }\n    return errors;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  initialize(value, model, options={}) {\n    if ( !value ) return value;\n    const obj = {};\n    const initialKeys = (this.initialKeys instanceof Array) ? this.initialKeys : Object.keys(this.initialKeys ?? {});\n    const keys = this.initialKeysOnly ? initialKeys : Object.keys(value);\n    for ( const key of keys ) {\n      const data = value[key] ?? this._getInitialValueForKey(key, value);\n      obj[key] = this.model.initialize(data, model, options);\n    }\n    return obj;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _getField(path) {\n    if ( path.length === 0 ) return this;\n    else if ( path.length === 1 ) return this.model;\n    path.shift();\n    return this.model._getField(path);\n  }\n}\n","import { SparseDataModel } from \"../abstract.mjs\";\nimport { AdvancementDataField } from \"../fields.mjs\";\n\nconst { DocumentIdField, FilePathField, NumberField, StringField } = foundry.data.fields;\n\n/**\n * Base data model for advancement.\n *\n * @property {string} _id               The advancement's ID.\n * @property {string} type              Type of advancement.\n * @property {*} configuration          Type-specific configuration data.\n * @property {*} value                  Type-specific value data after the advancement is applied.\n * @property {number} level             For single-level advancement, the level at which it should apply.\n * @property {string} title             Optional custom title.\n * @property {string} hint              Brief description of what the advancement does or guidance for the player.\n * @property {string} icon              Optional custom icon.\n * @property {string} classRestriction  Should this advancement apply at all times, only when on the first class on\n *                                      an actor, or only on a class that is multi-classing?\n */\nexport default class BaseAdvancement extends SparseDataModel {\n\n  /**\n   * Name of this advancement type that will be stored in config and used for lookups.\n   * @type {string}\n   * @protected\n   */\n  static get typeName() {\n    return this.name.replace(/Advancement$/, \"\");\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static defineSchema() {\n    return {\n      _id: new DocumentIdField({initial: () => foundry.utils.randomID()}),\n      type: new StringField({\n        required: true, initial: this.typeName, validate: v => v === this.typeName,\n        validationError: `must be the same as the Advancement type name ${this.typeName}`\n      }),\n      configuration: new AdvancementDataField(this, {required: true}),\n      value: new AdvancementDataField(this, {required: true}),\n      level: new NumberField({\n        integer: true, initial: this.metadata?.multiLevel ? undefined : 0, min: 0, label: \"DND5E.Level\"\n      }),\n      title: new StringField({initial: undefined, label: \"DND5E.AdvancementCustomTitle\"}),\n      hint: new StringField({label: \"DND5E.AdvancementHint\"}),\n      icon: new FilePathField({\n        initial: undefined, categories: [\"IMAGE\"], label: \"DND5E.AdvancementCustomIcon\"\n      }),\n      classRestriction: new StringField({\n        initial: undefined, choices: [\"primary\", \"secondary\"], label: \"DND5E.AdvancementClassRestriction\"\n      })\n    };\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Migration                              */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  static migrateData(source) {\n    super.migrateData(source);\n    if ( source.configuration?.hint ) source.hint = source.configuration.hint;\n    return source;\n  }\n}\n","import AdvancementConfig from \"../../applications/advancement/advancement-config.mjs\";\nimport AdvancementFlow from \"../../applications/advancement/advancement-flow.mjs\";\nimport BaseAdvancement from \"../../data/advancement/base-advancement.mjs\";\n\n/**\n * Error that can be thrown during the advancement update preparation process.\n */\nclass AdvancementError extends Error {\n  constructor(...args) {\n    super(...args);\n    this.name = \"AdvancementError\";\n  }\n}\n\n/**\n * Abstract base class which various advancement types can subclass.\n * @param {Item5e} item          Item to which this advancement belongs.\n * @param {object} [data={}]     Raw data stored in the advancement object.\n * @param {object} [options={}]  Options which affect DataModel construction.\n * @abstract\n */\nexport default class Advancement extends BaseAdvancement {\n  constructor(data, {parent=null, ...options}={}) {\n    if ( parent instanceof Item ) parent = parent.system;\n    super(data, {parent, ...options});\n\n    /**\n     * A collection of Application instances which should be re-rendered whenever this document is updated.\n     * The keys of this object are the application ids and the values are Application instances. Each\n     * Application in this object will have its render method called by {@link Document#render}.\n     * @type {Object<Application>}\n     */\n    Object.defineProperty(this, \"apps\", {\n      value: {},\n      writable: false,\n      enumerable: false\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _initialize(options) {\n    super._initialize(options);\n    return this.prepareData();\n  }\n\n  static ERROR = AdvancementError;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Information on how an advancement type is configured.\n   *\n   * @typedef {object} AdvancementMetadata\n   * @property {object} dataModels\n   * @property {DataModel} configuration  Data model used for validating configuration data.\n   * @property {DataModel} value          Data model used for validating value data.\n   * @property {number} order          Number used to determine default sorting order of advancement items.\n   * @property {string} icon           Icon used for this advancement type if no user icon is specified.\n   * @property {string} title          Title to be displayed if no user title is specified.\n   * @property {string} hint           Description of this type shown in the advancement selection dialog.\n   * @property {boolean} multiLevel    Can this advancement affect more than one level? If this is set to true,\n   *                                   the level selection control in the configuration window is hidden and the\n   *                                   advancement should provide its own implementation of `Advancement#levels`\n   *                                   and potentially its own level configuration interface.\n   * @property {Set<string>} validItemTypes  Set of types to which this advancement can be added. (deprecated)\n   * @property {object} apps\n   * @property {*} apps.config         Subclass of AdvancementConfig that allows for editing of this advancement type.\n   * @property {*} apps.flow           Subclass of AdvancementFlow that is displayed while fulfilling this advancement.\n   */\n\n  /**\n   * Configuration information for this advancement type.\n   * @type {AdvancementMetadata}\n   */\n  static get metadata() {\n    return {\n      order: 100,\n      icon: \"icons/svg/upgrade.svg\",\n      title: game.i18n.localize(\"DND5E.AdvancementTitle\"),\n      hint: \"\",\n      multiLevel: false,\n      validItemTypes: new Set([\"background\", \"class\", \"race\", \"subclass\"]),\n      apps: {\n        config: AdvancementConfig,\n        flow: AdvancementFlow\n      }\n    };\n  }\n\n  /**\n   * Configuration information for this advancement type.\n   * @type {AdvancementMetadata}\n   */\n  get metadata() {\n    return this.constructor.metadata;\n  }\n\n  /* -------------------------------------------- */\n  /*  Instance Properties                         */\n  /* -------------------------------------------- */\n\n  /**\n   * Unique identifier for this advancement within its item.\n   * @type {string}\n   */\n  get id() {\n    return this._id;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Globally unique identifier for this advancement.\n   * @type {string}\n   */\n  get uuid() {\n    return `${this.item.uuid}.Advancement.${this.id}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Item to which this advancement belongs.\n   * @type {Item5e}\n   */\n  get item() {\n    return this.parent.parent;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Actor to which this advancement's item belongs, if the item is embedded.\n   * @type {Actor5e|null}\n   */\n  get actor() {\n    return this.item.parent ?? null;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * List of levels in which this advancement object should be displayed. Will be a list of class levels if this\n   * advancement is being applied to classes or subclasses, otherwise a list of character levels.\n   * @returns {number[]}\n   */\n  get levels() {\n    return this.level !== undefined ? [this.level] : [];\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Should this advancement be applied to a class based on its class restriction setting? This will always return\n   * true for advancements that are not within an embedded class item.\n   * @type {boolean}\n   * @protected\n   */\n  get appliesToClass() {\n    const originalClass = this.item.isOriginalClass;\n    return !this.classRestriction\n      || (this.classRestriction === \"primary\" && [true, null].includes(originalClass))\n      || (this.classRestriction === \"secondary\" && !originalClass);\n  }\n\n  /* -------------------------------------------- */\n  /*  Preparation Methods                         */\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare data for the Advancement.\n   */\n  prepareData() {\n    this.title = this.title || this.constructor.metadata.title;\n    this.icon = this.icon || this.constructor.metadata.icon;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Perform preliminary operations before an Advancement is created.\n   * @param {object} data      The initial data object provided to the document creation request.\n   * @returns {boolean|void}   A return value of false indicates the creation operation should be cancelled.\n   * @protected\n   */\n  _preCreate(data) {\n    if ( ![\"class\", \"subclass\"].includes(this.item.type)\n      || foundry.utils.hasProperty(data, \"level\")\n      || this.constructor.metadata.multiLevel ) return;\n    this.updateSource({level: 1});\n  }\n\n  /* -------------------------------------------- */\n  /*  Display Methods                             */\n  /* -------------------------------------------- */\n\n  /**\n   * Has the player made choices for this advancement at the specified level?\n   * @param {number} level  Level for which to check configuration.\n   * @returns {boolean}     Have any available choices been made?\n   */\n  configuredForLevel(level) {\n    return true;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Value used for sorting this advancement at a certain level.\n   * @param {number} level  Level for which this entry is being sorted.\n   * @returns {string}      String that can be used for sorting.\n   */\n  sortingValueForLevel(level) {\n    return `${this.constructor.metadata.order.paddedString(4)} ${this.titleForLevel(level)}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Title displayed in advancement list for a specific level.\n   * @param {number} level                       Level for which to generate a title.\n   * @param {object} [options={}]\n   * @param {object} [options.configMode=false]  Is the advancement's item sheet in configuration mode? When in\n   *                                             config mode, the choices already made on this actor should not\n   *                                             be displayed.\n   * @returns {string}                           HTML title with any level-specific information.\n   */\n  titleForLevel(level, { configMode=false }={}) {\n    return this.title;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Summary content displayed beneath the title in the advancement list.\n   * @param {number} level                       Level for which to generate the summary.\n   * @param {object} [options={}]\n   * @param {object} [options.configMode=false]  Is the advancement's item sheet in configuration mode? When in\n   *                                             config mode, the choices already made on this actor should not\n   *                                             be displayed.\n   * @returns {string}                           HTML content of the summary.\n   */\n  summaryForLevel(level, { configMode=false }={}) {\n    return \"\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Render all of the Application instances which are connected to this advancement.\n   * @param {boolean} [force=false]     Force rendering\n   * @param {object} [context={}]       Optional context\n   */\n  render(force=false, context={}) {\n    for ( const app of Object.values(this.apps) ) app.render(force, context);\n  }\n\n  /* -------------------------------------------- */\n  /*  Editing Methods                             */\n  /* -------------------------------------------- */\n\n  /**\n   * Update this advancement.\n   * @param {object} updates          Updates to apply to this advancement.\n   * @returns {Promise<Advancement>}  This advancement after updates have been applied.\n   */\n  async update(updates) {\n    await this.item.updateAdvancement(this.id, updates);\n    return this;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Update this advancement's data on the item without performing a database commit.\n   * @param {object} updates  Updates to apply to this advancement.\n   * @returns {Advancement}   This advancement after updates have been applied.\n   */\n  updateSource(updates) {\n    super.updateSource(updates);\n    return this;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Can an advancement of this type be added to the provided item?\n   * @param {Item5e} item  Item to check against.\n   * @returns {boolean}    Should this be enabled as an option on the `AdvancementSelection` dialog?\n   */\n  static availableForItem(item) {\n    return true;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Serialize salient information for this Advancement when dragging it.\n   * @returns {object}  An object of drag data.\n   */\n  toDragData() {\n    const dragData = { type: \"Advancement\" };\n    if ( this.id ) dragData.uuid = this.uuid;\n    else dragData.data = this.toObject();\n    return dragData;\n  }\n\n  /* -------------------------------------------- */\n  /*  Application Methods                         */\n  /* -------------------------------------------- */\n\n  /**\n   * Locally apply this advancement to the actor.\n   * @param {number} level   Level being advanced.\n   * @param {object} data    Data from the advancement form.\n   * @abstract\n   */\n  async apply(level, data) { }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Locally apply this advancement from stored data, if possible. If stored data can not be restored for any reason,\n   * throw an AdvancementError to display the advancement flow UI.\n   * @param {number} level  Level being advanced.\n   * @param {object} data   Data from `Advancement#reverse` needed to restore this advancement.\n   * @abstract\n   */\n  async restore(level, data) { }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Locally remove this advancement's changes from the actor.\n   * @param {number} level  Level being removed.\n   * @returns {object}      Data that can be passed to the `Advancement#restore` method to restore this reversal.\n   * @abstract\n   */\n  async reverse(level) { }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Fetch an item and create a clone with the proper flags.\n   * @param {string} uuid  UUID of the item to fetch.\n   * @param {string} [id]  Optional ID to use instead of a random one.\n   * @returns {object|null}\n   */\n  async createItemData(uuid, id) {\n    const source = await fromUuid(uuid);\n    if ( !source ) return null;\n    return source.clone({\n      _id: id ?? foundry.utils.randomID(),\n      \"flags.dnd5e.sourceId\": uuid,\n      \"flags.dnd5e.advancementOrigin\": `${this.item.id}.${this.id}`\n    }, {keepId: true}).toObject();\n  }\n}\n","import AdvancementConfig from \"./advancement-config.mjs\";\n\n/**\n * Configuration application for ability score improvements.\n */\nexport default class AbilityScoreImprovementConfig extends AdvancementConfig {\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      template: \"systems/dnd5e/templates/advancement/ability-score-improvement-config.hbs\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  getData() {\n    const abilities = Object.entries(CONFIG.DND5E.abilities).reduce((obj, [key, data]) => {\n      if ( !this.advancement.canImprove(key) ) return obj;\n      const fixed = this.advancement.configuration.fixed[key] ?? 0;\n      obj[key] = {\n        key,\n        name: `configuration.fixed.${key}`,\n        label: data.label,\n        value: fixed,\n        canIncrease: true,\n        canDecrease: true\n      };\n      return obj;\n    }, {});\n\n    return foundry.utils.mergeObject(super.getData(), {\n      abilities,\n      points: {\n        key: \"points\",\n        name: \"configuration.points\",\n        label: game.i18n.localize(\"DND5E.AdvancementAbilityScoreImprovementPoints\"),\n        min: 0,\n        value: this.advancement.configuration.points,\n        canIncrease: true,\n        canDecrease: this.advancement.configuration.points > 0\n      }\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    html.find(\".adjustment-button\").click(this._onClickButton.bind(this));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle clicking the plus and minus buttons.\n   * @param {Event} event  Triggering click event.\n   */\n  _onClickButton(event) {\n    event.preventDefault();\n    const action = event.currentTarget.dataset.action;\n    const input = event.currentTarget.closest(\"li\").querySelector(\"input\");\n\n    if ( action === \"decrease\" ) input.valueAsNumber -= 1;\n    else if ( action === \"increase\" ) input.valueAsNumber += 1;\n\n    this.submit();\n  }\n}\n","import AdvancementFlow from \"./advancement-flow.mjs\";\n\n/**\n * Inline application that presents the player with a choice between ability score improvement and taking a feat.\n */\nexport default class AbilityScoreImprovementFlow extends AdvancementFlow {\n\n  /**\n   * Player assignments to abilities.\n   * @type {Object<string, number>}\n   */\n  assignments = {};\n\n  /* -------------------------------------------- */\n\n  /**\n   * The dropped feat item.\n   * @type {Item5e}\n   */\n  feat;\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      dragDrop: [{ dropSelector: \"form\" }],\n      template: \"systems/dnd5e/templates/advancement/ability-score-improvement-flow.hbs\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async retainData(data) {\n    await super.retainData(data);\n    this.assignments = this.retainedData.assignments ?? {};\n    const featUuid = Object.values(this.retainedData.feat ?? {})[0];\n    if ( featUuid ) this.feat = await fromUuid(featUuid);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async getData() {\n    const points = {\n      assigned: Object.keys(CONFIG.DND5E.abilities).reduce((assigned, key) => {\n        if ( !this.advancement.canImprove(key) || this.advancement.configuration.fixed[key] ) return assigned;\n        return assigned + (this.assignments[key] ?? 0);\n      }, 0),\n      cap: this.advancement.configuration.cap ?? Infinity,\n      total: this.advancement.configuration.points\n    };\n    points.available = points.total - points.assigned;\n\n    const formatter = new Intl.NumberFormat(game.i18n.lang, { signDisplay: \"always\" });\n\n    const abilities = Object.entries(CONFIG.DND5E.abilities).reduce((obj, [key, data]) => {\n      if ( !this.advancement.canImprove(key) ) return obj;\n      const ability = this.advancement.actor.system.abilities[key];\n      const assignment = this.assignments[key] ?? 0;\n      const fixed = this.advancement.configuration.fixed[key] ?? 0;\n      const value = Math.min(ability.value + ((fixed || assignment) ?? 0), ability.max);\n      const max = fixed ? value : Math.min(value + points.available, ability.max);\n      obj[key] = {\n        key, max, value,\n        name: `abilities.${key}`,\n        label: data.label,\n        initial: ability.value,\n        min: fixed ? max : ability.value,\n        delta: (value - ability.value) ? formatter.format(value - ability.value) : null,\n        showDelta: true,\n        isDisabled: !!this.feat,\n        isFixed: !!fixed || (ability.value >= ability.max),\n        canIncrease: (value < max) && (assignment < points.cap) && !fixed && !this.feat,\n        canDecrease: (value > ability.value) && !fixed && !this.feat\n      };\n      return obj;\n    }, {});\n\n    const pluralRules = new Intl.PluralRules(game.i18n.lang);\n    return foundry.utils.mergeObject(super.getData(), {\n      abilities, points,\n      feat: this.feat,\n      staticIncrease: !this.advancement.configuration.points,\n      pointCap: game.i18n.format(\n        `DND5E.AdvancementAbilityScoreImprovementCapDisplay.${pluralRules.select(points.cap)}`, {points: points.cap}\n      ),\n      pointsRemaining: game.i18n.format(\n        `DND5E.AdvancementAbilityScoreImprovementPointsRemaining.${pluralRules.select(points.available)}`,\n        {points: points.available}\n      )\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    html.find(\".adjustment-button\").click(this._onClickButton.bind(this));\n    html.find(\"a[data-uuid]\").click(this._onClickFeature.bind(this));\n    html.find(\"[data-action='delete']\").click(this._onItemDelete.bind(this));\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _onChangeInput(event) {\n    super._onChangeInput(event);\n    const input = event.currentTarget;\n    const key = input.closest(\"[data-score]\").dataset.score;\n    if ( isNaN(input.valueAsNumber) ) this.assignments[key] = 0;\n    else {\n      this.assignments[key] = Math.min(\n        Math.clamp(input.valueAsNumber, Number(input.min), Number(input.max)) - Number(input.dataset.initial),\n        this.advancement.configuration.cap ?? Infinity\n      );\n    }\n    this.render();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle clicking the plus and minus buttons.\n   * @param {Event} event  Triggering click event.\n   */\n  _onClickButton(event) {\n    event.preventDefault();\n    const action = event.currentTarget.dataset.action;\n    const key = event.currentTarget.closest(\"li\").dataset.score;\n\n    this.assignments[key] ??= 0;\n    if ( action === \"decrease\" ) this.assignments[key] -= 1;\n    else if ( action === \"increase\" ) this.assignments[key] += 1;\n    else return;\n\n    this.render();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle clicking on a feature during item grant to preview the feature.\n   * @param {MouseEvent} event  The triggering event.\n   * @protected\n   */\n  async _onClickFeature(event) {\n    event.preventDefault();\n    const uuid = event.currentTarget.dataset.uuid;\n    const item = await fromUuid(uuid);\n    item?.sheet.render(true);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _updateObject(event, formData) {\n    // TODO: Pass through retained feat data\n    await this.advancement.apply(this.level, {\n      type: this.feat ? \"feat\" : \"asi\",\n      assignments: this.assignments,\n      featUuid: this.feat?.uuid,\n      retainedItems: this.retainedData?.retainedItems\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Drag & Drop                                 */\n  /* -------------------------------------------- */\n\n  /**\n   * Handle deleting a dropped feat.\n   * @param {Event} event  The originating click event.\n   * @protected\n   */\n  async _onItemDelete(event) {\n    event.preventDefault();\n    this.feat = null;\n    this.render();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _onDrop(event) {\n    if ( !this.advancement.allowFeat ) return false;\n\n    // Try to extract the data\n    let data;\n    try {\n      data = JSON.parse(event.dataTransfer.getData(\"text/plain\"));\n    } catch(err) {\n      return false;\n    }\n\n    if ( data.type !== \"Item\" ) return false;\n    const item = await Item.implementation.fromDropData(data);\n\n    if ( (item.type !== \"feat\") || (item.system.type.value !== \"feat\") ) {\n      ui.notifications.error(\"DND5E.AdvancementAbilityScoreImprovementFeatWarning\", {localize: true});\n      return null;\n    }\n\n    // If a feat has a level pre-requisite, make sure it is less than or equal to current character level\n    if ( (item.system.prerequisites?.level ?? -Infinity) > this.advancement.actor.system.details.level ) {\n      ui.notifications.error(game.i18n.format(\"DND5E.AdvancementAbilityScoreImprovementFeatLevelWarning\", {\n        level: item.system.prerequisites.level\n      }));\n      return null;\n    }\n\n    this.feat = item;\n    this.render();\n  }\n}\n","import { SparseDataModel } from \"../abstract.mjs\";\nimport { MappingField } from \"../fields.mjs\";\n\n/**\n * Data model for the Ability Score Improvement advancement configuration.\n *\n * @property {number} points                 Number of points that can be assigned to any score.\n * @property {Object<string, number>} fixed  Number of points automatically assigned to a certain score.\n */\nexport class AbilityScoreImprovementConfigurationData extends foundry.abstract.DataModel {\n  /** @inheritdoc */\n  static defineSchema() {\n    return {\n      points: new foundry.data.fields.NumberField({\n        integer: true, min: 0, initial: 0,\n        label: \"DND5E.AdvancementAbilityScoreImprovementPoints\",\n        hint: \"DND5E.AdvancementAbilityScoreImprovementPointsHint\"\n      }),\n      fixed: new MappingField(\n        new foundry.data.fields.NumberField({nullable: false, integer: true, initial: 0}),\n        {label: \"DND5E.AdvancementAbilityScoreImprovementFixed\"}\n      ),\n      cap: new foundry.data.fields.NumberField({\n        integer: true, min: 1, initial: 2, label: \"DND5E.AdvancementAbilityScoreImprovementCap\",\n        hint: \"DND5E.AdvancementAbilityScoreImprovementCapHint\"\n      })\n    };\n  }\n}\n\n/**\n * Data model for the Ability Score Improvement advancement value.\n *\n * @property {string} type  When on a class, whether the player chose ASI or a Feat.\n * @property {Object<string, number>}  Points assigned to individual scores.\n * @property {Object<string, string>}  Feat that was selected.\n */\nexport class AbilityScoreImprovementValueData extends SparseDataModel {\n  /** @inheritdoc */\n  static defineSchema() {\n    return {\n      type: new foundry.data.fields.StringField({\n        required: true, initial: \"asi\", choices: [\"asi\", \"feat\"]\n      }),\n      assignments: new MappingField(new foundry.data.fields.NumberField({\n        nullable: false, integer: true\n      }), {required: false, initial: undefined}),\n      feat: new MappingField(new foundry.data.fields.StringField(), {\n        required: false, initial: undefined, label: \"DND5E.Feature.Feat\"\n      })\n    };\n  }\n}\n","import Advancement from \"./advancement.mjs\";\nimport AbilityScoreImprovementConfig from \"../../applications/advancement/ability-score-improvement-config.mjs\";\nimport AbilityScoreImprovementFlow from \"../../applications/advancement/ability-score-improvement-flow.mjs\";\nimport {\n  AbilityScoreImprovementConfigurationData,\n  AbilityScoreImprovementValueData\n} from \"../../data/advancement/ability-score-improvement.mjs\";\n\n/**\n * Advancement that presents the player with the option of improving their ability scores or selecting a feat.\n */\nexport default class AbilityScoreImprovementAdvancement extends Advancement {\n\n  /** @inheritdoc */\n  static get metadata() {\n    return foundry.utils.mergeObject(super.metadata, {\n      dataModels: {\n        configuration: AbilityScoreImprovementConfigurationData,\n        value: AbilityScoreImprovementValueData\n      },\n      order: 20,\n      icon: \"systems/dnd5e/icons/svg/ability-score-improvement.svg\",\n      title: game.i18n.localize(\"DND5E.AdvancementAbilityScoreImprovementTitle\"),\n      hint: game.i18n.localize(\"DND5E.AdvancementAbilityScoreImprovementHint\"),\n      apps: {\n        config: AbilityScoreImprovementConfig,\n        flow: AbilityScoreImprovementFlow\n      }\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Preparation Methods                         */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _preCreate(data) {\n    if ( super._preCreate(data) === false ) return false;\n    if ( this.item.type !== \"class\" || foundry.utils.hasProperty(data, \"configuration.points\") ) return;\n    this.updateSource({\"configuration.points\": 2});\n  }\n\n  /* -------------------------------------------- */\n  /*  Instance Properties                         */\n  /* -------------------------------------------- */\n\n  /**\n   * Does this advancement allow feats, or just ability score improvements?\n   * @type {boolean}\n   */\n  get allowFeat() {\n    return (this.item.type === \"class\") && game.settings.get(\"dnd5e\", \"allowFeats\");\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Information on the ASI points available.\n   * @type {{ assigned: number, total: number }}\n   */\n  get points() {\n    return {\n      assigned: Object.entries(this.value.assignments ?? {}).reduce((n, [abl, c]) => {\n        if ( this.canImprove(abl) ) n += c;\n        return n;\n      }, 0),\n      total: this.configuration.points + Object.entries(this.configuration.fixed).reduce((t, [abl, v]) => {\n        if ( this.canImprove(abl) ) t += v;\n        return t;\n      }, 0)\n    };\n  }\n\n  /* -------------------------------------------- */\n  /*  Instance Methods                            */\n  /* -------------------------------------------- */\n\n  /**\n   * Is this ability allowed to be improved?\n   * @param {string} ability  The ability key.\n   * @returns {boolean}\n   */\n  canImprove(ability) {\n    return CONFIG.DND5E.abilities[ability]?.improvement !== false;\n  }\n\n  /* -------------------------------------------- */\n  /*  Display Methods                             */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  titleForLevel(level, { configMode=false }={}) {\n    if ( this.value.selected !== \"feat\" ) return this.title;\n    return game.i18n.localize(\"DND5E.Feature.Feat\");\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  summaryForLevel(level, { configMode=false }={}) {\n    const formatter = new Intl.NumberFormat(game.i18n.lang, { signDisplay: \"always\" });\n    if ( configMode ) {\n      const entries = Object.entries(this.configuration.fixed).map(([key, value]) => {\n        if ( !value ) return null;\n        const name = CONFIG.DND5E.abilities[key]?.label ?? key;\n        return `<span class=\"tag\">${name} <strong>${formatter.format(value)}</strong></span>`;\n      });\n      if ( this.configuration.points ) entries.push(`<span class=\"tag\">${\n        game.i18n.localize(\"DND5E.AdvancementAbilityScoreImprovementPoints\")}: <strong>${\n        this.configuration.points}</strong></span>`\n      );\n      return entries.filterJoin(\"\\n\");\n    }\n\n    else if ( (this.value.type === \"feat\") && this.value.feat ) {\n      const id = Object.keys(this.value.feat)[0];\n      const feat = this.actor.items.get(id);\n      if ( feat ) return feat.toAnchor({classes: [\"content-link\"]}).outerHTML;\n    }\n\n    else if ( (this.value.type === \"asi\") && this.value.assignments ) {\n      return Object.entries(this.value.assignments).reduce((html, [key, value]) => {\n        const name = CONFIG.DND5E.abilities[key]?.label ?? key;\n        html += `<span class=\"tag\">${name} <strong>${formatter.format(value)}</strong></span>\\n`;\n        return html;\n      }, \"\");\n    }\n\n    return \"\";\n  }\n\n  /* -------------------------------------------- */\n  /*  Application Methods                         */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async apply(level, data) {\n    if ( data.type === \"asi\" ) {\n      const assignments = foundry.utils.mergeObject(this.configuration.fixed, data.assignments, {inplace: false});\n      const updates = {};\n      for ( const key of Object.keys(assignments) ) {\n        const ability = this.actor.system.abilities[key];\n        const source = this.actor.system.toObject().abilities[key] ?? {};\n        if ( !ability || !this.canImprove(key) ) continue;\n        assignments[key] = Math.min(assignments[key], ability.max - source.value);\n        if ( assignments[key] ) updates[`system.abilities.${key}.value`] = source.value + assignments[key];\n        else delete assignments[key];\n      }\n      data.assignments = assignments;\n      data.feat = null;\n      this.actor.updateSource(updates);\n    }\n\n    else {\n      let itemData = data.retainedItems?.[data.featUuid];\n      if ( !itemData ) itemData = await this.createItemData(data.featUuid);\n      data.assignments = null;\n      if ( itemData ) {\n        data.feat = { [itemData._id]: data.featUuid };\n        this.actor.updateSource({items: [itemData]});\n      }\n    }\n\n    delete data.featUuid;\n    delete data.retainedItems;\n    this.updateSource({value: data});\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  restore(level, data) {\n    data.featUuid = Object.values(data.feat ?? {})[0];\n    this.apply(level, data);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  reverse(level) {\n    const source = this.value.toObject();\n\n    if ( this.value.type === \"asi\" ) {\n      const updates = {};\n      for ( const [key, change] of Object.entries(this.value.assignments ?? {}) ) {\n        const ability = this.actor.system.toObject().abilities[key];\n        if ( !ability || !this.canImprove(key) ) continue;\n        updates[`system.abilities.${key}.value`] = ability.value - change;\n      }\n      this.actor.updateSource(updates);\n    }\n\n    else {\n      const [id, uuid] = Object.entries(this.value.feat ?? {})[0] ?? [];\n      const item = this.actor.items.get(id);\n      if ( item ) source.retainedItems = {[uuid]: item.toObject()};\n      this.actor.items.delete(id);\n    }\n\n    this.updateSource({ \"value.assignments\": null, \"value.feat\": null });\n    return source;\n  }\n}\n","import AdvancementConfig from \"./advancement-config.mjs\";\n\n/**\n * Configuration application for hit points.\n */\nexport default class HitPointsConfig extends AdvancementConfig {\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      template: \"systems/dnd5e/templates/advancement/hit-points-config.hbs\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  getData() {\n    return foundry.utils.mergeObject(super.getData(), {\n      hitDie: this.advancement.hitDie\n    });\n  }\n}\n","import AdvancementFlow from \"./advancement-flow.mjs\";\nimport Advancement from \"../../documents/advancement/advancement.mjs\";\n\n/**\n * Inline application that presents hit points selection upon level up.\n */\nexport default class HitPointsFlow extends AdvancementFlow {\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      template: \"systems/dnd5e/templates/advancement/hit-points-flow.hbs\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  getData() {\n    const source = this.retainedData ?? this.advancement.value;\n    const value = source[this.level];\n\n    // If value is empty, `useAverage` should default to the value selected at the previous level\n    let useAverage = value === \"avg\";\n    if ( !value ) {\n      const lastValue = source[this.level - 1];\n      if ( lastValue === \"avg\" ) useAverage = true;\n    }\n\n    return foundry.utils.mergeObject(super.getData(), {\n      isFirstClassLevel: (this.level === 1) && this.advancement.item.isOriginalClass,\n      hitDie: this.advancement.hitDie,\n      dieValue: this.advancement.hitDieValue,\n      data: {\n        value: Number.isInteger(value) ? value : \"\",\n        useAverage\n      }\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  activateListeners(html) {\n    this.form.querySelector(\".averageCheckbox\")?.addEventListener(\"change\", event => {\n      this.form.querySelector(\".rollResult\").disabled = event.target.checked;\n      this.form.querySelector(\".rollButton\").disabled = event.target.checked;\n      this._updateRollResult();\n    });\n    this.form.querySelector(\".rollButton\")?.addEventListener(\"click\", async () => {\n      const roll = await this.advancement.actor.rollClassHitPoints(this.advancement.item);\n      this.form.querySelector(\".rollResult\").value = roll.total;\n    });\n    this._updateRollResult();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Update the roll result display when the average result is taken.\n   * @protected\n   */\n  _updateRollResult() {\n    if ( !this.form.elements.useAverage?.checked ) return;\n    this.form.elements.value.value = (this.advancement.hitDieValue / 2) + 1;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _updateObject(event, formData) {\n    let value;\n    if ( formData.useMax ) value = \"max\";\n    else if ( formData.useAverage ) value = \"avg\";\n    else if ( Number.isInteger(formData.value) ) value = parseInt(formData.value);\n\n    if ( value !== undefined ) return this.advancement.apply(this.level, { [this.level]: value });\n\n    this.form.querySelector(\".rollResult\")?.classList.add(\"error\");\n    const errorType = formData.value ? \"Invalid\" : \"Empty\";\n    throw new Advancement.ERROR(game.i18n.localize(`DND5E.AdvancementHitPoints${errorType}Error`));\n  }\n\n}\n","/* -------------------------------------------- */\n/*  Formatters                                  */\n/* -------------------------------------------- */\n\n/**\n * Format a Challenge Rating using the proper fractional symbols.\n * @param {number} value  CR value for format.\n * @returns {string}\n */\nexport function formatCR(value) {\n  return { 0.125: \"\", 0.25: \"\", 0.5: \"\" }[value] ?? formatNumber(value);\n}\n\n/* -------------------------------------------- */\n\n/**\n * Format a modifier for display with its sign separate.\n * @param {number} mod  The modifier.\n * @returns {Handlebars.SafeString}\n */\nfunction formatModifier(mod) {\n  if ( !Number.isFinite(mod) ) return new Handlebars.SafeString(\"\");\n  return new Handlebars.SafeString(`<span class=\"sign\">${mod < 0 ? \"-\" : \"+\"}</span>${Math.abs(mod)}`);\n}\n\n/* -------------------------------------------- */\n\n/**\n * A helper for using Intl.NumberFormat within handlebars.\n * @param {number} value    The value to format.\n * @param {object} options  Options forwarded to {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat}\n * @returns {string}\n */\nexport function formatNumber(value, options) {\n  const formatter = new Intl.NumberFormat(game.i18n.lang, options);\n  return formatter.format(value);\n}\n\n/* -------------------------------------------- */\n\n/**\n * A helper function to format textarea text to HTML with linebreaks.\n * @param {string} value  The text to format.\n * @returns {Handlebars.SafeString}\n */\nexport function formatText(value) {\n  return new Handlebars.SafeString(value?.replaceAll(\"\\n\", \"<br>\") ?? \"\");\n}\n\n/* -------------------------------------------- */\n/*  Formulas                                    */\n/* -------------------------------------------- */\n\n/**\n * Return whether a string is a valid reroll, explosion, min, or max dice modifier.\n * @param {string} mod      The modifier to test.\n * @returns {boolean}\n */\nexport function isValidDieModifier(mod) {\n  const regex = {\n    reroll: /rr?([0-9]+)?([<>=]+)?([0-9]+)?/i,\n    explode: /xo?([0-9]+)?([<>=]+)?([0-9]+)?/i,\n    minimum: /(?:min)([0-9]+)/i,\n    maximum: /(?:max)([0-9]+)/i,\n    dropKeep: /[dk]([hl])?([0-9]+)?/i,\n    count: /(?:c[sf])([<>=]+)?([0-9]+)?/i\n  };\n  return Object.values(regex).some(rgx => rgx.test(mod));\n}\n\n/* -------------------------------------------- */\n\n/**\n * Handle a delta input for a number value from a form.\n * @param {HTMLInputElement} input  Input that contains the modified value.\n * @param {Document} target         Target document to be updated.\n * @returns {number|void}\n */\nexport function parseInputDelta(input, target) {\n  let value = input.value;\n  if ( [\"+\", \"-\"].includes(value[0]) ) {\n    const delta = parseFloat(value);\n    value = Number(foundry.utils.getProperty(target, input.dataset.name ?? input.name)) + delta;\n  }\n  else if ( value[0] === \"=\" ) value = Number(value.slice(1));\n  if ( Number.isNaN(value) ) return;\n  input.value = value;\n  return value;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Replace referenced data attributes in the roll formula with values from the provided data.\n * If the attribute is not found in the provided data, display a warning on the actor.\n * @param {string} formula           The original formula within which to replace.\n * @param {object} data              The data object which provides replacements.\n * @param {object} [options={}]\n * @param {Actor5e} [options.actor]            Actor for which the value is being prepared.\n * @param {Item5e} [options.item]              Item for which the value is being prepared.\n * @param {string|null} [options.missing=\"0\"]  Value to use when replacing missing references, or `null` to not replace.\n * @param {string} [options.property]          Name of the property to which this formula belongs.\n * @returns {string}                 Formula with replaced data.\n */\nexport function replaceFormulaData(formula, data, { actor, item, missing=\"0\", property }={}) {\n  const dataRgx = new RegExp(/@([a-z.0-9_-]+)/gi);\n  const missingReferences = new Set();\n  formula = String(formula).replace(dataRgx, (match, term) => {\n    let value = foundry.utils.getProperty(data, term);\n    if ( value == null ) {\n      missingReferences.add(match);\n      return missing ?? match[0];\n    }\n    return String(value).trim();\n  });\n  actor ??= item?.parent;\n  if ( (missingReferences.size > 0) && actor && property ) {\n    const listFormatter = new Intl.ListFormat(game.i18n.lang, { style: \"long\", type: \"conjunction\" });\n    const message = game.i18n.format(\"DND5E.FormulaMissingReferenceWarn\", {\n      property, name: item?.name ?? actor.name, references: listFormatter.format(missingReferences)\n    });\n    actor._preparationWarnings.push({ message, link: item?.uuid ?? actor.uuid, type: \"warning\" });\n  }\n  return formula;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Convert a bonus value to a simple integer for displaying on the sheet.\n * @param {number|string|null} bonus  Bonus formula.\n * @param {object} [data={}]          Data to use for replacing @ strings.\n * @returns {number}                  Simplified bonus as an integer.\n * @protected\n */\nexport function simplifyBonus(bonus, data={}) {\n  if ( !bonus ) return 0;\n  if ( Number.isNumeric(bonus) ) return Number(bonus);\n  try {\n    const roll = new Roll(bonus, data);\n    return roll.isDeterministic\n      ? game.release.generation < 12\n        ? Roll.safeEval(roll.formula)\n        : roll.evaluateSync().total\n      : 0;\n  } catch(error) {\n    console.error(error);\n    return 0;\n  }\n}\n\n/* -------------------------------------------- */\n/*  IDs                                         */\n/* -------------------------------------------- */\n\n/**\n * Create an ID from the input truncating or padding the value to make it reach 16 characters.\n * @param {string} id\n * @returns {string}\n */\nexport function staticID(id) {\n  if ( id.length >= 16 ) return id.substring(0, 16);\n  return id.padEnd(16, \"0\");\n}\n\n/* -------------------------------------------- */\n/*  Object Helpers                              */\n/* -------------------------------------------- */\n\n/**\n * Transform an object, returning only the keys which match the provided filter.\n * @param {object} obj         Object to transform.\n * @param {Function} [filter]  Filtering function. If none is provided, it will just check for truthiness.\n * @returns {string[]}         Array of filtered keys.\n */\nexport function filteredKeys(obj, filter) {\n  filter ??= e => e;\n  return Object.entries(obj).filter(e => filter(e[1])).map(e => e[0]);\n}\n\n/* -------------------------------------------- */\n\n/**\n * Sort the provided object by its values or by an inner sortKey.\n * @param {object} obj                 The object to sort.\n * @param {string|Function} [sortKey]  An inner key upon which to sort or sorting function.\n * @returns {object}                   A copy of the original object that has been sorted.\n */\nexport function sortObjectEntries(obj, sortKey) {\n  let sorted = Object.entries(obj);\n  const sort = (lhs, rhs) => foundry.utils.getType(lhs) === \"string\" ? lhs.localeCompare(rhs, game.i18n.lang) : lhs - rhs;\n  if ( foundry.utils.getType(sortKey) === \"function\" ) sorted = sorted.sort((lhs, rhs) => sortKey(lhs[1], rhs[1]));\n  else if ( sortKey ) sorted = sorted.sort((lhs, rhs) => sort(lhs[1][sortKey], rhs[1][sortKey]));\n  else sorted = sorted.sort((lhs, rhs) => sort(lhs[1], rhs[1]));\n  return Object.fromEntries(sorted);\n}\n\n/* -------------------------------------------- */\n\n/**\n * Retrieve the indexed data for a Document using its UUID. Will never return a result for embedded documents.\n * @param {string} uuid  The UUID of the Document index to retrieve.\n * @returns {object}     Document's index if one could be found.\n */\nexport function indexFromUuid(uuid) {\n  const parts = uuid.split(\".\");\n  let index;\n\n  // Compendium Documents\n  if ( parts[0] === \"Compendium\" ) {\n    const [, scope, packName, id] = parts;\n    const pack = game.packs.get(`${scope}.${packName}`);\n    index = pack?.index.get(id);\n  }\n\n  // World Documents\n  else if ( parts.length < 3 ) {\n    const [docName, id] = parts;\n    const collection = CONFIG[docName].collection.instance;\n    index = collection.get(id);\n  }\n\n  return index || null;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Creates an HTML document link for the provided UUID.\n * Try to build links to compendium content synchronously to avoid DB lookups.\n * @param {string} uuid               UUID for which to produce the link.\n * @param {object} [options]\n * @param {string} [options.tooltip]  Tooltip to add to the link.\n * @returns {string}                  Link to the item or empty string if item wasn't found.\n */\nexport function linkForUuid(uuid, { tooltip }={}) {\n  let doc = fromUuidSync(uuid);\n  if ( !doc ) return \"\";\n  if ( uuid.startsWith(\"Compendium.\") && !(doc instanceof foundry.abstract.Document) ) {\n    const {collection} = foundry.utils.parseUuid(uuid);\n    const cls = collection.documentClass;\n    // Minimal \"shell\" of a document using index data\n    doc = new cls(foundry.utils.deepClone(doc), {pack: collection.metadata.id});\n  }\n  const a = doc.toAnchor();\n  if ( tooltip ) a.dataset.tooltip = tooltip;\n  if ( game.release.generation < 12 ) a.setAttribute(\"draggable\", true);\n  return a.outerHTML;\n}\n\n/* -------------------------------------------- */\n/*  Targeting                                   */\n/* -------------------------------------------- */\n\n/**\n * Get currently selected tokens in the scene or user's character's tokens.\n * @returns {Token5e[]}\n */\nexport function getSceneTargets() {\n  let targets = canvas.tokens.controlled.filter(t => t.actor);\n  if ( !targets.length && game.user.character ) targets = game.user.character.getActiveTokens();\n  return targets;\n}\n\n/* -------------------------------------------- */\n/*  Conversions                                 */\n/* -------------------------------------------- */\n\n/**\n * Convert the provided weight to another unit.\n * @param {number} value  The weight being converted.\n * @param {string} from   The initial units.\n * @param {string} to     The final units.\n * @returns {number}      Weight in the specified units.\n */\nexport function convertWeight(value, from, to) {\n  if ( from === to ) return value;\n  const message = unit => `Weight unit ${unit} not defined in CONFIG.DND5E.weightUnits`;\n  if ( !CONFIG.DND5E.weightUnits[from] ) throw new Error(message(from));\n  if ( !CONFIG.DND5E.weightUnits[to] ) throw new Error(message(to));\n  return value\n    * CONFIG.DND5E.weightUnits[from].conversion\n    / CONFIG.DND5E.weightUnits[to].conversion;\n}\n\n/* -------------------------------------------- */\n/*  Validators                                  */\n/* -------------------------------------------- */\n\n/**\n * Ensure the provided string contains only the characters allowed in identifiers.\n * @param {string} identifier\n * @returns {boolean}\n */\nfunction isValidIdentifier(identifier) {\n  return /^([a-z0-9_-]+)$/i.test(identifier);\n}\n\nexport const validators = {\n  isValidIdentifier: isValidIdentifier\n};\n\n/* -------------------------------------------- */\n/*  Handlebars Template Helpers                 */\n/* -------------------------------------------- */\n\n/**\n * Define a set of template paths to pre-load. Pre-loaded templates are compiled and cached for fast access when\n * rendering. These paths will also be available as Handlebars partials by using the file name\n * (e.g. \"dnd5e.actor-traits\").\n * @returns {Promise}\n */\nexport async function preloadHandlebarsTemplates() {\n  const partials = [\n    // Shared Partials\n    \"systems/dnd5e/templates/shared/active-effects.hbs\",\n    \"systems/dnd5e/templates/shared/active-effects2.hbs\",\n    \"systems/dnd5e/templates/shared/inventory.hbs\",\n    \"systems/dnd5e/templates/shared/inventory2.hbs\",\n    \"systems/dnd5e/templates/apps/parts/trait-list.hbs\",\n\n    // Actor Sheet Partials\n    \"systems/dnd5e/templates/actors/parts/actor-classes.hbs\",\n    \"systems/dnd5e/templates/actors/parts/actor-trait-pills.hbs\",\n    \"systems/dnd5e/templates/actors/parts/actor-traits.hbs\",\n    \"systems/dnd5e/templates/actors/parts/actor-features.hbs\",\n    \"systems/dnd5e/templates/actors/parts/actor-inventory.hbs\",\n    \"systems/dnd5e/templates/actors/parts/actor-spellbook.hbs\",\n    \"systems/dnd5e/templates/actors/parts/actor-warnings.hbs\",\n    \"systems/dnd5e/templates/actors/parts/actor-warnings-dialog.hbs\",\n    \"systems/dnd5e/templates/actors/parts/biography-textbox.hbs\",\n    \"systems/dnd5e/templates/actors/tabs/character-biography.hbs\",\n    \"systems/dnd5e/templates/actors/tabs/character-details.hbs\",\n    \"systems/dnd5e/templates/actors/tabs/creature-features.hbs\",\n    \"systems/dnd5e/templates/actors/tabs/creature-spells.hbs\",\n    \"systems/dnd5e/templates/actors/tabs/group-members.hbs\",\n    \"systems/dnd5e/templates/actors/tabs/npc-biography.hbs\",\n\n    // Actor Sheet Item Summary Columns\n    \"systems/dnd5e/templates/actors/parts/columns/column-feature-controls.hbs\",\n    \"systems/dnd5e/templates/actors/parts/columns/column-formula.hbs\",\n    \"systems/dnd5e/templates/actors/parts/columns/column-recovery.hbs\",\n    \"systems/dnd5e/templates/actors/parts/columns/column-roll.hbs\",\n    \"systems/dnd5e/templates/actors/parts/columns/column-uses.hbs\",\n\n    // Item Sheet Partials\n    \"systems/dnd5e/templates/items/parts/item-action.hbs\",\n    \"systems/dnd5e/templates/items/parts/item-activation.hbs\",\n    \"systems/dnd5e/templates/items/parts/item-advancement.hbs\",\n    \"systems/dnd5e/templates/items/parts/item-description.hbs\",\n    \"systems/dnd5e/templates/items/parts/item-mountable.hbs\",\n    \"systems/dnd5e/templates/items/parts/item-spellcasting.hbs\",\n    \"systems/dnd5e/templates/items/parts/item-source.hbs\",\n    \"systems/dnd5e/templates/items/parts/item-summary.hbs\",\n    \"systems/dnd5e/templates/items/parts/item-tooltip.hbs\",\n\n    // Journal Partials\n    \"systems/dnd5e/templates/journal/parts/journal-table.hbs\",\n\n    // Advancement Partials\n    \"systems/dnd5e/templates/advancement/parts/advancement-ability-score-control.hbs\",\n    \"systems/dnd5e/templates/advancement/parts/advancement-controls.hbs\",\n    \"systems/dnd5e/templates/advancement/parts/advancement-spell-config.hbs\"\n  ];\n\n  const paths = {};\n  for ( const path of partials ) {\n    paths[path.replace(\".hbs\", \".html\")] = path;\n    paths[`dnd5e.${path.split(\"/\").pop().replace(\".hbs\", \"\")}`] = path;\n  }\n\n  return loadTemplates(paths);\n}\n\n/* -------------------------------------------- */\n\n/**\n * A helper that converts the provided object into a series of `data-` entries.\n * @param {object} object   Object to convert into dataset entries.\n * @param {object} options  Handlebars options.\n * @returns {string}\n */\nfunction dataset(object, options) {\n  const entries = [];\n  for ( let [key, value] of Object.entries(object ?? {}) ) {\n    key = key.replace(/[A-Z]+(?![a-z])|[A-Z]/g, (a, b) => (b ? \"-\" : \"\") + a.toLowerCase());\n    entries.push(`data-${key}=\"${value}\"`);\n  }\n  return new Handlebars.SafeString(entries.join(\" \"));\n}\n\n/* -------------------------------------------- */\n\n/**\n * A helper to create a set of <option> elements in a <select> block grouped together\n * in <optgroup> based on the provided categories.\n *\n * @param {SelectChoices} choices          Choices to format.\n * @param {object} [options]\n * @param {boolean} [options.localize]     Should the label be localized?\n * @param {string} [options.blank]         Name for the empty option, if one should be added.\n * @param {string} [options.labelAttr]     Attribute pointing to label string.\n * @param {string} [options.chosenAttr]    Attribute pointing to chosen boolean.\n * @param {string} [options.childrenAttr]  Attribute pointing to array of children.\n * @returns {Handlebars.SafeString}        Formatted option list.\n */\nfunction groupedSelectOptions(choices, options) {\n  const localize = options.hash.localize ?? false;\n  const blank = options.hash.blank ?? null;\n  const labelAttr = options.hash.labelAttr ?? \"label\";\n  const chosenAttr = options.hash.chosenAttr ?? \"chosen\";\n  const childrenAttr = options.hash.childrenAttr ?? \"children\";\n\n  // Create an option\n  const option = (name, label, chosen) => {\n    if ( localize ) label = game.i18n.localize(label);\n    html += `<option value=\"${name}\" ${chosen ? \"selected\" : \"\"}>${label}</option>`;\n  };\n\n  // Create a group\n  const group = category => {\n    let label = category[labelAttr];\n    if ( localize ) game.i18n.localize(label);\n    html += `<optgroup label=\"${label}\">`;\n    children(category[childrenAttr]);\n    html += \"</optgroup>\";\n  };\n\n  // Add children\n  const children = children => {\n    for ( let [name, child] of Object.entries(children) ) {\n      if ( child[childrenAttr] ) group(child);\n      else option(name, child[labelAttr], child[chosenAttr] ?? false);\n    }\n  };\n\n  // Create the options\n  let html = \"\";\n  if ( blank !== null ) option(\"\", blank);\n  children(choices);\n  return new Handlebars.SafeString(html);\n}\n\n/* -------------------------------------------- */\n\n/**\n * A helper that fetch the appropriate item context from root and adds it to the first block parameter.\n * @param {object} context  Current evaluation context.\n * @param {object} options  Handlebars options.\n * @returns {string}\n */\nfunction itemContext(context, options) {\n  if ( arguments.length !== 2 ) throw new Error(\"#dnd5e-itemContext requires exactly one argument\");\n  if ( foundry.utils.getType(context) === \"function\" ) context = context.call(this);\n\n  const ctx = options.data.root.itemContext?.[context.id];\n  if ( !ctx ) {\n    const inverse = options.inverse(this);\n    if ( inverse ) return options.inverse(this);\n  }\n\n  return options.fn(context, { data: options.data, blockParams: [ctx] });\n}\n\n/* -------------------------------------------- */\n\n/**\n * Conceal a section and display a notice if unidentified.\n * @param {boolean} conceal  Should the section be concealed?\n * @param {object} options   Handlebars options.\n * @returns {string}\n */\nfunction concealSection(conceal, options) {\n  let content = options.fn(this);\n  if ( !conceal ) return content;\n\n  content = `<div inert>\n    ${content}\n  </div>\n  <div class=\"unidentified-notice\">\n      <div>\n          <strong>${game.i18n.localize(\"DND5E.Unidentified.Title\")}</strong>\n          <p>${game.i18n.localize(\"DND5E.Unidentified.Notice\")}</p>\n      </div>\n  </div>`;\n  return content;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Register custom Handlebars helpers used by 5e.\n */\nexport function registerHandlebarsHelpers() {\n  Handlebars.registerHelper({\n    getProperty: foundry.utils.getProperty,\n    \"dnd5e-concealSection\": concealSection,\n    \"dnd5e-dataset\": dataset,\n    \"dnd5e-formatCR\": formatCR,\n    \"dnd5e-formatModifier\": formatModifier,\n    \"dnd5e-groupedSelectOptions\": groupedSelectOptions,\n    \"dnd5e-itemContext\": itemContext,\n    \"dnd5e-linkForUuid\": (uuid, options) => linkForUuid(uuid, options.hash),\n    \"dnd5e-numberFormat\": (context, options) => formatNumber(context, options.hash),\n    \"dnd5e-textFormat\": formatText\n  });\n}\n\n/* -------------------------------------------- */\n/*  Config Pre-Localization                     */\n/* -------------------------------------------- */\n\n/**\n * Storage for pre-localization configuration.\n * @type {object}\n * @private\n */\nconst _preLocalizationRegistrations = {};\n\n/**\n * Mark the provided config key to be pre-localized during the init stage.\n * @param {string} configKeyPath          Key path within `CONFIG.DND5E` to localize.\n * @param {object} [options={}]\n * @param {string} [options.key]          If each entry in the config enum is an object,\n *                                        localize and sort using this property.\n * @param {string[]} [options.keys=[]]    Array of localization keys. First key listed will be used for sorting\n *                                        if multiple are provided.\n * @param {boolean} [options.sort=false]  Sort this config enum, using the key if set.\n */\nexport function preLocalize(configKeyPath, { key, keys=[], sort=false }={}) {\n  if ( key ) keys.unshift(key);\n  _preLocalizationRegistrations[configKeyPath] = { keys, sort };\n}\n\n/* -------------------------------------------- */\n\n/**\n * Execute previously defined pre-localization tasks on the provided config object.\n * @param {object} config  The `CONFIG.DND5E` object to localize and sort. *Will be mutated.*\n */\nexport function performPreLocalization(config) {\n  for ( const [keyPath, settings] of Object.entries(_preLocalizationRegistrations) ) {\n    const target = foundry.utils.getProperty(config, keyPath);\n    if ( !target ) continue;\n    _localizeObject(target, settings.keys);\n    if ( settings.sort ) foundry.utils.setProperty(config, keyPath, sortObjectEntries(target, settings.keys[0]));\n  }\n\n  // Localize & sort status effects\n  CONFIG.statusEffects.forEach(s => s.name = game.i18n.localize(s.name));\n  CONFIG.statusEffects.sort((lhs, rhs) =>\n    lhs.id === \"dead\" ? -1 : rhs.id === \"dead\" ? 1 : lhs.name.localeCompare(rhs.name, game.i18n.lang)\n  );\n}\n\n/* -------------------------------------------- */\n\n/**\n * Localize the values of a configuration object by translating them in-place.\n * @param {object} obj       The configuration object to localize.\n * @param {string[]} [keys]  List of inner keys that should be localized if this is an object.\n * @private\n */\nfunction _localizeObject(obj, keys) {\n  for ( const [k, v] of Object.entries(obj) ) {\n    const type = typeof v;\n    if ( type === \"string\" ) {\n      obj[k] = game.i18n.localize(v);\n      continue;\n    }\n\n    if ( type !== \"object\" ) {\n      console.error(new Error(\n        `Pre-localized configuration values must be a string or object, ${type} found for \"${k}\" instead.`\n      ));\n      continue;\n    }\n    if ( !keys?.length ) {\n      console.error(new Error(\n        \"Localization keys must be provided for pre-localizing when target is an object.\"\n      ));\n      continue;\n    }\n\n    for ( const key of keys ) {\n      const value = foundry.utils.getProperty(v, key);\n      if ( !value ) continue;\n      foundry.utils.setProperty(v, key, game.i18n.localize(value));\n    }\n  }\n}\n\n/* -------------------------------------------- */\n/*  Localization                                */\n/* -------------------------------------------- */\n\n/**\n * A cache of already-fetched labels for faster lookup.\n * @type {Map<string, string>}\n */\nconst _attributeLabelCache = new Map();\n\n/**\n * Convert an attribute path to a human-readable label.\n * @param {string} attr              The attribute path.\n * @param {object} [options]\n * @param {Actor5e} [options.actor]  An optional reference actor.\n * @returns {string|void}\n */\nexport function getHumanReadableAttributeLabel(attr, { actor }={}) {\n  // Check any actor-specific names first.\n  if ( attr.startsWith(\"resources.\") && actor ) {\n    const resource = foundry.utils.getProperty(actor, `system.${attr}`);\n    if ( resource.label ) return resource.label;\n  }\n\n  if ( (attr === \"details.xp.value\") && (actor?.type === \"npc\") ) {\n    return game.i18n.localize(\"DND5E.ExperiencePointsValue\");\n  }\n\n  if ( attr.startsWith(\".\") && actor ) {\n    const item = fromUuidSync(attr, { relative: actor });\n    return item?.name ?? attr;\n  }\n\n  // Check if the attribute is already in cache.\n  let label = _attributeLabelCache.get(attr);\n  if ( label ) return label;\n\n  // Derived fields.\n  if ( attr === \"attributes.init.total\" ) label = \"DND5E.InitiativeBonus\";\n  else if ( attr === \"attributes.ac.value\" ) label = \"DND5E.ArmorClass\";\n  else if ( attr === \"attributes.spelldc\" ) label = \"DND5E.SpellDC\";\n\n  // Abilities.\n  else if ( attr.startsWith(\"abilities.\") ) {\n    const [, key] = attr.split(\".\");\n    label = game.i18n.format(\"DND5E.AbilityScoreL\", { ability: CONFIG.DND5E.abilities[key].label });\n  }\n\n  // Skills.\n  else if ( attr.startsWith(\"skills.\") ) {\n    const [, key] = attr.split(\".\");\n    label = game.i18n.format(\"DND5E.SkillPassiveScore\", { skill: CONFIG.DND5E.skills[key].label });\n  }\n\n  // Spell slots.\n  else if ( attr.startsWith(\"spells.\") ) {\n    const [, key] = attr.split(\".\");\n    if ( !/spell\\d+/.test(key) ) label = `DND5E.SpellSlots${key.capitalize()}`;\n    else {\n      const plurals = new Intl.PluralRules(game.i18n.lang, {type: \"ordinal\"});\n      const level = Number(key.slice(5));\n      label = game.i18n.format(`DND5E.SpellSlotsN.${plurals.select(level)}`, { n: level });\n    }\n  }\n\n  // Attempt to find the attribute in a data model.\n  if ( !label ) {\n    const { CharacterData, NPCData, VehicleData, GroupData } = dnd5e.dataModels.actor;\n    for ( const model of [CharacterData, NPCData, VehicleData, GroupData] ) {\n      const field = model.schema.getField(attr);\n      if ( field ) {\n        label = field.label;\n        break;\n      }\n    }\n  }\n\n  if ( label ) {\n    label = game.i18n.localize(label);\n    _attributeLabelCache.set(attr, label);\n  }\n\n  return label;\n}\n\n/* -------------------------------------------- */\n/*  Migration                                   */\n/* -------------------------------------------- */\n\n/**\n * Synchronize the spells for all Actors in some collection with source data from an Item compendium pack.\n * @param {CompendiumCollection} actorPack      An Actor compendium pack which will be updated\n * @param {CompendiumCollection} spellsPack     An Item compendium pack which provides source data for spells\n * @returns {Promise<void>}\n */\nexport async function synchronizeActorSpells(actorPack, spellsPack) {\n\n  // Load all actors and spells\n  const actors = await actorPack.getDocuments();\n  const spells = await spellsPack.getDocuments();\n  const spellsMap = spells.reduce((obj, item) => {\n    obj[item.name] = item;\n    return obj;\n  }, {});\n\n  // Unlock the pack\n  await actorPack.configure({locked: false});\n\n  // Iterate over actors\n  SceneNavigation.displayProgressBar({label: \"Synchronizing Spell Data\", pct: 0});\n  for ( const [i, actor] of actors.entries() ) {\n    const {toDelete, toCreate} = _synchronizeActorSpells(actor, spellsMap);\n    if ( toDelete.length ) await actor.deleteEmbeddedDocuments(\"Item\", toDelete);\n    if ( toCreate.length ) await actor.createEmbeddedDocuments(\"Item\", toCreate, {keepId: true});\n    console.debug(`${actor.name} | Synchronized ${toCreate.length} spells`);\n    SceneNavigation.displayProgressBar({label: actor.name, pct: ((i / actors.length) * 100).toFixed(0)});\n  }\n\n  // Re-lock the pack\n  await actorPack.configure({locked: true});\n  SceneNavigation.displayProgressBar({label: \"Synchronizing Spell Data\", pct: 100});\n}\n\n/* -------------------------------------------- */\n\n/**\n * A helper function to synchronize spell data for a specific Actor.\n * @param {Actor5e} actor\n * @param {Object<string,Item5e>} spellsMap\n * @returns {{toDelete: string[], toCreate: object[]}}\n * @private\n */\nfunction _synchronizeActorSpells(actor, spellsMap) {\n  const spells = actor.itemTypes.spell;\n  const toDelete = [];\n  const toCreate = [];\n  if ( !spells.length ) return {toDelete, toCreate};\n\n  for ( const spell of spells ) {\n    const source = spellsMap[spell.name];\n    if ( !source ) {\n      console.warn(`${actor.name} | ${spell.name} | Does not exist in spells compendium pack`);\n      continue;\n    }\n\n    // Combine source data with the preparation and uses data from the actor\n    const spellData = source.toObject();\n    const {preparation, uses, save} = spell.toObject().system;\n    Object.assign(spellData.system, {preparation, uses});\n    spellData.system.save.dc = save.dc;\n    foundry.utils.setProperty(spellData, \"_stats.compendiumSource\", source.uuid);\n    foundry.utils.setProperty(spellData, \"flags.core.sourceId\", source.uuid);\n\n    // Record spells to be deleted and created\n    toDelete.push(spell.id);\n    toCreate.push(spellData);\n  }\n  return {toDelete, toCreate};\n}\n","import Advancement from \"./advancement.mjs\";\nimport HitPointsConfig from \"../../applications/advancement/hit-points-config.mjs\";\nimport HitPointsFlow from \"../../applications/advancement/hit-points-flow.mjs\";\nimport { simplifyBonus } from \"../../utils.mjs\";\n\n/**\n * Advancement that presents the player with the option to roll hit points at each level or select the average value.\n * Keeps track of player hit point rolls or selection for each class level. **Can only be added to classes and each\n * class can only have one.**\n */\nexport default class HitPointsAdvancement extends Advancement {\n\n  /** @inheritdoc */\n  static get metadata() {\n    return foundry.utils.mergeObject(super.metadata, {\n      order: 10,\n      icon: \"systems/dnd5e/icons/svg/hit-points.svg\",\n      title: game.i18n.localize(\"DND5E.AdvancementHitPointsTitle\"),\n      hint: game.i18n.localize(\"DND5E.AdvancementHitPointsHint\"),\n      multiLevel: true,\n      apps: {\n        config: HitPointsConfig,\n        flow: HitPointsFlow\n      }\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Instance Properties                         */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get levels() {\n    return Array.fromRange(CONFIG.DND5E.maxLevel + 1).slice(1);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Shortcut to the hit die used by the class.\n   * @returns {string}\n   */\n  get hitDie() {\n    if ( this.actor?.type === \"npc\" ) return `d${this.actor.system.attributes.hd.denomination}`;\n    return this.item.system.hitDice;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The face value of the hit die used.\n   * @returns {number}\n   */\n  get hitDieValue() {\n    return Number(this.hitDie.substring(1));\n  }\n\n  /* -------------------------------------------- */\n  /*  Display Methods                             */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  configuredForLevel(level) {\n    return this.valueForLevel(level) !== null;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  titleForLevel(level, { configMode=false }={}) {\n    const hp = this.valueForLevel(level);\n    if ( !hp || configMode ) return this.title;\n    return `${this.title}: <strong>${hp}</strong>`;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Hit points given at the provided level.\n   * @param {number} level   Level for which to get hit points.\n   * @returns {number|null}  Hit points for level or null if none have been taken.\n   */\n  valueForLevel(level) {\n    return this.constructor.valueForLevel(this.value, this.hitDieValue, level);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Hit points given at the provided level.\n   * @param {object} data         Contents of `value` used to determine this value.\n   * @param {number} hitDieValue  Face value of the hit die used by this advancement.\n   * @param {number} level        Level for which to get hit points.\n   * @returns {number|null}       Hit points for level or null if none have been taken.\n   */\n  static valueForLevel(data, hitDieValue, level) {\n    const value = data[level];\n    if ( !value ) return null;\n\n    if ( value === \"max\" ) return hitDieValue;\n    if ( value === \"avg\" ) return (hitDieValue / 2) + 1;\n    return value;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Total hit points provided by this advancement.\n   * @returns {number}  Hit points currently selected.\n   */\n  total() {\n    return Object.keys(this.value).reduce((total, level) => total + this.valueForLevel(parseInt(level)), 0);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Total hit points taking the provided ability modifier into account, with a minimum of 1 per level.\n   * @param {number} mod  Modifier to add per level.\n   * @returns {number}    Total hit points plus modifier.\n   */\n  getAdjustedTotal(mod) {\n    return Object.keys(this.value).reduce((total, level) => {\n      return total + Math.max(this.valueForLevel(parseInt(level)) + mod, 1);\n    }, 0);\n  }\n\n  /* -------------------------------------------- */\n  /*  Editing Methods                             */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static availableForItem(item) {\n    return !item.advancement.byType.HitPoints?.length;\n  }\n\n  /* -------------------------------------------- */\n  /*  Application Methods                         */\n  /* -------------------------------------------- */\n\n  /**\n   * Add the ability modifier and any bonuses to the provided hit points value to get the number to apply.\n   * @param {number} value  Hit points taken at a given level.\n   * @returns {number}      Hit points adjusted with ability modifier and per-level bonuses.\n   */\n  #getApplicableValue(value) {\n    const abilityId = CONFIG.DND5E.defaultAbilities.hitPoints || \"con\";\n    value = Math.max(value + (this.actor.system.abilities[abilityId]?.mod ?? 0), 1);\n    value += simplifyBonus(this.actor.system.attributes.hp.bonuses?.level, this.actor.getRollData());\n    return value;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  apply(level, data) {\n    let value = this.constructor.valueForLevel(data, this.hitDieValue, level);\n    if ( value === undefined ) return;\n    this.actor.updateSource({\n      \"system.attributes.hp.value\": this.actor.system.attributes.hp.value + this.#getApplicableValue(value)\n    });\n    this.updateSource({ value: data });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  restore(level, data) {\n    this.apply(level, data);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  reverse(level) {\n    let value = this.valueForLevel(level);\n    if ( value === undefined ) return;\n    this.actor.updateSource({\n      \"system.attributes.hp.value\": this.actor.system.attributes.hp.value - this.#getApplicableValue(value)\n    });\n    const source = { [level]: this.value[level] };\n    this.updateSource({ [`value.-=${level}`]: null });\n    return source;\n  }\n}\n","import AdvancementConfig from \"./advancement-config.mjs\";\n\n/**\n * Configuration application for item choices.\n */\nexport default class ItemChoiceConfig extends AdvancementConfig {\n\n  /** @inheritDoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\", \"advancement\", \"item-choice\", \"three-column\"],\n      dragDrop: [{ dropSelector: \".drop-target\" }],\n      dropKeyPath: \"pool\",\n      template: \"systems/dnd5e/templates/advancement/item-choice-config.hbs\",\n      width: 780\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  getData(options={}) {\n    const indexes = this.advancement.configuration.pool.map(i => fromUuidSync(i.uuid));\n    const context = {\n      ...super.getData(options),\n      abilities: Object.entries(CONFIG.DND5E.abilities).reduce((obj, [k, c]) => {\n        obj[k] = { label: c.label, selected: this.advancement.configuration.spell?.ability.has(k) ? \"selected\" : \"\" };\n        return obj;\n      }, {}),\n      showContainerWarning: indexes.some(i => i?.type === \"container\"),\n      showSpellConfig: this.advancement.configuration.type === \"spell\",\n      validTypes: this.advancement.constructor.VALID_TYPES.reduce((obj, type) => {\n        obj[type] = game.i18n.localize(CONFIG.Item.typeLabels[type]);\n        return obj;\n      }, {})\n    };\n    context.choices = Object.entries(context.levels).reduce((obj, [level, label]) => {\n      obj[level] = { label, ...this.advancement.configuration.choices[level] };\n      return obj;\n    }, {});\n    if ( this.advancement.configuration.type === \"feat\" ) {\n      const selectedType = CONFIG.DND5E.featureTypes[this.advancement.configuration.restriction.type];\n      context.typeRestriction = {\n        typeLabel: game.i18n.localize(\"DND5E.ItemFeatureType\"),\n        typeOptions: CONFIG.DND5E.featureTypes,\n        subtypeLabel: game.i18n.format(\"DND5E.ItemFeatureSubtype\", {category: selectedType?.label}),\n        subtypeOptions: selectedType?.subtypes\n      };\n    }\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async prepareConfigurationUpdate(configuration) {\n    if ( configuration.choices ) configuration.choices = this.constructor._cleanedObject(configuration.choices);\n    if ( configuration.spell ) configuration.spell.ability ??= [];\n\n    // Ensure items are still valid if type restriction or spell restriction are changed\n    const pool = [];\n    for ( const item of (configuration.pool ?? this.advancement.configuration.pool) ) {\n      if ( this.advancement._validateItemType(await fromUuid(item.uuid), {\n        type: configuration.type, restriction: configuration.restriction ?? {}, strict: false\n      }) ) pool.push(item);\n    }\n    configuration.pool = pool;\n\n    return configuration;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _validateDroppedItem(event, item) {\n    this.advancement._validateItemType(item);\n  }\n}\n","/**\n * A helper Dialog subclass for rolling Hit Dice on short rest.\n *\n * @param {Actor5e} actor           Actor that is taking the short rest.\n * @param {object} [dialogData={}]  An object of dialog data which configures how the modal window is rendered.\n * @param {object} [options={}]     Dialog rendering options.\n */\nexport default class ShortRestDialog extends Dialog {\n  constructor(actor, dialogData={}, options={}) {\n    super(dialogData, options);\n\n    /**\n     * Store a reference to the Actor document which is resting\n     * @type {Actor}\n     */\n    this.actor = actor;\n\n    /**\n     * Track the most recently used HD denomination for re-rendering the form\n     * @type {string}\n     */\n    this._denom = null;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      template: \"systems/dnd5e/templates/apps/short-rest.hbs\",\n      classes: [\"dnd5e\", \"dialog\"],\n      height: \"auto\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  getData() {\n    const context = super.getData();\n    context.isGroup = this.actor.type === \"group\";\n\n    if ( this.actor.type === \"npc\" ) {\n      const hd = this.actor.system.attributes.hd;\n      context.availableHD = { [`d${hd.denomination}`]: hd.value };\n      context.canRoll = hd.value > 0;\n      context.denomination = `d${hd.denomination}`;\n    }\n\n    else if ( foundry.utils.hasProperty(this.actor, \"system.attributes.hd\") ) {\n      // Determine Hit Dice\n      context.availableHD = this.actor.system.attributes.hd.bySize;\n      context.canRoll = this.actor.system.attributes.hd.value > 0;\n\n      const dice = Object.entries(context.availableHD);\n      context.denomination = (context.availableHD[this._denom] > 0) ? this._denom : dice.find(([k, v]) => v > 0)?.[0];\n    }\n\n    // Determine rest type\n    const variant = game.settings.get(\"dnd5e\", \"restVariant\");\n    context.promptNewDay = variant !== \"epic\";     // It's never a new day when only resting 1 minute\n    context.newDay = false;                        // It may be a new day, but not by default\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n\n  /** @inheritDoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    let btn = html.find(\"#roll-hd\");\n    btn.click(this._onRollHitDie.bind(this));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle rolling a Hit Die as part of a Short Rest action\n   * @param {Event} event     The triggering click event\n   * @protected\n   */\n  async _onRollHitDie(event) {\n    event.preventDefault();\n    const btn = event.currentTarget;\n    this._denom = btn.form.hd.value;\n    await this.actor.rollHitDie(this._denom);\n    this.render();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * A helper constructor function which displays the Short Rest dialog and returns a Promise once it's workflow has\n   * been resolved.\n   * @param {object} [options={}]\n   * @param {Actor5e} [options.actor]  Actor that is taking the short rest.\n   * @returns {Promise}                Promise that resolves when the rest is completed or rejects when canceled.\n   */\n  static async shortRestDialog({ actor }={}) {\n    return new Promise((resolve, reject) => {\n      const dlg = new this(actor, {\n        title: `${game.i18n.localize(\"DND5E.ShortRest\")}: ${actor.name}`,\n        buttons: {\n          rest: {\n            icon: '<i class=\"fas fa-bed\"></i>',\n            label: game.i18n.localize(\"DND5E.Rest\"),\n            callback: html => {\n              const formData = new FormDataExtended(html.find(\"form\")[0]);\n              resolve(formData.object);\n            }\n          },\n          cancel: {\n            icon: '<i class=\"fas fa-times\"></i>',\n            label: game.i18n.localize(\"Cancel\"),\n            callback: reject\n          }\n        },\n        close: reject\n      });\n      dlg.render(true);\n    });\n  }\n}\n","/**\n * A helper Dialog subclass for completing a long rest.\n *\n * @param {Actor5e} actor           Actor that is taking the long rest.\n * @param {object} [dialogData={}]  An object of dialog data which configures how the modal window is rendered.\n * @param {object} [options={}]     Dialog rendering options.\n */\nexport default class LongRestDialog extends Dialog {\n  constructor(actor, dialogData={}, options={}) {\n    super(dialogData, options);\n    this.actor = actor;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      template: \"systems/dnd5e/templates/apps/long-rest.hbs\",\n      classes: [\"dnd5e\", \"dialog\"]\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  getData() {\n    const context = super.getData();\n    const variant = game.settings.get(\"dnd5e\", \"restVariant\");\n    context.isGroup = this.actor.type === \"group\";\n    context.promptNewDay = variant !== \"gritty\";     // It's always a new day when resting 1 week\n    context.newDay = variant === \"normal\";           // It's probably a new day when resting normally (8 hours)\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * A helper constructor function which displays the Long Rest confirmation dialog and returns a Promise once it's\n   * workflow has been resolved.\n   * @param {object} [options={}]\n   * @param {Actor5e} [options.actor]  Actor that is taking the long rest.\n   * @returns {Promise}                Promise that resolves when the rest is completed or rejects when canceled.\n   */\n  static async longRestDialog({ actor } = {}) {\n    return new Promise((resolve, reject) => {\n      const dlg = new this(actor, {\n        title: `${game.i18n.localize(\"DND5E.LongRest\")}: ${actor.name}`,\n        buttons: {\n          rest: {\n            icon: '<i class=\"fas fa-bed\"></i>',\n            label: game.i18n.localize(\"DND5E.Rest\"),\n            callback: html => {\n              const formData = new FormDataExtended(html.find(\"form\")[0]);\n              resolve(formData.object);\n            }\n          },\n          cancel: {\n            icon: '<i class=\"fas fa-times\"></i>',\n            label: game.i18n.localize(\"Cancel\"),\n            callback: reject\n          }\n        },\n        default: \"rest\",\n        close: reject\n      });\n      dlg.render(true);\n    });\n  }\n}\n","/**\n * Description for a single part of a property attribution.\n * @typedef {object} AttributionDescription\n * @property {string} label  Descriptive label that will be displayed. If the label is in the form\n *                           of an @ property, the system will try to turn it into a human-readable label.\n * @property {number} mode   Application mode for this step as defined in\n *                           [CONST.ACTIVE_EFFECT_MODES](https://foundryvtt.com/api/module-constants.html#.ACTIVE_EFFECT_MODES).\n * @property {number} value  Value of this step.\n */\n\n/**\n * Interface for viewing what factors went into determining a specific property.\n *\n * @param {Document} object                        The Document that owns the property being attributed.\n * @param {AttributionDescription[]} attributions  An array of all the attribution data.\n * @param {string} property                        Dot separated path to the property.\n * @param {object} [options={}]                    Application rendering options.\n */\nexport default class PropertyAttribution extends Application {\n  constructor(object, attributions, property, options={}) {\n    super(options);\n    this.object = object;\n    this.attributions = attributions;\n    this.property = property;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      id: \"property-attribution\",\n      classes: [\"dnd5e\", \"property-attribution\"],\n      template: \"systems/dnd5e/templates/apps/property-attribution.hbs\",\n      width: 320,\n      height: \"auto\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare tooltip contents.\n   * @returns {Promise<string>}\n   */\n  async renderTooltip() {\n    const data = this.getData(this.options);\n    return (await this._renderInner(data))[0].outerHTML;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  getData(options={}) {\n    const property = foundry.utils.getProperty(this.object.system, this.property);\n    let total;\n    if ( Number.isNumeric(property)) total = property;\n    else if ( typeof property === \"object\" && Number.isNumeric(property.value) ) total = property.value;\n    const sources = foundry.utils.duplicate(this.attributions);\n    return {\n      caption: game.i18n.localize(options.title),\n      sources: sources.map(entry => {\n        if ( entry.label.startsWith(\"@\") ) entry.label = this.getPropertyLabel(entry.label.slice(1));\n        if ( (entry.mode === CONST.ACTIVE_EFFECT_MODES.ADD) && (entry.value < 0) ) {\n          entry.negative = true;\n          entry.value = entry.value * -1;\n        }\n        return entry;\n      }),\n      total: total\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Produce a human-readable and localized name for the provided property.\n   * @param {string} property  Dot separated path to the property.\n   * @returns {string}         Property name for display.\n   */\n  getPropertyLabel(property) {\n    const parts = property.split(\".\");\n    if ( parts[0] === \"abilities\" && parts[1] ) {\n      return CONFIG.DND5E.abilities[parts[1]]?.label ?? property;\n    } else if ( (property === \"attributes.ac.dex\") && CONFIG.DND5E.abilities.dex ) {\n      return CONFIG.DND5E.abilities.dex.label;\n    } else if ( (parts[0] === \"prof\") || (property === \"attributes.prof\") ) {\n      return game.i18n.localize(\"DND5E.Proficiency\");\n    }\n    return property;\n  }\n}\n","/**\n * A filter description.\n *\n * @typedef {object} FilterDescription\n * @property {string} k        Key on the data object to check.\n * @property {any} v           Value to compare.\n * @property {string} [o=\"_\"]  Operator or comparison function to use.\n */\n\n/**\n * Check some data against a filter to determine if it matches.\n * @param {object} data                 Data to check.\n * @param {FilterDescription[]} filter  Filter to compare against.\n * @returns {boolean}\n * @throws\n */\nexport function performCheck(data, filter=[]) {\n  return AND(data, filter);\n}\n\n/* -------------------------------------------- */\n\n/**\n * Determine the unique keys referenced by a set of filters.\n * @param {FilterDescription[]} filter  Filter to examine.\n * @returns {Set<string>}\n */\nexport function uniqueKeys(filter=[]) {\n  const keys = new Set();\n  const _uniqueKeys = filters => {\n    for ( const f of filters ) {\n      const operator = f.o in OPERATOR_FUNCTIONS;\n      if ( operator && (foundry.utils.getType(f.v) === \"Array\") ) _uniqueKeys(f.v);\n      else if ( f.o === \"NOT\" ) _uniqueKeys([f.v]);\n      else if ( !operator ) keys.add(f.k);\n    }\n  };\n  _uniqueKeys(filter);\n  return keys;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Internal check implementation.\n * @param {object} data             Data to check.\n * @param {string} [keyPath]        Path to individual piece within data to check.\n * @param {*} value                 Value to compare against or additional filters.\n * @param {string} [operation=\"_\"]  Checking function to use.\n * @returns {boolean}\n * @internal\n * @throws\n */\nfunction _check(data, keyPath, value, operation=\"_\") {\n  const operator = OPERATOR_FUNCTIONS[operation];\n  if ( operator ) return operator(data, value);\n\n  const comparison = COMPARISON_FUNCTIONS[operation];\n  if ( !comparison ) throw new Error(`Comparison function \"${operation}\" could not be found.`);\n  return comparison(foundry.utils.getProperty(data, keyPath), value);\n}\n\n/* -------------------------------------------- */\n/*  Operator Functions                          */\n/* -------------------------------------------- */\n\n/**\n * Operator functions.\n * @enum {Function}\n */\nexport const OPERATOR_FUNCTIONS = {\n  AND, NAND, OR, NOR, XOR, NOT\n};\n\n/* -------------------------------------------- */\n\n/**\n * Perform an AND check against all filters.\n * @param {object} data                 Data to check.\n * @param {FilterDescription[]} filter  Filter to compare against.\n * @returns {boolean}\n */\nexport function AND(data, filter) {\n  return filter.every(({k, v, o}) => _check(data, k, v, o));\n}\n\n/* -------------------------------------------- */\n\n/**\n * Perform an NAND check against all filters.\n * @param {object} data                 Data to check.\n * @param {FilterDescription[]} filter  Filter to compare against.\n * @returns {boolean}\n */\nexport function NAND(data, filter) {\n  return !filter.every(({k, v, o}) => _check(data, k, v, o));\n}\n\n/* -------------------------------------------- */\n\n/**\n * Perform an OR check against all filters.\n * @param {object} data                 Data to check.\n * @param {FilterDescription[]} filter  Filter to compare against.\n * @returns {boolean}\n */\nexport function OR(data, filter) {\n  return filter.some(({k, v, o}) => _check(data, k, v, o));\n}\n\n/* -------------------------------------------- */\n\n/**\n * Perform an NOR check against all filters.\n * @param {object} data                 Data to check.\n * @param {FilterDescription[]} filter  Filter to compare against.\n * @returns {boolean}\n */\nexport function NOR(data, filter) {\n  return !filter.some(({k, v, o}) => _check(data, k, v, o));\n}\n\n/* -------------------------------------------- */\n\n/**\n * Perform an XOR check against all filters.\n * @param {object} data                 Data to check.\n * @param {FilterDescription[]} filter  Filter to compare against.\n * @returns {boolean}\n */\nexport function XOR(data, filter) {\n  if ( !filter.length ) return false;\n  let currentResult = _check(data, filter[0].k, filter[0].v, filter[0].o);\n  for ( let i = 1; i < filter.length; i++ ) {\n    const { k, v, o } = filter[i];\n    currentResult ^= _check(data, k, v, o);\n  }\n  return Boolean(currentResult);\n}\n\n/* -------------------------------------------- */\n\n/**\n * Invert the result of a nested check,\n * @param {object} data               Data to check.\n * @param {FilterDescription} filter  Filter to compare against.\n * @returns {boolean}\n */\nexport function NOT(data, filter) {\n  const { k, v, o } = filter;\n  return !_check(data, k, v, o);\n}\n\n/* -------------------------------------------- */\n/*  Comparison Functions                        */\n/* -------------------------------------------- */\n\n/**\n * Currently supported comparison functions.\n * @enum {Function}\n */\nexport const COMPARISON_FUNCTIONS = {\n  _: exact, exact, contains, icontains, startswith, istartswith, endswith,\n  has, hasany, hasall, in: in_, gt, gte, lt, lte\n};\n\n/* -------------------------------------------- */\n\n/**\n * Check for an exact match. The default comparison mode if none is provided.\n * @param {*} data\n * @param {*} value\n * @returns {boolean}\n */\nexport function exact(data, value) {\n  return data === value;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Check that data contains value.\n * @param {*} data\n * @param {*} value\n * @returns {boolean}\n */\nexport function contains(data, value) {\n  return String(data).includes(String(value));\n}\n\n/* -------------------------------------------- */\n\n/**\n * Case-insensitive check that data contains value.\n * @param {*} data\n * @param {*} value\n * @returns {boolean}\n */\nexport function icontains(data, value) {\n  return contains(String(data).toLocaleLowerCase(game.i18n.lang), String(value).toLocaleLowerCase(game.i18n.lang));\n}\n\n/* -------------------------------------------- */\n\n/**\n * Check that data starts with value.\n * @param {*} data\n * @param {*} value\n * @returns {boolean}\n */\nexport function startswith(data, value) {\n  return String(data).startsWith(String(value));\n}\n\n/* -------------------------------------------- */\n\n/**\n * Case-insensitive check that data starts with value.\n * @param {*} data\n * @param {*} value\n * @returns {boolean}\n */\nexport function istartswith(data, value) {\n  return startswith(String(data).toLocaleLowerCase(game.i18n.lang), String(value).toLocaleLowerCase(game.i18n.lang));\n}\n\n/* -------------------------------------------- */\n\n/**\n * Check that data ends with value.\n * @param {*} data\n * @param {*} value\n * @returns {boolean}\n */\nexport function endswith(data, value) {\n  return String(data).endsWith(String(value));\n}\n\n/* -------------------------------------------- */\n\n/**\n * Check that the data collection has the provided value.\n * @param {*} data\n * @param {*} value\n * @returns {boolean}\n */\nexport function has(data, value) {\n  return in_(value, data);\n}\n\n/* -------------------------------------------- */\n\n/**\n * Check that the data collection has any of the provided values.\n * @param {*} data\n * @param {*} value\n * @returns {boolean}\n */\nexport function hasany(data, value) {\n  return Array.from(value).some(v => has(data, v));\n}\n\n/* -------------------------------------------- */\n\n/**\n * Check that the data collection has all of the provided values.\n * @param {*} data\n * @param {*} value\n * @returns {boolean}\n */\nexport function hasall(data, value) {\n  return Array.from(value).every(v => has(data, v));\n}\n\n/* -------------------------------------------- */\n\n/**\n * Check that data matches one of the provided values.\n * @param {*} data\n * @param {*} value\n * @returns {boolean}\n */\nexport function in_(data, value) {\n  switch ( foundry.utils.getType(value) ) {\n    case \"Array\": return value.includes(data);\n    case \"Set\": return value.has(data);\n    default: return false;\n  }\n}\n\n/* -------------------------------------------- */\n\n/**\n * Check that value is greater than data.\n * @param {*} data\n * @param {*} value\n * @returns {boolean}\n */\nexport function gt(data, value) {\n  return data > value;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Check that value is greater than or equal to data.\n * @param {*} data\n * @param {*} value\n * @returns {boolean}\n */\nexport function gte(data, value) {\n  return data >= value;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Check that value is less than data.\n * @param {*} data\n * @param {*} value\n * @returns {boolean}\n */\nexport function lt(data, value) {\n  return data < value;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Check that value is less than or equal to data.\n * @param {*} data\n * @param {*} value\n * @returns {boolean}\n */\nexport function lte(data, value) {\n  return data <= value;\n}\n","import * as Filter from \"../filter.mjs\";\n\nconst ApplicationV2 = foundry.applications?.api?.ApplicationV2 ?? (class {});\nconst HandlebarsApplicationMixin = foundry.applications?.api?.HandlebarsApplicationMixin ?? (cls => cls);\n\n/**\n * @typedef {ApplicationConfiguration} CompendiumBrowserConfiguration\n * @property {{locked: CompendiumBrowserFilters, initial: CompendiumBrowserFilters}} filters  Filters to set to start.\n *                                              Locked filters won't be able to be changed by the user. Initial filters\n *                                              will be set to start but can be changed.\n * @property {CompendiumBrowserSelectionConfiguration} selection  Configuration used to define document selections.\n */\n\n/**\n * @typedef {object} CompendiumBrowserSelectionConfiguration\n * @property {number|null} min                  Minimum number of documents that must be selected.\n * @property {number|null} max                  Maximum number of documents that must be selected.\n */\n\n/**\n * @typedef {object} CompendiumBrowserFilters\n * @property {string} [documentClass]  Document type to fetch (e.g. Actor or Item).\n * @property {Set<string>} [types]     Individual document subtypes to filter upon (e.g. \"loot\", \"class\", \"npc\").\n * @property {object} [additional]     Additional type-specific filters applied.\n * @property {string} [name]           A substring to filter by Document name.\n */\n\n/**\n * Filter definition object for additional filters in the Compendium Browser.\n *\n * @typedef {object} CompendiumBrowserFilterDefinitionEntry\n * @property {string} label                                   Localizable label for the filter.\n * @property {\"boolean\"|\"range\"|\"set\"} type                   Type of filter control to display.\n * @property {object} config                                  Type-specific configuration data.\n * @property {CompendiumBrowserCreateFilters} [createFilter]  Method that can be called to create filters.\n */\n\n/**\n * @callback CompendiumBrowserFilterCreateFilters\n * @param {FilterDescription[]} filters                        Array of filters to be applied that should be mutated.\n * @param {*} value                                            Value of the filter.\n * @param {CompendiumBrowserFilterDefinitionEntry} definition  Definition for this filter.\n */\n\n/**\n * @typedef {Map<string, CompendiumBrowserFilterDefinitionEntry>} CompendiumBrowserFilterDefinition\n */\n\n/**\n * Application for browsing, filtering, and searching for content between multiple compendiums.\n * @extends ApplicationV2\n * @mixes HandlebarsApplicationMixin\n * @template CompendiumBrowserConfiguration\n */\nexport default class CompendiumBrowser extends HandlebarsApplicationMixin(ApplicationV2) {\n  constructor(...args) {\n    if ( game.release.generation < 12 ) throw Error(\"Compendium Browser only works in Foundry V12 or later\");\n    super(...args);\n\n    this.#filters = this.options.filters?.initial ?? {};\n\n    if ( \"mode\" in this.options ) {\n      this._mode = this.options.mode;\n      this._applyModeFilters(this.options.mode);\n    }\n\n    const isAdvanced = this._mode === this.constructor.MODES.ADVANCED;\n    const tab = this.constructor.TABS.find(t => t.tab === this.options.tab);\n    if ( !tab || (!!tab.advanced !== isAdvanced) ) this.options.tab = isAdvanced ? \"actors\" : \"classes\";\n    this._applyTabFilters(this.options.tab);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static DEFAULT_OPTIONS = {\n    id: \"compendium-browser-{id}\",\n    classes: [\"dnd5e2\", \"compendium-browser\", \"vertical-tabs\"],\n    tag: \"form\",\n    window: {\n      title: \"DND5E.CompendiumBrowser.Title\",\n      minimizable: true,\n      resizable: true\n    },\n    actions: {\n      clearName: CompendiumBrowser.#onClearName,\n      openLink: CompendiumBrowser.#onOpenLink,\n      setFilter: CompendiumBrowser.#onSetFilter,\n      setType: CompendiumBrowser.#onSetType,\n      toggleCollapse: CompendiumBrowser.#onToggleCollapse,\n      toggleMode: CompendiumBrowser.#onToggleMode\n    },\n    form: {\n      handler: CompendiumBrowser.#onHandleSubmit,\n      closeOnSubmit: true\n    },\n    position: {\n      width: 850,\n      height: 700\n    },\n    filters: {\n      locked: {},\n      initial: {\n        documentClass: \"Item\",\n        types: new Set([\"class\"])\n      }\n    },\n    selection: {\n      min: null,\n      max: null\n    },\n    tab: \"classes\"\n  };\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static PARTS = {\n    header: {\n      id: \"header\",\n      classes: [\"header\"],\n      template: \"systems/dnd5e/templates/compendium/browser-header.hbs\"\n    },\n    search: {\n      id: \"sidebar-search\",\n      classes: [\"sidebar-part\", \"filter-element\"],\n      template: \"systems/dnd5e/templates/compendium/browser-sidebar-search.hbs\"\n    },\n    types: {\n      id: \"sidebar-types\",\n      classes: [\"sidebar-part\"],\n      template: \"systems/dnd5e/templates/compendium/browser-sidebar-types.hbs\"\n    },\n    filters: {\n      id: \"sidebar-filters\",\n      classes: [\"sidebar-part\"],\n      template: \"systems/dnd5e/templates/compendium/browser-sidebar-filters.hbs\"\n    },\n    results: {\n      id: \"results\",\n      classes: [\"results\"],\n      template: \"systems/dnd5e/templates/compendium/browser-results.hbs\",\n      templates: [\"systems/dnd5e/templates/compendium/browser-entry.hbs\"],\n      scrollable: [\"\"]\n    },\n    footer: {\n      id: \"footer\",\n      classes: [\"footer\"],\n      template: \"systems/dnd5e/templates/compendium/browser-footer.hbs\"\n    },\n    tabs: {\n      id: \"tabs\",\n      classes: [\"tabs\", \"tabs-left\"],\n      template: \"systems/dnd5e/templates/compendium/browser-tabs.hbs\"\n    }\n  };\n\n  /* -------------------------------------------- */\n\n  /**\n   * @typedef {SheetTabDescriptor5e} CompendiumBrowserTabDescriptor5e\n   * @property {string} documentClass  The class of Documents this tab contains.\n   * @property {string[]} [types]      The sub-types of Documents this tab contains, otherwise all types of the Document\n   *                                   class are assumed.\n   * @property {boolean} [advanced]    Is this tab only available in the advanced browsing mode.\n   */\n\n  /**\n   * Application tabs.\n   * @type {CompendiumBrowserTabDescriptor5e[]}\n   */\n  static TABS = [\n    {\n      tab: \"classes\",\n      label: \"TYPES.Item.classPl\",\n      svg: \"systems/dnd5e/icons/svg/items/class.svg\",\n      documentClass: \"Item\",\n      types: [\"class\"]\n    },\n    {\n      tab: \"subclasses\",\n      label: \"TYPES.Item.subclassPl\",\n      svg: \"systems/dnd5e/icons/svg/items/subclass.svg\",\n      documentClass: \"Item\",\n      types: [\"subclass\"]\n    },\n    {\n      tab: \"races\",\n      label: \"TYPES.Item.racePl\",\n      svg: \"systems/dnd5e/icons/svg/items/race.svg\",\n      documentClass: \"Item\",\n      types: [\"race\"]\n    },\n    {\n      tab: \"feats\",\n      label: \"DND5E.CompendiumBrowser.Tabs.Feat.other\",\n      icon: \"fas fa-star\",\n      documentClass: \"Item\",\n      types: [\"feat\"]\n    },\n    {\n      tab: \"backgrounds\",\n      label: \"TYPES.Item.backgroundPl\",\n      svg: \"systems/dnd5e/icons/svg/items/background.svg\",\n      documentClass: \"Item\",\n      types: [\"background\"]\n    },\n    {\n      tab: \"physical\",\n      label: \"DND5E.CompendiumBrowser.Tabs.Item.other\",\n      svg: \"systems/dnd5e/icons/svg/backpack.svg\",\n      documentClass: \"Item\",\n      types: [\"physical\"]\n    },\n    {\n      tab: \"spells\",\n      label: \"TYPES.Item.spellPl\",\n      icon: \"fas fa-book\",\n      documentClass: \"Item\",\n      types: [\"spell\"]\n    },\n    {\n      tab: \"monsters\",\n      label: \"DND5E.CompendiumBrowser.Tabs.Monster.other\",\n      svg: \"systems/dnd5e/icons/svg/monster.svg\",\n      documentClass: \"Actor\",\n      types: [\"npc\"]\n    },\n    {\n      tab: \"vehicles\",\n      label: \"TYPES.Actor.vehiclePl\",\n      svg: \"systems/dnd5e/icons/svg/vehicle.svg\",\n      documentClass: \"Actor\",\n      types: [\"vehicle\"]\n    },\n    {\n      tab: \"actors\",\n      label: \"DOCUMENT.Actors\",\n      svg: \"systems/dnd5e/icons/svg/monster.svg\",\n      documentClass: \"Actor\",\n      advanced: true\n    },\n    {\n      tab: \"items\",\n      label: \"DOCUMENT.Items\",\n      svg: \"systems/dnd5e/icons/svg/backpack.svg\",\n      documentClass: \"Item\",\n      advanced: true\n    }\n  ];\n\n  /* -------------------------------------------- */\n\n  /**\n   * Available filtering modes.\n   * @enum {number}\n   */\n  static MODES = {\n    BASIC: 1,\n    ADVANCED: 2\n  };\n\n  /* -------------------------------------------- */\n\n  /**\n   * Batching configuration.\n   * @type {Record<string, number>}\n   */\n  static BATCHING = {\n    /**\n     * The number of pixels before reaching the end of the scroll container to begin loading additional entries.\n     */\n    MARGIN: 50,\n\n    /**\n     * The number of entries to load per batch.\n     */\n    SIZE: 50\n  };\n\n  /* -------------------------------------------- */\n\n  /**\n   * The number of milliseconds to delay between user keypresses before executing a search.\n   * @type {number}\n   */\n  static SEARCH_DELAY = 200;\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * Should the selection controls be displayed?\n   * @type {boolean}\n   */\n  get displaySelection() {\n    return !!this.options.selection.min || !!this.options.selection.max;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Currently defined filters.\n   */\n  #filters;\n\n  /**\n   * Current filters selected.\n   * @type {CompendiumBrowserFilters}\n   */\n  get currentFilters() {\n    const filters = foundry.utils.mergeObject(\n      this.#filters,\n      this.options.filters.locked,\n      { inplace: false }\n    );\n    filters.documentClass ??= \"Item\";\n    return filters;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Fetched results.\n   * @type {Promise<object[]|Document[]>|object[]|Document[]}\n   */\n  #results;\n\n  /* -------------------------------------------- */\n\n  /**\n   * The index of the next result to render as part of batching.\n   * @type {number}\n   */\n  #resultIndex = -1;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Whether rendering is currently throttled.\n   * @type {boolean}\n   */\n  #renderThrottle = false;\n\n  /* -------------------------------------------- */\n\n  /**\n   * UUIDs of currently selected documents.\n   * @type {Set<string>}\n   */\n  #selected = new Set();\n\n  get selected() {\n    return this.#selected;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Suffix used for localization selection messages based on min and max values.\n   * @type {string|null}\n   */\n  get #selectionLocalizationSuffix() {\n    const max = this.options.selection.max;\n    const min = this.options.selection.min;\n    if ( !min && !max ) return null;\n    if ( !min && max ) return \"Max\";\n    if ( min && !max ) return \"Min\";\n    if ( min !== max ) return \"Range\";\n    return \"Single\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The mode the browser is currently in.\n   * @type {CompendiumBrowser.MODES}\n   */\n  _mode = this.constructor.MODES.BASIC;\n\n  /* -------------------------------------------- */\n\n  /**\n   * The function to invoke when searching results by name.\n   * @type {Function}\n   */\n  _debouncedSearch = foundry.utils.debounce(this._onSearchName.bind(this), this.constructor.SEARCH_DELAY);\n\n  /* -------------------------------------------- */\n  /*  Rendering                                   */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _configureRenderOptions(options) {\n    super._configureRenderOptions(options);\n    if ( options.isFirstRender ) {\n      const tab = this.constructor.TABS.find(t => t.tab === this.options.tab);\n      if ( tab ) foundry.utils.setProperty(options, \"dnd5e.browser.types\", tab.types);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  _onFirstRender(context, options) {\n    const sidebar = document.createElement(\"div\");\n    sidebar.classList.add(\"sidebar\", \"flexcol\");\n    sidebar.replaceChildren(...this.element.querySelectorAll(\".sidebar-part\"));\n    this.element.querySelector(\".window-content\").insertAdjacentElement(\"afterbegin\", sidebar);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _prepareContext(options) {\n    const context = await super._prepareContext(options);\n    context.filters = this.currentFilters;\n\n    let dataModels = Object.entries(CONFIG[context.filters.documentClass].dataModels);\n    if ( context.filters.types?.size ) dataModels = dataModels.filter(([type]) => context.filters.types.has(type));\n    context.filterDefinitions = dataModels\n      .map(([, d]) => d.compendiumBrowserFilters ?? new Map())\n      .reduce((first, second) => {\n        if ( !first ) return second;\n        return CompendiumBrowser.intersectFilters(first, second);\n      }, null) ?? new Map();\n\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _preparePartContext(partId, context, options) {\n    await super._preparePartContext(partId, context, options);\n    switch ( partId ) {\n      case \"documentClass\":\n      case \"types\":\n      case \"filters\": return this._prepareSidebarContext(partId, context, options);\n      case \"results\": return this._prepareResultsContext(context, options);\n      case \"footer\": return this._prepareFooterContext(context, options);\n      case \"tabs\": return this._prepareTabsContext(context, options);\n      case \"header\": return this._prepareHeaderContext(context, options);\n    }\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare the footer context.\n   * @param {ApplicationRenderContext} context     Shared context provided by _prepareContext.\n   * @param {HandlebarsRenderOptions} options      Options which configure application rendering behavior.\n   * @returns {Promise<ApplicationRenderContext>}  Context data for a specific part.\n   * @protected\n   */\n  async _prepareFooterContext(context, options) {\n    const value = this.#selected.size;\n    const { max, min } = this.options.selection;\n\n    context.displaySelection = this.displaySelection;\n    context.invalid = (value < (min || -Infinity)) || (value > (max || Infinity)) ? \"invalid\" : \"\";\n    const suffix = this.#selectionLocalizationSuffix;\n    context.summary = suffix ? game.i18n.format(\n      `DND5E.CompendiumBrowser.Selection.Summary.${suffix}`, { max, min, value }\n    ) : value;\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare the header context.\n   * @param {ApplicationRenderContext} context  Shared context provided by _prepareContext.\n   * @param {HandlebarsRenderOptions} options   Options which configure rendering behavior.\n   * @returns {Promise<ApplicationRenderContext>}\n   * @protected\n   */\n  async _prepareHeaderContext(context, options) {\n    context.showModeToggle = foundry.utils.isEmpty(this.options.filters.locked);\n    context.isAdvanced = this._mode === this.constructor.MODES.ADVANCED;\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare the sidebar context.\n   * @param {string} partId                        The part being rendered.\n   * @param {ApplicationRenderContext} context     Shared context provided by _prepareContext.\n   * @param {HandlebarsRenderOptions} options      Options which configure application rendering behavior.\n   * @returns {Promise<ApplicationRenderContext>}  Context data for a specific part.\n   * @protected\n   */\n  async _prepareSidebarContext(partId, context, options) {\n    context.isLocked = {};\n    context.isLocked.filters = (\"additional\" in this.options.filters.locked);\n    context.isLocked.types = (\"types\" in this.options.filters.locked) || context.isLocked.filters;\n    context.isLocked.documentClass = (\"documentClass\" in this.options.filters.locked) || context.isLocked.types;\n    const types = foundry.utils.getProperty(options, \"dnd5e.browser.types\") ?? [];\n\n    if ( partId === \"types\" ) {\n      context.showTypes = (types.length !== 1) || (types[0] === \"physical\");\n      context.types = CONFIG[context.filters.documentClass].documentClass.compendiumBrowserTypes({\n        chosen: context.filters.types\n      });\n\n      // Special case handling for 'Items' tab in basic mode.\n      if ( types[0] === \"physical\" ) context.types = context.types.physical.children;\n\n      if ( context.isLocked.types ) {\n        for ( const [key, value] of Object.entries(context.types) ) {\n          if ( !value.children && !value.chosen ) delete context.types[key];\n          else if ( value.children ) {\n            for ( const [k, v] of Object.entries(value.children) ) {\n              if ( !v.chosen ) delete value.children[k];\n            }\n            if ( foundry.utils.isEmpty(value.children) ) delete context.types[key];\n          }\n        }\n      }\n    }\n\n    else if ( partId === \"filters\" ) {\n      context.additional = Array.from(context.filterDefinitions?.entries() ?? []).reduce((arr, [key, data]) => {\n        // Special case handling for 'Feats' tab in basic mode.\n        if ( (types[0] === \"feat\") && ((key === \"category\") || (key === \"subtype\")) ) return arr;\n\n        let sort = 0;\n        switch ( data.type ) {\n          case \"boolean\": sort = 1; break;\n          case \"range\": sort = 2; break;\n          case \"set\": sort = 3; break;\n        }\n\n        arr.push(foundry.utils.mergeObject(data, {\n          key, sort,\n          value: context.filters.additional?.[key],\n          locked: this.options.filters.locked?.additional?.[key]\n        }, { inplace: false }));\n        return arr;\n      }, []);\n\n      context.additional.sort((a, b) => a.sort - b.sort);\n    }\n\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare the results context.\n   * @param {ApplicationRenderContext} context     Shared context provided by _prepareContext.\n   * @param {HandlebarsRenderOptions} options      Options which configure application rendering behavior.\n   * @returns {Promise<ApplicationRenderContext>}  Context data for a specific part.\n   * @protected\n   */\n  async _prepareResultsContext(context, options) {\n    // TODO: Determine if new set of results need to be fetched, otherwise use old results and re-sort as necessary\n    // Sorting changes alone shouldn't require a re-fetch, but any change to filters will\n    const filters = CompendiumBrowser.applyFilters(context.filterDefinitions, context.filters.additional);\n    // Add the name filter\n    if ( this.#filters.name?.length ) filters.push({ k: \"name\", o: \"icontains\", v: this.#filters.name });\n    this.#results = CompendiumBrowser.fetch(CONFIG[context.filters.documentClass].documentClass, {\n      filters,\n      types: context.filters.types\n    });\n    context.displaySelection = this.displaySelection;\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare the tabs context.\n   * @param {ApplicationRenderContext} context  Shared context provided by _prepareContext.\n   * @param {HandlebarsRenderOptions} options   Options which configure application rendering behavior.\n   * @returns {Promise<ApplicationRenderContext>}\n   * @protected\n   */\n  async _prepareTabsContext(context, options) {\n    // If we are locked to a particular filter, do not show tabs.\n    if ( !foundry.utils.isEmpty(this.options.filters.locked) ) {\n      context.tabs = [];\n      return context;\n    }\n\n    const advanced = this._mode === this.constructor.MODES.ADVANCED;\n    context.tabs = foundry.utils.deepClone(this.constructor.TABS.filter(t => !!t.advanced === advanced));\n    const tab = options.isFirstRender ? this.options.tab : this.tabGroups.primary;\n    const activeTab = context.tabs.find(t => t.tab === tab) ?? context.tabs[0];\n    activeTab.active = true;\n\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Render a single result entry.\n   * @param {object|Document} entry  The entry.\n   * @param {string} documentClass   The entry's Document class.\n   * @returns {Promise<HTMLElement>}\n   * @protected\n   */\n  async _renderResult(entry, documentClass) {\n    const { img, name, type, uuid } = entry;\n    // TODO: Provide more useful subtitles.\n    const subtitle = CONFIG[documentClass].typeLabels[type] ?? \"\";\n    const context = {\n      entry: { img, name, subtitle, uuid },\n      displaySelection: this.displaySelection,\n      selected: this.#selected.has(uuid)\n    };\n    const html = await renderTemplate(\"systems/dnd5e/templates/compendium/browser-entry.hbs\", context);\n    const template = document.createElement(\"template\");\n    template.innerHTML = html;\n    const element = template.content.firstElementChild;\n    if ( documentClass !== \"Item\" ) return element;\n    element.dataset.tooltip = `\n      <section class=\"loading\" data-uuid=\"${uuid}\">\n        <i class=\"fa-solid fa-spinner fa-spin-pulse\" inert></i>\n      </section>\n    `;\n    element.dataset.tooltipClass = \"dnd5e2 dnd5e-tooltip item-tooltip\";\n    element.dataset.tooltipDirection ??= \"RIGHT\";\n    return element;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Render results once loaded to avoid holding up initial app display.\n   * @protected\n   */\n  async _renderResults() {\n    let rendered = [];\n    const { documentClass } = this.currentFilters;\n    const results = await this.#results;\n    this.#results = results;\n    const batchEnd = Math.min(this.constructor.BATCHING.SIZE, results.length);\n    for ( let i = 0; i < batchEnd; i++ ) {\n      rendered.push(this._renderResult(results[i], documentClass));\n    }\n    this.element.querySelector(\".results-loading\").hidden = true;\n    this.element.querySelector('[data-application-part=\"results\"] .item-list')\n      .replaceChildren(...(await Promise.all(rendered)));\n    this.#resultIndex = batchEnd;\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Listeners and Handlers                */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  changeTab(tab, group, options={}) {\n    super.changeTab(tab, group, options);\n    const target = this.element.querySelector(`nav.tabs [data-group=\"${group}\"][data-tab=\"${tab}\"]`);\n    let { types } = target.dataset;\n    types = types ? types.split(\",\") : [];\n    this._applyTabFilters(tab);\n    this.render({ parts: [\"results\", \"filters\", \"types\"], dnd5e: { browser: { types } } });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _attachFrameListeners() {\n    super._attachFrameListeners();\n    this.element.addEventListener(\"scroll\", this._onScrollResults.bind(this), { capture: true, passive: true });\n    this.element.addEventListener(\"dragstart\", this._onDragStart.bind(this));\n    this.element.addEventListener(\"keydown\", this._debouncedSearch, { passive: true });\n    this.element.addEventListener(\"keydown\", this._onKeyAction.bind(this), { passive: true });\n    this.element.addEventListener(\"pointerdown\", event => {\n      if ( (event.button === 1) && document.getElementById(\"tooltip\")?.classList.contains(\"active\") ) {\n        event.preventDefault();\n      }\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _attachPartListeners(partId, htmlElement, options) {\n    super._attachPartListeners(partId, htmlElement, options);\n    if ( partId === \"results\" ) this._renderResults();\n    else if ( partId === \"types\" ) this.#adjustCheckboxStates(htmlElement);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Apply filters based on the compendium browser's mode.\n   * @param {CompendiumBrowser.MODES} mode  The mode.\n   * @protected\n   */\n  _applyModeFilters(mode) {\n    const isAdvanced = mode === this.constructor.MODES.ADVANCED;\n    delete this.#filters.types;\n    delete this.#filters.additional;\n    if ( isAdvanced ) this.#filters.documentClass = \"Actor\";\n    else {\n      this.#filters.documentClass = \"Item\";\n      this.#filters.types = new Set([\"class\"]);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Apply filters based on the selected tab.\n   * @param {string} id  The tab ID.\n   * @protected\n   */\n  _applyTabFilters(id) {\n    const tab = this.constructor.TABS.find(t => t.tab === id);\n    if ( !tab ) return;\n    const { documentClass, types } = tab;\n    delete this.#filters.additional;\n    this.#filters.documentClass = documentClass;\n    this.#filters.types = new Set(types);\n\n    // Special case handling for 'Items' tab in basic mode.\n    if ( id === \"physical\" ) {\n      const physical = Item.implementation.compendiumBrowserTypes().physical.children;\n      Object.keys(physical).forEach(this.#filters.types.add, this.#filters.types);\n    }\n\n    // Special case handling for 'Feats' tab in basic mode.\n    if ( id === \"feats\" ) this.#filters.additional = { category: { feat: 1 } };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Adjust the states of group checkboxes to make then indeterminate if only some of their children are selected.\n   * @param {HTMLElement} htmlElement  Element within which to find groups.\n   */\n  #adjustCheckboxStates(htmlElement) {\n    for ( const groupArea of htmlElement.querySelectorAll(\".type-group\") ) {\n      const group = groupArea.querySelector(\".type-group-header dnd5e-checkbox\");\n      const children = groupArea.querySelectorAll(\".wrapper dnd5e-checkbox\");\n      if ( Array.from(children).every(e => e.checked) ) {\n        group.checked = true;\n        group.indeterminate = false;\n      } else {\n        group.checked = group.indeterminate = Array.from(children).some(e => e.checked);\n      }\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  _onChangeForm(formConfig, event) {\n    if ( event.target.name === \"selected\" ) {\n      if ( event.target.checked ) this.#selected.add(event.target.value);\n      else this.#selected.delete(event.target.value);\n      event.target.closest(\".item\").classList.toggle(\"selected\", event.target.checked);\n      this.render({ parts: [\"footer\"] });\n    }\n    if ( event.target.name?.startsWith(\"additional.\") ) CompendiumBrowser.#onSetFilter.call(this, event, event.target);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle dragging an entry.\n   * @param {DragEvent} event  The drag event.\n   * @protected\n   */\n  _onDragStart(event) {\n    const { uuid } = event.target.closest(\"[data-uuid]\")?.dataset ?? {};\n    try {\n      const { type } = foundry.utils.parseUuid(uuid);\n      event.dataTransfer.setData(\"text/plain\", JSON.stringify({ type, uuid }));\n    } catch(e) {\n      console.error(e);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle triggering an action via keyboard.\n   * @param {KeyboardEvent} event  The originating event.\n   * @protected\n   */\n  _onKeyAction(event) {\n    const target = event.target.closest(\"[data-action]\");\n    if ( (event.key !== \" \") || !target ) return;\n    const { action } = target.dataset;\n    const handler = this.options.actions[action];\n    if ( handler ) handler.call(this, event, target);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle rendering a new batch of results when the user scrolls to the bottom of the list.\n   * @param {Event} event  The originating scroll event.\n   * @protected\n   */\n  async _onScrollResults(event) {\n    if ( this.#renderThrottle || !event.target.matches('[data-application-part=\"results\"]') ) return;\n    if ( (this.#results instanceof Promise) || (this.#resultIndex >= this.#results.length) ) return;\n    const { scrollTop, scrollHeight, clientHeight } = event.target;\n    if ( scrollTop + clientHeight < scrollHeight - this.constructor.BATCHING.MARGIN ) return;\n    this.#renderThrottle = true;\n    const { documentClass } = this.currentFilters;\n    const rendered = [];\n    const batchStart = this.#resultIndex;\n    const batchEnd = Math.min(batchStart + this.constructor.BATCHING.SIZE, this.#results.length);\n    for ( let i = batchStart; i < batchEnd; i++ ) {\n      rendered.push(this._renderResult(this.#results[i], documentClass));\n    }\n    this.element.querySelector('[data-application-part=\"results\"] .item-list').append(...(await Promise.all(rendered)));\n    this.#resultIndex = batchEnd;\n    this.#renderThrottle = false;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle searching for a Document by name.\n   * @param {KeyboardEvent} event  The triggering event.\n   * @protected\n   */\n  _onSearchName(event) {\n    if ( !event.target.matches(\"search > input\") ) return;\n    this.#filters.name = event.target.value;\n    this.render({ parts: [\"results\"] });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle clearing the name filter.\n   * @this {CompendiumBrowser}\n   * @param {PointerEvent} event  The originating click event.\n   * @param {HTMLElement} target  The target of the click event.\n   */\n  static async #onClearName(event, target) {\n    const input = target.closest(\"search\").querySelector(\":scope > input\");\n    input.value = this.#filters.name = \"\";\n    this.render({ parts: [\"results\"] });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle form submission with selection.\n   * @param {SubmitEvent} event          The form submission event.\n   * @param {HTMLFormElement} form       The submitted form element.\n   * @param {FormDataExtended} formData  The data from the submitted form.\n   */\n  static async #onHandleSubmit(event, form, formData) {\n    if ( !this.displaySelection ) return;\n\n    const value = this.#selected.size;\n    const { max, min } = this.options.selection;\n    if ( (value < (min || -Infinity)) || (value > (max || Infinity)) ) {\n      const suffix = this.#selectionLocalizationSuffix;\n      const pr = new Intl.PluralRules(game.i18n.lang);\n      throw new Error(game.i18n.format(`DND5E.CompendiumBrowser.Selection.Warning.${suffix}`, {\n        max, min, value,\n        document: game.i18n.localize(`DND5E.CompendiumBrowser.Selection.Warning.Document.${pr.select(max || min)}`)\n      }));\n    }\n\n    /**\n     * Hook event that calls when a compendium browser is submitted with selected items.\n     * @function dnd5e.compendiumBrowserSelection\n     * @memberof hookEvents\n     * @param {CompendiumBrowser} browser  Compendium Browser application being submitted.\n     * @param {Set<string>} selected       Set of document UUIDs that are selected.\n     */\n    Hooks.callAll(\"dnd5e.compendiumBrowserSelection\", this, this.#selected);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle opening a link to an item.\n   * @this {CompendiumBrowser}\n   * @param {PointerEvent} event  The originating click event.\n   * @param {HTMLElement} target  The capturing HTML element which defined a [data-action].\n   */\n  static async #onOpenLink(event, target) {\n    (await fromUuid(target.closest(\"[data-uuid]\")?.dataset.uuid))?.sheet?.render(true);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle setting the document class or a filter.\n   * @this {CompendiumBrowser}\n   * @param {PointerEvent} event  The originating click event.\n   * @param {HTMLElement} target  The capturing HTML element which defined a [data-action].\n   */\n  static async #onSetFilter(event, target) {\n    const name = target.name;\n    const value = target.value;\n    const existingValue = foundry.utils.getProperty(this.#filters, name);\n    if ( value === existingValue ) return;\n    foundry.utils.setProperty(this.#filters, name, value === \"\" ? undefined : value);\n\n    if ( target.tagName === \"BUTTON\" ) for ( const button of this.element.querySelectorAll(`[name=\"${name}\"]`) ) {\n      button.ariaPressed = button.value === value;\n    }\n\n    this.render({ parts: [\"results\"] });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle setting a type restriction.\n   * @this {CompendiumBrowser}\n   * @param {PointerEvent} event  The originating click event.\n   * @param {HTMLElement} target  The capturing HTML element which defined a [data-action].\n   */\n  static async #onSetType(event, target) {\n    this.#filters.types ??= new Set();\n\n    if ( target.defaultValue ) {\n      if ( target.checked ) this.#filters.types.add(target.defaultValue);\n      else this.#filters.types.delete(target.defaultValue);\n      this.#adjustCheckboxStates(target.closest(\".sidebar\"));\n    }\n\n    else {\n      target.indeterminate = false;\n      for ( const child of target.closest(\".type-group\").querySelectorAll(\"dnd5e-checkbox[value]\") ) {\n        child.checked = target.checked;\n        if ( target.checked ) this.#filters.types.add(child.defaultValue);\n        else this.#filters.types.delete(child.defaultValue);\n      }\n    }\n\n    this.render({ parts: [\"filters\", \"results\"] });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle toggling the collapsed state of a collapsible section.\n   * @this {CompendiumBrowser}\n   * @param {PointerEvent} event  The originating click event.\n   * @param {HTMLElement} target  The capturing HTML element which defined a [data-action].\n   */\n  static async #onToggleCollapse(event, target) {\n    target.closest(\".collapsible\")?.classList.toggle(\"collapsed\");\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle toggling the compendium browser mode.\n   * @this {CompendiumBrowser}\n   * @param {PointerEvent} event  The originating click event.\n   * @param {HTMLElement} target  The element that was clicked.\n   */\n  static #onToggleMode(event, target) {\n    // TODO: Consider persisting this choice in a client setting.\n    this._mode = target.checked ? this.constructor.MODES.ADVANCED : this.constructor.MODES.BASIC;\n    const tabs = foundry.utils.deepClone(this.constructor.TABS.filter(t => !!t.advanced === target.checked));\n    const activeTab = tabs.find(t => t.tab === this.tabGroups.primary) ?? tabs[0];\n    const types = target.checked ? [] : (activeTab?.types ?? [\"class\"]);\n    this._applyModeFilters(this._mode);\n    this._applyTabFilters(activeTab?.tab);\n    this.render({ parts: [\"results\", \"filters\", \"types\", \"tabs\"], dnd5e: { browser: { types } } });\n  }\n\n  /* -------------------------------------------- */\n  /*  Database Access                             */\n  /* -------------------------------------------- */\n\n  /**\n   * Retrieve a listing of documents from all compendiums for a specific Document type, with additional filters\n   * optionally applied.\n   * @param {typeof Document} documentClass  Document type to fetch (e.g. Actor or Item).\n   * @param {object} [options={}]\n   * @param {Set<string>} [options.types]    Individual document subtypes to filter upon (e.g. \"loot\", \"class\", \"npc\").\n   * @param {FilterDescription[]} [options.filters]  Filters to provide further filters.\n   * @param {boolean} [options.index=true]   Should only the index for each document be returned, or the whole thing?\n   * @param {Set<string>} [options.indexFields]  Key paths for fields to index.\n   * @param {boolean|string|Function} [options.sort=true]  Should the contents be sorted? By default sorting will be\n   *                                         performed using document names, but a key path can be provided to sort on\n   *                                         a specific property or a function to provide more advanced sorting.\n   * @returns {object[]|Document[]}\n   */\n  static async fetch(documentClass, { types=new Set(), filters=[], index=true, indexFields=new Set(), sort=true }={}) {\n    // Nothing within containers should be shown\n    filters.push({ k: \"system.container\", o: \"in\", v: [null, undefined] });\n\n    // If filters are provided, merge their keys with any other fields needing to be indexed\n    if ( filters.length ) indexFields = indexFields.union(Filter.uniqueKeys(filters));\n\n    // Iterate over all packs\n    let documents = game.packs\n\n      // Skip packs that have the wrong document class\n      .filter(p => (p.metadata.type === documentClass.metadata.name)\n\n        // Do not show entries inside compendia that are not visible to the current user.\n        && p.visible\n\n        // TODO: Filter packs by additional system setting\n\n        // If types are set and specified in compendium flag, only include those that include the correct types\n        && (!types.size || !p.metadata.flags.dnd5e?.types || new Set(p.metadata.flags.dnd5e.types).intersects(types)))\n\n      // Generate an index based on the needed fields\n      .map(async p => await Promise.all((await p.getIndex({ fields: Array.from(indexFields) })\n\n        // Apply module art to the new index\n        .then(index => game.dnd5e.moduleArt.apply(index)))\n\n        // Remove any documents that don't match the specified types or the provided filters\n        .filter(i => (!types.size || types.has(i.type)) && (!filters.length || Filter.performCheck(i, filters)))\n\n        // If full documents are required, retrieve those, otherwise stick with the indices\n        .map(async i => index ? i : await fromUuid(i.uuid))\n      ));\n\n    // Wait for everything to finish loading and flatten the arrays\n    documents = (await Promise.all(documents)).flat();\n\n    if ( sort ) {\n      if ( sort === true ) sort = \"name\";\n      const sortFunc = foundry.utils.getType(sort) === \"function\" ? sort : (lhs, rhs) => {\n        return String(foundry.utils.getProperty(lhs, sort)).localeCompare(String(foundry.utils.getProperty(rhs, sort)));\n      };\n      documents.sort(sortFunc);\n    }\n\n    return documents;\n  }\n\n  /* -------------------------------------------- */\n  /*  Factory Methods                             */\n  /* -------------------------------------------- */\n\n  /**\n   * Factory method used to spawn a compendium browser and wait for the results of a selection.\n   * @param {Partial<CompendiumBrowserConfiguration>} [options]\n   * @returns {Promise<Set<string>|null>}\n   */\n  static async select(options={}) {\n    return new Promise((resolve, reject) => {\n      const browser = new CompendiumBrowser(options);\n      browser.addEventListener(\"close\", event => {\n        resolve(browser.selected?.size ? browser.selected : null);\n      }, { once: true });\n      browser.render({ force: true });\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Factory method used to spawn a compendium browser and return a single selected item or null if canceled.\n   * @param {Partial<CompendiumBrowserConfiguration>} [options]\n   * @returns {Promise<string|null>}\n   */\n  static async selectOne(options={}) {\n    const result = await this.select(\n      foundry.utils.mergeObject(options, { selection: { min: 1, max: 1 } }, { inplace: false })\n    );\n    return result?.size ? result.first() : null;\n  }\n\n  /* -------------------------------------------- */\n  /*  Helpers                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Transform filter definition and additional filters values into the final filters to apply.\n   * @param {CompendiumBrowserFilterDefinition} definition  Filter definition provided by type.\n   * @param {object} values                                 Values of currently selected filters.\n   * @returns {FilterDescription[]}\n   */\n  static applyFilters(definition, values) {\n    const filters = [];\n    for ( const [key, value] of Object.entries(values ?? {}) ) {\n      const def = definition.get(key);\n      if ( !def ) continue;\n      if ( foundry.utils.getType(def.createFilter) === \"function\" ) {\n        def.createFilter(filters, value, def);\n        continue;\n      }\n      switch ( def.type ) {\n        case \"boolean\":\n          if ( value ) filters.push({ k: def.config.keyPath, v: value === 1 });\n          break;\n        case \"range\":\n          const min = Number(value.min);\n          const max = Number(value.max);\n          if ( Number.isFinite(min) ) filters.push({ k: def.config.keyPath, o: \"gte\", v: min });\n          if ( Number.isFinite(max) ) filters.push({ k: def.config.keyPath, o: \"lte\", v: max });\n          break;\n        case \"set\":\n          const choices = foundry.utils.deepClone(def.config.choices);\n          if ( def.config.blank ) choices._blank = \"\";\n          const [positive, negative] = Object.entries(value ?? {}).reduce(([positive, negative], [k, v]) => {\n            if ( k in choices ) {\n              if ( k === \"_blank\" ) k = \"\";\n              if ( v === 1 ) positive.push(k);\n              else if ( v === -1 ) negative.push(k);\n            }\n            return [positive, negative];\n          }, [[], []]);\n          if ( positive.length ) filters.push(\n            { k: def.config.keyPath, o: def.config.multiple ? \"hasall\" : \"in\", v: positive }\n          );\n          if ( negative.length ) filters.push(\n            { o: \"NOT\", v: { k: def.config.keyPath, o: def.config.multiple ? \"hasany\" : \"in\", v: negative } }\n          );\n          break;\n        default:\n          console.warn(`Filter type ${def.type} not handled.`);\n          break;\n      }\n    }\n    return filters;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Inject the compendium browser button into the compendium sidebar.\n   * @param {HTMLElement} html  HTML of the sidebar being rendered.\n   */\n  static injectSidebarButton(html) {\n    if ( game.release.generation < 12 ) return;\n    const button = document.createElement(\"button\");\n    button.type = \"button\";\n    button.classList.add(\"open-compendium-browser\");\n    button.innerHTML = `\n      <i class=\"fa-solid fa-book-open-reader\" inert></i>\n      ${game.i18n.localize(\"DND5E.CompendiumBrowser.Action.Open\")}\n    `;\n    button.addEventListener(\"click\", event => (new CompendiumBrowser()).render({ force: true }));\n\n    const headerActions = html.querySelector(\".header-actions\");\n    headerActions.append(button);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Take two filter sets and find only the filters that match between the two.\n   * @param {CompendiumBrowserFilterDefinition} first\n   * @param {CompendiumBrowserFilterDefinition>} second\n   * @returns {CompendiumBrowserFilterDefinition}\n   */\n  static intersectFilters(first, second) {\n    const final = new Map();\n\n    // Iterate over all keys in first map\n    for ( const [key, firstConfig] of first.entries() ) {\n      const secondConfig = second.get(key);\n      if ( firstConfig.type !== secondConfig?.type ) continue;\n      const finalConfig = foundry.utils.deepClone(firstConfig);\n\n      switch ( firstConfig.type ) {\n        case \"range\":\n          if ( (\"min\" in firstConfig.config) || (\"min\" in secondConfig.config) ) {\n            if ( !(\"min\" in firstConfig.config) || !(\"min\" in secondConfig.config) ) continue;\n            finalConfig.config.min = Math.max(firstConfig.config.min, secondConfig.config.min);\n          }\n          if ( (\"max\" in firstConfig.config) || (\"max\" in secondConfig.config) ) {\n            if ( !(\"max\" in firstConfig.config) || !(\"max\" in secondConfig.config) ) continue;\n            finalConfig.config.max = Math.min(firstConfig.config.max, secondConfig.config.max);\n          }\n          if ( (\"min\" in finalConfig.config) && (\"max\" in finalConfig.config)\n            && (finalConfig.config.min > finalConfig.config.max) ) continue;\n          break;\n        case \"set\":\n          Object.keys(finalConfig.config.choices).forEach(k => {\n            if ( !(k in secondConfig.config.choices) ) delete finalConfig.config.choices[k];\n          });\n          if ( foundry.utils.isEmpty(finalConfig.config.choices) ) continue;\n          break;\n      }\n\n      final.set(key, finalConfig);\n    }\n    return final;\n  }\n}\n","/**\n * Configuration information for a token placement operation.\n *\n * @typedef {object} TokenPlacementConfiguration\n * @property {PrototypeToken[]} tokens  Prototype token information for rendering.\n */\n\n/**\n * Data for token placement on the scene.\n *\n * @typedef {object} PlacementData\n * @property {PrototypeToken} prototypeToken\n * @property {object} index\n * @property {number} index.total             Index of the placement across all placements.\n * @property {number} index.unique            Index of the placement across placements with the same original token.\n * @property {number} x\n * @property {number} y\n * @property {number} rotation\n */\n\n/**\n * Class responsible for placing one or more tokens onto the scene.\n * @param {TokenPlacementConfiguration} config  Configuration information for placement.\n */\nexport default class TokenPlacement {\n  constructor(config) {\n    this.config = config;\n  }\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * Configuration information for the placements.\n   * @type {TokenPlacementConfiguration}\n   */\n  config;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Index of the token configuration currently being placed in the scene.\n   * @param {number}\n   */\n  #currentPlacement = -1;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Track the bound event handlers so they can be properly canceled later.\n   * @type {object}\n   */\n  #events;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Track the timestamp when the last mouse move event was captured.\n   * @type {number}\n   */\n  #moveTime = 0;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Placements that have been generated.\n   * @type {PlacementData[]}\n   */\n  #placements;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Preview tokens. Should match 1-to-1 with placements.\n   * @type {Token[]}\n   */\n  #previews;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Is the system currently being throttled to the next animation frame?\n   * @type {boolean}\n   */\n  #throttle = false;\n\n  /* -------------------------------------------- */\n  /*  Placement                                   */\n  /* -------------------------------------------- */\n\n  /**\n   * Perform the placement, asking player guidance when necessary.\n   * @param {TokenPlacementConfiguration} config\n   * @returns {Promise<PlacementData[]>}\n   */\n  static place(config) {\n    const placement = new this(config);\n    return placement.place();\n  }\n\n  /**\n   * Perform the placement, asking player guidance when necessary.\n   * @returns {Promise<PlacementData[]>}\n   */\n  async place() {\n    this.#createPreviews();\n    try {\n      const placements = [];\n      let total = 0;\n      const uniqueTokens = new Map();\n      while ( this.#currentPlacement < this.config.tokens.length - 1 ) {\n        this.#currentPlacement++;\n        const obj = canvas.tokens.preview.addChild(this.#previews[this.#currentPlacement].object);\n        await obj.draw();\n        obj.eventMode = \"none\";\n        const placement = await this.#requestPlacement();\n        if ( placement ) {\n          const actorId = placement.prototypeToken.parent.id;\n          uniqueTokens.set(actorId, (uniqueTokens.get(actorId) ?? -1) + 1);\n          placement.index = { total: total++, unique: uniqueTokens.get(actorId) };\n          placements.push(placement);\n        } else obj.clear();\n      }\n      return placements;\n    } finally {\n      this.#destroyPreviews();\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create token previews based on the prototype tokens in config.\n   */\n  #createPreviews() {\n    this.#placements = [];\n    this.#previews = [];\n    for ( const prototypeToken of this.config.tokens ) {\n      const tokenData = prototypeToken.toObject();\n      tokenData.sight.enabled = false;\n      tokenData._id = foundry.utils.randomID();\n      if ( tokenData.randomImg ) tokenData.texture.src = prototypeToken.actor.img;\n      const cls = getDocumentClass(\"Token\");\n      const doc = new cls(tokenData, { parent: canvas.scene });\n      this.#placements.push({ prototypeToken, x: 0, y: 0, rotation: tokenData.rotation ?? 0 });\n      this.#previews.push(doc);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Clear any previews from the scene.\n   */\n  #destroyPreviews() {\n    this.#previews.forEach(p => p.object.destroy());\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Pixel offset to ensure snapping occurs in middle of grid space.\n   * @param {PrototypeToken} token  Token for which to calculate the adjustment.\n   * @returns {{x: number, y: number}}\n   */\n  #getSnapAdjustment(token) {\n    const size = canvas.dimensions.size;\n    switch ( canvas.grid.type ) {\n      case CONST.GRID_TYPES.SQUARE:\n        return {\n          x: token.width % 2 === 0 ? Math.round(size * 0.5) : 0,\n          y: token.height % 2 === 0 ? Math.round(size * 0.5) : 0\n        };\n      default:\n        return { x: 0, y: 0 };\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Handlers                              */\n  /* -------------------------------------------- */\n\n  /**\n   * Activate listeners for the placement preview.\n   * @returns {Promise<PlacementData|false>}  A promise that resolves with the final placement if created,\n   *                                          or false if the placement was skipped.\n   */\n  #requestPlacement() {\n    return new Promise((resolve, reject) => {\n      this.#events = {\n        confirm: this.#onConfirmPlacement.bind(this),\n        move: this.#onMovePlacement.bind(this),\n        resolve,\n        reject,\n        rotate: this.#onRotatePlacement.bind(this),\n        skip: this.#onSkipPlacement.bind(this)\n      };\n\n      // Activate listeners\n      canvas.stage.on(\"mousemove\", this.#events.move);\n      canvas.stage.on(\"mousedown\", this.#events.confirm);\n      canvas.app.view.oncontextmenu = this.#events.skip;\n      canvas.app.view.onwheel = this.#events.rotate;\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Shared code for when token placement ends by being confirmed or canceled.\n   * @param {Event} event  Triggering event that ended the placement.\n   */\n  async #finishPlacement(event) {\n    canvas.stage.off(\"mousemove\", this.#events.move);\n    canvas.stage.off(\"mousedown\", this.#events.confirm);\n    canvas.app.view.oncontextmenu = null;\n    canvas.app.view.onwheel = null;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Move the token preview when the mouse moves.\n   * @param {Event} event  Triggering mouse event.\n   */\n  #onMovePlacement(event) {\n    event.stopPropagation();\n    if ( this.#throttle ) return;\n    this.#throttle = true;\n    const idx = this.#currentPlacement;\n    const preview = this.#previews[idx];\n    const adjustment = this.#getSnapAdjustment(preview);\n    const point = event.data.getLocalPosition(canvas.tokens);\n    const center = canvas.grid.getCenter(point.x - adjustment.x, point.y - adjustment.y);\n    preview.updateSource({\n      x: center[0] + adjustment.x - Math.round((this.config.tokens[idx].width * canvas.dimensions.size) / 2),\n      y: center[1] + adjustment.y - Math.round((this.config.tokens[idx].height * canvas.dimensions.size) / 2)\n    });\n    this.#placements[idx].x = preview.x;\n    this.#placements[idx].y = preview.y;\n    canvas.tokens.preview.children[this.#currentPlacement]?.refresh();\n    requestAnimationFrame(() => this.#throttle = false);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Rotate the token preview by 3 increments when the mouse wheel is rotated.\n   * @param {Event} event  Triggering mouse event.\n   */\n  #onRotatePlacement(event) {\n    if ( event.ctrlKey ) event.preventDefault(); // Avoid zooming the browser window\n    event.stopPropagation();\n    const delta = canvas.grid.type > CONST.GRID_TYPES.SQUARE ? 30 : 15;\n    const snap = event.shiftKey ? delta : 5;\n    const preview = this.#previews[this.#currentPlacement];\n    this.#placements[this.#currentPlacement].rotation += snap * Math.sign(event.deltaY);\n    preview.updateSource({ rotation: this.#placements[this.#currentPlacement].rotation });\n    canvas.tokens.preview.children[this.#currentPlacement]?.refresh();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Confirm placement when the left mouse button is clicked.\n   * @param {Event} event  Triggering mouse event.\n   */\n  async #onConfirmPlacement(event) {\n    await this.#finishPlacement(event);\n    this.#events.resolve(this.#placements[this.#currentPlacement]);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Skip placement when the right mouse button is clicked.\n   * @param {Event} event  Triggering mouse event.\n   */\n  async #onSkipPlacement(event) {\n    await this.#finishPlacement(event);\n    this.#events.resolve(false);\n  }\n\n  /* -------------------------------------------- */\n  /*  Helpers                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Adjust the appended number on an unlinked token to account for multiple placements.\n   * @param {TokenDocument|object} tokenDocument  Document or data object to adjust.\n   * @param {PlacementData} placement             Placement data associated with this token document.\n   */\n  static adjustAppendedNumber(tokenDocument, placement) {\n    const regex = new RegExp(/\\((\\d+)\\)$/);\n    const match = tokenDocument.name?.match(regex);\n    if ( !match ) return;\n    const name = tokenDocument.name.replace(regex, `(${Number(match[1]) + placement.index.unique})`);\n    if ( tokenDocument instanceof TokenDocument ) tokenDocument.updateSource({ name });\n    else tokenDocument.name = name;\n  }\n}\n","/**\n * A standardized helper function for simplifying the constant parts of a multipart roll formula.\n *\n * @param {string} formula                          The original roll formula.\n * @param {object} [options]                        Formatting options.\n * @param {boolean} [options.preserveFlavor=false]  Preserve flavor text in the simplified formula.\n * @param {boolean} [options.deterministic]         Strip any non-deterministic terms from the result.\n *\n * @returns {string}  The resulting simplified formula.\n */\nexport default function simplifyRollFormula(formula, { preserveFlavor=false, deterministic=false } = {}) {\n  // Create a new roll and verify that the formula is valid before attempting simplification.\n  let roll;\n  try { roll = new Roll(formula); }\n  catch(err) { console.warn(`Unable to simplify formula '${formula}': ${err}`); }\n  Roll.validate(roll.formula);\n\n  // Optionally strip flavor annotations.\n  if ( !preserveFlavor ) roll.terms = Roll.parse(roll.formula.replace(RollTerm.FLAVOR_REGEXP, \"\"));\n\n  if ( deterministic ) {\n    // Perform arithmetic simplification to simplify parsing through the terms.\n    roll.terms = _simplifyOperatorTerms(roll.terms);\n\n    // Remove non-deterministic terms, their preceding operators, and dependent operators/terms.\n    const terms = [];\n    let temp = [];\n    let multiplicative = false;\n    let determ;\n\n    for ( let i = roll.terms.length - 1; i >= 0; ) {\n      let paren;\n      let term = roll.terms[i];\n      if ( term instanceof ParentheticalTerm ) {\n        paren = simplifyRollFormula(term.term, { preserveFlavor, deterministic });\n      }\n      if ( Number.isNumeric(paren) ) {\n        const termData = { number: paren };\n        if ( preserveFlavor ) termData.options = { flavor: term.flavor };\n        term = new NumericTerm(termData);\n      }\n      determ = term.isDeterministic && (!multiplicative || determ);\n      if ( determ ) temp.unshift(term);\n      else temp = [];\n      term = roll.terms[--i];\n      while ( term instanceof OperatorTerm ) {\n        if ( determ ) temp.unshift(term);\n        if ( (term.operator === \"*\") || (term.operator === \"/\") || (term.operator === \"%\") ) multiplicative = true;\n        else {\n          multiplicative = false;\n          while ( temp.length ) terms.unshift(temp.pop());\n        }\n        term = roll.terms[--i];\n      }\n    }\n    if ( determ ) {\n      while ( temp.length ) terms.unshift(temp.pop());\n    }\n    roll.terms = terms;\n  }\n\n  // Perform arithmetic simplification on the existing roll terms.\n  roll.terms = _simplifyOperatorTerms(roll.terms);\n\n  // If the formula contains multiplication or division we cannot easily simplify\n  if ( /[*/]/.test(roll.formula) ) {\n    if ( roll.isDeterministic && !/d\\(/.test(roll.formula) && (!/\\[/.test(roll.formula) || !preserveFlavor) ) {\n      return String(game.release.generation < 12 ? Roll.safeEval(roll.formula) : roll.evaluateSync().total);\n    }\n    else return roll.constructor.getFormula(roll.terms);\n  }\n\n  // Flatten the roll formula and eliminate string terms.\n  roll.terms = _expandParentheticalTerms(roll.terms);\n  roll.terms = Roll.simplifyTerms(roll.terms);\n\n  // Group terms by type and perform simplifications on various types of roll term.\n  let { poolTerms, diceTerms, mathTerms, numericTerms } = _groupTermsByType(roll.terms);\n  numericTerms = _simplifyNumericTerms(numericTerms ?? []);\n  diceTerms = _simplifyDiceTerms(diceTerms ?? []);\n\n  // Recombine the terms into a single term array and remove an initial + operator if present.\n  const simplifiedTerms = [diceTerms, poolTerms, mathTerms, numericTerms].flat().filter(Boolean);\n  if ( simplifiedTerms[0]?.operator === \"+\" ) simplifiedTerms.shift();\n  return roll.constructor.getFormula(simplifiedTerms);\n}\n\n/* -------------------------------------------- */\n\n/**\n * A helper function to perform arithmetic simplification and remove redundant operator terms.\n * @param {RollTerm[]} terms  An array of roll terms.\n * @returns {RollTerm[]}      A new array of roll terms with redundant operators removed.\n */\nfunction _simplifyOperatorTerms(terms) {\n  return terms.reduce((acc, term) => {\n    const prior = acc[acc.length - 1];\n    const ops = new Set([prior?.operator, term.operator]);\n\n    // If one of the terms is not an operator, add the current term as is.\n    if ( ops.has(undefined) ) acc.push(term);\n\n    // Replace consecutive \"+ -\" operators with a \"-\" operator.\n    else if ( (ops.has(\"+\")) && (ops.has(\"-\")) ) acc.splice(-1, 1, new OperatorTerm({ operator: \"-\" }));\n\n    // Replace double \"-\" operators with a \"+\" operator.\n    else if ( (ops.has(\"-\")) && (ops.size === 1) ) acc.splice(-1, 1, new OperatorTerm({ operator: \"+\" }));\n\n    // Don't include \"+\" operators that directly follow \"+\", \"*\", or \"/\". Otherwise, add the term as is.\n    else if ( !ops.has(\"+\") ) acc.push(term);\n\n    return acc;\n  }, []);\n}\n\n/* -------------------------------------------- */\n\n/**\n * A helper function for combining unannotated numeric terms in an array into a single numeric term.\n * @param {object[]} terms  An array of roll terms.\n * @returns {object[]}      A new array of terms with unannotated numeric terms combined into one.\n */\nfunction _simplifyNumericTerms(terms) {\n  const simplified = [];\n  const { annotated, unannotated } = _separateAnnotatedTerms(terms);\n\n  // Combine the unannotated numerical bonuses into a single new NumericTerm.\n  if ( unannotated.length ) {\n    const staticBonus = Roll.safeEval(Roll.getFormula(unannotated));\n    if ( staticBonus === 0 ) return [...annotated];\n\n    // If the staticBonus is greater than 0, add a \"+\" operator so the formula remains valid.\n    if ( staticBonus > 0 ) simplified.push(new OperatorTerm({ operator: \"+\"}));\n    simplified.push(new NumericTerm({ number: staticBonus} ));\n  }\n  return [...simplified, ...annotated];\n}\n\n/* -------------------------------------------- */\n\n/**\n * A helper function to group dice of the same size and sign into single dice terms.\n * @param {object[]} terms  An array of DiceTerms and associated OperatorTerms.\n * @returns {object[]}      A new array of simplified dice terms.\n */\nfunction _simplifyDiceTerms(terms) {\n  const { annotated, unannotated } = _separateAnnotatedTerms(terms);\n\n  // Split the unannotated terms into different die sizes and signs\n  const diceQuantities = unannotated.reduce((obj, curr, i) => {\n    if ( curr instanceof OperatorTerm ) return obj;\n    const isCoin = curr.constructor?.name === \"Coin\";\n    const face = isCoin ? \"c\" : curr.faces;\n    const modifiers = isCoin ? \"\" : curr.modifiers.filterJoin(\"\");\n    const key = `${unannotated[i - 1].operator}${face}${modifiers}`;\n    obj[key] ??= {};\n    obj[key].number = (obj[key].number ?? 0) + curr.number;\n    if ( !isCoin ) obj[key].modifiers = (obj[key].modifiers ?? []).concat(curr.modifiers);\n    return obj;\n  }, {});\n\n  // Add new die and operator terms to simplified for each die size and sign\n  const simplified = Object.entries(diceQuantities).flatMap(([key, {number, modifiers}]) => ([\n    new OperatorTerm({ operator: key.charAt(0) }),\n    key.slice(1) === \"c\"\n      ? new Coin({ number: number })\n      : new Die({ number, faces: parseInt(key.slice(1)), modifiers: [...new Set(modifiers)] })\n  ]));\n  return [...simplified, ...annotated];\n}\n\n/* -------------------------------------------- */\n\n/**\n * A helper function to extract the contents of parenthetical terms into their own terms.\n * @param {object[]} terms  An array of roll terms.\n * @returns {object[]}      A new array of terms with no parenthetical terms.\n */\nfunction _expandParentheticalTerms(terms) {\n  terms = terms.reduce((acc, term) => {\n    if ( term instanceof ParentheticalTerm ) {\n      if ( term.isDeterministic ) {\n        let number;\n        if ( game.release.generation < 12 ) number = Roll.safeEval(term.term);\n        else {\n          const roll = new Roll(term.term);\n          number = roll.evaluateSync().total;\n        }\n        term = new NumericTerm({ number });\n      } else {\n        const subterms = new Roll(term.term).terms;\n        term = _expandParentheticalTerms(subterms);\n      }\n    }\n    acc.push(term);\n    return acc;\n  }, []);\n  return _simplifyOperatorTerms(terms.flat());\n}\n\n/* -------------------------------------------- */\n\n/**\n * A helper function to group terms into PoolTerms, DiceTerms, MathTerms, and NumericTerms.\n * MathTerms are included as NumericTerms if they are deterministic.\n * @param {RollTerm[]} terms  An array of roll terms.\n * @returns {object}          An object mapping term types to arrays containing roll terms of that type.\n */\nfunction _groupTermsByType(terms) {\n  // Add an initial operator so that terms can be rearranged arbitrarily.\n  if ( !(terms[0] instanceof OperatorTerm) ) terms.unshift(new OperatorTerm({ operator: \"+\" }));\n\n  return terms.reduce((obj, term, i) => {\n    let type;\n    if ( term instanceof DiceTerm ) type = DiceTerm;\n    else if ( (term instanceof MathTerm) && (term.isDeterministic) ) type = NumericTerm;\n    else type = term.constructor;\n    const key = `${type.name.charAt(0).toLowerCase()}${type.name.substring(1)}s`;\n\n    // Push the term and the preceding OperatorTerm.\n    (obj[key] = obj[key] ?? []).push(terms[i - 1], term);\n    return obj;\n  }, {});\n}\n\n/* -------------------------------------------- */\n\n/**\n * A helper function to separate annotated terms from unannotated terms.\n * @param {object[]} terms     An array of DiceTerms and associated OperatorTerms.\n * @returns {Array | Array[]}  A pair of term arrays, one containing annotated terms.\n */\nfunction _separateAnnotatedTerms(terms) {\n  return terms.reduce((obj, curr, i) => {\n    if ( curr instanceof OperatorTerm ) return obj;\n    obj[curr.flavor ? \"annotated\" : \"unannotated\"].push(terms[i - 1], curr);\n    return obj;\n  }, { annotated: [], unannotated: [] });\n}\n","import CompendiumBrowser from \"../../../applications/compendium-browser.mjs\";\nimport TokenPlacement from \"../../../canvas/token-placement.mjs\";\nimport simplifyRollFormula from \"../../../dice/simplify-roll-formula.mjs\";\nimport { formatCR, simplifyBonus, staticID } from \"../../../utils.mjs\";\nimport { FormulaField, IdentifierField } from \"../../fields.mjs\";\n\nconst {\n  ArrayField, BooleanField, DocumentIdField, EmbeddedDataField, NumberField, SchemaField, SetField, StringField\n} = foundry.data.fields;\n\n/**\n * A field for storing summons data.\n *\n * @param {object} [options={}]  Options to configure this field's behavior.\n */\nexport default class SummonsField extends EmbeddedDataField {\n  constructor(options={}) {\n    super(SummonsData, foundry.utils.mergeObject({ required: false, nullable: true, initial: null }, options));\n  }\n}\n\n/**\n * Information for a single summoned creature.\n *\n * @typedef {object} SummonsProfile\n * @property {string} _id         Unique ID for this profile.\n * @property {string} count       Formula for the number of creatures to summon.\n * @property {string} cr          Formula for the CR of summoned creatures if in CR mode.\n * @property {object} level\n * @property {number} level.min   Minimum level at which this profile can be used.\n * @property {number} level.max   Maximum level at which this profile can be used.\n * @property {string} name        Display name for this profile if it differs from actor's name.\n * @property {Set<string>} types  Types of summoned creatures if in CR mode.\n * @property {string} uuid        UUID of the actor to summon if in default mode.\n */\n\n/**\n * Data model for summons configuration.\n *\n * @property {object} bonuses\n * @property {string} bonuses.ac            Formula for armor class bonus on summoned actor.\n * @property {string} bonuses.hd            Formula for bonus hit dice to add to each summoned NPC.\n * @property {string} bonuses.hp            Formula for bonus hit points to add to each summoned actor.\n * @property {string} bonuses.attackDamage  Formula for bonus added to damage for attacks.\n * @property {string} bonuses.saveDamage    Formula for bonus added to damage for saving throws.\n * @property {string} bonuses.healing       Formula for bonus added to healing.\n * @property {string} classIdentifier       Class identifier that will be used to determine applicable level.\n * @property {Set<string>} creatureSizes    Set of creature sizes that will be set on summoned creature.\n * @property {Set<string>} creatureTypes    Set of creature types that will be set on summoned creature.\n * @property {object} match\n * @property {boolean} match.attacks        Match the to hit values on summoned actor's attack to the summoner.\n * @property {boolean} match.proficiency    Match proficiency on summoned actor to the summoner.\n * @property {boolean} match.saves          Match the save DC on summoned actor's abilities to the summoner.\n * @property {\"\"|\"cr\"} mode                 Method of determining what type of creature is summoned.\n * @property {SummonsProfile[]} profiles    Information on creatures that can be summoned.\n * @property {boolean} prompt               Should the player be prompted to place the summons?\n */\nexport class SummonsData extends foundry.abstract.DataModel {\n  /** @inheritdoc */\n  static defineSchema() {\n    return {\n      bonuses: new SchemaField({\n        ac: new FormulaField({\n          label: \"DND5E.Summoning.Bonuses.ArmorClass.Label\", hint: \"DND5E.Summoning.Bonuses.ArmorClass.hint\"\n        }),\n        hd: new FormulaField({\n          label: \"DND5E.Summoning.Bonuses.HitDice.Label\", hint: \"DND5E.Summoning.Bonuses.HitDice.hint\"\n        }),\n        hp: new FormulaField({\n          label: \"DND5E.Summoning.Bonuses.HitPoints.Label\", hint: \"DND5E.Summoning.Bonuses.HitPoints.hint\"\n        }),\n        attackDamage: new FormulaField({\n          label: \"DND5E.Summoning.Bonuses.Attack.Label\", hint: \"DND5E.Summoning.Bonuses.Attack.Hint\"\n        }),\n        saveDamage: new FormulaField({\n          label: \"DND5E.Summoning.Bonuses.Saves.Label\", hint: \"DND5E.Summoning.Bonuses.Saves.Hint\"\n        }),\n        healing: new FormulaField({\n          label: \"DND5E.Summoning.Bonuses.Healing.Label\", hint: \"DND5E.Summoning.Bonuses.Healing.Hint\"\n        })\n      }),\n      classIdentifier: new IdentifierField(),\n      creatureSizes: new SetField(new StringField(), {\n        label: \"DND5E.Summoning.CreatureSizes.Label\", hint: \"DND5E.Summoning.CreatureSizes.Hint\"\n      }),\n      creatureTypes: new SetField(new StringField(), {\n        label: \"DND5E.Summoning.CreatureTypes.Label\", hint: \"DND5E.Summoning.CreatureTypes.Hint\"\n      }),\n      match: new SchemaField({\n        attacks: new BooleanField({\n          label: \"DND5E.Summoning.Match.Attacks.Label\", hint: \"DND5E.Summoning.Match.Attacks.Hint\"\n        }),\n        proficiency: new BooleanField({\n          label: \"DND5E.Summoning.Match.Proficiency.Label\", hint: \"DND5E.Summoning.Match.Proficiency.Hint\"\n        }),\n        saves: new BooleanField({\n          label: \"DND5E.Summoning.Match.Saves.Label\", hint: \"DND5E.Summoning.Match.Saves.Hint\"\n        })\n      }),\n      mode: new StringField({label: \"DND5E.Summoning.Mode.Label\", hint: \"DND5E.Summoning.Mode.Hint\"}),\n      profiles: new ArrayField(new SchemaField({\n        _id: new DocumentIdField({initial: () => foundry.utils.randomID()}),\n        count: new FormulaField(),\n        cr: new FormulaField({deterministic: true}),\n        level: new SchemaField({\n          min: new NumberField({integer: true, min: 0}),\n          max: new NumberField({integer: true, min: 0})\n        }),\n        name: new StringField(),\n        types: new SetField(new StringField()),\n        uuid: new StringField()\n      })),\n      prompt: new BooleanField({\n        initial: true, label: \"DND5E.Summoning.Prompt.Label\", hint: \"DND5E.Summoning.Prompt.Hint\"\n      })\n    };\n  }\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * Does the user have permissions to summon?\n   * @type {boolean}\n   */\n  static get canSummon() {\n    return game.user.can(\"TOKEN_CREATE\") && (game.user.isGM || game.settings.get(\"dnd5e\", \"allowSummoning\"));\n  }\n\n  get canSummon() {\n    return this.constructor.canSummon;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Item to which this summoning information belongs.\n   * @type {Item5e}\n   */\n  get item() {\n    return this.parent.parent;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Determine the level used to determine profile limits, based on the spell level for spells or either the\n   * character or class level, depending on whether `classIdentifier` is set.\n   * @type {number}\n   */\n  get relevantLevel() {\n    const keyPath = this.item.type === \"spell\"\n      ? \"item.level\"\n      : this.classIdentifier\n        ? `classes.${this.classIdentifier}.levels`\n        : \"details.level\";\n    return foundry.utils.getProperty(this.item.getRollData(), keyPath) ?? 0;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Creatures summoned by this item.\n   * @type {Actor5e[]}\n   */\n  get summonedCreatures() {\n    if ( !this.item.actor ) return [];\n    return SummonsData.summonedCreatures(this.item.actor)\n      .filter(i => i?.getFlag(\"dnd5e\", \"summon.origin\") === this.item.uuid);\n  }\n\n  /* -------------------------------------------- */\n  /*  Summoning                                   */\n  /* -------------------------------------------- */\n\n  /**\n   * Additional options that might modify summoning behavior.\n   *\n   * @typedef {object} SummoningOptions\n   * @property {string} creatureSize  Selected creature size if multiple are available.\n   * @property {string} creatureType  Selected creature type if multiple are available.\n   */\n\n  /**\n   * Process for summoning actor to the scene.\n   * @param {string} profileId     ID of the summoning profile to use.\n   * @param {object} [options={}]  Additional summoning options.\n   */\n  async summon(profileId, options={}) {\n    if ( !this.canSummon || !canvas.scene ) return;\n    if ( (game.release.generation < 12) && (this.mode === \"cr\") ) return;\n\n    const profile = this.profiles.find(p => p._id === profileId);\n    if ( !profile ) {\n      throw new Error(game.i18n.format(\"DND5E.Summoning.Warning.NoProfile\", { profileId, item: this.item.name }));\n    }\n\n    /**\n     * A hook event that fires before summoning is performed.\n     * @function dnd5e.preSummon\n     * @memberof hookEvents\n     * @param {Item5e} item               The item that is performing the summoning.\n     * @param {SummonsProfile} profile    Profile used for summoning.\n     * @param {SummoningOptions} options  Additional summoning options.\n     * @returns {boolean}                 Explicitly return `false` to prevent summoning.\n     */\n    if ( Hooks.call(\"dnd5e.preSummon\", this.item, profile, options) === false ) return;\n\n    // Fetch the actor that will be summoned\n    const summonUuid = this.mode === \"cr\" ? await this.queryActor(profile) : profile.uuid;\n    if ( !summonUuid ) return;\n    const actor = await this.fetchActor(summonUuid);\n\n    // Verify ownership of actor\n    if ( !actor.isOwner ) {\n      throw new Error(game.i18n.format(\"DND5E.Summoning.Warning.NoOwnership\", { actor: actor.name }));\n    }\n\n    const tokensData = [];\n    const minimized = !this.item.parent?.sheet._minimized;\n    await this.item.parent?.sheet.minimize();\n    try {\n      // Figure out where to place the summons\n      const placements = await this.getPlacement(actor.prototypeToken, profile, options);\n\n      for ( const placement of placements ) {\n        // Prepare changes to actor data, re-calculating per-token for potentially random values\n        const tokenUpdateData = {\n          actor,\n          placement,\n          ...(await this.getChanges(actor, profile, options))\n        };\n\n        /**\n         * A hook event that fires before a specific token is summoned. After placement has been determined but before\n         * the final token data is constructed.\n         * @function dnd5e.preSummonToken\n         * @memberof hookEvents\n         * @param {Item5e} item               The item that is performing the summoning.\n         * @param {SummonsProfile} profile    Profile used for summoning.\n         * @param {TokenUpdateData} config    Configuration for creating a modified token.\n         * @param {SummoningOptions} options  Additional summoning options.\n         * @returns {boolean}                 Explicitly return `false` to prevent this token from being summoned.\n         */\n        if ( Hooks.call(\"dnd5e.preSummonToken\", this.item, profile, tokenUpdateData, options) === false ) continue;\n\n        // Create a token document and apply updates\n        const tokenData = await this.getTokenData(tokenUpdateData);\n\n        /**\n         * A hook event that fires after token creation data is prepared, but before summoning occurs.\n         * @function dnd5e.summonToken\n         * @memberof hookEvents\n         * @param {Item5e} item               The item that is performing the summoning.\n         * @param {SummonsProfile} profile    Profile used for summoning.\n         * @param {object} tokenData          Data for creating a token.\n         * @param {SummoningOptions} options  Additional summoning options.\n         */\n        Hooks.callAll(\"dnd5e.summonToken\", this.item, profile, tokenData, options);\n\n        tokensData.push(tokenData);\n      }\n    } finally {\n      if ( minimized ) this.item.parent?.sheet.maximize();\n    }\n\n    const createdTokens = await canvas.scene.createEmbeddedDocuments(\"Token\", tokensData);\n\n    /**\n     * A hook event that fires when summoning is complete.\n     * @function dnd5e.postSummon\n     * @memberof hookEvents\n     * @param {Item5e} item               The item that is performing the summoning.\n     * @param {SummonsProfile} profile    Profile used for summoning.\n     * @param {Token5e[]} tokens          Tokens that have been created.\n     * @param {SummoningOptions} options  Additional summoning options.\n     */\n    Hooks.callAll(\"dnd5e.postSummon\", this.item, profile, createdTokens, options);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * If actor to be summoned is in a compendium, create a local copy or use an already imported version if present.\n   * @param {string} uuid  UUID of actor that will be summoned.\n   * @returns {Actor5e}    Local copy of actor.\n   */\n  async fetchActor(uuid) {\n    const actor = await fromUuid(uuid);\n    if ( !actor ) throw new Error(game.i18n.format(\"DND5E.Summoning.Warning.NoActor\", { uuid }));\n\n    const actorLink = actor.prototypeToken.actorLink;\n    if ( !actor.pack && (!actorLink || actor.getFlag(\"dnd5e\", \"summon.origin\") === this.item.uuid )) return actor;\n\n    // Search world actors to see if any usable summoned actor instances are present from prior summonings.\n    // Linked actors must match the summoning origin (item) to be considered.\n    const localActor = game.actors.find(a =>\n      // Has been cloned for summoning use\n      a.getFlag(\"dnd5e\", \"summonedCopy\")\n      // Sourced from the desired actor UUID\n      && (a.getFlag(\"core\", \"sourceId\") === uuid)\n      // Unlinked or created from this item specifically\n      && ((a.getFlag(\"dnd5e\", \"summon.origin\") === this.item.uuid) || !a.prototypeToken.actorLink)\n    );\n    if ( localActor ) return localActor;\n\n    // Check permissions to create actors before importing\n    if ( !game.user.can(\"ACTOR_CREATE\") ) throw new Error(game.i18n.localize(\"DND5E.Summoning.Warning.CreateActor\"));\n\n    // No suitable world actor was found, create a new actor for this summoning instance.\n    if ( actor.pack ) {\n      // Template actor resides only in compendium, import the actor into the world and set the flag.\n      return game.actors.importFromCompendium(game.packs.get(actor.pack), actor.id, {\n        \"flags.dnd5e.summonedCopy\": true\n      });\n    } else {\n      // Template actor (linked) found in world, create a copy for this user's item.\n      return actor.clone({\n        \"flags.dnd5e.summonedCopy\": true,\n        \"flags.core.sourceId\": actor.uuid,\n        \"_stats.compendiumSource\": actor.uuid\n      }, {save: true});\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Request a specific actor to summon from the player.\n   * @param {SummonsProfile} profile  Profile used for summoning.\n   * @returns {Promise<string|null>}  UUID of the concrete actor to summon or `null` if canceled.\n   */\n  async queryActor(profile) {\n    const locked = {\n      documentClass: \"Actor\",\n      types: new Set([\"npc\"]),\n      additional: {\n        cr: { max: simplifyBonus(profile.cr, this.item.getRollData({ deterministic: true })) }\n      }\n    };\n    if ( profile.types.size ) locked.additional.type = Array.from(profile.types).reduce((obj, type) => {\n      obj[type] = 1;\n      return obj;\n    }, {});\n    return CompendiumBrowser.selectOne({ filters: { locked } });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare the updates to apply to the summoned actor and its token.\n   * @param {Actor5e} actor             Actor that will be modified.\n   * @param {SummonsProfile} profile    Summoning profile used to summon the actor.\n   * @param {SummoningOptions} options  Additional summoning options.\n   * @returns {Promise<{actorChanges: object, tokenChanges: object}>}  Changes that will be applied to the actor,\n   *                                                                   its items, and its token.\n   */\n  async getChanges(actor, profile, options) {\n    const actorUpdates = { effects: [], items: [] };\n    const tokenUpdates = {};\n    const rollData = { ...this.item.getRollData(), summon: actor.getRollData() };\n    const prof = rollData.attributes?.prof ?? 0;\n\n    // Add flags\n    actorUpdates[\"flags.dnd5e.summon\"] = {\n      level: this.relevantLevel,\n      mod: rollData.mod,\n      origin: this.item.uuid,\n      profile: profile._id\n    };\n\n    // Match proficiency\n    if ( this.match.proficiency ) {\n      const proficiencyEffect = new ActiveEffect({\n        _id: staticID(\"dnd5eMatchProficiency\"),\n        changes: [{\n          key: \"system.attributes.prof\",\n          mode: CONST.ACTIVE_EFFECT_MODES.OVERRIDE,\n          value: prof\n        }],\n        disabled: false,\n        icon: \"icons/skills/targeting/crosshair-bars-yellow.webp\",\n        name: game.i18n.localize(\"DND5E.Summoning.Match.Proficiency.Label\")\n      });\n      actorUpdates.effects.push(proficiencyEffect.toObject());\n    }\n\n    // Add bonus to AC\n    if ( this.bonuses.ac ) {\n      const acBonus = new Roll(this.bonuses.ac, rollData);\n      await acBonus.evaluate();\n      if ( acBonus.total ) {\n        if ( actor.system.attributes.ac.calc === \"flat\" ) {\n          actorUpdates[\"system.attributes.ac.flat\"] = (actor.system.attributes.ac.flat ?? 0) + acBonus.total;\n        } else {\n          actorUpdates.effects.push((new ActiveEffect({\n            _id: staticID(\"dnd5eACBonus\"),\n            changes: [{\n              key: \"system.attributes.ac.bonus\",\n              mode: CONST.ACTIVE_EFFECT_MODES.ADD,\n              value: acBonus.total\n            }],\n            disabled: false,\n            icon: \"icons/magic/defensive/shield-barrier-blue.webp\",\n            name: game.i18n.localize(\"DND5E.Summoning.Bonuses.ArmorClass.Label\")\n          })).toObject());\n        }\n      }\n    }\n\n    // Add bonus to HD\n    if ( this.bonuses.hd && (actor.type === \"npc\") ) {\n      const hdBonus = new Roll(this.bonuses.hd, rollData);\n      await hdBonus.evaluate();\n      if ( hdBonus.total ) {\n        actorUpdates.effects.push((new ActiveEffect({\n          _id: staticID(\"dnd5eHDBonus\"),\n          changes: [{\n            key: \"system.attributes.hd.max\",\n            mode: CONST.ACTIVE_EFFECT_MODES.ADD,\n            value: hdBonus.total\n          }],\n          disabled: false,\n          icon: \"icons/sundries/gaming/dice-runed-brown.webp\",\n          name: game.i18n.localize(\"DND5E.Summoning.Bonuses.HitDice.Label\")\n        })).toObject());\n      }\n    }\n\n    // Add bonus to HP\n    if ( this.bonuses.hp ) {\n      const hpBonus = new Roll(this.bonuses.hp, rollData);\n      await hpBonus.evaluate();\n\n      // If non-zero hp bonus, apply as needed for this actor.\n      // Note: Only unlinked actors will have their current HP set to their new max HP\n      if ( hpBonus.total ) {\n\n        // Helper function for modifying max HP ('bonuses.overall' or 'max')\n        const maxHpEffect = hpField => {\n          return (new ActiveEffect({\n            _id: staticID(\"dnd5eHPBonus\"),\n            changes: [{\n              key: `system.attributes.hp.${hpField}`,\n              mode: CONST.ACTIVE_EFFECT_MODES.ADD,\n              value: hpBonus.total\n            }],\n            disabled: false,\n            icon: \"icons/magic/life/heart-glowing-red.webp\",\n            name: game.i18n.localize(\"DND5E.Summoning.Bonuses.HitPoints.Label\")\n          })).toObject();\n        };\n\n        if ( !foundry.utils.isEmpty(actor.classes) && !actor._source.system.attributes.hp.max ) {\n          // Actor has classes without a hard-coded max -- apply bonuses to 'overall'\n          actorUpdates.effects.push(maxHpEffect(\"bonuses.overall\"));\n        } else if ( actor.prototypeToken.actorLink ) {\n          // Otherwise, linked actors boost HP via 'max' AE\n          actorUpdates.effects.push(maxHpEffect(\"max\"));\n        } else {\n          // Unlinked actors assumed to always be \"fresh\" copies with bonus HP added to both\n          // Max HP and Current HP\n          actorUpdates[\"system.attributes.hp.max\"] = actor.system.attributes.hp.max + hpBonus.total;\n          actorUpdates[\"system.attributes.hp.value\"] = actor.system.attributes.hp.value + hpBonus.total;\n        }\n      }\n    }\n\n    // Change creature size\n    if ( this.creatureSizes.size ) {\n      const size = this.creatureSizes.has(options.creatureSize) ? options.creatureSize : this.creatureSizes.first();\n      const config = CONFIG.DND5E.actorSizes[size];\n      if ( config ) {\n        actorUpdates[\"system.traits.size\"] = size;\n        tokenUpdates.width = config.token ?? 1;\n        tokenUpdates.height = config.token ?? 1;\n      }\n    }\n\n    // Change creature type\n    if ( this.creatureTypes.size ) {\n      const type = this.creatureTypes.has(options.creatureType) ? options.creatureType : this.creatureTypes.first();\n      if ( actor.system.details?.race instanceof Item ) {\n        actorUpdates.items.push({ _id: actor.system.details.race.id, \"system.type.value\": type });\n      } else {\n        actorUpdates[\"system.details.type.value\"] = type;\n      }\n    }\n\n    const attackDamageBonus = Roll.replaceFormulaData(this.bonuses.attackDamage, rollData);\n    const saveDamageBonus = Roll.replaceFormulaData(this.bonuses.saveDamage, rollData);\n    const healingBonus = Roll.replaceFormulaData(this.bonuses.healing, rollData);\n    for ( const item of actor.items ) {\n      const changes = [];\n\n      // Match attacks\n      if ( this.match.attacks && item.hasAttack ) {\n        const ability = this.item.abilityMod ?? rollData.attributes?.spellcasting;\n        const typeMapping = { mwak: \"msak\", rwak: \"rsak\" };\n        const parts = [\n          rollData.abilities?.[ability]?.mod,\n          prof,\n          rollData.bonuses?.[typeMapping[item.system.actionType] ?? item.system.actionType]?.attack\n        ].filter(p => p);\n        changes.push({\n          key: \"system.attack.bonus\",\n          mode: CONST.ACTIVE_EFFECT_MODES.OVERRIDE,\n          value: parts.join(\" + \")\n        }, {\n          key: \"system.attack.flat\",\n          mode: CONST.ACTIVE_EFFECT_MODES.OVERRIDE,\n          value: true\n        });\n      }\n\n      // Match saves\n      if ( this.match.saves && item.hasSave ) changes.push({\n        key: \"system.save.dc\",\n        mode: CONST.ACTIVE_EFFECT_MODES.OVERRIDE,\n        value: rollData.item.save.dc ?? rollData.attributes.spelldc\n      }, {\n        key: \"system.save.scaling\",\n        mode: CONST.ACTIVE_EFFECT_MODES.OVERRIDE,\n        value: \"flat\"\n      });\n\n      // Damage bonus\n      let damageBonus;\n      if ( item.hasAttack ) damageBonus = attackDamageBonus;\n      else if ( item.system.actionType === \"save\" ) damageBonus = saveDamageBonus;\n      else if ( item.isHealing ) damageBonus = healingBonus;\n      if ( damageBonus && item.hasDamage ) changes.push({\n        key: \"system.damage.parts\",\n        mode: CONST.ACTIVE_EFFECT_MODES.ADD,\n        value: JSON.stringify([[`${damageBonus}`, \"\"]])\n      });\n\n      if ( changes.length ) {\n        const effect = (new ActiveEffect({\n          _id: staticID(\"dnd5eItemChanges\"),\n          changes,\n          disabled: false,\n          icon: \"icons/skills/melee/strike-slashes-orange.webp\",\n          name: game.i18n.localize(\"DND5E.Summoning.ItemChanges.Label\"),\n          origin: this.item.uuid,\n          flags: {\n            dnd5e: { type: \"enchantment\" }\n          }\n        })).toObject();\n        actorUpdates.items.push({ _id: item.id, effects: [effect] });\n      }\n    }\n\n    return { actorUpdates, tokenUpdates };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Determine where the summons should be placed on the scene.\n   * @param {PrototypeToken} token      Token to be placed.\n   * @param {SummonsProfile} profile    Profile used for summoning.\n   * @param {SummoningOptions} options  Additional summoning options.\n   * @returns {Promise<PlacementData[]>}\n   */\n  async getPlacement(token, profile, options) {\n    // Ensure the token matches the final size\n    if ( this.creatureSizes.size ) {\n      const size = this.creatureSizes.has(options.creatureSize) ? options.creatureSize : this.creatureSizes.first();\n      const config = CONFIG.DND5E.actorSizes[size];\n      if ( config ) token = token.clone({ width: config.token ?? 1, height: config.token ?? 1 });\n    }\n\n    const rollData = this.item.getRollData();\n    const count = new Roll(profile.count || \"1\", rollData);\n    await count.evaluate();\n    return TokenPlacement.place({ tokens: Array(count.total).fill(token) });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Configuration for creating a modified token.\n   *\n   * @typedef {object} TokenUpdateData\n   * @property {Actor5e} actor            Original actor from which the token will be created.\n   * @property {PlacementData} placement  Information on the location to summon the token.\n   * @property {object} tokenUpdates      Additional updates that will be applied to token data.\n   * @property {object} actorUpdates      Updates that will be applied to actor delta.\n   */\n\n  /**\n   * Create token data ready to be summoned.\n   * @param {config} TokenUpdateData  Configuration for creating a modified token.\n   * @returns {object}\n   */\n  async getTokenData({ actor, placement, tokenUpdates, actorUpdates }) {\n    if ( actor.prototypeToken.randomImg && !game.user.can(\"FILES_BROWSE\") ) {\n      tokenUpdates.texture ??= {};\n      tokenUpdates.texture.src ??= actor.img;\n      ui.notifications.warn(\"DND5E.Summoning.Warning.Wildcard\", { localize: true });\n    }\n\n    delete placement.prototypeToken;\n    const tokenDocument = await actor.getTokenDocument(foundry.utils.mergeObject(placement, tokenUpdates));\n\n    // Linked summons require more explicit updates before token creation.\n    // Unlinked summons can take actor delta directly.\n    if ( tokenDocument.actorLink ) {\n      const { effects, items, ...rest } = actorUpdates;\n      await tokenDocument.actor.update(rest);\n      await tokenDocument.actor.updateEmbeddedDocuments(\"Item\", items);\n\n      const { newEffects, oldEffects } = effects.reduce((acc, curr) => {\n        const target = tokenDocument.actor.effects.get(curr._id) ? \"oldEffects\" : \"newEffects\";\n        acc[target].push(curr);\n        return acc;\n      }, { newEffects: [], oldEffects: [] });\n\n      await tokenDocument.actor.updateEmbeddedDocuments(\"ActiveEffect\", oldEffects);\n      await tokenDocument.actor.createEmbeddedDocuments(\"ActiveEffect\", newEffects, {keepId: true});\n    } else {\n      tokenDocument.delta.updateSource(actorUpdates);\n      if ( actor.prototypeToken.appendNumber ) TokenPlacement.adjustAppendedNumber(tokenDocument, placement);\n    }\n\n    return tokenDocument.toObject();\n  }\n\n  /* -------------------------------------------- */\n  /*  Helpers                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Determine the label for a profile in the ability use dialog.\n   * @param {SummonsProfile} profile  Profile for which to generate the label.\n   * @param {object} rollData         Roll data used to prepare the count.\n   * @returns {string}\n   */\n  getProfileLabel(profile, rollData) {\n    let label;\n    if ( profile.name ) label = profile.name;\n    else {\n      switch ( this.mode ) {\n        case \"cr\":\n          const cr = simplifyBonus(profile.cr, rollData);\n          label = game.i18n.format(\"DND5E.Summoning.Profile.ChallengeRatingLabel\", { cr: formatCR(cr) });\n          break;\n        default:\n          const doc = fromUuidSync(profile.uuid);\n          if ( doc ) label = doc.name;\n          break;\n      }\n    }\n    label ??= \"\";\n\n    let count = simplifyRollFormula(Roll.replaceFormulaData(profile.count ?? \"1\", rollData));\n    if ( Number.isNumeric(count) ) {\n      count = parseInt(count);\n      label = `${count}  ${label}`;\n    } else if ( count ) label = `${count}  ${label}`;\n\n    return label;\n  }\n\n  /* -------------------------------------------- */\n  /*  Static Registry                             */\n  /* -------------------------------------------- */\n\n  /**\n   * Registration of summoned creatures mapped to a specific summoner. The map is keyed by the UUID of\n   * summoner while the set contains UUID of actors that have been summoned.\n   * @type {Map<string, Set<string>>}\n   */\n  static #summonedCreatures = new Map();\n\n  /* -------------------------------------------- */\n\n  /**\n   * Fetch creatures summoned by an actor.\n   * @param {Actor5e} actor  Actor for which to find the summoned creatures.\n   * @returns {Actor5e[]}\n   */\n  static summonedCreatures(actor) {\n    return Array.from(SummonsData.#summonedCreatures.get(actor.uuid) ?? []).map(uuid => fromUuidSync(uuid));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Add a new summoned creature to the list of summoned creatures.\n   * @param {string} summoner  UUID of the actor who performed the summoning.\n   * @param {string} summoned  UUID of the summoned creature to track.\n   */\n  static trackSummon(summoner, summoned) {\n    if ( summoned.startsWith(\"Compendium.\") ) return;\n    if ( !SummonsData.#summonedCreatures.has(summoner) ) {\n      SummonsData.#summonedCreatures.set(summoner, new Set());\n    }\n    SummonsData.#summonedCreatures.get(summoner).add(summoned);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Stop tracking a summoned creature.\n   * @param {string} summoner  UUID of the actor who performed the summoning.\n   * @param {string} summoned  UUID of the summoned creature to stop tracking.\n   */\n  static untrackSummon(summoner, summoned) {\n    SummonsData.#summonedCreatures.get(summoner)?.delete(summoned);\n  }\n}\n","/* -------------------------------------------- */\n/* D20 Roll                                     */\n/* -------------------------------------------- */\n\n/**\n * Configuration data for a D20 roll.\n *\n * @typedef {object} D20RollConfiguration\n *\n * @property {string[]} [parts=[]]  The dice roll component parts, excluding the initial d20.\n * @property {object} [data={}]     Data that will be used when parsing this roll.\n * @property {Event} [event]        The triggering event for this roll.\n *\n * ## D20 Properties\n * @property {boolean} [advantage]     Apply advantage to this roll (unless overridden by modifier keys or dialog)?\n * @property {boolean} [disadvantage]  Apply disadvantage to this roll (unless overridden by modifier keys or dialog)?\n * @property {number|null} [critical=20]  The value of the d20 result which represents a critical success,\n *                                     `null` will prevent critical successes.\n * @property {number|null} [fumble=1]  The value of the d20 result which represents a critical failure,\n *                                     `null` will prevent critical failures.\n * @property {number} [targetValue]    The value of the d20 result which should represent a successful roll.\n *\n * ## Flags\n * @property {boolean} [elvenAccuracy]   Allow Elven Accuracy to modify this roll?\n * @property {boolean} [halflingLucky]   Allow Halfling Luck to modify this roll?\n * @property {boolean} [reliableTalent]  Allow Reliable Talent to modify this roll?\n *\n * ## Roll Configuration Dialog\n * @property {boolean} [fastForward]           Should the roll configuration dialog be skipped?\n * @property {boolean} [chooseModifier=false]  If the configuration dialog is shown, should the ability modifier be\n *                                             configurable within that interface?\n * @property {string} [template]               The HTML template used to display the roll configuration dialog.\n * @property {string} [title]                  Title of the roll configuration dialog.\n * @property {object} [dialogOptions]          Additional options passed to the roll configuration dialog.\n *\n * ## Chat Message\n * @property {boolean} [chatMessage=true]  Should a chat message be created for this roll?\n * @property {object} [messageData={}]     Additional data which is applied to the created chat message.\n * @property {string} [rollMode]           Value of `CONST.DICE_ROLL_MODES` to apply as default for the chat message.\n * @property {object} [flavor]             Flavor text to use in the created chat message.\n */\n\n/**\n * A standardized helper function for managing core 5e d20 rolls.\n * Holding SHIFT, ALT, or CTRL when the attack is rolled will \"fast-forward\".\n * This chooses the default options of a normal attack with no bonus, Advantage, or Disadvantage respectively\n *\n * @param {D20RollConfiguration} configuration  Configuration data for the D20 roll.\n * @returns {Promise<D20Roll|null>}             The evaluated D20Roll, or null if the workflow was cancelled.\n */\nexport async function d20Roll({\n  parts=[], data={}, event,\n  advantage, disadvantage, critical=20, fumble=1, targetValue,\n  elvenAccuracy, halflingLucky, reliableTalent,\n  fastForward, chooseModifier=false, template, title, dialogOptions,\n  chatMessage=true, messageData={}, rollMode, flavor\n}={}) {\n\n  // Handle input arguments\n  const formula = [\"1d20\"].concat(parts).join(\" + \");\n  const {advantageMode, isFF} = CONFIG.Dice.D20Roll.determineAdvantageMode({\n    advantage, disadvantage, fastForward, event\n  });\n  const defaultRollMode = rollMode || game.settings.get(\"core\", \"rollMode\");\n  if ( chooseModifier && !isFF ) {\n    data.mod = \"@mod\";\n    if ( \"abilityCheckBonus\" in data ) data.abilityCheckBonus = \"@abilityCheckBonus\";\n  }\n\n  // Construct the D20Roll instance\n  const roll = new CONFIG.Dice.D20Roll(formula, data, {\n    flavor: flavor || title,\n    advantageMode,\n    defaultRollMode,\n    rollMode,\n    critical,\n    fumble,\n    targetValue,\n    elvenAccuracy,\n    halflingLucky,\n    reliableTalent\n  });\n\n  // Prompt a Dialog to further configure the D20Roll\n  if ( !isFF ) {\n    const configured = await roll.configureDialog({\n      title,\n      chooseModifier,\n      defaultRollMode,\n      defaultAction: advantageMode,\n      defaultAbility: data?.item?.ability || data?.defaultAbility,\n      template\n    }, dialogOptions);\n    if ( configured === null ) return null;\n  } else roll.options.rollMode ??= defaultRollMode;\n\n  // Evaluate the configured roll\n  await roll.evaluate({ allowInteractive: (roll.options.rollMode ?? defaultRollMode) !== CONST.DICE_ROLL_MODES.BLIND });\n\n  // Attach original message ID to the message\n  messageData = foundry.utils.expandObject(messageData);\n  const messageId = event?.target.closest(\"[data-message-id]\")?.dataset.messageId;\n  if ( messageId ) foundry.utils.setProperty(messageData, \"flags.dnd5e.originatingMessage\", messageId);\n\n  // Create a Chat Message\n  if ( roll && chatMessage ) await roll.toMessage(messageData);\n  return roll;\n}\n\n/* -------------------------------------------- */\n/* Damage Roll                                  */\n/* -------------------------------------------- */\n\n/**\n * Configuration data for a damage roll.\n *\n * @typedef {object} DamageRollConfiguration\n *\n * @property {SingleDamageRollConfiguration[]} [rollConfigs=[]]  Separate roll configurations for different damages.\n * @property {string[]} [parts=[]]  The dice roll component parts.\n * @property {object} [data={}]     Data that will be used when parsing this roll.\n * @property {Event} [event]        The triggering event for this roll.\n * @property {boolean} [returnMultiple=false] Should multiple rolls be returned, or only the first?\n *\n * ## Critical Handling\n * @property {boolean} [allowCritical=true]  Is this damage roll allowed to be rolled as critical?\n * @property {boolean} [critical]            Apply critical to this roll (unless overridden by modifier key or dialog)?\n * @property {number} [criticalBonusDice]    A number of bonus damage dice that are added for critical hits.\n * @property {number} [criticalMultiplier]   Multiplier to use when calculating critical damage.\n * @property {boolean} [multiplyNumeric]     Should numeric terms be multiplied when this roll criticals?\n * @property {boolean} [powerfulCritical]    Should the critical dice be maximized rather than rolled?\n * @property {string} [criticalBonusDamage]  An extra damage term that is applied only on a critical hit.\n *\n * ## Roll Configuration Dialog\n * @property {boolean} [fastForward]        Should the roll configuration dialog be skipped?\n * @property {string} [template]            The HTML template used to render the roll configuration dialog.\n * @property {string} [title]               Title of the roll configuration dialog.\n * @property {object} [dialogOptions]       Additional options passed to the roll configuration dialog.\n *\n * ## Chat Message\n * @property {boolean} [chatMessage=true]  Should a chat message be created for this roll?\n * @property {object} [messageData={}]     Additional data which is applied to the created chat message.\n * @property {string} [rollMode]           Value of `CONST.DICE_ROLL_MODES` to apply as default for the chat message.\n * @property {string} [flavor]             Flavor text to use in the created chat message.\n */\n\n/**\n * Configuration data for a single damage roll.\n *\n * @typedef {object} SingleDamageRollConfiguration\n * @property {string[]} parts         The dice roll component parts.\n * @property {string} [type]          Damage type represented by the roll.\n * @property {string[]} [properties]  Physical properties of the damage source (e.g. magical, silvered).\n */\n\n/**\n * A standardized helper function for managing core 5e damage rolls.\n * Holding SHIFT, ALT, or CTRL when the attack is rolled will \"fast-forward\".\n * This chooses the default options of a normal attack with no bonus, Critical, or no bonus respectively\n *\n * @param {DamageRollConfiguration} configuration    Configuration data for the Damage roll.\n * @returns {Promise<DamageRoll|DamageRoll[]|null>}  The evaluated DamageRoll, or null if the workflow was canceled.\n */\nexport async function damageRoll({\n  rollConfigs=[], parts=[], data={}, event, returnMultiple=false,\n  allowCritical=true, critical, criticalBonusDice, criticalMultiplier,\n  multiplyNumeric, powerfulCritical, criticalBonusDamage,\n  fastForward, template, title, dialogOptions,\n  chatMessage=true, messageData={}, rollMode, flavor\n}={}) {\n\n  // Handle input arguments\n  const defaultRollMode = rollMode || game.settings.get(\"core\", \"rollMode\");\n\n  // If parts are still provided, treat it as the first roll\n  if ( parts.length ) rollConfigs.unshift({ parts });\n\n  const {isCritical, isFF} = _determineCriticalMode({critical, fastForward, event});\n  const rolls = [];\n  flavor ??= title;\n  multiplyNumeric ??= game.settings.get(\"dnd5e\", \"criticalDamageModifiers\");\n  powerfulCritical ??= game.settings.get(\"dnd5e\", \"criticalDamageMaxDice\");\n  critical = isFF ? isCritical : false;\n  for ( const [index, { parts, type, properties }] of rollConfigs.entries() ) {\n    const formula = parts.join(\" + \");\n    const rollOptions = {\n      flavor, rollMode, critical, criticalMultiplier, multiplyNumeric, powerfulCritical, type, properties\n    };\n    if ( index === 0 ) {\n      rollOptions.criticalBonusDice = criticalBonusDice;\n      rollOptions.criticalBonusDamage = criticalBonusDamage;\n    }\n    if ( formula ) rolls.push(new CONFIG.Dice.DamageRoll(formula, data, rollOptions));\n  }\n\n  // Prompt a Dialog to further configure the DamageRoll\n  if ( !isFF ) {\n    const configured = await CONFIG.Dice.DamageRoll.configureDialog(rolls, {\n      title,\n      defaultRollMode: defaultRollMode,\n      defaultCritical: isCritical,\n      template,\n      allowCritical\n    }, dialogOptions);\n    if ( configured === null ) return null;\n  }\n\n  // Evaluate the configured roll\n  for ( const roll of rolls ) {\n    const rollMode = rolls.at(-1).options.rollMode ?? defaultRollMode;\n    await roll.evaluate({ allowInteractive: rollMode !== CONST.DICE_ROLL_MODES.BLIND });\n  }\n\n  // Attach original message ID to the message\n  messageData = foundry.utils.expandObject(messageData);\n  const messageId = event?.target.closest(\"[data-message-id]\")?.dataset.messageId;\n  if ( messageId ) foundry.utils.setProperty(messageData, \"flags.dnd5e.originatingMessage\", messageId);\n\n  // Create a Chat Message\n  if ( rolls?.length && chatMessage ) await CONFIG.Dice.DamageRoll.toMessage(rolls, messageData, { rollMode });\n  if ( returnMultiple ) return rolls;\n  if ( rolls?.length <= 1 ) return rolls[0];\n\n  const mergedRoll = new CONFIG.Dice.DamageRoll();\n  mergedRoll._total = 0;\n  for ( const roll of rolls ) {\n    if ( mergedRoll.terms.length ) {\n      const operator = new OperatorTerm({operator: \"+\"});\n      operator._evaluated = true;\n      mergedRoll.terms.push(operator);\n    }\n    mergedRoll.terms.push(...roll.terms);\n    mergedRoll._total += roll.total;\n    mergedRoll.options = foundry.utils.mergeObject(roll.options, mergedRoll.options, { inplace: false });\n  }\n  mergedRoll._evaluated = true;\n  mergedRoll.resetFormula();\n  return mergedRoll;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Determines whether this d20 roll should be fast-forwarded, and whether advantage or disadvantage should be applied\n * @param {object} [config]\n * @param {Event} [config.event]          Event that triggered the roll.\n * @param {boolean} [config.critical]     Is this roll treated as a critical by default?\n * @param {boolean} [config.fastForward]  Should the roll dialog be skipped?\n * @returns {{isFF: boolean, isCritical: boolean}}  Whether the roll is fast-forward, and whether it is a critical hit\n */\nfunction _determineCriticalMode({event, critical=false, fastForward}={}) {\n  const isFF = fastForward ?? (event && (event.shiftKey || event.altKey || event.ctrlKey || event.metaKey));\n  if ( event?.altKey ) critical = true;\n  return {isFF: !!isFF, isCritical: critical};\n}\n","/**\n * Mixin method for v2-style dialogs.\n * @param {typeof Application} Base   Application class being extended.\n * @returns {class}\n * @mixin\n */\nexport default Base => class extends Base {\n  /** @inheritDoc */\n  async _renderOuter() {\n    const html = await super._renderOuter();\n    const header = html[0].querySelector(\".window-header\");\n    header.querySelectorAll(\".header-button\").forEach(btn => {\n      const label = btn.querySelector(\":scope > i\").nextSibling;\n      btn.dataset.tooltip = label.textContent;\n      btn.setAttribute(\"aria-label\", label.textContent);\n      label.remove();\n    });\n    return html;\n  }\n};\n","import { filteredKeys, formatNumber } from \"../utils.mjs\";\nimport DialogMixin from \"./dialog-mixin.mjs\";\n\n/**\n * Application for awarding XP and currency to players.\n */\nexport default class Award extends DialogMixin(FormApplication) {\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e2\", \"award\", \"dialog\"],\n      template: \"systems/dnd5e/templates/apps/award.hbs\",\n      title: \"DND5E.Award.Title\",\n      width: 350,\n      height: \"auto\",\n      currency: null,\n      xp: null,\n      each: false,\n      savedDestinations: new Set()\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * Destinations to which XP & currency can be awarded.\n   * @type {Actor5e[]}\n   */\n  get transferDestinations() {\n    if ( this.isPartyAward ) return this.object.system.transferDestinations ?? [];\n    if ( !game.user.isGM ) return [];\n    const primaryParty = game.settings.get(\"dnd5e\", \"primaryParty\")?.actor;\n    return primaryParty\n      ? [primaryParty, ...primaryParty.system.transferDestinations]\n      : game.users.map(u => u.character).filter(c => c);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Is this award coming from a party group actor rather than the /award command?\n   * @type {boolean}\n   */\n  get isPartyAward() {\n    return this.object?.system.type?.value === \"party\";\n  }\n\n  /* -------------------------------------------- */\n  /*  Rendering                                   */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  getData(options={}) {\n    const context = super.getData(options);\n\n    context.CONFIG = CONFIG.DND5E;\n    context.currency = Object.entries(CONFIG.DND5E.currencies).reduce((obj, [k, { label }]) => {\n      obj[k] = { label, value: this.options.currency ? this.options.currency[k] : this.object?.system.currency[k] };\n      return obj;\n    }, {});\n    context.destinations = Award.prepareDestinations(this.transferDestinations, this.options.savedDestinations);\n    context.each = this.options.each ?? false;\n    context.hideXP = game.settings.get(\"dnd5e\", \"disableExperienceTracking\");\n    context.noPrimaryParty = !game.settings.get(\"dnd5e\", \"primaryParty\")?.actor && !this.isPartyAward;\n    context.xp = this.options.xp ?? this.object?.system.details.xp.value ?? this.object?.system.details.xp.derived;\n\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Apply type icons to transfer destinations and prepare them for display in the list.\n   * @param {Document[]} destinations          Destination documents to prepare.\n   * @param {Set<string>} [savedDestinations]  IDs of targets to pre-check.\n   * @returns {{doc: Document, icon: string}[]}\n   */\n  static prepareDestinations(destinations, savedDestinations) {\n    const icons = {\n      container: '<dnd5e-icon class=\"fa-fw\" src=\"systems/dnd5e/icons/svg/backpack.svg\"></dnd5e-icon>',\n      group: '<i class=\"fa-solid fa-people-group\"></i>',\n      vehicle: '<i class=\"fa-solid fa-sailboat\"></i>'\n    };\n    return destinations.map(doc => ({\n      doc, checked: savedDestinations?.has(doc.id), icon: icons[doc.type] ?? '<i class=\"fa-solid fa-fw fa-user\"></i>'\n    }));\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Handling                              */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    this._validateForm();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _onChangeInput(event) {\n    super._onChangeInput(event);\n    this._validateForm();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Ensure the award form is in a valid form to be submitted.\n   * @protected\n   */\n  _validateForm() {\n    const data = foundry.utils.expandObject(this._getSubmitData());\n    let valid = true;\n    if ( !filteredKeys(data.amount ?? {}).length && !data.xp ) valid = false;\n    if ( !filteredKeys(data.destination ?? {}).length ) valid = false;\n    this.form.querySelector('button[name=\"transfer\"]').disabled = !valid;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _updateObject(event, formData) {\n    const data = foundry.utils.expandObject(formData);\n    const destinations = this.transferDestinations.filter(d => data.destination[d.id]);\n    const each = formData.each;\n    this._saveDestinations(destinations);\n    const results = new Map();\n    await this.constructor.awardCurrency(data.amount, destinations, { each, origin: this.object, results });\n    await this.constructor.awardXP(data.xp, destinations, { each, origin: this.object, results });\n    this.constructor.displayAwardMessages(results);\n    this.close();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Save the selected destination IDs to either the current group's flags or the user's flags.\n   * @param {Set<Actor5e>} destinations  Selected destinations to save.\n   * @protected\n   */\n  _saveDestinations(destinations) {\n    const target = this.isPartyAward ? this.object : game.user;\n    target.setFlag(\"dnd5e\", \"awardDestinations\", destinations);\n  }\n\n  /* -------------------------------------------- */\n  /*  Awarding Methods                            */\n  /* -------------------------------------------- */\n\n  /**\n   * Award currency, optionally transferring between one document and another.\n   * @param {Record<string, number>} amounts   Amount of each denomination to transfer.\n   * @param {(Actor5e|Item5e)[]} destinations  Documents that should receive the currency.\n   * @param {object} [config={}]\n   * @param {boolean} [config.each=false]      Award the specified amount to each player, rather than splitting it.\n   * @param {Actor5e|Item5e} [config.origin]   Document from which to move the currency, if not a freeform award.\n   * @param {Map<Actor5e|Item5e, object>} [config.results]  Results of the award operation.\n   */\n  static async awardCurrency(amounts, destinations, { each=false, origin, results=new Map() }={}) {\n    if ( !destinations.length ) return;\n    const originCurrency = origin ? foundry.utils.deepClone(origin.system.currency) : null;\n\n    for ( const k of Object.keys(amounts) ) {\n      if ( each ) amounts[k] = amounts[k] * destinations.length;\n      if ( origin ) amounts[k] = Math.min(amounts[k], originCurrency[k] ?? 0);\n    }\n\n    let remainingDestinations = destinations.length;\n    for ( const destination of destinations ) {\n      const destinationUpdates = {};\n      if ( !results.has(destination) ) results.set(destination, {});\n      const result = results.get(destination).currency ??= {};\n\n      for ( let [key, amount] of Object.entries(amounts) ) {\n        if ( !amount ) continue;\n        amount = Math.clamp(\n          // Divide amount between remaining destinations\n          Math.floor(amount / remainingDestinations),\n          // Ensure negative amounts aren't more than is contained in destination\n          -destination.system.currency[key],\n          // Ensure positive amounts aren't more than is contained in origin\n          originCurrency ? originCurrency[key] : Infinity\n        );\n        amounts[key] -= amount;\n        if ( originCurrency ) originCurrency[key] -= amount;\n        destinationUpdates[`system.currency.${key}`] = destination.system.currency[key] + amount;\n        result[key] = amount;\n      }\n\n      await destination.update(destinationUpdates);\n      remainingDestinations -= 1;\n    }\n\n    if ( origin ) await origin.update({\"system.currency\": originCurrency});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Award XP split across the provided destination actors.\n   * @param {number} amount            Amount of XP to award.\n   * @param {Actor5e[]} destinations   Actors that should receive the XP.\n   * @param {object} [config={}]\n   * @param {boolean} [config.each=false]      Award the specified amount to each player, rather than splitting it.\n   * @param {Actor5e} [config.origin]  Group actor from which to transfer the XP.\n   * @param {Map<Actor5e|Item5e, object>} [config.results]  Results of the award operation.\n   */\n  static async awardXP(amount, destinations, { each=false, origin, results=new Map() }={}) {\n    destinations = destinations.filter(d => [\"character\", \"group\"].includes(d.type));\n    if ( !amount || !destinations.length ) return;\n\n    let originUpdate = origin ? (origin.system.details.xp.value ?? 0) : Infinity;\n    if ( each ) amount = amount * destinations.length;\n    const perDestination = Math.floor(Math.min(amount, originUpdate) / destinations.length);\n    originUpdate -= amount;\n    for ( const destination of destinations ) {\n      await destination.update({\"system.details.xp.value\": destination.system.details.xp.value + perDestination});\n      if ( !results.has(destination) ) results.set(destination, {});\n      const result = results.get(destination);\n      result.xp = perDestination;\n    }\n\n    if ( Number.isFinite(originUpdate) ) await origin.update({\"system.details.xp.value\": originUpdate});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Display chat messages for awarded currency and XP.\n   * @param {Map<Actor5e|Item5e, object>} results  Results of any award operations.\n   */\n  static async displayAwardMessages(results) {\n    const cls = getDocumentClass(\"ChatMessage\");\n    const messages = [];\n    for ( const [destination, result] of results ) {\n      const entries = [];\n      for ( const [key, amount] of Object.entries(result.currency ?? {}) ) {\n        const label = CONFIG.DND5E.currencies[key].label;\n        entries.push(`\n          <span class=\"award-entry\">\n            ${formatNumber(amount)} <i class=\"currency ${key}\" data-tooltip=\"${label}\" aria-label=\"${label}\"></i>\n          </span>\n        `);\n      }\n      if ( result.xp ) entries.push(`\n        <span class=\"award-entry\">\n          ${formatNumber(result.xp)} ${game.i18n.localize(\"DND5E.ExperiencePointsAbbr\")}\n        </span>\n      `);\n      if ( !entries.length ) continue;\n\n      const content = game.i18n.format(\"DND5E.Award.Message\", {\n        name: destination.name, award: `<span class=\"dnd5e2\">${game.i18n.getListFormatter().format(entries)}</span>`\n      });\n\n      const whisperTargets = game.users.filter(user => destination.testUserPermission(user, \"OWNER\"));\n      const whisper = whisperTargets.length !== game.users.size;\n      const messageData = {\n        content,\n        whisper: whisper ? whisperTargets : []\n      };\n      // TODO: Remove when v11 support is dropped.\n      if ( game.release.generation < 12 ) messageData.type = CONST.CHAT_MESSAGE_TYPES.OTHER;\n      messages.push(messageData);\n    }\n    if ( messages.length ) cls.createDocuments(messages);\n  }\n\n  /* -------------------------------------------- */\n  /*  Chat Command                                */\n  /* -------------------------------------------- */\n\n  /**\n   * Regular expression used to match the /award command in chat messages.\n   * @type {RegExp}\n   */\n  static COMMAND_PATTERN = new RegExp(/^\\/award(?:\\s|$)/i);\n\n  /* -------------------------------------------- */\n\n  /**\n   * Regular expression used to split currency & xp values from their labels.\n   * @type {RegExp}\n   */\n  static VALUE_PATTERN = new RegExp(/^(.+?)(\\D+)$/);\n\n  /* -------------------------------------------- */\n\n  /**\n   * Use the `chatMessage` hook to determine if an award command was typed.\n   * @param {string} message   Text of the message being posted.\n   * @returns {boolean|void}   Returns `false` to prevent the message from continuing to parse.\n   */\n  static chatMessage(message) {\n    if ( !this.COMMAND_PATTERN.test(message) ) return;\n    this.handleAward(message);\n    return false;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Parse the award command and grant an award.\n   * @param {string} message  Award command typed in chat.\n   */\n  static async handleAward(message) {\n    if ( !game.user.isGM ) {\n      ui.notifications.error(\"DND5E.Award.NotGMError\", { localize: true });\n      return;\n    }\n\n    try {\n      const { currency, xp, party, each } = this.parseAwardCommand(message);\n\n      for ( const [key, formula] of Object.entries(currency) ) {\n        const roll = new Roll(formula);\n        await roll.evaluate();\n        currency[key] = roll.total;\n      }\n\n      // If the party command is set, a primary party is set, and the award isn't empty, skip the UI\n      const primaryParty = game.settings.get(\"dnd5e\", \"primaryParty\")?.actor;\n      if ( party && primaryParty && (xp || filteredKeys(currency).length) ) {\n        const destinations = each ? primaryParty.system.playerCharacters : [primaryParty];\n        const results = new Map();\n        await this.awardCurrency(currency, destinations, { each, results });\n        await this.awardXP(xp, destinations, { each, results });\n        this.displayAwardMessages(results);\n      }\n\n      // Otherwise show the UI with defaults\n      else {\n        const savedDestinations = game.user.getFlag(\"dnd5e\", \"awardDestinations\");\n        const app = new Award(null, { currency, xp, each, savedDestinations });\n        app.render(true);\n      }\n    } catch(err) {\n      ui.notifications.warn(err.message);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Parse the award command.\n   * @param {string} message  Award command typed in chat.\n   * @returns {{currency: Record<string, number>, xp: number, party: boolean}}\n   */\n  static parseAwardCommand(message) {\n    const command = message.replace(this.COMMAND_PATTERN, \"\").toLowerCase();\n\n    const currency = {};\n    let each = false;\n    let party = false;\n    let xp;\n    const unrecognized = [];\n    for ( const part of command.split(\" \") ) {\n      if ( !part ) continue;\n      let [, amount, label] = part.match(this.VALUE_PATTERN) ?? [];\n      label = label?.toLowerCase();\n      try {\n        new Roll(amount);\n        if ( label in CONFIG.DND5E.currencies ) currency[label] = amount;\n        else if ( label === \"xp\" ) xp = Number(amount);\n        else if ( part === \"each\" ) each = true;\n        else if ( part === \"party\" ) party = true;\n        else throw new Error();\n      } catch(err) {\n        unrecognized.push(part);\n      }\n    }\n\n    // Display warning about an unrecognized commands\n    if ( unrecognized.length ) throw new Error(game.i18n.format(\"DND5E.Award.UnrecognizedWarning\", {\n      commands: game.i18n.getListFormatter().format(unrecognized.map(u => `\"${u}\"`))\n    }));\n\n    return { currency, xp, each, party };\n  }\n}\n","const { SchemaField, StringField } = foundry.data.fields;\n\n/**\n * Data fields that stores information on the adventure or sourcebook where this document originated.\n *\n * @property {string} book     Book/publication where the item originated.\n * @property {string} page     Page or section where the item can be found.\n * @property {string} custom   Fully custom source label.\n * @property {string} license  Type of license that covers this item.\n */\nexport default class SourceField extends SchemaField {\n  constructor(fields={}, options={}) {\n    fields = {\n      book: new StringField({label: \"DND5E.SourceBook\"}),\n      page: new StringField({label: \"DND5E.SourcePage\"}),\n      custom: new StringField({label: \"DND5E.SourceCustom\"}),\n      license: new StringField({label: \"DND5E.SourceLicense\"}),\n      ...fields\n    };\n    Object.entries(fields).forEach(([k, v]) => !v ? delete fields[k] : null);\n    super(fields, { label: \"DND5E.Source\", ...options });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  initialize(value, model, options={}) {\n    const obj = super.initialize(value, model, options);\n\n    Object.defineProperty(obj, \"label\", {\n      get() {\n        if ( this.custom ) return this.custom;\n        const page = Number.isNumeric(this.page)\n          ? game.i18n.format(\"DND5E.SourcePageDisplay\", { page: this.page }) : this.page;\n        return game.i18n.format(\"DND5E.SourceDisplay\", { book: this.book ?? \"\", page: page ?? \"\" }).trim();\n      },\n      enumerable: false\n    });\n    Object.defineProperty(obj, \"toString\", {\n      value: () => {\n        foundry.utils.logCompatibilityWarning(\n          \"Source has been converted to an object, the label can now be accessed using the `source#label` property.\",\n          { since: \"DnD5e 2.4\", until: \"DnD5e 3.1\" }\n        );\n        return obj.label;\n      },\n      enumerable: false\n    });\n    Object.defineProperty(obj, \"directlyEditable\", {\n      get() {\n        return (this.custom ?? \"\") === this.label;\n      },\n      enumerable: false\n    });\n\n    return obj;\n  }\n}\n","import { IdentifierField } from \"../fields.mjs\";\nimport SourceField from \"../shared/source-field.mjs\";\n\nconst { ArrayField, DocumentIdField, HTMLField, NumberField, SchemaField, SetField, StringField } = foundry.data.fields;\n\n/**\n * Data needed to display spells that aren't able to be linked (outside SRD & current module).\n *\n * @typedef {object} UnlinkedSpellConfiguration\n * @property {string} _id            Unique ID for this entry.\n * @property {string} name           Name of the spell.\n * @property {object} system\n * @property {number} system.level   Spell level.\n * @property {string} system.school  Spell school.\n * @property {object} source\n * @property {string} source.book    Book/publication where the spell originated.\n * @property {string} source.page    Page or section where the spell can be found.\n * @property {string} source.custom  Fully custom source label.\n * @property {string} source.uuid    UUID of the spell, if available in another module.\n */\n\n/**\n * Data model for spell list data.\n *\n * @property {string} type               Type of spell list (e.g. class, subclass, race, etc.).\n * @property {string} identifier         Common identifier that matches the associated type (e.g. bard, cleric).\n * @property {string} grouping           Default grouping mode.\n * @property {object} description\n * @property {string} description.value  Description to display before spell list.\n * @property {Set<string>} spells        UUIDs of spells to display.\n * @property {UnlinkedSpellConfiguration[]} unlinkedSpells  Unavailable spells that are entered manually.\n */\nexport default class SpellListJournalPageData extends foundry.abstract.DataModel {\n  static defineSchema() {\n    return {\n      type: new StringField({\n        initial: \"class\", label: \"JOURNALENTRYPAGE.DND5E.SpellList.Type.Label\"\n      }),\n      identifier: new IdentifierField({label: \"DND5E.Identifier\"}),\n      grouping: new StringField({\n        initial: \"level\", choices: this.GROUPING_MODES,\n        label: \"JOURNALENTRYPAGE.DND5E.SpellList.Grouping.Label\",\n        hint: \"JOURNALENTRYPAGE.DND5E.SpellList.Grouping.Hint\"\n      }),\n      description: new SchemaField({\n        value: new HTMLField({label: \"DND5E.Description\"})\n      }),\n      spells: new SetField(new StringField(), {label: \"DND5E.ItemTypeSpellPl\"}),\n      unlinkedSpells: new ArrayField(new SchemaField({\n        _id: new DocumentIdField({initial: () => foundry.utils.randomID()}),\n        name: new StringField({required: true, label: \"Name\"}),\n        system: new SchemaField({\n          level: new NumberField({min: 0, integer: true, label: \"DND5E.Level\"}),\n          school: new StringField({label: \"DND5E.School\"})\n        }),\n        source: new SourceField({license: false, uuid: new StringField()})\n      }), {label: \"JOURNALENTRYPAGE.DND5E.SpellList.UnlinkedSpells.Label\"})\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Different ways in which spells can be grouped on the sheet.\n   * @enum {string}\n   */\n  static GROUPING_MODES = {\n    none: \"JOURNALENTRYPAGE.DND5E.SpellList.Grouping.None\",\n    alphabetical: \"JOURNALENTRYPAGE.DND5E.SpellList.Grouping.Alphabetical\",\n    level: \"JOURNALENTRYPAGE.DND5E.SpellList.Grouping.Level\",\n    school: \"JOURNALENTRYPAGE.DND5E.SpellList.Grouping.School\"\n  };\n}\n","import Advancement from \"../../documents/advancement/advancement.mjs\";\n\n/**\n * Internal type used to manage each step within the advancement process.\n *\n * @typedef {object} AdvancementStep\n * @property {string} type                Step type from \"forward\", \"reverse\", \"restore\", or \"delete\".\n * @property {AdvancementFlow} [flow]     Flow object for the advancement being applied by this step.\n * @property {Item5e} [item]              For \"delete\" steps only, the item to be removed.\n * @property {object} [class]             Contains data on class if step was triggered by class level change.\n * @property {Item5e} [class.item]        Class item that caused this advancement step.\n * @property {number} [class.level]       Level the class should be during this step.\n * @property {boolean} [automatic=false]  Should the manager attempt to apply this step without user interaction?\n */\n\n/**\n * Application for controlling the advancement workflow and displaying the interface.\n *\n * @param {Actor5e} actor        Actor on which this advancement is being performed.\n * @param {object} [options={}]  Additional application options.\n */\nexport default class AdvancementManager extends Application {\n  constructor(actor, options={}) {\n    super(options);\n\n    /**\n     * The original actor to which changes will be applied when the process is complete.\n     * @type {Actor5e}\n     */\n    this.actor = actor;\n\n    /**\n     * A clone of the original actor to which the changes can be applied during the advancement process.\n     * @type {Actor5e}\n     */\n    this.clone = actor.clone();\n\n    /**\n     * Individual steps that will be applied in order.\n     * @type {object}\n     */\n    this.steps = [];\n\n    /**\n     * Step being currently displayed.\n     * @type {number|null}\n     * @private\n     */\n    this._stepIndex = null;\n\n    /**\n     * Is the prompt currently advancing through un-rendered steps?\n     * @type {boolean}\n     * @private\n     */\n    this._advancing = false;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\", \"advancement\", \"flow\"],\n      template: \"systems/dnd5e/templates/advancement/advancement-manager.hbs\",\n      width: 460,\n      height: \"auto\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get title() {\n    const visibleSteps = this.steps.filter(s => !s.automatic);\n    const visibleIndex = visibleSteps.indexOf(this.step);\n    const step = visibleIndex < 0 ? \"\" : game.i18n.format(\"DND5E.AdvancementManagerSteps\", {\n      current: visibleIndex + 1,\n      total: visibleSteps.length\n    });\n    return `${game.i18n.localize(\"DND5E.AdvancementManagerTitle\")} ${step}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get id() {\n    return `actor-${this.actor.id}-advancement`;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get the step that is currently in progress.\n   * @type {object|null}\n   */\n  get step() {\n    return this.steps[this._stepIndex] ?? null;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get the step before the current one.\n   * @type {object|null}\n   */\n  get previousStep() {\n    return this.steps[this._stepIndex - 1] ?? null;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get the step after the current one.\n   * @type {object|null}\n   */\n  get nextStep() {\n    const nextIndex = this._stepIndex === null ? 0 : this._stepIndex + 1;\n    return this.steps[nextIndex] ?? null;\n  }\n\n  /* -------------------------------------------- */\n  /*  Factory Methods                             */\n  /* -------------------------------------------- */\n\n  /**\n   * Construct a manager for a newly added advancement from drag-drop.\n   * @param {Actor5e} actor               Actor from which the advancement should be updated.\n   * @param {string} itemId               ID of the item to which the advancements are being dropped.\n   * @param {Advancement[]} advancements  Dropped advancements to add.\n   * @param {object} options              Rendering options passed to the application.\n   * @returns {AdvancementManager}  Prepared manager. Steps count can be used to determine if advancements are needed.\n   */\n  static forNewAdvancement(actor, itemId, advancements, options) {\n    const manager = new this(actor, options);\n    const clonedItem = manager.clone.items.get(itemId);\n    if ( !clonedItem || !advancements.length ) return manager;\n\n    const currentLevel = this.currentLevel(clonedItem, manager.clone);\n    const minimumLevel = advancements.reduce((min, a) => Math.min(a.levels[0] ?? Infinity, min), Infinity);\n    if ( minimumLevel > currentLevel ) return manager;\n\n    const oldFlows = Array.fromRange(currentLevel + 1).slice(minimumLevel)\n      .flatMap(l => this.flowsForLevel(clonedItem, l));\n\n    // Revert advancements through minimum level\n    oldFlows.reverse().forEach(flow => manager.steps.push({ type: \"reverse\", flow, automatic: true }));\n\n    // Add new advancements\n    const advancementArray = clonedItem.toObject().system.advancement;\n    advancementArray.push(...advancements.map(a => {\n      const obj = a.toObject();\n      if ( obj.constructor.dataModels?.value ) a.value = (new a.constructor.metadata.dataModels.value()).toObject();\n      else obj.value = foundry.utils.deepClone(a.constructor.metadata.defaults?.value ?? {});\n      return obj;\n    }));\n    clonedItem.updateSource({\"system.advancement\": advancementArray});\n\n    const newFlows = Array.fromRange(currentLevel + 1).slice(minimumLevel)\n      .flatMap(l => this.flowsForLevel(clonedItem, l));\n\n    // Restore existing advancements and apply new advancements\n    newFlows.forEach(flow => {\n      const matchingFlow = oldFlows.find(f => (f.advancement.id === flow.advancement.id) && (f.level === flow.level));\n      if ( matchingFlow ) manager.steps.push({ type: \"restore\", flow: matchingFlow, automatic: true });\n      else manager.steps.push({ type: \"forward\", flow });\n    });\n\n    return manager;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Construct a manager for a newly added item.\n   * @param {Actor5e} actor         Actor to which the item is being added.\n   * @param {object} itemData       Data for the item being added.\n   * @param {object} options        Rendering options passed to the application.\n   * @returns {AdvancementManager}  Prepared manager. Steps count can be used to determine if advancements are needed.\n   */\n  static forNewItem(actor, itemData, options={}) {\n    const manager = new this(actor, options);\n\n    // Prepare data for adding to clone\n    const dataClone = foundry.utils.deepClone(itemData);\n    dataClone._id = foundry.utils.randomID();\n    if ( itemData.type === \"class\" ) {\n      dataClone.system.levels = 0;\n      if ( !manager.clone.system.details.originalClass ) {\n        manager.clone.updateSource({\"system.details.originalClass\": dataClone._id});\n      }\n    }\n\n    // Add item to clone & get new instance from clone\n    manager.clone.updateSource({items: [dataClone]});\n    const clonedItem = manager.clone.items.get(dataClone._id);\n\n    // For class items, prepare level change data\n    if ( itemData.type === \"class\" ) {\n      return manager.createLevelChangeSteps(clonedItem, itemData.system?.levels ?? 1);\n    }\n\n    // All other items, just create some flows up to current character level (or class level for subclasses)\n    let targetLevel = manager.clone.system.details.level ?? 0;\n    if ( clonedItem.type === \"subclass\" ) targetLevel = clonedItem.class?.system.levels ?? 0;\n    Array.fromRange(targetLevel + 1)\n      .flatMap(l => this.flowsForLevel(clonedItem, l))\n      .forEach(flow => manager.steps.push({ type: \"forward\", flow }));\n\n    return manager;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Construct a manager for modifying choices on an item at a specific level.\n   * @param {Actor5e} actor         Actor from which the choices should be modified.\n   * @param {object} itemId         ID of the item whose choices are to be changed.\n   * @param {number} level          Level at which the choices are being changed.\n   * @param {object} options        Rendering options passed to the application.\n   * @returns {AdvancementManager}  Prepared manager. Steps count can be used to determine if advancements are needed.\n   */\n  static forModifyChoices(actor, itemId, level, options) {\n    const manager = new this(actor, options);\n    const clonedItem = manager.clone.items.get(itemId);\n    if ( !clonedItem ) return manager;\n\n    const flows = Array.fromRange(this.currentLevel(clonedItem, manager.clone) + 1).slice(level)\n      .flatMap(l => this.flowsForLevel(clonedItem, l));\n\n    // Revert advancements through changed level\n    flows.reverse().forEach(flow => manager.steps.push({ type: \"reverse\", flow, automatic: true }));\n\n    // Create forward advancements for level being changed\n    flows.reverse().filter(f => f.level === level).forEach(flow => manager.steps.push({ type: \"forward\", flow }));\n\n    // Create restore advancements for other levels\n    flows.filter(f => f.level > level).forEach(flow => manager.steps.push({ type: \"restore\", flow, automatic: true }));\n\n    return manager;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Construct a manager for an advancement that needs to be deleted.\n   * @param {Actor5e} actor         Actor from which the advancement should be unapplied.\n   * @param {string} itemId         ID of the item from which the advancement should be deleted.\n   * @param {string} advancementId  ID of the advancement to delete.\n   * @param {object} options        Rendering options passed to the application.\n   * @returns {AdvancementManager}  Prepared manager. Steps count can be used to determine if advancements are needed.\n   */\n  static forDeletedAdvancement(actor, itemId, advancementId, options) {\n    const manager = new this(actor, options);\n    const clonedItem = manager.clone.items.get(itemId);\n    const advancement = clonedItem?.advancement.byId[advancementId];\n    if ( !advancement ) return manager;\n\n    const minimumLevel = advancement.levels[0];\n    const currentLevel = this.currentLevel(clonedItem, manager.clone);\n\n    // If minimum level is greater than current level, no changes to remove\n    if ( (minimumLevel > currentLevel) || !advancement.appliesToClass ) return manager;\n\n    advancement.levels\n      .reverse()\n      .filter(l => l <= currentLevel)\n      .map(l => new advancement.constructor.metadata.apps.flow(clonedItem, advancementId, l))\n      .forEach(flow => manager.steps.push({ type: \"reverse\", flow, automatic: true }));\n\n    if ( manager.steps.length ) manager.steps.push({ type: \"delete\", advancement, automatic: true });\n\n    return manager;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Construct a manager for an item that needs to be deleted.\n   * @param {Actor5e} actor         Actor from which the item should be deleted.\n   * @param {string} itemId         ID of the item to be deleted.\n   * @param {object} options        Rendering options passed to the application.\n   * @returns {AdvancementManager}  Prepared manager. Steps count can be used to determine if advancements are needed.\n   */\n  static forDeletedItem(actor, itemId, options) {\n    const manager = new this(actor, options);\n    const clonedItem = manager.clone.items.get(itemId);\n    if ( !clonedItem ) return manager;\n\n    // For class items, prepare level change data\n    if ( clonedItem.type === \"class\" ) {\n      return manager.createLevelChangeSteps(clonedItem, clonedItem.system.levels * -1);\n    }\n\n    // All other items, just create some flows down from current character level\n    Array.fromRange((manager.clone.system.details.level ?? 0) + 1)\n      .flatMap(l => this.flowsForLevel(clonedItem, l))\n      .reverse()\n      .forEach(flow => manager.steps.push({ type: \"reverse\", flow, automatic: true }));\n\n    // Add a final step to remove the item only if there are advancements to apply\n    if ( manager.steps.length ) manager.steps.push({ type: \"delete\", item: clonedItem, automatic: true });\n    return manager;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Construct a manager for a change in a class's levels.\n   * @param {Actor5e} actor         Actor whose level has changed.\n   * @param {string} classId        ID of the class being changed.\n   * @param {number} levelDelta     Levels by which to increase or decrease the class.\n   * @param {object} options        Rendering options passed to the application.\n   * @returns {AdvancementManager}  Prepared manager. Steps count can be used to determine if advancements are needed.\n   */\n  static forLevelChange(actor, classId, levelDelta, options={}) {\n    const manager = new this(actor, options);\n    const clonedItem = manager.clone.items.get(classId);\n    if ( !clonedItem ) return manager;\n    return manager.createLevelChangeSteps(clonedItem, levelDelta);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create steps based on the provided level change data.\n   * @param {string} classItem      Class being changed.\n   * @param {number} levelDelta     Levels by which to increase or decrease the class.\n   * @returns {AdvancementManager}  Manager with new steps.\n   * @private\n   */\n  createLevelChangeSteps(classItem, levelDelta) {\n    const raceItem = this.clone.system?.details?.race instanceof Item ? this.clone.system.details.race : null;\n    const pushSteps = (flows, data) => this.steps.push(...flows.map(flow => ({ flow, ...data })));\n    const getItemFlows = characterLevel => this.clone.items.contents.flatMap(i => {\n      if ( [\"class\", \"subclass\", \"race\"].includes(i.type) ) return [];\n      return this.constructor.flowsForLevel(i, characterLevel);\n    });\n\n    // Level increased\n    for ( let offset = 1; offset <= levelDelta; offset++ ) {\n      const classLevel = classItem.system.levels + offset;\n      const characterLevel = (this.actor.system.details.level ?? 0) + offset;\n      const stepData = { type: \"forward\", class: {item: classItem, level: classLevel} };\n      pushSteps(this.constructor.flowsForLevel(raceItem, characterLevel), stepData);\n      pushSteps(this.constructor.flowsForLevel(classItem, classLevel), stepData);\n      pushSteps(this.constructor.flowsForLevel(classItem.subclass, classLevel), stepData);\n      pushSteps(getItemFlows(characterLevel), stepData);\n    }\n\n    // Level decreased\n    for ( let offset = 0; offset > levelDelta; offset-- ) {\n      const classLevel = classItem.system.levels + offset;\n      const characterLevel = (this.actor.system.details.level ?? 0) + offset;\n      const stepData = { type: \"reverse\", class: {item: classItem, level: classLevel}, automatic: true };\n      pushSteps(getItemFlows(characterLevel).reverse(), stepData);\n      pushSteps(this.constructor.flowsForLevel(classItem.subclass, classLevel).reverse(), stepData);\n      pushSteps(this.constructor.flowsForLevel(classItem, classLevel).reverse(), stepData);\n      pushSteps(this.constructor.flowsForLevel(raceItem, characterLevel).reverse(), stepData);\n      if ( classLevel === 1 ) this.steps.push({ type: \"delete\", item: classItem, automatic: true });\n    }\n\n    // Ensure the class level ends up at the appropriate point\n    this.steps.push({\n      type: \"forward\", automatic: true,\n      class: {item: classItem, level: classItem.system.levels += levelDelta}\n    });\n\n    return this;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Creates advancement flows for all advancements at a specific level.\n   * @param {Item5e} item          Item that has advancement.\n   * @param {number} level         Level in question.\n   * @returns {AdvancementFlow[]}  Created flow applications.\n   * @protected\n   */\n  static flowsForLevel(item, level) {\n    return (item?.advancement.byLevel[level] ?? [])\n      .filter(a => a.appliesToClass)\n      .map(a => new a.constructor.metadata.apps.flow(item, a.id, level));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Determine the proper working level either from the provided item or from the cloned actor.\n   * @param {Item5e} item    Item being advanced. If class or subclass, its level will be used.\n   * @param {Actor5e} actor  Actor being advanced.\n   * @returns {number}       Working level.\n   */\n  static currentLevel(item, actor) {\n    return item.system.levels ?? item.class?.system.levels ?? actor.system.details.level ?? 0;\n  }\n\n  /* -------------------------------------------- */\n  /*  Form Rendering                              */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  getData() {\n    if ( !this.step ) return {};\n\n    // Prepare information for subheading\n    const item = this.step.flow.item;\n    let level = this.step.flow.level;\n    if ( (this.step.class) && [\"class\", \"subclass\"].includes(item.type) ) level = this.step.class.level;\n\n    const visibleSteps = this.steps.filter(s => !s.automatic);\n    const visibleIndex = visibleSteps.indexOf(this.step);\n\n    return {\n      actor: this.clone,\n      flowId: this.step.flow.id,\n      header: item.name,\n      subheader: level ? game.i18n.format(\"DND5E.AdvancementLevelHeader\", { level }) : \"\",\n      steps: {\n        current: visibleIndex + 1,\n        total: visibleSteps.length,\n        hasPrevious: visibleIndex > 0,\n        hasNext: visibleIndex < visibleSteps.length - 1\n      }\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  render(...args) {\n    if ( this.steps.length && (this._stepIndex === null) ) this._stepIndex = 0;\n\n    // Ensure the level on the class item matches the specified level\n    if ( this.step?.class ) {\n      let level = this.step.class.level;\n      if ( this.step.type === \"reverse\" ) level -= 1;\n      this.step.class.item.updateSource({\"system.levels\": level});\n      this.clone.reset();\n    }\n\n    /**\n     * A hook event that fires when an AdvancementManager is about to be processed.\n     * @function dnd5e.preAdvancementManagerRender\n     * @memberof hookEvents\n     * @param {AdvancementManager} advancementManager The advancement manager about to be rendered\n     */\n    const allowed = Hooks.call(\"dnd5e.preAdvancementManagerRender\", this);\n\n    // Abort if not allowed\n    if ( allowed === false ) return this;\n\n    if ( this.step?.automatic ) {\n      if ( this._advancing ) return this;\n      this._forward();\n      return this;\n    }\n\n    return super.render(...args);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _render(force, options) {\n    await super._render(force, options);\n    if ( (this._state !== Application.RENDER_STATES.RENDERED) || !this.step ) return;\n\n    // Render the step\n    this.step.flow._element = null;\n    this.step.flow.options.manager ??= this;\n    await this.step.flow._render(force, options);\n    this.setPosition();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    html.find(\"button[data-action]\").click(event => {\n      const buttons = html.find(\"button\");\n      buttons.attr(\"disabled\", true);\n      html.find(\".error\").removeClass(\"error\");\n      try {\n        switch ( event.currentTarget.dataset.action ) {\n          case \"restart\":\n            if ( !this.previousStep ) return;\n            return this._restart(event);\n          case \"previous\":\n            if ( !this.previousStep ) return;\n            return this._backward(event);\n          case \"next\":\n          case \"complete\":\n            return this._forward(event);\n        }\n      } finally {\n        buttons.attr(\"disabled\", false);\n      }\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async close(options={}) {\n    if ( !options.skipConfirmation ) {\n      return new Dialog({\n        title: `${game.i18n.localize(\"DND5E.AdvancementManagerCloseTitle\")}: ${this.actor.name}`,\n        content: game.i18n.localize(\"DND5E.AdvancementManagerCloseMessage\"),\n        buttons: {\n          close: {\n            icon: '<i class=\"fas fa-times\"></i>',\n            label: game.i18n.localize(\"DND5E.AdvancementManagerCloseButtonStop\"),\n            callback: () => super.close(options)\n          },\n          continue: {\n            icon: '<i class=\"fas fa-chevron-right\"></i>',\n            label: game.i18n.localize(\"DND5E.AdvancementManagerCloseButtonContinue\")\n          }\n        },\n        default: \"close\"\n      }).render(true);\n    }\n    await super.close(options);\n  }\n\n  /* -------------------------------------------- */\n  /*  Process                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Advance through the steps until one requiring user interaction is encountered.\n   * @param {Event} [event]  Triggering click event if one occurred.\n   * @returns {Promise}\n   * @private\n   */\n  async _forward(event) {\n    this._advancing = true;\n    try {\n      do {\n        const flow = this.step.flow;\n        const type = this.step.type;\n\n        // Apply changes based on step type\n        if ( (type === \"delete\") && this.step.item ) this.clone.items.delete(this.step.item.id);\n        else if ( (type === \"delete\") && this.step.advancement ) {\n          this.step.advancement.item.deleteAdvancement(this.step.advancement.id, { source: true });\n        }\n        else if ( type === \"restore\" ) await flow.advancement.restore(flow.level, flow.retainedData);\n        else if ( type === \"reverse\" ) await flow.retainData(await flow.advancement.reverse(flow.level));\n        else if ( flow ) await flow._updateObject(event, flow._getSubmitData());\n\n        this._stepIndex++;\n\n        // Ensure the level on the class item matches the specified level\n        if ( this.step?.class ) {\n          let level = this.step.class.level;\n          if ( this.step.type === \"reverse\" ) level -= 1;\n          this.step.class.item.updateSource({\"system.levels\": level});\n        }\n        this.clone.reset();\n      } while ( this.step?.automatic );\n    } catch(error) {\n      if ( !(error instanceof Advancement.ERROR) ) throw error;\n      ui.notifications.error(error.message);\n      this.step.automatic = false;\n      if ( this.step.type === \"restore\" ) this.step.type = \"forward\";\n    } finally {\n      this._advancing = false;\n    }\n\n    if ( this.step ) this.render(true);\n    else this._complete();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Reverse through the steps until one requiring user interaction is encountered.\n   * @param {Event} [event]                  Triggering click event if one occurred.\n   * @param {object} [options]               Additional options to configure behavior.\n   * @param {boolean} [options.render=true]  Whether to render the Application after the step has been reversed. Used\n   *                                         by the restart workflow.\n   * @returns {Promise}\n   * @private\n   */\n  async _backward(event, { render=true }={}) {\n    this._advancing = true;\n    try {\n      do {\n        this._stepIndex--;\n        if ( !this.step ) break;\n        const flow = this.step.flow;\n        const type = this.step.type;\n\n        // Reverse step based on step type\n        if ( (type === \"delete\") && this.step.item ) this.clone.updateSource({items: [this.step.item]});\n        else if ( (type === \"delete\") && this.step.advancement ) this.advancement.item.createAdvancement(\n          this.advancement.typeName, this.advancement._source, { source: true }\n        );\n        else if ( type === \"reverse\" ) await flow.advancement.restore(flow.level, flow.retainedData);\n        else if ( flow ) await flow.retainData(await flow.advancement.reverse(flow.level));\n        this.clone.reset();\n      } while ( this.step?.automatic );\n    } catch(error) {\n      if ( !(error instanceof Advancement.ERROR) ) throw error;\n      ui.notifications.error(error.message);\n      this.step.automatic = false;\n    } finally {\n      this._advancing = false;\n    }\n\n    if ( !render ) return;\n    if ( this.step ) this.render(true);\n    else this.close({ skipConfirmation: true });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Reset back to the manager's initial state.\n   * @param {MouseEvent} [event]  The triggering click event if one occurred.\n   * @returns {Promise}\n   * @private\n   */\n  async _restart(event) {\n    const restart = await Dialog.confirm({\n      title: game.i18n.localize(\"DND5E.AdvancementManagerRestartConfirmTitle\"),\n      content: game.i18n.localize(\"DND5E.AdvancementManagerRestartConfirm\")\n    });\n    if ( !restart ) return;\n    // While there is still a renderable step.\n    while ( this.steps.slice(0, this._stepIndex).some(s => !s.automatic) ) {\n      await this._backward(event, {render: false});\n    }\n    this.render(true);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Apply changes to actual actor after all choices have been made.\n   * @param {Event} event  Button click that triggered the change.\n   * @returns {Promise}\n   * @private\n   */\n  async _complete(event) {\n    const updates = this.clone.toObject();\n    const items = updates.items;\n    delete updates.items;\n\n    // Gather changes to embedded items\n    const { toCreate, toUpdate, toDelete } = items.reduce((obj, item) => {\n      if ( !this.actor.items.get(item._id) ) {\n        obj.toCreate.push(item);\n      } else {\n        obj.toUpdate.push(item);\n        obj.toDelete.findSplice(id => id === item._id);\n      }\n      return obj;\n    }, { toCreate: [], toUpdate: [], toDelete: this.actor.items.map(i => i.id) });\n\n    /**\n     * A hook event that fires at the final stage of a character's advancement process, before actor and item updates\n     * are applied.\n     * @function dnd5e.preAdvancementManagerComplete\n     * @memberof hookEvents\n     * @param {AdvancementManager} advancementManager  The advancement manager.\n     * @param {object} actorUpdates                    Updates to the actor.\n     * @param {object[]} toCreate                      Items that will be created on the actor.\n     * @param {object[]} toUpdate                      Items that will be updated on the actor.\n     * @param {string[]} toDelete                      IDs of items that will be deleted on the actor.\n     */\n    if ( Hooks.call(\"dnd5e.preAdvancementManagerComplete\", this, updates, toCreate, toUpdate, toDelete) === false ) {\n      console.log(\"AdvancementManager completion was prevented by the 'preAdvancementManagerComplete' hook.\");\n      return this.close({ skipConfirmation: true });\n    }\n\n    // Apply changes from clone to original actor\n    await Promise.all([\n      this.actor.update(updates, { isAdvancement: true }),\n      this.actor.createEmbeddedDocuments(\"Item\", toCreate, { keepId: true, isAdvancement: true }),\n      this.actor.updateEmbeddedDocuments(\"Item\", toUpdate, { isAdvancement: true }),\n      this.actor.deleteEmbeddedDocuments(\"Item\", toDelete, { isAdvancement: true })\n    ]);\n\n    /**\n     * A hook event that fires when an AdvancementManager is done modifying an actor.\n     * @function dnd5e.advancementManagerComplete\n     * @memberof hookEvents\n     * @param {AdvancementManager} advancementManager The advancement manager that just completed\n     */\n    Hooks.callAll(\"dnd5e.advancementManagerComplete\", this);\n\n    // Close prompt\n    return this.close({ skipConfirmation: true });\n  }\n\n}\n","/**\n * Dialog to confirm the deletion of an embedded item with advancement or decreasing a class level.\n */\nexport default class AdvancementConfirmationDialog extends Dialog {\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      template: \"systems/dnd5e/templates/advancement/advancement-confirmation-dialog.hbs\",\n      jQuery: false\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * A helper function that displays the dialog prompting for an item deletion.\n   * @param {Item5e} item  Item to be deleted.\n   * @returns {Promise<boolean|null>}  Resolves with whether advancements should be unapplied. Rejects with null.\n   */\n  static forDelete(item) {\n    return this.createDialog(\n      item,\n      game.i18n.localize(\"DND5E.AdvancementDeleteConfirmationTitle\"),\n      game.i18n.localize(\"DND5E.AdvancementDeleteConfirmationMessage\"),\n      {\n        icon: '<i class=\"fas fa-trash\"></i>',\n        label: game.i18n.localize(\"Delete\")\n      }\n    );\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * A helper function that displays the dialog prompting for leveling down.\n   * @param {Item5e} item  The class whose level is being changed.\n   * @returns {Promise<boolean|null>}  Resolves with whether advancements should be unapplied. Rejects with null.\n   */\n  static forLevelDown(item) {\n    return this.createDialog(\n      item,\n      game.i18n.localize(\"DND5E.AdvancementLevelDownConfirmationTitle\"),\n      game.i18n.localize(\"DND5E.AdvancementLevelDownConfirmationMessage\"),\n      {\n        icon: '<i class=\"fas fa-sort-numeric-down-alt\"></i>',\n        label: game.i18n.localize(\"DND5E.LevelActionDecrease\")\n      }\n    );\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * A helper constructor function which displays the confirmation dialog.\n   * @param {Item5e} item              Item to be changed.\n   * @param {string} title             Localized dialog title.\n   * @param {string} message           Localized dialog message.\n   * @param {object} continueButton    Object containing label and icon for the action button.\n   * @returns {Promise<boolean|null>}  Resolves with whether advancements should be unapplied. Rejects with null.\n   */\n  static createDialog(item, title, message, continueButton) {\n    return new Promise((resolve, reject) => {\n      const dialog = new this({\n        title: `${title}: ${item.name}`,\n        content: message,\n        buttons: {\n          continue: foundry.utils.mergeObject(continueButton, {\n            callback: html => {\n              const checkbox = html.querySelector('input[name=\"apply-advancement\"]');\n              resolve(checkbox.checked);\n            }\n          }),\n          cancel: {\n            icon: '<i class=\"fas fa-times\"></i>',\n            label: game.i18n.localize(\"Cancel\"),\n            callback: html => reject(null)\n          }\n        },\n        default: \"continue\",\n        close: () => reject(null)\n      });\n      dialog.render(true);\n    });\n  }\n\n}\n","import { FormulaField, IdentifierField } from \"../../fields.mjs\";\n\nconst { BooleanField, EmbeddedDataField, SchemaField, StringField } = foundry.data.fields;\n\n/**\n * A field for storing summons data.\n */\nexport default class EnchantmentField extends EmbeddedDataField {\n  /**\n   * Construct an enchantment field.\n   * @param {object} [options={}]  Options to configure this field's behavior.\n   */\n  constructor(options={}) {\n    super(EnchantmentData, foundry.utils.mergeObject({ required: false, nullable: true, initial: null }, options));\n  }\n}\n\n/**\n * Data stored in \"enchantment\" flag on enchantment active effects.\n *\n * @typedef {object} EnchantmentProfile\n * @property {object} level\n * @property {number} level.min        Minimum level at which this profile can be used.\n * @property {number} level.max        Maximum level at which this profile can be used.\n * @property {object} riders\n * @property {string[]} riders.effect  IDs of other effects on this item that will be added with this enchantment.\n * @property {string[]} riders.item    UUIDs of items that will be added with this enchantment.\n */\n\n/**\n * Data model for enchantment configuration.\n *\n * @property {string} classIdentifier             Class identifier that will be used to determine applicable level.\n * @property {object} items\n * @property {string} items.max                   Maximum number of items that can have this enchantment.\n * @property {string} items.period                Frequency at which the enchantment be swapped.\n * @property {object} restrictions\n * @property {boolean} restrictions.allowMagical  Allow enchantments to be applied to items that are already magical.\n * @property {string} restrictions.type           Item type to which this enchantment can be applied.\n */\nexport class EnchantmentData extends foundry.abstract.DataModel {\n\n  /** @inheritDoc */\n  static defineSchema() {\n    return {\n      classIdentifier: new IdentifierField(),\n      items: new SchemaField({\n        max: new FormulaField({deterministic: true}),\n        period: new StringField()\n      }),\n      restrictions: new SchemaField({\n        allowMagical: new BooleanField(),\n        type: new StringField()\n      })\n    };\n  }\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * Enchantments that have been applied by this item.\n   * @type {ActiveEffect5e[]}\n   */\n  get appliedEnchantments() {\n    return EnchantmentData.appliedEnchantments(this.item.uuid);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * List of item types that are enchantable.\n   * @type {Set<string>}\n   */\n  static get enchantableTypes() {\n    return Object.entries(CONFIG.Item.dataModels).reduce((set, [k, v]) => {\n      if ( v.metadata?.enchantable ) set.add(k);\n      return set;\n    }, new Set());\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Enchantments available or applied.\n   * @type {ActiveEffect5e[]}\n   */\n  get enchantments() {\n    return this.item.effects.filter(ae => ae.getFlag(\"dnd5e\", \"type\") === \"enchantment\");\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Is this feature an enchantment?\n   * @param {FeatData} data  Data for the feature.\n   * @returns {boolean}\n   */\n  static isEnchantment(data) {\n    return data.actionType === \"ench\";\n  }\n\n  /**\n   * Is this feature an enchantment?\n   * @type {boolean}\n   */\n  get isEnchantment() {\n    return EnchantmentData.isEnchantment(this.parent);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does this feature represent a group of individual enchantments (e.g. the \"Infuse Item\" feature stores data about\n   * all of the character's infusions).\n   * @param {FeatData} data  Data for the feature.\n   * @returns {boolean}\n   */\n  static isEnchantmentSource(data) {\n    return !this.isEnchantment(data)\n      && CONFIG.DND5E.featureTypes[data.type?.value]?.subtypes?.[data.type?.subtype]\n      && (data.type?.subtype in CONFIG.DND5E.featureTypes.enchantment.subtypes);\n  }\n\n  /**\n   * Does this feature represent a group of individual enchantments (e.g. the \"Infuse Item\" feature stores data about\n   * all of the character's infusions).\n   * @type {boolean}\n   */\n  get isEnchantmentSource() {\n    return EnchantmentData.isEnchantmentSource(this.parent);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Item to which this enchantment information belongs.\n   * @type {Item5e}\n   */\n  get item() {\n    return this.parent.parent;\n  }\n\n  /* -------------------------------------------- */\n  /*  Helpers                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Return only the allowed enchantments based on spell/character/class level.\n   * @param {Item5e} item   Item from which to fetch the enchantments.\n   * @returns {ActiveEffect5e[]}\n   */\n  static availableEnchantments(item) {\n    const keyPath = item.type === \"spell\"\n      ? \"item.level\"\n      : item.system.enchantment?.classIdentifier\n        ? `classes.${item.system.enchantment?.classIdentifier}.levels`\n        : \"details.level\";\n    const level = foundry.utils.getProperty(item.getRollData(), keyPath) ?? 0;\n    return item.effects.filter(e => {\n      if ( (e.getFlag(\"dnd5e\", \"type\") !== \"enchantment\") || e.isAppliedEnchantment ) return false;\n      const { min, max } = e.getFlag(\"dnd5e\", \"enchantment.level\") ?? {};\n      return ((min ?? -Infinity) <= level) && (level <= (max ?? Infinity));\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Determine whether the provided item can be enchanted based on this enchantment's restrictions.\n   * @param {Item5e} item  Item that might be enchanted.\n   * @returns {true|EnchantmentError[]}\n   */\n  canEnchant(item) {\n    const errors = [];\n\n    if ( !this.restrictions.allowMagical && item.system.properties?.has(\"mgc\") ) {\n      errors.push(new EnchantmentError(game.i18n.localize(\"DND5E.Enchantment.Warning.NoMagicalItems\")));\n    }\n\n    if ( this.restrictions.type && (item.type !== this.restrictions.type) ) {\n      errors.push(new EnchantmentError(game.i18n.format(\"DND5E.Enchantment.Warning.WrongType\", {\n        incorrectType: game.i18n.localize(CONFIG.Item.typeLabels[item.type]),\n        allowedType: game.i18n.localize(CONFIG.Item.typeLabels[this.restrictions.type])\n      })));\n    }\n\n    return errors.length ? errors : true;\n  }\n\n  /* -------------------------------------------- */\n  /*  Static Registry                             */\n  /* -------------------------------------------- */\n\n  /**\n   * Registration of enchanted items mapped to a specific enchantment source. The map is keyed by the UUID of\n   * enchantment sources while the set contains UUID of applied enchantment active effects.\n   * @type {Map<string, Set<string>>}\n   */\n  static #appliedEnchantments = new Map();\n\n  /* -------------------------------------------- */\n\n  /**\n   * Fetch the tracked enchanted items.\n   * @param {string} itemUuid  UUID of the item supplying the enchantments.\n   * @returns {ActiveEffect5e[]}\n   */\n  static appliedEnchantments(itemUuid) {\n    return Array.from(EnchantmentData.#appliedEnchantments.get(itemUuid) ?? [])\n      .map(uuid => fromUuidSync(uuid))\n      .filter(i => i);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Add a new enchantment effect to the list of tracked enchantments. Will not track enchanted items in compendiums.\n   * @param {string} source     UUID of the active effect origin for the enchantment.\n   * @param {string} enchanted  UUID of the enchantment to track.\n   */\n  static trackEnchantment(source, enchanted) {\n    if ( enchanted.startsWith(\"Compendium.\") ) return;\n    if ( !EnchantmentData.#appliedEnchantments.has(source) ) {\n      EnchantmentData.#appliedEnchantments.set(source, new Set());\n    }\n    EnchantmentData.#appliedEnchantments.get(source).add(enchanted);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Stop tracking an enchantment.\n   * @param {string} source     UUID of the active effect origin for the enchantment.\n   * @param {string} enchanted  UUID of the enchantment to stop tracking.\n   */\n  static untrackEnchantment(source, enchanted) {\n    EnchantmentData.#appliedEnchantments.get(source)?.delete(enchanted);\n  }\n}\n\n/**\n * Error to throw when an item cannot be enchanted.\n */\nexport class EnchantmentError extends Error {\n  constructor(...args) {\n    super(...args);\n    this.name = \"EnchantmentError\";\n  }\n}\n","import { EnchantmentData } from \"../../data/item/fields/enchantment-field.mjs\";\n\n/**\n * A specialized Dialog subclass for ability usage.\n *\n * @param {Item5e} item                                Item that is being used.\n * @param {object} [dialogData={}]                     An object of dialog data which configures\n *                                                     how the modal window is rendered.\n * @param {object} [options={}]                        Dialog rendering options.\n * @param {ItemUseConfiguration} [options.usageConfig] The ability use configuration's values.\n */\nexport default class AbilityUseDialog extends Dialog {\n  constructor(item, dialogData={}, options={}) {\n    super(dialogData, options);\n    this.options.classes = [\"dnd5e\", \"dialog\"];\n\n    /**\n     * Store a reference to the Item document being used\n     * @type {Item5e}\n     */\n    this.item = item;\n\n    /**\n     * Store a reference to the ItemUseConfiguration being used\n     * @type {ItemUseConfiguration}\n     */\n    this.configuration = options.usageConfig ?? {};\n  }\n\n  /* -------------------------------------------- */\n  /*  Rendering                                   */\n  /* -------------------------------------------- */\n\n  /**\n   * Configuration options for displaying the ability use dialog.\n   *\n   * @typedef {object} AbilityUseDialogOptions\n   * @property {object} [button]\n   * @property {string} [button.icon]     Icon used for the activation button.\n   * @property {string} [button.label]    Label used for the activation button.\n   * @property {string} [disableScaling]  Should spell or resource scaling be disabled?\n   */\n\n  /**\n   * A constructor function which displays the Spell Cast Dialog app for a given Actor and Item.\n   * Returns a Promise which resolves to the dialog FormData once the workflow has been completed.\n   * @param {Item5e} item                           Item being used.\n   * @param {ItemUseConfiguration} config           The ability use configuration's values.\n   * @param {AbilityUseDialogOptions} [options={}]  Additional options for displaying the dialog.\n   * @returns {Promise}                             Promise that is resolved when the use dialog is acted upon.\n   */\n  static async create(item, config, options={}) {\n    if ( !item.isOwned ) throw new Error(\"You cannot display an ability usage dialog for an unowned item\");\n    config ??= item._getUsageConfig();\n\n    const limit = item.actor.system.attributes?.concentration?.limit ?? 0;\n    const concentrationOptions = this._createConcentrationOptions(item);\n    const resourceOptions = this._createResourceOptions(item);\n\n    const slotOptions = this._createSpellSlotOptions(item.actor, item.system.level);\n    if ( (item.type === \"spell\") && (item.system.level > 0) ) {\n      const slot = slotOptions.find(s => s.key === config.slotLevel) ?? slotOptions.find(s => s.canCast);\n      if ( slot ) item = item.clone({ \"system.level\": slot.level });\n    }\n\n    const data = {\n      item,\n      ...config,\n      slotOptions: config.consumeSpellSlot ? slotOptions : [],\n      enchantmentOptions: this._createEnchantmentOptions(item),\n      summoningOptions: this._createSummoningOptions(item),\n      resourceOptions: resourceOptions,\n      resourceArray: Array.isArray(resourceOptions),\n      concentration: {\n        show: (config.beginConcentrating !== null) && !!concentrationOptions.length,\n        options: concentrationOptions,\n        optional: (concentrationOptions.length < limit) ? \"\" : null\n      },\n      scaling: options.disableScaling ? null : item.usageScaling,\n      note: this._getAbilityUseNote(item, config),\n      title: game.i18n.format(\"DND5E.AbilityUseHint\", {\n        type: game.i18n.localize(CONFIG.Item.typeLabels[item.type]),\n        name: item.name\n      })\n    };\n    this._getAbilityUseWarnings(data, options);\n\n    // Render the ability usage template\n    const html = await renderTemplate(\"systems/dnd5e/templates/apps/ability-use.hbs\", data);\n\n    // Create the Dialog and return data as a Promise\n    const isSpell = item.type === \"spell\";\n    const label = game.i18n.localize(`DND5E.AbilityUse${isSpell ? \"Cast\" : \"Use\"}`);\n    return new Promise(resolve => {\n      const dlg = new this(item, {\n        title: `${item.name}: ${game.i18n.localize(\"DND5E.AbilityUseConfig\")}`,\n        content: html,\n        buttons: {\n          use: {\n            icon: options.button?.icon ?? `<i class=\"fas ${isSpell ? \"fa-magic\" : \"fa-fist-raised\"}\"></i>`,\n            label: options.button?.label ?? label,\n            callback: html => {\n              const fd = new FormDataExtended(html[0].querySelector(\"form\"));\n              resolve(fd.object);\n            }\n          }\n        },\n        default: \"use\",\n        close: () => resolve(null)\n      }, {\n        usageConfig: config\n      });\n      dlg.render(true);\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Helpers                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Create an array of options for which concentration effect to end or replace.\n   * @param {Item5e} item     The item being used.\n   * @returns {object[]}      Array of concentration options.\n   * @private\n   */\n  static _createConcentrationOptions(item) {\n    const { effects } = item.actor.concentration;\n    return effects.reduce((acc, effect) => {\n      const data = effect.getFlag(\"dnd5e\", \"itemData\");\n      acc.push({\n        name: effect.id,\n        label: data?.name ?? item.actor.items.get(data)?.name ?? game.i18n.localize(\"DND5E.ConcentratingItemless\")\n      });\n      return acc;\n    }, []);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create an array of spell slot options for a select.\n   * @param {Actor5e} actor  The actor with spell slots.\n   * @param {number} level   The minimum level.\n   * @returns {object[]}     Array of spell slot select options.\n   * @private\n   */\n  static _createSpellSlotOptions(actor, level) {\n    if ( !actor.system.spells ) return [];\n\n    // Determine the levels which are feasible\n    let lmax = 0;\n    const options = Array.fromRange(Object.keys(CONFIG.DND5E.spellLevels).length).reduce((arr, i) => {\n      if ( i < level ) return arr;\n      const label = CONFIG.DND5E.spellLevels[i];\n      const l = actor.system.spells[`spell${i}`] || {max: 0, override: null};\n      let max = parseInt(l.override || l.max || 0);\n      let slots = Math.clamp(parseInt(l.value || 0), 0, max);\n      if ( max > 0 ) lmax = i;\n      arr.push({\n        key: `spell${i}`,\n        level: i,\n        label: i > 0 ? game.i18n.format(\"DND5E.SpellLevelSlot\", {level: label, n: slots}) : label,\n        canCast: max > 0,\n        hasSlots: slots > 0\n      });\n      return arr;\n    }, []).filter(sl => sl.level <= lmax);\n\n    // If this character has other kinds of slots, present them as well.\n    for ( const k of Object.keys(CONFIG.DND5E.spellcastingTypes) ) {\n      const spellData = actor.system.spells[k];\n      if ( !spellData ) continue;\n      if ( spellData.level >= level ) {\n        options.push({\n          key: k,\n          level: spellData.level,\n          label: `${game.i18n.format(`DND5E.SpellLevel${k.capitalize()}`, {level: spellData.level, n: spellData.value})}`,\n          canCast: true,\n          hasSlots: spellData.value > 0\n        });\n      }\n    }\n\n    return options;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create details on enchantment that can be applied.\n   * @param {Item5e} item  The item.\n   * @returns {{ enchantments: object }|null}\n   */\n  static _createEnchantmentOptions(item) {\n    const enchantments = EnchantmentData.availableEnchantments(item);\n    if ( !enchantments.length ) return null;\n    const options = {};\n    if ( enchantments.length > 1 ) options.profiles = Object.fromEntries(enchantments.map(e => [e._id, e.name]));\n    else options.profile = enchantments[0]._id;\n    return options;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create details on the summoning profiles and other related options.\n   * @param {Item5e} item  The item.\n   * @returns {{ profiles: object, creatureTypes: object }|null}\n   */\n  static _createSummoningOptions(item) {\n    const summons = item.system.summons;\n    if ( !summons?.profiles.length ) return null;\n    const options = { mode: summons.mode };\n    const rollData = item.getRollData();\n    const level = summons.relevantLevel;\n    options.profiles = Object.fromEntries(\n      summons.profiles\n        .map(profile => {\n          if ( !summons.mode && !fromUuidSync(profile.uuid) ) return null;\n          const withinRange = ((profile.level.min ?? -Infinity) <= level) && (level <= (profile.level.max ?? Infinity));\n          if ( !withinRange ) return null;\n          return [profile._id, summons.getProfileLabel(profile, rollData)];\n        })\n        .filter(f => f)\n    );\n    if ( Object.values(options.profiles).every(p => p.startsWith(\"1  \")) ) {\n      Object.entries(options.profiles).forEach(([k, v]) => options.profiles[k] = v.replace(\"1  \", \"\"));\n    }\n    if ( Object.values(options.profiles).length <= 1 ) {\n      options.profile = Object.keys(options.profiles)[0];\n      options.profiles = null;\n    }\n    if ( summons.creatureSizes.size > 1 ) options.creatureSizes = summons.creatureSizes.reduce((obj, k) => {\n      obj[k] = CONFIG.DND5E.actorSizes[k]?.label;\n      return obj;\n    }, {});\n    if ( summons.creatureTypes.size > 1 ) options.creatureTypes = summons.creatureTypes.reduce((obj, k) => {\n      obj[k] = CONFIG.DND5E.creatureTypes[k]?.label;\n      return obj;\n    }, {});\n    return options;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Configure resource consumption options for a select.\n   * @param {Item5e} item     The item.\n   * @returns {object|null}   Object of select options, or null if the item does not or cannot scale with resources.\n   * @protected\n   */\n  static _createResourceOptions(item) {\n    const consume = item.system.consume || {};\n    if ( (item.type !== \"spell\") || !consume.scale ) return null;\n    const spellLevels = Object.keys(CONFIG.DND5E.spellLevels).length - 1;\n\n    const min = consume.amount || 1;\n    const cap = spellLevels + min - item.system.level;\n\n    let target;\n    let value;\n    let label;\n    switch ( consume.type ) {\n      case \"ammo\":\n      case \"material\": {\n        target = item.actor.items.get(consume.target);\n        label = target?.name;\n        value = target?.system.quantity;\n        break;\n      }\n      case \"attribute\": {\n        target = item.actor;\n        value = foundry.utils.getProperty(target.system, consume.target);\n        break;\n      }\n      case \"charges\": {\n        target = item.actor.items.get(consume.target);\n        label = target?.name;\n        value = target?.system.uses.value;\n        break;\n      }\n      case \"hitDice\": {\n        target = item.actor;\n        if ( [\"smallest\", \"largest\"].includes(consume.target) ) {\n          label = game.i18n.localize(`DND5E.ConsumeHitDice${consume.target.capitalize()}Long`);\n          value = target.system.attributes.hd.value;\n        } else {\n          value = item.actor.system.attributes.hd.bySize[consume.target] ?? 0;\n          label = `${game.i18n.localize(\"DND5E.HitDice\")} (${consume.target})`;\n        }\n        break;\n      }\n    }\n\n    if ( !target ) return null;\n\n    const consumesSpellSlot = consume.target.match(/spells\\.([^.]+)\\.value/);\n    if ( consumesSpellSlot ) {\n      const [, key] = consumesSpellSlot;\n      const spells = item.actor.system.spells[key] ?? {};\n      const level = spells.level || 0;\n      const minimum = (item.type === \"spell\") ? Math.max(item.system.level, level) : level;\n      return this._createSpellSlotOptions(item.actor, minimum);\n    }\n\n    const max = Math.min(cap, value);\n    return Array.fromRange(max, 1).reduce((acc, n) => {\n      if ( n >= min ) acc[n] = `[${n}/${value}] ${label ?? consume.target}`;\n      return acc;\n    }, {});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get the ability usage note that is displayed.\n   * @param {object} item                   Data for the item being used.\n   * @param {ItemUseConfiguration} config   The ability use configuration's values.\n   * @returns {string}                      The note to display.\n   * @private\n   */\n  static _getAbilityUseNote(item, config) {\n    const { quantity, recharge, uses } = item.system;\n\n    if ( !item.isActive ) return \"\";\n\n    // Zero quantity\n    if ( quantity <= 0 ) return game.i18n.localize(\"DND5E.AbilityUseUnavailableHint\");\n\n    // Abilities which use Recharge\n    if ( config.consumeUsage && recharge?.value ) {\n      return game.i18n.format(recharge.charged ? \"DND5E.AbilityUseChargedHint\" : \"DND5E.AbilityUseRechargeHint\", {\n        type: game.i18n.localize(CONFIG.Item.typeLabels[item.type])\n      });\n    }\n\n    // Does not use any resource\n    if ( !uses?.per || !uses?.max ) return \"\";\n\n    // Consumables\n    if ( uses.autoDestroy ) {\n      let str = \"DND5E.AbilityUseNormalHint\";\n      if ( uses.value > 1 ) str = \"DND5E.AbilityUseConsumableChargeHint\";\n      else if ( quantity > 1 ) str = \"DND5E.AbilityUseConsumableQuantityHint\";\n      return game.i18n.format(str, {\n        type: game.i18n.localize(`DND5E.Consumable${item.system.type.value.capitalize()}`),\n        value: uses.value,\n        quantity: quantity,\n        max: uses.max,\n        per: CONFIG.DND5E.limitedUsePeriods[uses.per]?.label\n      });\n    }\n\n    // Other Items\n    else {\n      return game.i18n.format(`DND5E.AbilityUse${uses.value ? \"Normal\" : \"Unavailable\"}Hint`, {\n        type: game.i18n.localize(CONFIG.Item.typeLabels[item.type]),\n        value: uses.value,\n        max: uses.max,\n        per: CONFIG.DND5E.limitedUsePeriods[uses.per]?.label\n      });\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get the ability usage warnings to display.\n   * @param {object} data                           Template data for the AbilityUseDialog. **Will be mutated**\n   * @param {AbilityUseDialogOptions} [options={}]  Additional options for displaying the dialog.\n   * @private\n   */\n  static _getAbilityUseWarnings(data, options={}) {\n    const warnings = [];\n    const item = data.item;\n    const { quantity, level, consume, preparation } = item.system;\n    const scale = options.disableScaling ? null : item.usageScaling;\n    const levels = [level];\n\n    if ( item.type === \"spell\" ) {\n      const spellData = item.actor.system.spells[preparation.mode] ?? {};\n      if ( Number.isNumeric(spellData.level) ) levels.push(spellData.level);\n    }\n\n    if ( (scale === \"slot\") && data.slotOptions.every(o => !o.hasSlots) ) {\n      // Warn that the actor has no spell slots of any level with which to use this item.\n      warnings.push(game.i18n.format(\"DND5E.SpellCastNoSlotsLeft\", {\n        name: item.name\n      }));\n    } else if ( (scale === \"slot\") && !data.slotOptions.some(o => levels.includes(o.level) && o.hasSlots) ) {\n      // Warn that the actor has no spell slots of this particular level with which to use this item.\n      warnings.push(game.i18n.format(\"DND5E.SpellCastNoSlots\", {\n        level: CONFIG.DND5E.spellLevels[level],\n        name: item.name\n      }));\n    } else if ( (scale === \"resource\") && foundry.utils.isEmpty(data.resourceOptions) ) {\n      // Warn that the resource does not have enough left.\n      warnings.push(game.i18n.format(\"DND5E.ConsumeWarningNoQuantity\", {\n        name: item.name,\n        type: CONFIG.DND5E.abilityConsumptionTypes[consume.type]\n      }));\n    }\n\n    // Warn that the resource item is missing.\n    if ( item.hasResource ) {\n      const isItem = [\"ammo\", \"material\", \"charges\"].includes(consume.type);\n      if ( isItem && !item.actor.items.get(consume.target) ) {\n        warnings.push(game.i18n.format(\"DND5E.ConsumeWarningNoSource\", {\n          name: item.name, type: CONFIG.DND5E.abilityConsumptionTypes[consume.type]\n        }));\n      }\n    }\n\n    // Display warnings that the item or its resource item will be destroyed.\n    if ( item.type === \"consumable\" ) {\n      const type = game.i18n.localize(`DND5E.Consumable${item.system.type.value.capitalize()}`);\n      if ( this._willLowerQuantity(item) && (quantity === 1) ) {\n        warnings.push(game.i18n.format(\"DND5E.AbilityUseConsumableDestroyHint\", {type}));\n      }\n\n      const resource = item.actor.items.get(consume.target);\n      const qty = consume.amount || 1;\n      if ( resource && (resource.system.quantity === 1) && this._willLowerQuantity(resource, qty) ) {\n        warnings.push(game.i18n.format(\"DND5E.AbilityUseConsumableDestroyResourceHint\", {type, name: resource.name}));\n      }\n    }\n\n    // Display warnings that the actor cannot concentrate on this item, or if it must replace one of the effects.\n    if ( data.concentration.show ) {\n      const locale = `DND5E.ConcentratingWarnLimit${data.concentration.optional ? \"Optional\" : \"\"}`;\n      warnings.push(game.i18n.localize(locale));\n    } else if ( data.beginConcentrating && !item.actor.system.attributes?.concentration?.limit ) {\n      const locale = \"DND5E.ConcentratingWarnLimitZero\";\n      warnings.push(game.i18n.localize(locale));\n    }\n\n    // Display warning about CR summoning in V11\n    if ( (game.release.generation < 12) && (data.summoningOptions?.mode === \"cr\") ) {\n      warnings.push(game.i18n.localize(\"DND5E.Summoning.Warning.CRV11\"));\n    }\n\n    data.warnings = warnings;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get whether an update for an item's limited uses will result in lowering its quantity.\n   * @param {Item5e} item       The item targeted for updates.\n   * @param {number} [consume]  The amount of limited uses to subtract.\n   * @returns {boolean}\n   * @private\n   */\n  static _willLowerQuantity(item, consume=1) {\n    const hasUses = item.hasLimitedUses;\n    const uses = item.system.uses;\n    if ( !hasUses || !uses.autoDestroy ) return false;\n    const value = uses.value - consume;\n    return value <= 0;\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Handlers                              */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  activateListeners(jQuery) {\n    super.activateListeners(jQuery);\n    const [html] = jQuery;\n\n    html.querySelector('[name=\"slotLevel\"]')?.addEventListener(\"change\", this._onChangeSlotLevel.bind(this));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Update summoning profiles when spell slot level is changed.\n   * @param {Event} event  Triggering change event.\n   */\n  _onChangeSlotLevel(event) {\n    const level = this.item.actor?.system.spells?.[event.target.value]?.level;\n    const item = this.item.clone({ \"system.level\": level ?? this.item.system.level });\n    this._updateProfilesInput(\n      \"enchantmentProfile\", \"DND5E.Enchantment.Label\", this.constructor._createEnchantmentOptions(item)\n    );\n    this._updateProfilesInput(\n      \"summonsProfile\", \"DND5E.Summoning.Profile.Label\", this.constructor._createSummoningOptions(item)\n    );\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Update enchantment or summoning profiles inputs when the level changes.\n   * @param {string} name                Name of the field to update.\n   * @param {string} label               Localization key for the field's aria label.\n   * @param {object} options\n   * @param {object} [options.profiles]  Profile options to display, if multiple.\n   * @param {string} [options.profile]   Single profile to select, if only one.\n   */\n  _updateProfilesInput(name, label, options) {\n    const originalInput = this.element[0].querySelector(`[name=\"${name}\"]`);\n    if ( !originalInput ) return;\n\n    // If multiple profiles, replace with select element\n    if ( options.profiles ) {\n      const select = document.createElement(\"select\");\n      select.name = name;\n      select.ariaLabel = game.i18n.localize(label);\n      for ( const [id, label] of Object.entries(options.profiles) ) {\n        const option = document.createElement(\"option\");\n        option.value = id;\n        option.innerText = label;\n        if ( id === originalInput.value ) option.selected = true;\n        select.append(option);\n      }\n      originalInput.replaceWith(select);\n    }\n\n    // If only one profile, replace with hidden input\n    else {\n      const input = document.createElement(\"input\");\n      input.type = \"hidden\";\n      input.name = name;\n      input.value = options.profile ?? \"\";\n      originalInput.replaceWith(input);\n    }\n  }\n}\n","import { sortObjectEntries } from \"../../utils.mjs\";\n\n/**\n * Object representing a nested set of choices to be displayed in a grouped select list or a trait selector.\n *\n * @typedef {object} SelectChoicesEntry\n * @property {string} label              Label, either pre- or post-localized.\n * @property {boolean} [chosen]          Has this choice been selected?\n * @property {boolean} [sorting=true]    Should this value be sorted? If there are a mixture of this value at\n *                                       a level, unsorted values are listed first followed by sorted values.\n * @property {SelectChoices} [children]  Nested choices. If wildcard filtering support is desired, then trait keys\n *                                       should be provided prefixed for children (e.g. `parent:child`, rather than\n *                                       just `child`).\n */\n\n/**\n * Object with a number of methods for performing actions on a nested set of choices.\n *\n * @param {Object<string, SelectChoicesEntry>} [choices={}]  Initial choices for the object.\n */\nexport default class SelectChoices {\n  constructor(choices={}) {\n    const clone = foundry.utils.deepClone(choices);\n    for ( const value of Object.values(clone) ) {\n      if ( !value.children || (value.children instanceof SelectChoices) ) continue;\n      value.category = true;\n      value.children = new this.constructor(value.children);\n    }\n    Object.assign(this, clone);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create a set of available choice keys.\n   * @param {Set<string>} [set]  Existing set to which the values will be added.\n   * @returns {Set<string>}\n   */\n  asSet(set) {\n    set ??= new Set();\n    for ( const [key, choice] of Object.entries(this) ) {\n      if ( choice.children ) choice.children.asSet(set);\n      else set.add(key);\n    }\n    return set;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create a clone of this object.\n   * @returns {SelectChoices}\n   */\n  clone() {\n    const newData = {};\n    for ( const [key, value] of Object.entries(this) ) {\n      newData[key] = foundry.utils.deepClone(value);\n      if ( value.children ) newData[key].children = value.children.clone();\n    }\n    const clone = new this.constructor(newData);\n    return clone;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Find key and value for the provided key or key suffix.\n   * @param {string} key  Full prefixed key (e.g. `tool:art:alchemist`) or just the suffix (e.g. `alchemist`).\n   * @returns {[string, SelectChoicesEntry]|null}  An array with the first value being the matched key,\n   *                                               and the second being the value.\n   */\n  find(key) {\n    for ( const [k, v] of Object.entries(this) ) {\n      if ( (k === key) || k.endsWith(`:${key}`) ) {\n        return [k, v];\n      } else if ( v.children ) {\n        const result = v.children.find(key);\n        if ( result ) return result;\n      }\n    }\n    return null;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Merge another SelectChoices object into this one.\n   * @param {SelectChoices} other\n   * @param {object} [options={}]\n   * @param {boolean} [options.inplace=true]  Should this SelectChoices be mutated or a new one returned?\n   * @returns {SelectChoices}\n   */\n  merge(other, { inplace=true }={}) {\n    if ( !inplace ) return this.clone().merge(other);\n    return foundry.utils.mergeObject(this, other);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Internal sorting method.\n   * @param {object} lhs\n   * @param {object} rhs\n   * @returns {number}\n   * @protected\n   */\n  _sort(lhs, rhs) {\n    if ( (lhs.sorting === false) && (rhs.sorting === false) ) return 0;\n    if ( lhs.sorting === false ) return -1;\n    if ( rhs.sorting === false ) return 1;\n    return lhs.label.localeCompare(rhs.label, game.i18n.lang);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Sort the entries using the label.\n   * @param {object} [options={}]\n   * @param {boolean} [options.inplace=true]  Should this SelectChoices be mutated or a new one returned?\n   * @returns {SelectChoices}\n   */\n  sort({ inplace=true }={}) {\n    const sorted = new SelectChoices(sortObjectEntries(this, this._sort));\n\n    if ( inplace ) {\n      for ( const key of Object.keys(this) ) delete this[key];\n      this.merge(sorted);\n      for ( const entry of Object.values(this) ) {\n        if ( entry.children ) entry.children.sort();\n      }\n      return this;\n    }\n\n    else {\n      for ( const entry of Object.values(sorted) ) {\n        if ( entry.children ) entry.children = entry.children.sort({ inplace });\n      }\n      return sorted;\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Filters choices in place to only include the provided keys.\n   * @param {Set<string>|SelectChoices} filter   Keys of traits to retain or another SelectChoices object.\n   * @param {object} [options={}]\n   * @param {boolean} [options.inplace=true]     Should this SelectChoices be mutated or a new one returned?\n   * @returns {SelectChoices}                    This SelectChoices with filter applied.\n   *\n   * @example\n   * const choices = new SelectChoices({\n   *   categoryOne: { label: \"One\" },\n   *   categoryTwo: { label: \"Two\", children: {\n   *     childOne: { label: \"Child One\" },\n   *     childTwo: { label: \"Child Two\" }\n   *   } }\n   * });\n   *\n   * // Results in only categoryOne\n   * choices.filter(new Set([\"categoryOne\"]));\n   *\n   * // Results in only categoryTwo, but none if its children\n   * choices.filter(new Set([\"categoryTwo\"]));\n   *\n   * // Results in categoryTwo and all of its children\n   * choices.filter(new Set([\"categoryTwo:*\"]));\n   *\n   * // Results in categoryTwo with only childOne\n   * choices.filter(new Set([\"categoryTwo:childOne\"]));\n   *\n   * // Results in categoryOne, plus categoryTwo with only childOne\n   * choices.filter(new Set([\"categoryOne\", \"categoryTwo:childOne\"]));\n   *\n   * @example\n   * const choices = new SelectChoices({\n   *   \"type:categoryOne\": { label: \"One\" },\n   *   \"type:categoryTwo\": { label: \"Two\", children: {\n   *     \"type:categoryOne:childOne\": { label: \"Child One\" },\n   *     \"type:categoryOne:childTwo\": { label: \"Child Two\" }\n   *   } }\n   * });\n   *\n   * // Results in no changes\n   * choices.filter(new Set([\"type:*\"]));\n   *\n   * // Results in only categoryOne\n   * choices.filter(new Set([\"type:categoryOne\"]));\n   *\n   * // Results in categoryTwo and all of its children\n   * choices.filter(new Set([\"type:categoryTwo:*\"]));\n   *\n   * // Results in categoryTwo with only childOne\n   * choices.filter(new Set([\"type:categoryTwo:childOne\"]));\n   */\n  filter(filter, { inplace=true }={}) {\n    if ( !inplace ) return this.clone().filter(filter);\n    if ( filter instanceof SelectChoices ) filter = filter.asSet();\n\n    for ( const [key, trait] of Object.entries(this) ) {\n      // Remove children if direct match and no wildcard for this category present\n      const wildcardKey = key.replace(/(:|^)(\\w+)$/, \"$1*\");\n      if ( filter.has(key) && !filter.has(wildcardKey) ) {\n        if ( trait.children ) delete trait.children;\n      }\n\n      // Check children, remove entry if no children match filter\n      else if ( !filter.has(wildcardKey) && !filter.has(`${key}:*`) ) {\n        if ( trait.children ) trait.children.filter(filter);\n        if ( foundry.utils.isEmpty(trait.children ?? {}) ) delete this[key];\n      }\n    }\n\n    return this;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Removes in place any traits or categories the keys of which are included in the exclusion set.\n   * Note: Wildcard keys are not supported with this method.\n   * @param {Set<string>} keys                Set of keys to remove from the choices.\n   * @param {object} [options={}]\n   * @param {boolean} [options.inplace=true]  Should this SelectChoices be mutated or a new one returned?\n   * @returns {SelectChoices}                 This SelectChoices with excluded keys removed.\n   *\n   * @example\n   * const choices = new SelectChoices({\n   *   categoryOne: { label: \"One\" },\n   *   categoryTwo: { label: \"Two\", children: {\n   *     childOne: { label: \"Child One\" },\n   *     childTwo: { label: \"Child Two\" }\n   *   } }\n   * });\n   *\n   * // Results in categoryOne being removed\n   * choices.exclude(new Set([\"categoryOne\"]));\n   *\n   * // Results in categoryOne and childOne being removed, but categoryTwo and childTwo remaining\n   * choices.exclude(new Set([\"categoryOne\", \"categoryTwo:childOne\"]));\n   */\n  exclude(keys, { inplace=true }={}) {\n    if ( !inplace ) return this.clone().exclude(keys);\n    for ( const [key, trait] of Object.entries(this) ) {\n      if ( keys.has(key) ) delete this[key];\n      else if ( trait.children ) trait.children = trait.children.exclude(keys);\n    }\n    return this;\n  }\n}\n","import SelectChoices from \"./select-choices.mjs\";\n\n/**\n * Cached version of the base items compendia indices with the needed subtype fields.\n * @type {object}\n * @private\n */\nconst _cachedIndices = {};\n\n/**\n * Determine the appropriate label to use for a trait category.\n * @param {object|string} data  Category for which to fetch the label.\n * @param {object} config       Trait configuration data.\n * @returns {string}\n * @private\n */\nfunction _innerLabel(data, config) {\n  return foundry.utils.getType(data) === \"Object\"\n    ? foundry.utils.getProperty(data, config.labelKeyPath ?? \"label\") : data;\n}\n\n/* -------------------------------------------- */\n/*  Application                                 */\n/* -------------------------------------------- */\n\n/**\n * Get the key path to the specified trait on an actor.\n * @param {string} trait  Trait as defined in `CONFIG.DND5E.traits`.\n * @returns {string}      Key path to this trait's object within an actor's system data.\n */\nexport function actorKeyPath(trait) {\n  const traitConfig = CONFIG.DND5E.traits[trait];\n  if ( traitConfig.actorKeyPath ) return traitConfig.actorKeyPath;\n  return `system.traits.${trait}`;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Get the current trait values for the provided actor.\n * @param {Actor5e} actor  Actor from which to retrieve the values.\n * @param {string} trait   Trait as defined in `CONFIG.DND5E.traits`.\n * @returns {Object<number>}\n */\nexport async function actorValues(actor, trait) {\n  const keyPath = actorKeyPath(trait);\n  const data = foundry.utils.getProperty(actor, keyPath);\n  if ( !data ) return {};\n  const values = {};\n  const traitChoices = await choices(trait, {prefixed: true});\n\n  const setValue = (k, v) => {\n    const result = traitChoices.find(k);\n    if ( result ) values[result[0]] = v;\n  };\n\n  if ( [\"skills\", \"tool\"].includes(trait) ) {\n    Object.entries(data).forEach(([k, d]) => setValue(k, d.value));\n  } else if ( trait === \"saves\" ) {\n    Object.entries(data).forEach(([k, d]) => setValue(k, d.proficient));\n  } else {\n    data.value.forEach(v => setValue(v, 1));\n  }\n\n  return values;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Calculate the change key path for a provided trait key.\n * @param {string} key      Key for a trait to set.\n * @param {string} [trait]  Trait as defined in `CONFIG.DND5E.traits`, only needed if key isn't prefixed.\n * @returns {string|void}\n */\nexport function changeKeyPath(key, trait) {\n  const split = key.split(\":\");\n  if ( !trait ) trait = split.shift();\n\n  const traitConfig = CONFIG.DND5E.traits[trait];\n  if ( !traitConfig ) return;\n\n  let keyPath = actorKeyPath(trait);\n\n  if ( trait === \"saves\" ) {\n    return `${keyPath}.${split.pop()}.proficient`;\n  } else if ( [\"skills\", \"tool\"].includes(trait) ) {\n    return `${keyPath}.${split.pop()}.value`;\n  } else {\n    return `${keyPath}.value`;\n  }\n}\n\n/* -------------------------------------------- */\n/*  Trait Lists                                 */\n/* -------------------------------------------- */\n\n/**\n * Build up a trait structure containing all of the children gathered from config & base items.\n * @param {string} trait       Trait as defined in `CONFIG.DND5E.traits`.\n * @returns {Promise<object>}  Object with trait categories and children.\n */\nexport async function categories(trait) {\n  const traitConfig = CONFIG.DND5E.traits[trait];\n  const config = foundry.utils.deepClone(CONFIG.DND5E[traitConfig.configKey ?? trait]);\n\n  for ( const key of Object.keys(config) ) {\n    if ( foundry.utils.getType(config[key]) !== \"Object\" ) config[key] = { label: config[key] };\n    if ( traitConfig.children?.[key] ) {\n      const children = config[key].children ??= {};\n      for ( const [childKey, value] of Object.entries(CONFIG.DND5E[traitConfig.children[key]]) ) {\n        if ( foundry.utils.getType(value) !== \"Object\" ) children[childKey] = { label: value };\n        else children[childKey] = { ...value };\n      }\n    }\n  }\n\n  if ( traitConfig.subtypes ) {\n    const map = CONFIG.DND5E[`${trait}ProficienciesMap`];\n\n    // Merge all ID lists together\n    const ids = traitConfig.subtypes.ids.reduce((obj, key) => {\n      foundry.utils.mergeObject(obj, CONFIG.DND5E[key] ?? {});\n      return obj;\n    }, {});\n\n    // Fetch base items for all IDs\n    const baseItems = await Promise.all(Object.entries(ids).map(async ([key, id]) => {\n      const index = await getBaseItem(id);\n      return [key, index];\n    }));\n\n    // Sort base items as children of categories based on subtypes\n    for ( const [key, index] of baseItems ) {\n      if ( !index ) continue;\n\n      // Get the proper subtype, using proficiency map if needed\n      let type = index.system.type.value;\n      if ( map?.[type] ) type = map[type];\n\n      // No category for this type, add at top level\n      if ( !config[type] ) config[key] = { label: index.name };\n\n      // Add as child of appropriate category\n      else {\n        config[type].children ??= {};\n        config[type].children[key] = { label: index.name };\n      }\n    }\n  }\n\n  return config;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Get a list of choices for a specific trait.\n * @param {string} trait                      Trait as defined in `CONFIG.DND5E.traits`.\n * @param {object} [options={}]\n * @param {Set<string>} [options.chosen=[]]   Optional list of keys to be marked as chosen.\n * @param {boolean} [options.prefixed=false]  Should keys be prefixed with trait type?\n * @param {boolean} [options.any=false]       Should the \"Any\" option be added to each category?\n * @returns {Promise<SelectChoices>}          Object mapping proficiency ids to choice objects.\n */\nexport async function choices(trait, { chosen=new Set(), prefixed=false, any=false }={}) {\n  const traitConfig = CONFIG.DND5E.traits[trait];\n  if ( !traitConfig ) return new SelectChoices();\n  if ( foundry.utils.getType(chosen) === \"Array\" ) chosen = new Set(chosen);\n  const categoryData = await categories(trait);\n\n  let result = {};\n  if ( prefixed && any ) {\n    const key = `${trait}:*`;\n    result[key] = {\n      label: keyLabel(key).titleCase(),\n      chosen: chosen.has(key), sorting: false, wildcard: true\n    };\n  }\n\n  const prepareCategory = (key, data, result, prefix, topLevel=false) => {\n    let label = _innerLabel(data, traitConfig);\n    if ( !label ) label = key;\n    if ( prefixed ) key = `${prefix}:${key}`;\n    result[key] = {\n      label: game.i18n.localize(label),\n      chosen: chosen.has(key),\n      sorting: topLevel ? traitConfig.sortCategories === true : true\n    };\n    if ( data.children ) {\n      const children = result[key].children = {};\n      if ( prefixed && any ) {\n        const anyKey = `${key}:*`;\n        children[anyKey] = {\n          label: keyLabel(anyKey).titleCase(),\n          chosen: chosen.has(anyKey), sorting: false, wildcard: true\n        };\n      }\n      Object.entries(data.children).forEach(([k, v]) => prepareCategory(k, v, children, key));\n    }\n  };\n\n  Object.entries(categoryData).forEach(([k, v]) => prepareCategory(k, v, result, trait, true));\n\n  return new SelectChoices(result).sort();\n}\n\n/* -------------------------------------------- */\n\n/**\n * Prepare an object with all possible choices from a set of keys. These choices will be grouped by\n * trait type if more than one type is present.\n * @param {Set<string>} keys  Prefixed trait keys.\n * @returns {Promise<SelectChoices>}\n */\nexport async function mixedChoices(keys) {\n  if ( !keys.size ) return new SelectChoices();\n  const types = {};\n  for ( const key of keys ) {\n    const split = key.split(\":\");\n    const trait = split.shift();\n    const selectChoices = (await choices(trait, { prefixed: true })).filter(new Set([key]));\n    types[trait] ??= { label: traitLabel(trait), children: new SelectChoices() };\n    types[trait].children.merge(selectChoices);\n  }\n  if ( Object.keys(types).length > 1 ) return new SelectChoices(types);\n  return Object.values(types)[0].children;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Fetch an item for the provided ID. If the provided ID contains a compendium pack name\n * it will be fetched from that pack, otherwise it will be fetched from the compendium defined\n * in `DND5E.sourcePacks.ITEMS`.\n * @param {string} identifier            Simple ID or compendium name and ID separated by a dot.\n * @param {object} [options]\n * @param {boolean} [options.indexOnly]  If set to true, only the index data will be fetched (will never return\n *                                       Promise).\n * @param {boolean} [options.fullItem]   If set to true, the full item will be returned as long as `indexOnly` is\n *                                       false.\n * @returns {Promise<Item5e>|object}     Promise for a `Document` if `indexOnly` is false & `fullItem` is true,\n *                                       otherwise else a simple object containing the minimal index data.\n */\nexport function getBaseItem(identifier, { indexOnly=false, fullItem=false }={}) {\n  const uuid = getBaseItemUUID(identifier);\n  const { collection, documentId: id } = foundry.utils.parseUuid(uuid);\n  const pack = collection?.metadata.id;\n\n  // Full Item5e document required, always async.\n  if ( fullItem && !indexOnly ) return collection?.getDocument(id);\n\n  const cache = _cachedIndices[pack];\n  const loading = cache instanceof Promise;\n\n  // Return extended index if cached, otherwise normal index, guaranteed to never be async.\n  if ( indexOnly ) {\n    const index = collection?.index.get(id);\n    return loading ? index : cache?.[id] ?? index;\n  }\n\n  // Returned cached version of extended index if available.\n  if ( loading ) return cache.then(() => _cachedIndices[pack][id]);\n  else if ( cache ) return cache[id];\n  if ( !collection ) return;\n\n  // Build the extended index and return a promise for the data\n  const fields = traitIndexFields();\n  const promise = collection.getIndex({ fields }).then(index => {\n    const store = index.reduce((obj, entry) => {\n      for ( const field of fields ) {\n        const val = foundry.utils.getProperty(entry, field);\n        if ( (field !== \"system.type.value\") && (val !== undefined) ) {\n          foundry.utils.setProperty(entry, \"system.type.value\", val);\n          foundry.utils.logCompatibilityWarning(\n            `The '${field}' property has been deprecated in favor of a standardized \\`system.type.value\\` property.`,\n            { since: \"DnD5e 3.0\", until: \"DnD5e 3.4\", once: true }\n          );\n        }\n      }\n      obj[entry._id] = entry;\n      return obj;\n    }, {});\n    _cachedIndices[pack] = store;\n    return store[id];\n  });\n  _cachedIndices[pack] = promise;\n  return promise;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Construct a proper UUID for the provided base item ID.\n * @param {string} identifier  Simple ID, compendium name and ID separated by a dot, or proper UUID.\n * @returns {string}\n */\nexport function getBaseItemUUID(identifier) {\n  if ( identifier.startsWith(\"Compendium.\") ) return identifier;\n  let pack = CONFIG.DND5E.sourcePacks.ITEMS;\n  let [scope, collection, id] = identifier.split(\".\");\n  if ( scope && collection ) pack = `${scope}.${collection}`;\n  if ( !id ) id = identifier;\n  return `Compendium.${pack}.Item.${id}`;\n}\n\n/* -------------------------------------------- */\n\n/**\n * List of fields on items that should be indexed for retrieving subtypes.\n * @returns {string[]}  Index list to pass to `Compendium#getIndex`.\n * @protected\n */\nexport function traitIndexFields() {\n  const fields = [\"system.type.value\"];\n  for ( const traitConfig of Object.values(CONFIG.DND5E.traits) ) {\n    if ( !traitConfig.subtypes ) continue;\n    fields.push(`system.${traitConfig.subtypes.keyPath}`);\n  }\n  return fields;\n}\n\n/* -------------------------------------------- */\n/*  Localized Formatting Methods                */\n/* -------------------------------------------- */\n\n/**\n * Get the localized label for a specific trait type.\n * @param {string} trait    Trait as defined in `CONFIG.DND5E.traits`.\n * @param {number} [count]  Count used to determine pluralization. If no count is provided, will default to\n *                          the 'other' pluralization.\n * @returns {string}        Localized label.\n */\nexport function traitLabel(trait, count) {\n  const traitConfig = CONFIG.DND5E.traits[trait];\n  const pluralRule = (count !== undefined) ? new Intl.PluralRules(game.i18n.lang).select(count) : \"other\";\n  if ( !traitConfig ) return game.i18n.localize(`DND5E.TraitGenericPlural.${pluralRule}`);\n  return game.i18n.localize(`${traitConfig.labels.localization}.${pluralRule}`);\n}\n\n/* -------------------------------------------- */\n\n/**\n * Retrieve the proper display label for the provided key. Will return a promise unless a categories\n * object is provided in config.\n * @param {string} key              Key for which to generate the label.\n * @param {object} [config={}]\n * @param {number} [config.count]   Number to display, only if a wildcard is used as final part of key.\n * @param {string} [config.trait]   Trait as defined in `CONFIG.DND5E.traits` if not using a prefixed key.\n * @param {boolean} [config.final]  Is this the final in a list?\n * @returns {string}                Retrieved label.\n *\n * @example\n * // Returns \"Tool Proficiency\"\n * keyLabel(\"tool\");\n *\n * @example\n * // Returns \"Artisan's Tools\"\n * keyLabel(\"tool:art\");\n *\n * @example\n * // Returns \"any Artisan's Tools\"\n * keyLabel(\"tool:art:*\");\n *\n * @example\n * // Returns \"any 2 Artisan's Tools\"\n * keyLabel(\"tool:art:*\", { count: 2 });\n *\n * @example\n * // Returns \"2 other Artisan's Tools\"\n * keyLabel(\"tool:art:*\", { count: 2, final: true });\n *\n * @example\n * // Returns \"Gaming Sets\"\n * keyLabel(\"tool:game\");\n *\n * @example\n * // Returns \"Land Vehicle\"\n * keyLabel(\"tool:vehicle:land\");\n *\n * @example\n * // Returns \"Shortsword\"\n * keyLabel(\"weapon:shortsword\");\n * keyLabel(\"weapon:simple:shortsword\");\n * keyLabel(\"shortsword\", { trait: \"weapon\" });\n */\nexport function keyLabel(key, config={}) {\n  if ( foundry.utils.getType(config) === \"string\" ) {\n    foundry.utils.logCompatibilityWarning(\n      \"Trait.keyLabel(trait, key) is now Trait.keyLabel(key, { trait }).\",\n      { since: \"DnD5e 2.4\", until: \"DnD5e 3.1\" }\n    );\n    const tmp = config;\n    config = { trait: key };\n    key = tmp;\n  }\n  let { count, trait, final } = config;\n\n  let parts = key.split(\":\");\n  const pluralRules = new Intl.PluralRules(game.i18n.lang);\n\n  if ( !trait ) trait = parts.shift();\n  const traitConfig = CONFIG.DND5E.traits[trait];\n  if ( !traitConfig ) return key;\n  const traitData = CONFIG.DND5E[traitConfig.configKey ?? trait] ?? {};\n  let categoryLabel = game.i18n.localize(`${traitConfig.labels.localization}.${\n    pluralRules.select(count ?? 1)}`);\n\n  // Trait (e.g. \"Tool Proficiency\")\n  const lastKey = parts.pop();\n  if ( !lastKey ) return categoryLabel;\n\n  // Wildcards (e.g. \"Artisan's Tools\", \"any Artisan's Tools\", \"any 2 Artisan's Tools\", or \"2 other Artisan's Tools\")\n  if ( lastKey === \"*\" ) {\n    let type;\n    if ( parts.length ) {\n      let category = traitData;\n      do {\n        category = (category.children ?? category)[parts.shift()];\n        if ( !category ) return key;\n      } while ( parts.length );\n      type = _innerLabel(category, traitConfig);\n    } else type = categoryLabel.toLowerCase();\n    const localization = `DND5E.TraitConfigChoose${final ? \"Other\" : `Any${count ? \"Counted\" : \"Uncounted\"}`}`;\n    return game.i18n.format(localization, { count: count ?? 1, type });\n  }\n\n  else {\n    // Category (e.g. \"Gaming Sets\")\n    const category = traitData[lastKey];\n    if ( category ) return _innerLabel(category, traitConfig);\n\n    // Child (e.g. \"Land Vehicle\")\n    for ( const childrenKey of Object.values(traitConfig.children ?? {}) ) {\n      const childLabel = CONFIG.DND5E[childrenKey]?.[lastKey];\n      if ( childLabel ) return childLabel;\n    }\n\n    // Base item (e.g. \"Shortsword\")\n    for ( const idsKey of traitConfig.subtypes?.ids ?? [] ) {\n      const baseItemId = CONFIG.DND5E[idsKey]?.[lastKey];\n      if ( !baseItemId ) continue;\n      const index = getBaseItem(baseItemId, { indexOnly: true });\n      if ( index ) return index.name;\n      break;\n    }\n\n    // Explicit categories (e.g. languages)\n    const searchCategory = (data, key) => {\n      for ( const [k, v] of Object.entries(data) ) {\n        if ( k === key ) return v;\n        if ( v.children ) {\n          const result = searchCategory(v.children, key);\n          if ( result ) return result;\n        }\n      }\n    };\n    const config = searchCategory(traitData, lastKey);\n    return config ? _innerLabel(config, traitConfig) : key;\n  }\n}\n\n/* -------------------------------------------- */\n\n/**\n * Create a human readable description of the provided choice.\n * @param {TraitChoice} choice             Data for a specific choice.\n * @param {object} [options={}]\n * @param {boolean} [options.only=false]   Is this choice on its own, or part of a larger list?\n * @param {boolean} [options.final=false]  If this choice is part of a list of other grants or choices,\n *                                         is it in the final position?\n * @returns {string}\n *\n * @example\n * // Returns \"any three skill proficiencies\"\n * choiceLabel({ count: 3, pool: new Set([\"skills:*\"]) });\n *\n * @example\n * // Returns \"three other skill proficiencies\"\n * choiceLabel({ count: 3, pool: new Set([\"skills:*\"]) }, { final: true });\n *\n * @example\n * // Returns \"any skill proficiency\"\n * choiceLabel({ count: 1, pool: new Set([\"skills:*\"]) }, { only: true });\n *\n * @example\n * // Returns \"Thieves Tools or any skill\"\n * choiceLabel({ count: 1, pool: new Set([\"tool:thief\", \"skills:*\"]) }, { only: true });\n *\n * @example\n * // Returns \"Thieves' Tools or any artisan tool\"\n * choiceLabel({ count: 1, pool: new Set([\"tool:thief\", \"tool:art:*\"]) }, { only: true });\n *\n * @example\n * // Returns \"2 from Thieves' Tools or any skill proficiency\"\n * choiceLabel({ count: 2, pool: new Set([\"tool:thief\", \"skills:*\"]) });\n *\n */\nexport function choiceLabel(choice, { only=false, final=false }={}) {\n  if ( !choice.pool.size ) return \"\";\n\n  // Single entry in pool (e.g. \"any three skill proficiencies\" or \"three other skill proficiencies\")\n  if ( choice.pool.size === 1 ) {\n    return keyLabel(choice.pool.first(), {\n      count: (choice.count > 1 || !only) ? choice.count : null, final: final && !only\n    });\n  }\n\n  const listFormatter = new Intl.ListFormat(game.i18n.lang, { type: \"disjunction\" });\n\n  // Singular count (e.g. \"any skill\", \"Thieves Tools or any skill\", or \"Thieves' Tools or any artisan tool\")\n  if ( (choice.count === 1) && only ) {\n    return listFormatter.format(choice.pool.map(key => keyLabel(key)));\n  }\n\n  // Select from a list of options (e.g. \"2 from Thieves' Tools or any skill proficiency\")\n  const choices = choice.pool.map(key => keyLabel(key));\n  return game.i18n.format(\"DND5E.TraitConfigChooseList\", {\n    count: choice.count,\n    list: listFormatter.format(choices)\n  });\n}\n\n/* -------------------------------------------- */\n\n/**\n * Create a human readable description of trait grants & choices.\n * @param {object} config\n * @param {Set<string>} [config.grants]        Guaranteed trait grants.\n * @param {TraitChoice[]} [config.choices=[]]  Trait choices.\n * @returns {string}\n *\n * @example\n * // Returns \"Acrobatics and Athletics\"\n * localizedList({ grants: new Set([\"skills:acr\", \"skills:ath\"]) });\n *\n * @example\n * // Returns \"Acrobatics and one other skill proficiency\"\n * localizedList({ grants: new Set([\"skills:acr\"]), choices: [{ count: 1, pool: new Set([\"skills:*\"])}] });\n *\n * @example\n * // Returns \"Choose any skill proficiency\"\n * localizedList({ choices: [{ count: 1, pool: new Set([\"skills:*\"])}] });\n */\nexport function localizedList({ grants=new Set(), choices=[] }) {\n  const sections = Array.from(grants).map(g => keyLabel(g));\n\n  for ( const [index, choice] of choices.entries() ) {\n    const final = index === choices.length - 1;\n    sections.push(choiceLabel(choice, { final, only: !grants.size && choices.length === 1 }));\n  }\n\n  const listFormatter = new Intl.ListFormat(game.i18n.lang, { style: \"long\", type: \"conjunction\" });\n  if ( !sections.length || grants.size ) return listFormatter.format(sections);\n  return game.i18n.format(\"DND5E.TraitConfigChooseWrapper\", {\n    choices: listFormatter.format(sections)\n  });\n}\n","import AdvancementConfig from \"./advancement-config.mjs\";\nimport * as Trait from \"../../documents/actor/trait.mjs\";\nimport { filteredKeys } from \"../../utils.mjs\";\n\n/**\n * Configuration application for traits.\n */\nexport default class TraitConfig extends AdvancementConfig {\n  constructor(...args) {\n    super(...args);\n    this.selected = (this.config.choices.length && !this.config.grants.size) ? 0 : -1;\n    this.trait = this.types.first() ?? \"skills\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Shortcut to the configuration data on the advancement.\n   * @type {object}\n   */\n  get config() {\n    return this.advancement.configuration;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Index of the selected configuration, `-1` means `grants` array, any other number is equal\n   * to an index in `choices` array.\n   * @type {number}\n   */\n  selected;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Trait type to display in the selector interface.\n   * @type {string}\n   */\n  trait;\n\n  /* -------------------------------------------- */\n\n  /**\n   * List of trait types for the current selected configuration.\n   * @type {Set<string>}\n   */\n  get types() {\n    const pool = this.selected === -1 ? this.config.grants : this.config.choices[this.selected].pool;\n    return this.advancement.representedTraits([pool]);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\", \"advancement\", \"traits\", \"two-column\"],\n      template: \"systems/dnd5e/templates/advancement/trait-config.hbs\",\n      width: 640\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Context Preparation                         */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async getData() {\n    const context = super.getData();\n\n    context.grants = {\n      label: Trait.localizedList({ grants: this.config.grants }) || \"\",\n      data: this.config.grants,\n      selected: this.selected === -1\n    };\n    context.choices = this.config.choices.map((choice, index) => ({\n      label: Trait.choiceLabel(choice, { only: true }).capitalize() || \"\",\n      data: choice,\n      selected: this.selected === index\n    }));\n    const chosen = (this.selected === -1) ? context.grants.data : context.choices[this.selected].data.pool;\n    context.count = context.choices[this.selected]?.data.count;\n    context.selectedIndex = this.selected;\n\n    context.validTraitTypes = Object.entries(CONFIG.DND5E.traits).reduce((obj, [key, config]) => {\n      if ( (this.config.mode === \"default\") || config.expertise ) obj[key] = config.labels.title;\n      return obj;\n    }, {});\n\n    const rep = this.advancement.representedTraits();\n    const traitConfig = rep.size === 1 ? CONFIG.DND5E.traits[rep.first()] : null;\n    if ( traitConfig ) {\n      context.default.title = traitConfig.labels.title;\n      context.default.icon = traitConfig.icon;\n    } else {\n      context.default.title = game.i18n.localize(\"DND5E.TraitGenericPlural.other\");\n      context.default.icon = this.advancement.constructor.metadata.icon;\n    }\n    context.default.hint = Trait.localizedList({ grants: this.config.grants, choices: this.config.choices });\n\n    context.choiceOptions = await Trait.choices(this.trait, { chosen, prefixed: true, any: this.selected !== -1 });\n    context.selectedTraitHeader = `${CONFIG.DND5E.traits[this.trait].labels.localization}.other`;\n    context.selectedTrait = this.trait;\n\n    return context;\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Handlers                              */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n\n    this.form.querySelectorAll(\"[data-action]\").forEach(a => a.addEventListener(\"click\", this._onAction.bind(this)));\n\n    // Handle selecting & disabling category children when a category is selected\n    for ( const checkbox of html[0].querySelectorAll(\".trait-selector input:checked\") ) {\n      const toCheck = checkbox.name.endsWith(\"*\")\n        ? checkbox.closest(\"ol\").querySelectorAll(`input:not([name=\"${checkbox.name}\"])`)\n        : checkbox.closest(\"li\").querySelector(\"ol\")?.querySelectorAll(\"input\");\n      toCheck?.forEach(i => i.checked = i.disabled = true);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle clicks to the Add and Remove buttons above the list.\n   * @param {Event} event  Triggering click.\n   */\n  async _onAction(event) {\n    event.preventDefault();\n    switch ( event.currentTarget.dataset.action ) {\n      case \"add-choice\":\n        this.config.choices.push({ count: 1 });\n        this.selected = this.config.choices.length - 1;\n        break;\n\n      case \"remove-choice\":\n        const input = event.currentTarget.closest(\"li\").querySelector(\"[name='selectedIndex']\");\n        const selectedIndex = Number(input.value);\n        this.config.choices.splice(selectedIndex, 1);\n        if ( selectedIndex <= this.selected ) this.selected -= 1;\n        break;\n\n      default:\n        return;\n    }\n\n    await this.advancement.update({ configuration: await this.prepareConfigurationUpdate() });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _onChangeInput(event) {\n    // Display new set of trait choices\n    if ( event.target.name === \"selectedTrait\" ) {\n      this.trait = event.target.value;\n      return this.render();\n    }\n\n    // Change selected configuration set\n    else if ( event.target.name === \"selectedIndex\" ) {\n      this.selected = Number(event.target.value ?? -1);\n      const types = this.types;\n      if ( types.size && !types.has(this.trait) ) this.trait = types.first();\n      return this.render();\n    }\n\n    // If mode is changed from default to one of the others, change selected type if current type is not valid\n    if ( (event.target.name === \"configuration.mode\")\n      && (event.target.value !== \"default\")\n      && (this.config.mode === \"default\") ) {\n      const validTraitTypes = filteredKeys(CONFIG.DND5E.traits, c => c.expertise);\n      if ( !validTraitTypes.includes(this.trait) ) this.trait = validTraitTypes[0];\n    }\n\n    super._onChangeInput(event);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async prepareConfigurationUpdate(configuration={}) {\n    const choicesCollection = foundry.utils.deepClone(this.config.choices);\n\n    if ( configuration.checked ) {\n      const prefix = `${this.trait}:`;\n      const filteredSelected = filteredKeys(configuration.checked);\n\n      // Update grants\n      if ( this.selected === -1 ) {\n        const filteredPrevious = this.config.grants.filter(k => !k.startsWith(prefix));\n        configuration.grants = [...filteredPrevious, ...filteredSelected];\n      }\n\n      // Update current choice pool\n      else {\n        const current = choicesCollection[this.selected];\n        const filteredPrevious = current.pool.filter(k => !k.startsWith(prefix));\n        current.pool = [...filteredPrevious, ...filteredSelected];\n      }\n      delete configuration.checked;\n    }\n\n    if ( configuration.count ) {\n      choicesCollection[this.selected].count = configuration.count;\n      delete configuration.count;\n    }\n\n    // TODO: Remove when https://github.com/foundryvtt/foundryvtt/issues/7706 is resolved\n    choicesCollection.forEach(c => {\n      if ( !c.pool ) return;\n      c.pool = Array.from(c.pool);\n    });\n    configuration.choices = choicesCollection;\n    configuration.grants ??= Array.from(this.config.grants);\n\n    // If one of the expertise modes is selected, filter out any traits that are not of a valid type\n    if ( (configuration.mode ?? this.config.mode) !== \"default\" ) {\n      const validTraitTypes = filteredKeys(CONFIG.DND5E.traits, c => c.expertise);\n      configuration.grants = configuration.grants.filter(k => validTraitTypes.some(t => k.startsWith(t)));\n      configuration.choices.forEach(c => c.pool = c.pool?.filter(k => validTraitTypes.some(t => k.startsWith(t))));\n    }\n\n    return configuration;\n  }\n}\n","import AdvancementFlow from \"./advancement-flow.mjs\";\nimport * as Trait from \"../../documents/actor/trait.mjs\";\n\n/**\n * Inline application that presents the player with a trait choices.\n */\nexport default class TraitFlow extends AdvancementFlow {\n\n  /**\n   * Array of trait keys currently chosen.\n   * @type {Set<string>}\n   */\n  chosen;\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      template: \"systems/dnd5e/templates/advancement/trait-flow.hbs\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Trait configuration from `CONFIG.TRAITS` for this advancement's trait type.\n   * @type {TraitConfiguration}\n   */\n  get traitConfig() {\n    return CONFIG.DND5E.traits[this.advancement.configuration.type];\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async getData() {\n    this.chosen ??= await this.prepareInitialValue();\n    const available = await this.advancement.availableChoices(this.chosen);\n    return foundry.utils.mergeObject(super.getData(), {\n      hint: this.advancement.hint ? this.advancement.hint : Trait.localizedList({\n        grants: this.advancement.configuration.grants, choices: this.advancement.configuration.choices\n      }),\n      slots: this.prepareTraitSlots(available),\n      available\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  activateListeners(html) {\n    this.form.querySelectorAll(\"select\").forEach(s => s.addEventListener(\"change\", this._onSelectTrait.bind(this)));\n    this.form.querySelectorAll(\".remove\").forEach(s => s.addEventListener(\"click\", this._onRemoveTrait.bind(this)));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Add a trait to the value when one is selected.\n   * @param {Event} event  Triggering change to a select input.\n   */\n  _onSelectTrait(event) {\n    const addedTrait = event.target.value;\n    if ( addedTrait === \"\" ) return;\n    this.chosen.add(addedTrait);\n    this.render();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Remove a trait for the value when the remove button is clicked.\n   * @param {Event} event  Triggering click.\n   */\n  _onRemoveTrait(event) {\n    const tag = event.target.closest(\".trait-slot\");\n    this.chosen.delete(tag.dataset.key);\n    this.render();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _updateObject(event, formData) {\n    if ( formData.chosen && !Array.isArray(formData.chosen) ) formData.chosen = [formData.chosen];\n    super._updateObject(event, formData);\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Preparation Methods                    */\n  /* -------------------------------------------- */\n\n  /**\n   * When only a single choice is available, automatically select that choice provided value is empty.\n   * @returns {Set<string>}\n   */\n  async prepareInitialValue() {\n    const existingChosen = this.retainedData?.chosen ?? this.advancement.value.chosen;\n    if ( existingChosen?.size ) return new Set(existingChosen);\n    const { available } = await this.advancement.unfulfilledChoices();\n    const chosen = new Set();\n    for ( const { choices } of available ) {\n      const set = choices.asSet();\n      if ( set.size === 1 ) chosen.add(set.first());\n    }\n    return chosen;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare the list of slots to be populated by traits.\n   * @param {object} available  Trait availability returned by `prepareAvailableTraits`.\n   * @returns {object[]}\n   */\n  prepareTraitSlots(available) {\n    const config = this.advancement.configuration;\n    const count = config.choices.reduce((count, c) => count + c.count, config.grants.size);\n    const chosen = Array.from(this.chosen);\n    let selectorShown = false;\n    const slots = [];\n    for ( let i = 1; i <= count; i++ ) {\n      const key = chosen.shift();\n      if ( selectorShown || (!key && !available) ) continue;\n      selectorShown = !key;\n      slots.push({\n        key,\n        label: key ? Trait.keyLabel(key, { type: config.type }) : null,\n        showDelete: !this.advancement.configuration.grants.has(key),\n        showSelector: !key\n      });\n    }\n    return slots;\n  }\n}\n","/**\n * Configuration for a specific trait choice.\n *\n * @typedef {object} TraitChoice\n * @property {number} count     Number of traits that can be selected.\n * @property {string[]} [pool]  List of trait or category keys that can be chosen. If no choices are provided,\n *                              any trait of the specified type can be selected.\n */\n\n/**\n * Configuration data for the TraitAdvancement.\n *\n * @property {string} mode                Method by which this advancement modifies the actor's traits.\n * @property {boolean} allowReplacements  Whether all potential choices should be presented to the user if there\n *                                        are no more choices available in a more limited set.\n * @property {string[]} grants            Keys for traits granted automatically.\n * @property {TraitChoice[]} choices      Choices presented to the user.\n */\nexport class TraitConfigurationData extends foundry.abstract.DataModel {\n  static defineSchema() {\n    return {\n      mode: new foundry.data.fields.StringField({initial: \"default\", label: \"DND5E.AdvancementTraitMode\"}),\n      allowReplacements: new foundry.data.fields.BooleanField({\n        required: true, label: \"DND5E.AdvancementTraitAllowReplacements\",\n        hint: \"DND5E.AdvancementTraitAllowReplacementsHint\"\n      }),\n      grants: new foundry.data.fields.SetField(new foundry.data.fields.StringField(), {\n        required: true, label: \"DND5E.AdvancementTraitGrants\"\n      }),\n      choices: new foundry.data.fields.ArrayField(new foundry.data.fields.SchemaField({\n        count: new foundry.data.fields.NumberField({\n          required: true, positive: true, integer: true, initial: 1, label: \"DND5E.AdvancementTraitCount\"\n        }),\n        pool: new foundry.data.fields.SetField(new foundry.data.fields.StringField(), {\n          required: false, label: \"DOCUMENT.Items\"\n        })\n      }), {label: \"DND5E.AdvancementTraitChoices\"})\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  get hint() {\n    foundry.utils.logCompatibilityWarning(\n      \"Advancement hints are now part of the base data model.\",\n      { since: \"DnD5e 3.3\", until: \"DnD5e 4.1\" }\n    );\n    return this.parent.hint ?? \"\";\n  }\n}\n\n/**\n * Value data for the TraitAdvancement.\n *\n * @property {Set<string>} chosen  Trait keys that have been chosen.\n */\nexport class TraitValueData extends foundry.abstract.DataModel {\n  static defineSchema() {\n    return {\n      chosen: new foundry.data.fields.SetField(new foundry.data.fields.StringField(), { required: false })\n    };\n  }\n}\n","import Advancement from \"./advancement.mjs\";\nimport SelectChoices from \"../actor/select-choices.mjs\";\nimport * as Trait from \"../actor/trait.mjs\";\nimport TraitConfig from \"../../applications/advancement/trait-config.mjs\";\nimport TraitFlow from \"../../applications/advancement/trait-flow.mjs\";\nimport {TraitConfigurationData, TraitValueData} from \"../../data/advancement/trait.mjs\";\nimport { filteredKeys } from \"../../utils.mjs\";\n\n/**\n * Advancement that grants the player with certain traits or presents them with a list of traits from which\n * to choose.\n */\nexport default class TraitAdvancement extends Advancement {\n\n  /** @inheritdoc */\n  static get metadata() {\n    return foundry.utils.mergeObject(super.metadata, {\n      dataModels: {\n        configuration: TraitConfigurationData,\n        value: TraitValueData\n      },\n      order: 30,\n      icon: \"systems/dnd5e/icons/svg/trait.svg\",\n      title: game.i18n.localize(\"DND5E.AdvancementTraitTitle\"),\n      hint: game.i18n.localize(\"DND5E.AdvancementTraitHint\"),\n      apps: {\n        config: TraitConfig,\n        flow: TraitFlow\n      }\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The maximum number of traits granted by this advancement. The number of traits actually granted may be lower if\n   * actor already has some traits.\n   * @type {number}\n   */\n  get maxTraits() {\n    const { grants, choices } = this.configuration;\n    return grants.size + choices.reduce((acc, choice) => acc + choice.count, 0);\n  }\n\n  /* -------------------------------------------- */\n  /*  Preparation Methods                         */\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare data for the Advancement.\n   */\n  prepareData() {\n    const rep = this.representedTraits();\n    const traitConfig = rep.size === 1 ? CONFIG.DND5E.traits[rep.first()] : null;\n    this.title = this.title || traitConfig?.labels.title || this.constructor.metadata.title;\n    this.icon = this.icon || traitConfig?.icon || this.constructor.metadata.icon;\n  }\n\n  /* -------------------------------------------- */\n  /*  Display Methods                             */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  configuredForLevel(level) {\n    return !!this.value.chosen?.size;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  sortingValueForLevel(levels) {\n    const traitOrder = Object.keys(CONFIG.DND5E.traits).findIndex(k => k === this.representedTraits().first());\n    const modeOrder = Object.keys(CONFIG.DND5E.traitModes).findIndex(k => k === this.configuration.mode);\n    const order = traitOrder + (modeOrder * 100);\n    return `${this.constructor.metadata.order.paddedString(4)} ${order.paddedString(4)} ${this.titleForLevel(levels)}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  summaryForLevel(level, { configMode=false }={}) {\n    if ( configMode ) {\n      if ( this.hint ) return `<p>${this.hint}</p>`;\n      return `<p>${Trait.localizedList({\n        grants: this.configuration.grants, choices: this.configuration.choices\n      })}</p>`;\n    } else {\n      return Array.from(this.value.chosen).map(k => `<span class=\"tag\">${Trait.keyLabel(k)}</span>`).join(\" \");\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Application Methods                         */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async apply(level, data) {\n    const updates = {};\n    if ( !data.chosen ) return;\n\n    for ( const key of data.chosen ) {\n      const keyPath = Trait.changeKeyPath(key);\n      let existingValue = updates[keyPath] ?? foundry.utils.getProperty(this.actor, keyPath);\n\n      if ( [\"Array\", \"Set\"].includes(foundry.utils.getType(existingValue)) ) {\n        existingValue = new Set(existingValue);\n        existingValue.add(key.split(\":\").pop());\n        updates[keyPath] = Array.from(existingValue);\n      } else if ( (this.configuration.mode !== \"expertise\") || (existingValue !== 0) ) {\n        updates[keyPath] = (this.configuration.mode === \"default\")\n          || ((this.configuration.mode === \"upgrade\") && (existingValue === 0)) ? 1 : 2;\n      }\n    }\n\n    this.actor.updateSource(updates);\n    this.updateSource({ \"value.chosen\": Array.from(data.chosen) });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async restore(level, data) {\n    this.apply(level, data);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async reverse(level) {\n    const updates = {};\n    if ( !this.value.chosen ) return;\n\n    for ( const key of this.value.chosen ) {\n      const keyPath = Trait.changeKeyPath(key);\n      let existingValue = updates[keyPath] ?? foundry.utils.getProperty(this.actor, keyPath);\n\n      if ( [\"Array\", \"Set\"].includes(foundry.utils.getType(existingValue)) ) {\n        existingValue = new Set(existingValue);\n        existingValue.delete(key.split(\":\").pop());\n        updates[keyPath] = Array.from(existingValue);\n      }\n\n      else if ( this.configuration.mode === \"expertise\" ) updates[keyPath] = 1;\n      else if ( this.configuration.mode === \"upgrade\" ) updates[keyPath] = existingValue === 1 ? 0 : 1;\n      else updates[keyPath] = 0;\n      // NOTE: When using forced expertise mode, this will not return to original value\n      // if the value before being applied is 1.\n    }\n\n    const retainedData = foundry.utils.deepClone(this.value);\n    this.actor.updateSource(updates);\n    this.updateSource({ \"value.chosen\": [] });\n    return retainedData;\n  }\n\n  /* -------------------------------------------- */\n  /*  Helper Methods                              */\n  /* -------------------------------------------- */\n\n  /**\n   * Two sets of keys based on actor data, one that is considered \"selected\" and thus unavailable to be chosen\n   * and another that is \"available\". This is based off configured advancement mode.\n   * @returns {{selected: Set<string>, available: Set<string>}}\n   */\n  async actorSelected() {\n    const selected = new Set();\n    const available = new Set();\n\n    // If \"default\" mode is selected, return all traits\n    // If any other mode is selected, only return traits that support expertise\n    const traitTypes = this.configuration.mode === \"default\" ? Object.keys(CONFIG.DND5E.traits)\n      : filteredKeys(CONFIG.DND5E.traits, t => t.expertise);\n\n    for ( const trait of traitTypes ) {\n      const actorValues = await Trait.actorValues(this.actor, trait);\n      const choices = await Trait.choices(trait, { prefixed: true });\n      for ( const key of choices.asSet() ) {\n        const value = actorValues[key] ?? 0;\n        if ( this.configuration.mode === \"default\" ) {\n          if ( value >= 1 ) selected.add(key);\n          else available.add(key);\n        } else {\n          if ( value === 2 ) selected.add(key);\n          if ( (this.configuration.mode === \"expertise\") && (value === 1) ) available.add(key);\n          else if ( (this.configuration.mode !== \"expertise\") && (value < 2) ) available.add(key);\n        }\n      }\n    }\n\n    return { selected, available };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Guess the trait type from the grants & choices on this advancement.\n   * @param {Set<string>[]} [pools]  Trait pools to use when figuring out the type.\n   * @returns {Set<string>}\n   */\n  representedTraits(pools) {\n    const set = new Set();\n    pools ??= [this.configuration.grants, ...this.configuration.choices.map(c => c.pool)];\n    for ( const pool of pools ) {\n      for ( const key of pool ) {\n        const [type] = key.split(\":\");\n        set.add(type);\n      }\n    }\n    return set;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare the list of available traits from which the player can choose.\n   * @param {Set<string>} [chosen]  Traits already chosen on the advancement. If not set then it will\n   *                                be retrieved from advancement's value.\n   * @returns {{choices: SelectChoices, label: string}|null}\n   */\n  async availableChoices(chosen) {\n    // TODO: Still shows \"Choose 1 x\" even if not possible due to mode restriction\n    let { available, choices } = await this.unfulfilledChoices(chosen);\n\n    // If all traits of this type are already assigned, then nothing new can be selected\n    if ( foundry.utils.isEmpty(choices) ) return null;\n\n    // Remove any grants that have no choices remaining\n    let unfilteredLength = available.length;\n    available = available.filter(a => a.choices.asSet().size > 0);\n\n    // If replacements are allowed and there are grants with zero choices from their limited set,\n    // display all remaining choices as an option\n    if ( this.configuration.allowReplacements && (unfilteredLength > available.length) ) {\n      const rep = this.representedTraits();\n      return {\n        choices: choices.filter(this.representedTraits().map(t => `${t}:*`), { inplace: false }),\n        label: game.i18n.format(\"DND5E.AdvancementTraitChoicesRemaining\", {\n          count: unfilteredLength,\n          type: Trait.traitLabel(rep.size === 1 ? rep.first() : null, unfilteredLength)\n        })\n      };\n      // TODO: This works well for types without categories like skills where it is primarily intended,\n      // but perhaps there could be some improvements elsewhere. For example, if I have an advancement\n      // that grants proficiency in the Bagpipes and allows replacements, but the character already has\n      // Bagpipe proficiency. In this example this just lets them choose from any other tool proficiency\n      // as their replacement, but it might make sense to only show other musical instruments unless\n      // they already have proficiency in all musical instruments. Might not be worth the effort.\n    }\n\n    if ( !available.length ) return null;\n\n    // Create a choices object featuring a union of choices from all remaining grants\n    const remainingSet = new Set(available.flatMap(a => Array.from(a.choices.asSet())));\n    choices.filter(remainingSet);\n\n    const rep = this.representedTraits(available.map(a => a.choices.asSet()));\n    return {\n      choices,\n      label: game.i18n.format(\"DND5E.AdvancementTraitChoicesRemaining\", {\n        count: available.length,\n        type: Trait.traitLabel(rep.size === 1 ? rep.first() : null, available.length)\n      })\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The advancement configuration is flattened into separate options for the user that are chosen step-by-step. Some\n   * are automatically picked for them if they are 'grants' or if there is only one option after the character's\n   * existing traits have been taken into account.\n   * @typedef {object} TraitChoices\n   * @property {\"grant\"|\"choice\"} type  Whether this trait is automatically granted or is chosen from some options.\n   * @property {number} [choiceIdx]     An index that groups each separate choice into the groups that they originally\n   *                                    came from.\n   * @property {SelectChoices} choices  The available traits to pick from. Grants have only 0 or 1, depending on whether\n   *                                    the character already has the granted trait.\n   */\n\n  /**\n   * Determine which of the provided grants, if any, still needs to be fulfilled.\n   * @param {Set<string>} [chosen]  Traits already chosen on the advancement. If not set then it will\n   *                                be retrieved from advancement's value.\n   * @returns {{ available: TraitChoices[], choices: SelectChoices }}\n   */\n  async unfulfilledChoices(chosen) {\n    const actorData = await this.actorSelected();\n    const selected = {\n      actor: actorData.selected,\n      item: chosen ?? this.value.selected ?? new Set()\n    };\n\n    // If everything has already been selected, no need to go further\n    if ( this.maxTraits <= selected.item.size ) {\n      return { available: [], choices: new SelectChoices() };\n    }\n\n    const available = await Promise.all([\n      ...this.configuration.grants.map(async g => ({\n        type: \"grant\",\n        choices: await Trait.mixedChoices(new Set([g]))\n      })),\n      ...this.configuration.choices.reduce((arr, choice, index) => {\n        return arr.concat(Array.fromRange(choice.count).map(async () => ({\n          type: \"choice\",\n          choiceIdx: index,\n          choices: await Trait.mixedChoices(choice.pool)\n        })));\n      }, [])\n    ]);\n\n    available.sort((lhs, rhs) => lhs.choices.asSet().size - rhs.choices.asSet().size);\n\n    // Remove any fulfilled grants\n    for ( const key of selected.item ) available.findSplice(grant => grant.choices.asSet().has(key));\n\n    // Merge all possible choices into a single SelectChoices\n    const allChoices = await Trait.mixedChoices(actorData.available);\n    allChoices.exclude(new Set([...(selected.actor ?? []), ...selected.item]));\n    available.forEach(a => a.choices = allChoices.filter(a.choices, { inplace: false }));\n\n    return { available, choices: allChoices };\n  }\n}\n","import SystemDataModel from \"../../abstract.mjs\";\nimport SourceField from \"../../shared/source-field.mjs\";\n\nconst { SchemaField, HTMLField } = foundry.data.fields;\n\n/**\n * Data model template with item description & source.\n *\n * @property {object} description               Various item descriptions.\n * @property {string} description.value         Full item description.\n * @property {string} description.chat          Description displayed in chat card.\n * @property {SourceField} source               Adventure or sourcebook where this item originated.\n * @mixin\n */\nexport default class ItemDescriptionTemplate extends SystemDataModel {\n  /** @inheritdoc */\n  static defineSchema() {\n    return {\n      description: new SchemaField({\n        value: new HTMLField({required: true, nullable: true, label: \"DND5E.Description\"}),\n        chat: new HTMLField({required: true, nullable: true, label: \"DND5E.DescriptionChat\"})\n      }),\n      source: new SourceField()\n    };\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Migrations                             */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _migrateData(source) {\n    super._migrateData(source);\n    ItemDescriptionTemplate.#migrateSource(source);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Convert source string into custom object.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateSource(source) {\n    if ( (\"source\" in source) && (foundry.utils.getType(source.source) !== \"Object\") ) {\n      source.source = { custom: source.source };\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Getters                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * What properties can be used for this item?\n   * @returns {Set<string>}\n   */\n  get validProperties() {\n    return new Set(CONFIG.DND5E.validProperties[this.parent.type] ?? []);\n  }\n\n  /* -------------------------------------------- */\n  /*  Helpers                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Create the properties filter configuration for a type.\n   * @param {string} type  Item type.\n   * @returns {CompendiumBrowserFilterDefinitionEntry}\n   */\n  static compendiumBrowserPropertiesFilter(type) {\n    return {\n      label: \"DND5E.Properties\",\n      type: \"set\",\n      config: {\n        choices: Object.entries(CONFIG.DND5E.itemProperties).reduce((obj, [k, v]) => {\n          if ( CONFIG.DND5E.validProperties[type]?.has(k) ) obj[k] = v;\n          return obj;\n        }, {}),\n        keyPath: \"system.properties\",\n        multiple: true\n      }\n    };\n  }\n}\n","import { formatNumber } from \"../../../utils.mjs\";\nimport SystemDataModel from \"../../abstract.mjs\";\n\nconst {\n  ArrayField, BooleanField, DocumentIdField, EmbeddedDataField, IntegerSortField, NumberField, StringField\n} = foundry.data.fields;\n\n/**\n * Data model template representing a background & class's starting equipment.\n *\n * @property {EquipmentEntryData[]} startingEquipment  Different equipment entries that will be granted.\n */\nexport default class StartingEquipmentTemplate extends SystemDataModel {\n  static defineSchema() {\n    return {\n      startingEquipment: new ArrayField(new EmbeddedDataField(EquipmentEntryData), {required: true})\n    };\n  }\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * HTML formatted description of the starting equipment on this item.\n   * @type {string}\n   */\n  get startingEquipmentDescription() {\n    const topLevel = this.startingEquipment.filter(e => !e.group);\n    if ( !topLevel.length ) return \"\";\n\n    // If more than one entry, display as an unordered list (like for classes)\n    if ( topLevel.length > 1 ) return `<ul>${topLevel.map(e => `<li>${e.label}</li>`).join(\"\")}</ul>`;\n\n    // Otherwise display as its own paragraph (like for backgrounds)\n    return `<p>${game.i18n.getListFormatter().format(topLevel.map(e => e.label))}</p>`;\n  }\n}\n\n\n/**\n * Data for a single entry in the equipment list.\n *\n * @property {string} _id                     Unique ID of this entry.\n * @property {string|null} group              Parent entry that contains this one.\n * @property {number} sort                    Sorting order of this entry.\n * @property {string} type                    Entry type as defined in `EquipmentEntryData#TYPES`.\n * @property {number} [count]                 Number of items granted. If empty, assumed to be `1`.\n * @property {string} [key]                   Category or item key unless type is \"linked\", in which case it is a UUID.\n * @property {boolean} [requiresProficiency]  Is this only a valid item if character already has the\n *                                            required proficiency.\n */\nexport class EquipmentEntryData extends foundry.abstract.DataModel {\n\n  /**\n   * Types that group together child entries.\n   * @enum {string}\n   */\n  static GROUPING_TYPES = {\n    OR: \"DND5E.StartingEquipment.Operator.OR\",\n    AND: \"DND5E.StartingEquipment.Operator.AND\"\n  };\n\n  /**\n   * Types that contain an option for the player.\n   * @enum {string}\n   */\n  static OPTION_TYPES = {\n    // Category types\n    armor: \"DND5E.StartingEquipment.Choice.Armor\",\n    tool: \"DND5E.StartingEquipment.Choice.Tool\",\n    weapon: \"DND5E.StartingEquipment.Choice.Weapon\",\n    focus: \"DND5E.StartingEquipment.Choice.Focus\",\n\n    // Generic item type\n    linked: \"DND5E.StartingEquipment.SpecificItem\"\n  };\n\n  /**\n   * Equipment entry types.\n   * @type {Record<string, string>}\n   */\n  static get TYPES() {\n    return { ...this.GROUPING_TYPES, ...this.OPTION_TYPES };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Where in `CONFIG.DND5E` to find the type category labels.\n   * @enum {{ label: string, config: string }}\n   */\n  static CATEGORIES = {\n    armor: {\n      label: \"DND5E.Armor\",\n      config: \"armorTypes\"\n    },\n    focus: {\n      label: \"DND5E.Focus.Label\",\n      config: \"focusTypes\"\n    },\n    tool: {\n      label: \"TYPES.Item.tool\",\n      config: \"toolTypes\"\n    },\n    weapon: {\n      label: \"TYPES.Item.weapon\",\n      config: \"weaponProficiencies\"\n    }\n  };\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static defineSchema() {\n    return {\n      _id: new DocumentIdField({initial: () => foundry.utils.randomID()}),\n      group: new StringField({nullable: true, initial: null}),\n      sort: new IntegerSortField(),\n      type: new StringField({required: true, initial: \"OR\", choices: this.TYPES}),\n      count: new NumberField({initial: undefined}),\n      key: new StringField({initial: undefined}),\n      requiresProficiency: new BooleanField({label: \"DND5E.StartingEquipment.Proficient.Label\"})\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get any children represented by this entry in order.\n   * @returns {EquipmentEntryData[]}\n   */\n  get children() {\n    if ( !(this.type in this.constructor.GROUPING_TYPES) ) return [];\n    return this.parent.startingEquipment\n      .filter(entry => entry.group === this._id)\n      .sort((lhs, rhs) => lhs.sort - rhs.sort);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Transform this entry into a human readable label.\n   * @type {string}\n   */\n  get label() {\n    let label;\n\n    switch ( this.type ) {\n      // For AND/OR, use a simple conjunction/disjunction list (e.g. \"first, second, and third\")\n      case \"AND\":\n      case \"OR\":\n        return game.i18n.getListFormatter({type: this.type === \"AND\" ? \"conjunction\" : \"disjunction\", style: \"long\"})\n          .format(this.children.map(c => c.label).filter(l => l));\n\n      // For linked type, fetch the name using the index\n      case \"linked\":\n        const index = fromUuidSync(this.key);\n        if ( index ) label = index.name;\n        break;\n\n      // For category types, grab category information from config\n      default:\n        label = this.categoryLabel;\n        break;\n    }\n\n    if ( !label ) return;\n    if ( this.count > 1 ) label = `${formatNumber(this.count)} ${label}`;\n    else if ( this.type !== \"linked\" ) label = game.i18n.format(\"DND5E.TraitConfigChooseAnyUncounted\", { type: label });\n    if ( (this.type === \"linked\") && this.requiresProficiency ) {\n      label += ` (${game.i18n.localize(\"DND5E.StartingEquipment.IfProficient\").toLowerCase()})`;\n    }\n    return label;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Blank label if no key is specified for a choice type.\n   * @type {string}\n   */\n  get blankLabel() {\n    return game.i18n.localize(this.constructor.CATEGORIES[this.type]?.label) ?? \"\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get the label for a category.\n   * @type {string}\n   */\n  get categoryLabel() {\n    const configEntry = this.keyOptions[this.key];\n    let label = configEntry?.label ?? configEntry;\n    if ( !label ) return this.blankLabel.toLowerCase();\n\n    if ( this.type === \"weapon\" ) label = game.i18n.format(\"DND5E.WeaponCategory\", { category: label });\n    return label.toLowerCase();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Build a list of possible key options for this entry's type.\n   * @returns {Record<string, string>}\n   */\n  get keyOptions() {\n    const config = foundry.utils.deepClone(CONFIG.DND5E[this.constructor.CATEGORIES[this.type]?.config]);\n    if ( this.type === \"weapon\" ) foundry.utils.mergeObject(config, CONFIG.DND5E.weaponTypes);\n    return Object.entries(config).reduce((obj, [k, v]) => {\n      obj[k] = foundry.utils.getType(v) === \"Object\" ? v.label : v;\n      return obj;\n    }, {});\n  }\n}\n","import TraitAdvancement from \"../../documents/advancement/trait.mjs\";\nimport { ItemDataModel } from \"../abstract.mjs\";\nimport { AdvancementField, FormulaField, IdentifierField } from \"../fields.mjs\";\nimport ItemDescriptionTemplate from \"./templates/item-description.mjs\";\nimport StartingEquipmentTemplate from \"./templates/starting-equipment.mjs\";\n\nconst { ArrayField, NumberField, SchemaField, StringField } = foundry.data.fields;\n\n/**\n * Data definition for Class items.\n * @mixes ItemDescriptionTemplate\n * @mixes StartingEquipmentTemplate\n *\n * @property {string} identifier        Identifier slug for this class.\n * @property {number} levels            Current number of levels in this class.\n * @property {string} hitDice           Denomination of hit dice available as defined in `DND5E.hitDieTypes`.\n * @property {number} hitDiceUsed       Number of hit dice consumed.\n * @property {object[]} advancement     Advancement objects for this class.\n * @property {object} spellcasting      Details on class's spellcasting ability.\n * @property {string} spellcasting.progression  Spell progression granted by class as from `DND5E.spellProgression`.\n * @property {string} spellcasting.ability      Ability score to use for spellcasting.\n * @property {string} wealth            Formula used to determine starting wealth.\n */\nexport default class ClassData extends ItemDataModel.mixin(ItemDescriptionTemplate, StartingEquipmentTemplate) {\n  /** @inheritdoc */\n  static defineSchema() {\n    return this.mergeSchema(super.defineSchema(), {\n      identifier: new IdentifierField({required: true, label: \"DND5E.Identifier\"}),\n      levels: new NumberField({\n        required: true, nullable: false, integer: true, min: 0, initial: 1, label: \"DND5E.ClassLevels\"\n      }),\n      hitDice: new StringField({\n        required: true, initial: \"d6\", blank: false, label: \"DND5E.HitDice\",\n        validate: v => /d\\d+/.test(v), validationError: \"must be a dice value in the format d#\"\n      }),\n      hitDiceUsed: new NumberField({\n        required: true, nullable: false, integer: true, initial: 0, min: 0, label: \"DND5E.HitDiceUsed\"\n      }),\n      advancement: new ArrayField(new AdvancementField(), {label: \"DND5E.AdvancementTitle\"}),\n      spellcasting: new SchemaField({\n        progression: new StringField({\n          required: true, initial: \"none\", blank: false, label: \"DND5E.SpellProgression\"\n        }),\n        ability: new StringField({required: true, label: \"DND5E.SpellAbility\"})\n      }, {label: \"DND5E.Spellcasting\"}),\n      wealth: new FormulaField({label: \"DND5E.StartingEquipment.Wealth.Label\"})\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static get compendiumBrowserFilters() {\n    return new Map([\n      [\"hasSpellcasting\", {\n        label: \"DND5E.CompendiumBrowser.Filters.HasSpellcasting\",\n        type: \"boolean\",\n        createFilter: (filters, value, def) => {\n          if ( value === 0 ) return;\n          const filter = { k: \"system.spellcasting.progression\", v: \"none\" };\n          if ( value === -1 ) filters.push(filter);\n          else filters.push({ o: \"NOT\", v: filter });\n        }\n      }]\n    ]);\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Preparation                            */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async getFavoriteData() {\n    const context = await super.getFavoriteData();\n    if ( this.parent.subclass ) context.subtitle = this.parent.subclass.name;\n    context.value = this.levels;\n    return context;\n  }\n\n  /* -------------------------------------------- */\n  /*  Migrations                                  */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _migrateData(source) {\n    super._migrateData(source);\n    ClassData.#migrateLevels(source);\n    ClassData.#migrateSpellcastingData(source);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate the class levels.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateLevels(source) {\n    if ( typeof source.levels !== \"string\" ) return;\n    if ( source.levels === \"\" ) source.levels = 1;\n    else if ( Number.isNumeric(source.levels) ) source.levels = Number(source.levels);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate the class's spellcasting string to object.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateSpellcastingData(source) {\n    if ( source.spellcasting?.progression === \"\" ) source.spellcasting.progression = \"none\";\n    if ( typeof source.spellcasting !== \"string\" ) return;\n    source.spellcasting = {\n      progression: source.spellcasting,\n      ability: \"\"\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate the class's saves & skills into TraitAdvancements.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   * @protected\n   */\n  static _migrateTraitAdvancement(source) {\n    const system = source.system;\n    if ( !system?.advancement || system.advancement.find(a => a.type === \"Trait\") ) return;\n    let needsMigration = false;\n\n    if ( system.saves?.length ) {\n      const savesData = {\n        type: \"Trait\",\n        level: 1,\n        configuration: {\n          grants: system.saves.map(t => `saves:${t}`)\n        }\n      };\n      savesData.value = {\n        chosen: savesData.configuration.grants\n      };\n      system.advancement.push(new TraitAdvancement(savesData).toObject());\n      delete system.saves;\n      needsMigration = true;\n    }\n\n    if ( system.skills?.choices?.length ) {\n      const skillsData = {\n        type: \"Trait\",\n        level: 1,\n        configuration: {\n          choices: [{\n            count: system.skills.number ?? 1,\n            pool: system.skills.choices.map(t => `skills:${t}`)\n          }]\n        }\n      };\n      if ( system.skills.value?.length ) {\n        skillsData.value = {\n          chosen: system.skills.value.map(t => `skills:${t}`)\n        };\n      }\n      system.advancement.push(new TraitAdvancement(skillsData).toObject());\n      delete system.skills;\n      needsMigration = true;\n    }\n\n    if ( needsMigration ) foundry.utils.setProperty(source, \"flags.dnd5e.persistSourceMigration\", true);\n  }\n}\n","import SystemDataModel from \"../../abstract.mjs\";\n\nconst { BooleanField, StringField } = foundry.data.fields;\n\n/**\n * Data model template with information on items that can be attuned and equipped.\n *\n * @property {string} attunement  Attunement information as defined in `DND5E.attunementTypes`.\n * @property {boolean} attuned    Is this item attuned on its owning actor?\n * @property {boolean} equipped   Is this item equipped on its owning actor?\n * @mixin\n */\nexport default class EquippableItemTemplate extends SystemDataModel {\n  /** @inheritdoc */\n  static defineSchema() {\n    return {\n      attunement: new StringField({required: true, label: \"DND5E.Attunement\"}),\n      attuned: new BooleanField({label: \"DND5E.Attuned\"}),\n      equipped: new BooleanField({required: true, label: \"DND5E.Equipped\"})\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create attunement filter configuration.\n   * @returns {CompendiumBrowserFilterDefinitionEntry}\n   */\n  static get compendiumBrowserAttunementFilter() {\n    return {\n      label: \"DND5E.Attunement\",\n      type: \"boolean\",\n      createFilter: (filters, value, def) => {\n        if ( value === 0 ) return;\n        const filter = { k: \"system.attunement\", o: \"in\", v: [\"required\", 1] };\n        if ( value === 1 ) filters.push(filter);\n        else filters.push({ o: \"NOT\", v: filter });\n      }\n    };\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Migrations                             */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _migrateData(source) {\n    super._migrateData(source);\n    EquippableItemTemplate.#migrateAttunement(source);\n    EquippableItemTemplate.#migrateEquipped(source);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate the item's attuned boolean to attunement string.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateAttunement(source) {\n    switch ( source.attunement ) {\n      case 2: source.attuned = true;\n      case 1: source.attunement = \"required\"; break;\n      case 0: source.attunement = \"\"; break;\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate the equipped field.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateEquipped(source) {\n    if ( !(\"equipped\" in source) ) return;\n    if ( (source.equipped === null) || (source.equipped === undefined) ) source.equipped = false;\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Preparation                            */\n  /* -------------------------------------------- */\n\n  /**\n   * Ensure items that cannot be attuned are not marked as attuned.\n   */\n  prepareFinalEquippableData() {\n    if ( !this.attunement ) this.attuned = false;\n  }\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * Chat properties for equippable items.\n   * @type {string[]}\n   */\n  get equippableItemCardProperties() {\n    return [\n      this.attunement === \"required\" ? CONFIG.DND5E.attunementTypes.required : null,\n      game.i18n.localize(this.equipped ? \"DND5E.Equipped\" : \"DND5E.Unequipped\"),\n      (\"proficient\" in this) ? CONFIG.DND5E.proficiencyLevels[this.prof?.multiplier || 0] : null\n    ];\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Are the magical properties of this item, such as magical bonuses to armor & damage, available?\n   * @type {boolean}\n   */\n  get magicAvailable() {\n    const attunement = this.attuned || (this.attunement !== \"required\");\n    return attunement && this.properties.has(\"mgc\") && this.validProperties.has(\"mgc\");\n  }\n}\n","import * as Trait from \"../../../documents/actor/trait.mjs\";\nimport SystemDataModel from \"../../abstract.mjs\";\n\nconst { BooleanField, SchemaField, StringField, HTMLField } = foundry.data.fields;\n\n/**\n * Data model template for items that can be identified.\n *\n * @property {boolean} identified               Has this item been identified?\n * @property {object} unidentified\n * @property {string} unidentified.name         Name of the item when it is unidentified.\n * @property {string} unidentified.description  Description displayed if item is unidentified.\n * @mixin\n */\nexport default class IdentifiableTemplate extends SystemDataModel {\n  /** @inheritdoc */\n  static defineSchema() {\n    return {\n      identified: new BooleanField({required: true, initial: true, label: \"DND5E.Identified\"}),\n      unidentified: new SchemaField({\n        name: new StringField({label: \"DND5E.NameUnidentified\"}),\n        description: new HTMLField({label: \"DND5E.DescriptionUnidentified\"})\n      })\n    };\n  }\n\n  /* -------------------------------------------- */\n  /*  Migrations                                  */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _migrateData(source) {\n    super._migrateData(source);\n    IdentifiableTemplate.#migrateUnidentified(source);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Move unidentified description into new location.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateUnidentified(source) {\n    if ( foundry.utils.hasProperty(source, \"description.unidentified\")\n      && !foundry.utils.getProperty(source, \"unidentified.description\") ) {\n      source.unidentified ??= {};\n      source.unidentified.description = source.description.unidentified;\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Preparation                            */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  prepareDerivedData() {\n    if ( !this.identified && this.unidentified.name ) {\n      this.parent.name = this.unidentified.name;\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Socket Event Handlers                       */\n  /* -------------------------------------------- */\n\n  /**\n   * If no unidentified name or description are set when the identified checkbox is unchecked, then fetch values\n   * from base item if possible.\n   * @param {object} changed            The differential data that is changed relative to the documents prior values\n   * @param {object} options            Additional options which modify the update request\n   * @param {documents.BaseUser} user   The User requesting the document update\n   * @returns {Promise<boolean|void>}   A return value of false indicates the update operation should be cancelled.\n   * @see {Document#_preUpdate}\n   * @protected\n   */\n  async _preUpdate(changed, options, user) {\n    if ( !foundry.utils.hasProperty(changed, \"system.identified\") || changed.system.identified ) return;\n\n    const fetchName = !foundry.utils.getProperty(changed, \"system.unidentified.name\") && !this.unidentified.name;\n    const fetchDesc = !foundry.utils.getProperty(changed, \"system.unidentified.description\")\n      && !this.unidentified.description;\n    if ( !fetchName && !fetchDesc ) return;\n\n    let baseItemIdentifier;\n    if ( this.parent.type === \"weapon\" ) baseItemIdentifier = CONFIG.DND5E.weaponIds[this.type.baseItem];\n    else if ( this.parent.type === \"tool\" ) baseItemIdentifier = CONFIG.DND5E.toolIds[this.type.baseItem];\n    else if ( this.parent.type === \"equipment\" ) {\n      if ( this.type.value === \"shield\" ) baseItemIdentifier = CONFIG.DND5E.shieldIds[this.type.baseItem];\n      else baseItemIdentifier = CONFIG.DND5E.armorIds[this.type.baseItem];\n    }\n    const baseItem = await Trait.getBaseItem(baseItemIdentifier ?? \"\", { fullItem: fetchDesc });\n\n    // If a base item is set, fetch that and use its name/description\n    if ( baseItem ) {\n      if ( fetchName ) {\n        foundry.utils.setProperty(changed, \"system.unidentified.name\", game.i18n.format(\n          \"DND5E.Unidentified.DefaultName\", { name: baseItem.name }\n        ));\n      }\n      if ( fetchDesc ) {\n        foundry.utils.setProperty(changed, \"system.unidentified.description\", baseItem.system.description.value);\n      }\n      return;\n    }\n\n    // Otherwise, set the name to match the item type\n    if ( fetchName ) foundry.utils.setProperty(changed, \"system.unidentified.name\", game.i18n.format(\n      \"DND5E.Unidentified.DefaultName\", { name: game.i18n.localize(CONFIG.Item.typeLabels[this.parent.type]) }\n    ));\n  }\n}\n","import { convertWeight } from \"../../../utils.mjs\";\nimport SystemDataModel from \"../../abstract.mjs\";\n\n/**\n * Data model template with information on physical items.\n *\n * @property {string} container           Container within which this item is located.\n * @property {number} quantity            Number of items in a stack.\n * @property {object} weight\n * @property {number} weight.value        Item's weight.\n * @property {string} weight.units        Units used to measure the weight.\n * @property {object} price\n * @property {number} price.value         Item's cost in the specified denomination.\n * @property {string} price.denomination  Currency denomination used to determine price.\n * @property {string} rarity              Item rarity as defined in `DND5E.itemRarity`.\n * @mixin\n */\nexport default class PhysicalItemTemplate extends SystemDataModel {\n  /** @inheritdoc */\n  static defineSchema() {\n    return {\n      container: new foundry.data.fields.ForeignDocumentField(foundry.documents.BaseItem, {\n        idOnly: true, label: \"DND5E.Container\"\n      }),\n      quantity: new foundry.data.fields.NumberField({\n        required: true, nullable: false, integer: true, initial: 1, min: 0, label: \"DND5E.Quantity\"\n      }),\n      weight: new foundry.data.fields.SchemaField({\n        value: new foundry.data.fields.NumberField({\n          required: true, nullable: false, initial: 0, min: 0, label: \"DND5E.Weight\"\n        }),\n        units: new foundry.data.fields.StringField({\n          required: true, label: \"DND5E.WeightUnit.Label\",\n          initial: () => game.settings.get(\"dnd5e\", \"metricWeightUnits\") ? \"kg\" : \"lb\"\n        })\n      }, {label: \"DND5E.Weight\"}),\n      price: new foundry.data.fields.SchemaField({\n        value: new foundry.data.fields.NumberField({\n          required: true, nullable: false, initial: 0, min: 0, label: \"DND5E.Price\"\n        }),\n        denomination: new foundry.data.fields.StringField({\n          required: true, blank: false, initial: \"gp\", label: \"DND5E.Currency\"\n        })\n      }, {label: \"DND5E.Price\"}),\n      rarity: new foundry.data.fields.StringField({required: true, blank: true, label: \"DND5E.Rarity\"})\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Maximum depth items can be nested in containers.\n   * @type {number}\n   */\n  static MAX_DEPTH = 5;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create filter configurations shared by all physical items.\n   * @returns {[string, CompendiumBrowserFilterDefinitionEntry][]}\n   */\n  static get compendiumBrowserPhysicalItemFilters() {\n    return [\n      [\"price\", {\n        label: \"DND5E.Price\",\n        type: \"range\",\n        config: {\n          keyPath: \"system.price.value\"\n        }\n      }],\n      [\"rarity\", {\n        label: \"DND5E.Rarity\",\n        type: \"set\",\n        config: {\n          blank: game.i18n.localize(\"DND5E.ItemRarityMundane\").capitalize(),\n          choices: Object.entries(CONFIG.DND5E.itemRarity).reduce((obj, [key, label]) => {\n            obj[key] = { label: label.capitalize() };\n            return obj;\n          }, {}),\n          keyPath: \"system.rarity\"\n        }\n      }]\n    ];\n  }\n\n  /* -------------------------------------------- */\n  /*  Getters                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Get a human-readable label for the price and denomination.\n   * @type {string}\n   */\n  get priceLabel() {\n    const { value, denomination } = this.price;\n    const hasPrice = value && (denomination in CONFIG.DND5E.currencies);\n    return hasPrice ? `${value} ${CONFIG.DND5E.currencies[denomination].label}` : null;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The weight of all of the items in an item stack.\n   * @type {number}\n   */\n  get totalWeight() {\n    return this.quantity * this.weight.value;\n  }\n\n  /* -------------------------------------------- */\n  /*  Migrations                                  */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _migrateData(source) {\n    super._migrateData(source);\n    PhysicalItemTemplate.#migratePrice(source);\n    PhysicalItemTemplate.#migrateRarity(source);\n    PhysicalItemTemplate.#migrateWeight(source);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate the item's price from a single field to an object with currency.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migratePrice(source) {\n    if ( !(\"price\" in source) || foundry.utils.getType(source.price) === \"Object\" ) return;\n    source.price = {\n      value: Number.isNumeric(source.price) ? Number(source.price) : 0,\n      denomination: \"gp\"\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate the item's rarity from freeform string to enum value.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateRarity(source) {\n    if ( !(\"rarity\" in source) || CONFIG.DND5E.itemRarity[source.rarity] ) return;\n    source.rarity = Object.keys(CONFIG.DND5E.itemRarity).find(key =>\n      CONFIG.DND5E.itemRarity[key].toLowerCase() === source.rarity.toLowerCase()\n    ) ?? \"\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate the item's weight from a single field to an object with units & convert null weights to 0.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateWeight(source) {\n    if ( !(\"weight\" in source) || (foundry.utils.getType(source.weight) === \"Object\") ) return;\n    source.weight = {\n      value: Number.isNumeric(source.weight) ? Number(source.weight) : 0,\n      units: game.settings.get(\"dnd5e\", \"metricWeightUnits\") ? \"kg\" : \"lb\"\n    };\n  }\n\n  /* -------------------------------------------- */\n  /*  Socket Event Handlers                       */\n  /* -------------------------------------------- */\n\n  /**\n   * Trigger a render on all sheets for items within which this item is contained.\n   * @param {object} [options={}]\n   * @param {object} [options.rendering]        Additional rendering options.\n   * @param {string} [options.formerContainer]  UUID of the former container if this item was moved.\n   * @protected\n   */\n  async _renderContainers({ formerContainer, ...rendering }={}) {\n    // Render this item's container & any containers it is within\n    const parentContainers = await this.allContainers();\n    parentContainers.forEach(c => c.sheet?.render(false, rendering));\n\n    // Render the actor sheet, compendium, or sidebar\n    if ( this.parent.isEmbedded ) this.parent.actor.sheet?.render(false, rendering);\n    else if ( this.parent.pack ) game.packs.get(this.parent.pack).apps.forEach(a => a.render(false, rendering));\n    else ui.sidebar.tabs.items.render(false, rendering);\n\n    // Render former container if it was moved between containers\n    if ( formerContainer ) {\n      const former = await fromUuid(formerContainer);\n      former.render(false, rendering);\n      former.system._renderContainers(rendering);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _onCreate(data, options, userId) {\n    this._renderContainers();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _onUpdate(changed, options, userId) {\n    this._renderContainers({ formerContainer: options.formerContainer });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _onDelete(options, userId) {\n    this._renderContainers();\n  }\n\n  /* -------------------------------------------- */\n  /*  Helper Methods                              */\n  /* -------------------------------------------- */\n\n  /**\n   * All of the containers this item is within up to the parent actor or collection.\n   * @returns {Promise<Item5e[]>}\n   */\n  async allContainers() {\n    let item = this.parent;\n    let container;\n    let depth = 0;\n    const containers = [];\n    while ( (container = await item.container) && (depth < PhysicalItemTemplate.MAX_DEPTH) ) {\n      containers.push(container);\n      item = container;\n      depth++;\n    }\n    return containers;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Calculate the total weight and return it in specific units.\n   * @param {string} units  Units in which the weight should be returned.\n   * @returns {number|Promise<number>}\n   */\n  totalWeightIn(units) {\n    const weight = this.totalWeight;\n    if ( weight instanceof Promise ) return weight.then(w => convertWeight(w, this.weight.units, units));\n    return convertWeight(weight, this.weight.units, units);\n  }\n}\n","import SystemDataModel from \"../abstract.mjs\";\nimport { MappingField } from \"../fields.mjs\";\n\n/**\n * A template for currently held currencies.\n *\n * @property {object} currency  Object containing currencies as numbers.\n * @mixin\n */\nexport default class CurrencyTemplate extends SystemDataModel {\n  /** @inheritdoc */\n  static defineSchema() {\n    return {\n      currency: new MappingField(new foundry.data.fields.NumberField({\n        required: true, nullable: false, integer: true, min: 0, initial: 0\n      }), {initialKeys: CONFIG.DND5E.currencies, initialKeysOnly: true, label: \"DND5E.Currency\"})\n    };\n  }\n\n  /* -------------------------------------------- */\n  /*  Getters                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Get the weight of all of the currency. Always returns 0 if currency weight is disabled in settings.\n   * @returns {number}\n   */\n  get currencyWeight() {\n    if ( !game.settings.get(\"dnd5e\", \"currencyWeight\") ) return 0;\n    const count = Object.values(this.currency).reduce((count, value) => count + value, 0);\n    const currencyPerWeight = game.settings.get(\"dnd5e\", \"metricWeightUnits\")\n      ? CONFIG.DND5E.encumbrance.currencyPerWeight.metric\n      : CONFIG.DND5E.encumbrance.currencyPerWeight.imperial;\n    return count / currencyPerWeight;\n  }\n}\n","import { ItemDataModel } from \"../abstract.mjs\";\nimport EquippableItemTemplate from \"./templates/equippable-item.mjs\";\nimport IdentifiableTemplate from \"./templates/identifiable.mjs\";\nimport ItemDescriptionTemplate from \"./templates/item-description.mjs\";\nimport PhysicalItemTemplate from \"./templates/physical-item.mjs\";\nimport CurrencyTemplate from \"../shared/currency.mjs\";\n\n\n/**\n * Data definition for Container items.\n * @mixes ItemDescriptionTemplate\n * @mixes IdentifiableTemplate\n * @mixes PhysicalItemTemplate\n * @mixes EquippableItemTemplate\n * @mixes CurrencyTemplate\n *\n * @property {object} capacity              Information on container's carrying capacity.\n * @property {string} capacity.type         Method for tracking max capacity as defined in `DND5E.itemCapacityTypes`.\n * @property {number} capacity.value        Total amount of the type this container can carry.\n */\nexport default class ContainerData extends ItemDataModel.mixin(\n  ItemDescriptionTemplate, IdentifiableTemplate, PhysicalItemTemplate, EquippableItemTemplate, CurrencyTemplate\n) {\n  /** @inheritdoc */\n  static defineSchema() {\n    return this.mergeSchema(super.defineSchema(), {\n      quantity: new foundry.data.fields.NumberField({min: 1, max: 1}),\n      properties: new foundry.data.fields.SetField(new foundry.data.fields.StringField(), {\n        label: \"DND5E.ItemContainerProperties\"\n      }),\n      capacity: new foundry.data.fields.SchemaField({\n        type: new foundry.data.fields.StringField({\n          required: true, initial: \"weight\", blank: false, label: \"DND5E.ItemContainerCapacityType\"\n        }),\n        value: new foundry.data.fields.NumberField({\n          required: true, min: 0, label: \"DND5E.ItemContainerCapacityMax\"\n        })\n      }, {label: \"DND5E.ItemContainerCapacity\"})\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static metadata = Object.freeze(foundry.utils.mergeObject(super.metadata, {\n    enchantable: true,\n    inventoryItem: true,\n    inventoryOrder: 500\n  }, {inplace: false}));\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static get compendiumBrowserFilters() {\n    return new Map([\n      [\"attunement\", this.compendiumBrowserAttunementFilter],\n      ...this.compendiumBrowserPhysicalItemFilters,\n      [\"properties\", this.compendiumBrowserPropertiesFilter(\"container\")]\n    ]);\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Migrations                             */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _migrateData(source) {\n    super._migrateData(source);\n    ContainerData.#migrateQuantity(source);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate the weightless property into `properties`.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static _migrateWeightlessData(source) {\n    if ( foundry.utils.getProperty(source, \"system.capacity.weightless\") === true ) {\n      foundry.utils.setProperty(source, \"flags.dnd5e.migratedProperties\", [\"weightlessContents\"]);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Force quantity to always be 1.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateQuantity(source) {\n    source.quantity = 1;\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Preparation                            */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareFinalData() {\n    this.prepareFinalEquippableData();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async getFavoriteData() {\n    const data = super.getFavoriteData();\n    const capacity = await this.computeCapacity();\n    if ( Number.isFinite(capacity.max) ) return foundry.utils.mergeObject(await data, { uses: capacity });\n    return await data;\n  }\n\n  /* -------------------------------------------- */\n  /*  Getters                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Get all of the items contained in this container. A promise if item is within a compendium.\n   * @type {Collection<Item5e>|Promise<Collection<Item5e>>}\n   */\n  get contents() {\n    if ( !this.parent ) return new foundry.utils.Collection();\n\n    // If in a compendium, fetch using getDocuments and return a promise\n    if ( this.parent.pack && !this.parent.isEmbedded ) {\n      const pack = game.packs.get(this.parent.pack);\n      return pack.getDocuments({system: { container: this.parent.id }}).then(d =>\n        new foundry.utils.Collection(d.map(d => [d.id, d]))\n      );\n    }\n\n    // Otherwise use local document collection\n    return (this.parent.isEmbedded ? this.parent.actor.items : game.items).reduce((collection, item) => {\n      if ( item.system.container === this.parent.id ) collection.set(item.id, item);\n      return collection;\n    }, new foundry.utils.Collection());\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get all of the items in this container and any sub-containers. A promise if item is within a compendium.\n   * @type {Collection<Item5e>|Promise<Collection<Item5e>>}\n   */\n  get allContainedItems() {\n    if ( !this.parent ) return new foundry.utils.Collection();\n    if ( this.parent.pack ) return this.#allContainedItems();\n\n    return this.contents.reduce((collection, item) => {\n      collection.set(item.id, item);\n      if ( item.type === \"container\" ) item.system.allContainedItems.forEach(i => collection.set(i.id, i));\n      return collection;\n    }, new foundry.utils.Collection());\n  }\n\n  /**\n   * Asynchronous helper method for fetching all contained items from a compendium.\n   * @returns {Promise<Collection<Item5e>>}\n   * @private\n   */\n  async #allContainedItems() {\n    return (await this.contents).reduce(async (promise, item) => {\n      const collection = await promise;\n      collection.set(item.id, item);\n      if ( item.type === \"container\" ) (await item.system.allContainedItems).forEach(i => collection.set(i.id, i));\n      return collection;\n    }, new foundry.utils.Collection());\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Fetch a specific contained item.\n   * @param {string} id                 ID of the item to fetch.\n   * @returns {Item5e|Promise<Item5e>}  Item if found.\n   */\n  getContainedItem(id) {\n    if ( this.parent?.isEmbedded ) return this.parent.actor.items.get(id);\n    if ( this.parent?.pack ) return game.packs.get(this.parent.pack)?.getDocument(id);\n    return game.items.get(id);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Number of items contained in this container including items in sub-containers. Result is a promise if item\n   * is within a compendium.\n   * @type {number|Promise<number>}\n   */\n  get contentsCount() {\n    const reducer = (count, item) => count + item.system.quantity;\n    const items = this.allContainedItems;\n    if ( items instanceof Promise ) return items.then(items => items.reduce(reducer, 0));\n    return items.reduce(reducer, 0);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Weight of the items in this container. Result is a promise if item is within a compendium.\n   * @type {number|Promise<number>}\n   */\n  get contentsWeight() {\n    if ( this.parent?.pack && !this.parent?.isEmbedded ) return this.#contentsWeight();\n    return this.contents.reduce((weight, item) =>\n      weight + item.system.totalWeightIn(this.weight.units), this.currencyWeight\n    );\n  }\n\n  /**\n   * Asynchronous helper method for calculating the weight of items in a compendium.\n   * @returns {Promise<number>}\n   */\n  async #contentsWeight() {\n    const contents = await this.contents;\n    return contents.reduce(async (weight, item) =>\n      await weight + await item.system.totalWeightIn(this.weight.units), this.currencyWeight\n    );\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The weight of this container with all of its contents. Result is a promise if item is within a compendium.\n   * @type {number|Promise<number>}\n   */\n  get totalWeight() {\n    if ( this.properties.has(\"weightlessContents\") ) return this.weight.value;\n    const containedWeight = this.contentsWeight;\n    if ( containedWeight instanceof Promise ) return containedWeight.then(c => this.weight.value + c);\n    return this.weight.value + containedWeight;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * @typedef {object} Item5eCapacityDescriptor\n   * @property {number} value  The current total weight or number of items in the container.\n   * @property {number} max    The maximum total weight or number of items in the container.\n   * @property {number} pct    The percentage of total capacity.\n   * @property {string} units  The units label.\n   */\n\n  /**\n   * Compute capacity information for this container.\n   * @returns {Promise<Item5eCapacityDescriptor>}\n   */\n  async computeCapacity() {\n    const { value, type } = this.capacity;\n    const context = { max: value ?? Infinity };\n    if ( type === \"weight\" ) {\n      context.value = await this.contentsWeight;\n      context.units = game.i18n.localize(\"DND5E.AbbreviationLbs\");\n    } else {\n      context.value = await this.contentsCount;\n      context.units = game.i18n.localize(\"DND5E.ItemContainerCapacityItems\");\n    }\n    context.pct = Math.clamp(context.max ? (context.value / context.max) * 100 : 0, 0, 100);\n    return context;\n  }\n\n  /* -------------------------------------------- */\n  /*  Socket Event Handlers                       */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _onUpdate(changed, options, userId) {\n    // Keep contents folder synchronized with container\n    if ( (game.user.id === userId) && foundry.utils.hasProperty(changed, \"folder\") ) {\n      const contents = await this.contents;\n      await Item.updateDocuments(contents.map(c => ({ _id: c.id, folder: changed.folder })), {\n        parent: this.parent.parent, pack: this.parent.pack, ...options, render: false\n      });\n    }\n\n    super._onUpdate(changed, options, userId);\n  }\n}\n","import { ItemDataModel } from \"../../abstract.mjs\";\nimport { FormulaField } from \"../../fields.mjs\";\nimport {default as EnchantmentField, EnchantmentData} from \"../fields/enchantment-field.mjs\";\nimport SummonsField from \"../fields/summons-field.mjs\";\n\nconst { ArrayField, BooleanField, NumberField, SchemaField, StringField } = foundry.data.fields;\n\n/**\n * Data model template for item actions.\n *\n * @property {string} ability               Ability score to use when determining modifier.\n * @property {string} actionType            Action type as defined in `DND5E.itemActionTypes`.\n * @property {object} attack                Information how attacks are handled.\n * @property {string} attack.bonus          Numeric or dice bonus to attack rolls.\n * @property {boolean} attack.flat          Is the attack bonus the only bonus to attack rolls?\n * @property {string} chatFlavor            Extra text displayed in chat.\n * @property {object} critical              Information on how critical hits are handled.\n * @property {number} critical.threshold    Minimum number on the dice to roll a critical hit.\n * @property {string} critical.damage       Extra damage on critical hit.\n * @property {object} damage                Item damage formulas.\n * @property {string[][]} damage.parts      Array of damage formula and types.\n * @property {string} damage.versatile      Special versatile damage formula.\n * @property {EnchantmentData} enchantment  Enchantment configuration associated with this type.\n * @property {string} formula               Other roll formula.\n * @property {object} save                  Item saving throw data.\n * @property {string} save.ability          Ability required for the save.\n * @property {number} save.dc               Custom saving throw value.\n * @property {string} save.scaling          Method for automatically determining saving throw DC.\n * @property {SummonsData} summons\n * @mixin\n */\nexport default class ActionTemplate extends ItemDataModel {\n  /** @inheritdoc */\n  static defineSchema() {\n    return {\n      ability: new StringField({required: true, nullable: true, initial: null, label: \"DND5E.AbilityModifier\"}),\n      actionType: new StringField({required: true, nullable: true, initial: null, label: \"DND5E.ItemActionType\"}),\n      attack: new SchemaField({\n        bonus: new FormulaField({required: true, label: \"DND5E.ItemAttackBonus\"}),\n        flat: new BooleanField({label: \"DND5E.ItemAttackFlat\"})\n      }),\n      chatFlavor: new StringField({required: true, label: \"DND5E.ChatFlavor\"}),\n      critical: new SchemaField({\n        threshold: new NumberField({\n          required: true, integer: true, initial: null, positive: true, label: \"DND5E.ItemCritThreshold\"\n        }),\n        damage: new FormulaField({required: true, label: \"DND5E.ItemCritExtraDamage\"})\n      }),\n      damage: new SchemaField({\n        parts: new ArrayField(new ArrayField(new StringField({nullable: true})), {required: true}),\n        versatile: new FormulaField({required: true, label: \"DND5E.VersatileDamage\"})\n      }, {label: \"DND5E.Damage\"}),\n      enchantment: new EnchantmentField(),\n      formula: new FormulaField({required: true, label: \"DND5E.OtherFormula\"}),\n      save: new SchemaField({\n        ability: new StringField({required: true, blank: true, label: \"DND5E.Ability\"}),\n        dc: new NumberField({required: true, min: 0, integer: true, label: \"DND5E.AbbreviationDC\"}),\n        scaling: new StringField({required: true, blank: false, initial: \"spell\", label: \"DND5E.ScalingFormula\"})\n      }, {label: \"DND5E.SavingThrow\"}),\n      summons: new SummonsField()\n    };\n  }\n\n  /* -------------------------------------------- */\n  /*  Migrations                                  */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _migrateData(source) {\n    super._migrateData(source);\n    ActionTemplate.#migrateAbility(source);\n    ActionTemplate.#migrateAttack(source);\n    ActionTemplate.#migrateCritical(source);\n    ActionTemplate.#migrateSave(source);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate the ability field.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateAbility(source) {\n    if ( Array.isArray(source.ability) ) source.ability = source.ability[0];\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Move 'attackBonus' to 'attack.bonus' and ensure a 0 or null is converted to an empty string rather than \"0\".\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateAttack(source) {\n    if ( \"attackBonus\" in source ) {\n      source.attack ??= {};\n      source.attack.bonus ??= source.attackBonus;\n    }\n    if ( [0, \"0\", null].includes(source.attack?.bonus) ) source.attack.bonus = \"\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Ensure the critical field is an object.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateCritical(source) {\n    if ( !(\"critical\" in source) ) return;\n    if ( (typeof source.critical !== \"object\") || (source.critical === null) ) source.critical = {\n      threshold: null,\n      damage: \"\"\n    };\n    if ( source.critical.damage === null ) source.critical.damage = \"\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate the save field.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateSave(source) {\n    if ( !(\"save\" in source) ) return;\n    source.save ??= {};\n    if ( source.save.scaling === \"\" ) source.save.scaling = \"spell\";\n    if ( source.save.ability === null ) source.save.ability = \"\";\n    if ( typeof source.save.dc === \"string\" ) {\n      if ( source.save.dc === \"\" ) source.save.dc = null;\n      else if ( Number.isNumeric(source.save.dc) ) source.save.dc = Number(source.save.dc);\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Getters                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Which ability score modifier is used by this item?\n   * @type {string|null}\n   */\n  get abilityMod() {\n    if ( this.ability === \"none\" ) return null;\n    return this.ability || this._typeAbilityMod || {\n      mwak: \"str\",\n      rwak: \"dex\",\n      msak: this.parent?.actor?.system.attributes.spellcasting || \"int\",\n      rsak: this.parent?.actor?.system.attributes.spellcasting || \"int\"\n    }[this.actionType] || null;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Default ability key defined for this type.\n   * @type {string|null}\n   * @internal\n   */\n  get _typeAbilityMod() {\n    return null;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * What is the critical hit threshold for this item? Uses the smallest value from among the following sources:\n   *  - `critical.threshold` defined on the item\n   *  - `critical.threshold` defined on ammunition, if consumption mode is set to ammo\n   *  - Type-specific critical threshold\n   * @type {number|null}\n   */\n  get criticalThreshold() {\n    if ( !this.hasAttack ) return null;\n    let ammoThreshold = Infinity;\n    if ( this.hasAmmo ) {\n      ammoThreshold = this.parent?.actor?.items.get(this.consume.target)?.system.critical.threshold ?? Infinity;\n    }\n    const threshold = Math.min(this.critical.threshold ?? Infinity, this._typeCriticalThreshold, ammoThreshold);\n    return threshold < Infinity ? threshold : 20;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Default critical threshold for this type.\n   * @type {number}\n   * @internal\n   */\n  get _typeCriticalThreshold() {\n    return Infinity;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does the Item implement an ability check as part of its usage?\n   * @type {boolean}\n   */\n  get hasAbilityCheck() {\n    return (this.actionType === \"abil\") && !!this.ability;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does the Item implement an attack roll as part of its usage?\n   * @type {boolean}\n   */\n  get hasAttack() {\n    return [\"mwak\", \"rwak\", \"msak\", \"rsak\"].includes(this.actionType);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does the Item implement a damage roll as part of its usage?\n   * @type {boolean}\n   */\n  get hasDamage() {\n    return this.actionType && (this.damage.parts.length > 0);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does the Item implement a saving throw as part of its usage?\n   * @type {boolean}\n   */\n  get hasSave() {\n    return this.actionType && !!(this.save.ability && this.save.scaling);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does this Item implement summoning as part of its usage?\n   * @type {boolean}\n   */\n  get hasSummoning() {\n    return (this.actionType === \"summ\") && !!this.summons?.profiles.length;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Can this item enchant other items?\n   * @type {boolean}\n   */\n  get isEnchantment() {\n    return EnchantmentData.isEnchantment(this);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does the Item provide an amount of healing instead of conventional damage?\n   * @type {boolean}\n   */\n  get isHealing() {\n    return (this.actionType === \"heal\") && this.hasDamage;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does the Item implement a versatile damage roll as part of its usage?\n   * @type {boolean}\n   */\n  get isVersatile() {\n    return this.actionType && !!(this.hasDamage && this.damage.versatile);\n  }\n\n  /* -------------------------------------------- */\n  /*  Helpers                                     */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  getRollData(options) {\n    const data = super.getRollData(options);\n    const key = this.abilityMod;\n    if ( data && key && (\"abilities\" in data) ) {\n      const ability = data.abilities[key];\n      data.mod = ability?.mod ?? 0;\n    }\n    return data;\n  }\n}\n","import { replaceFormulaData } from \"../../../utils.mjs\";\nimport SystemDataModel from \"../../abstract.mjs\";\nimport { FormulaField } from \"../../fields.mjs\";\n\nconst { BooleanField, NumberField, SchemaField, StringField } = foundry.data.fields;\n\n/**\n * Data model template for items that can be used as some sort of action.\n *\n * @property {object} activation            Effect's activation conditions.\n * @property {string} activation.type       Activation type as defined in `DND5E.abilityActivationTypes`.\n * @property {number} activation.cost       How much of the activation type is needed to use this item's effect.\n * @property {string} activation.condition  Special conditions required to activate the item.\n * @property {object} duration              Effect's duration.\n * @property {number} duration.value        How long the effect lasts.\n * @property {string} duration.units        Time duration period as defined in `DND5E.timePeriods`.\n * @property {number} cover                 Amount of cover does this item affords to its crew on a vehicle.\n * @property {object} target                Effect's valid targets.\n * @property {string} target.value          Length or radius of target depending on targeting mode selected.\n * @property {number} target.width          Width of line when line type is selected.\n * @property {string} target.units          Units used for value and width as defined in `DND5E.distanceUnits`.\n * @property {string} target.type           Targeting mode as defined in `DND5E.targetTypes`.\n * @property {boolean} target.prompt        Should the player be prompted to place the template?\n * @property {object} range                 Effect's range.\n * @property {number} range.value           Regular targeting distance for item's effect.\n * @property {number} range.long            Maximum targeting distance for features that have a separate long range.\n * @property {string} range.units           Units used for value and long as defined in `DND5E.distanceUnits`.\n * @property {object} uses                  Effect's limited uses.\n * @property {number} uses.value            Current available uses.\n * @property {string} uses.max              Maximum possible uses or a formula to derive that number.\n * @property {string} uses.per              Recharge time for limited uses as defined in `DND5E.limitedUsePeriods`.\n * @property {object} consume               Effect's resource consumption.\n * @property {string} consume.type          Type of resource to consume as defined in `DND5E.abilityConsumptionTypes`.\n * @property {string} consume.target        Item ID or resource key path of resource to consume.\n * @property {number} consume.amount        Quantity of the resource to consume per use.\n * @mixin\n */\nexport default class ActivatedEffectTemplate extends SystemDataModel {\n  /** @inheritdoc */\n  static defineSchema() {\n    return {\n      activation: new SchemaField({\n        type: new StringField({required: true, blank: true, label: \"DND5E.ItemActivationType\"}),\n        cost: new NumberField({required: true, label: \"DND5E.ItemActivationCost\"}),\n        condition: new StringField({required: true, label: \"DND5E.ItemActivationCondition\"})\n      }, {label: \"DND5E.ItemActivation\"}),\n      duration: new SchemaField({\n        value: new FormulaField({required: true, deterministic: true, label: \"DND5E.Duration\"}),\n        units: new StringField({required: true, blank: true, label: \"DND5E.DurationType\"})\n      }, {label: \"DND5E.Duration\"}),\n      cover: new NumberField({\n        required: true, nullable: true, min: 0, max: 1, label: \"DND5E.Cover\"\n      }),\n      crewed: new BooleanField({label: \"DND5E.Crewed\"}),\n      target: new SchemaField({\n        value: new FormulaField({required: true, deterministic: true, label: \"DND5E.TargetValue\"}),\n        width: new NumberField({required: true, min: 0, label: \"DND5E.TargetWidth\"}),\n        units: new StringField({required: true, blank: true, label: \"DND5E.TargetUnits\"}),\n        type: new StringField({required: true, blank: true, label: \"DND5E.TargetType\"}),\n        prompt: new BooleanField({initial: true, label: \"DND5E.TemplatePrompt\"})\n      }, {label: \"DND5E.Target\"}),\n      range: new SchemaField({\n        value: new NumberField({required: true, min: 0, label: \"DND5E.RangeNormal\"}),\n        long: new NumberField({required: true, min: 0, label: \"DND5E.RangeLong\"}),\n        units: new StringField({required: true, blank: true, label: \"DND5E.RangeUnits\"})\n      }, {label: \"DND5E.Range\"}),\n      uses: new this.ItemUsesField({}, {label: \"DND5E.LimitedUses\"}),\n      consume: new SchemaField({\n        type: new StringField({required: true, blank: true, label: \"DND5E.ConsumeType\"}),\n        target: new StringField({\n          required: true, nullable: true, initial: null, label: \"DND5E.ConsumeTarget\"\n        }),\n        amount: new NumberField({required: true, integer: true, label: \"DND5E.ConsumeAmount\"}),\n        scale: new BooleanField({label: \"DND5E.ConsumeScaling\"})\n      }, {label: \"DND5E.ConsumeTitle\"})\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Extension of SchemaField used to track item uses.\n   * @internal\n   */\n  static ItemUsesField = class ItemUsesField extends SchemaField {\n    constructor(extraSchema, options) {\n      super(SystemDataModel.mergeSchema({\n        value: new NumberField({\n          required: true, min: 0, integer: true, label: \"DND5E.LimitedUsesAvailable\"\n        }),\n        max: new FormulaField({required: true, deterministic: true, label: \"DND5E.LimitedUsesMax\"}),\n        per: new StringField({\n          required: true, nullable: true, blank: false, initial: null, label: \"DND5E.LimitedUsesPer\"\n        }),\n        recovery: new FormulaField({required: true, label: \"DND5E.RecoveryFormula\"}),\n        prompt: new BooleanField({initial: true, label: \"DND5E.LimitedUsesPrompt\"})\n      }, extraSchema), options);\n    }\n  };\n\n  /* -------------------------------------------- */\n  /*  Data Preparation                            */\n  /* -------------------------------------------- */\n\n  /**\n   * Retrieve information on available uses for display.\n   * @returns {{value: number, max: number, name: string}}\n   */\n  getUsesData() {\n    return { value: this.uses.value, max: this.parent.system.uses.max, name: \"system.uses.value\" };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare activated effect data, should be called during `prepareFinalData` stage.\n   */\n  prepareFinalActivatedEffectData() {\n    // Initial data modifications\n    if ( [\"inst\", \"perm\"].includes(this.duration.units) ) this.duration.value = null;\n    if ( [null, \"self\"].includes(this.target.type) ) this.target.value = this.target.units = null;\n    else if ( this.target.units === \"touch\" ) this.target.value = null;\n    if ( [null, \"touch\", \"self\"].includes(this.range.units) ) this.range.value = this.range.long = null;\n\n    // Prepare duration, targets, and max uses formulas\n    const rollData = this.getRollData({ deterministic: true });\n    this._prepareFinalFormula(\"duration.value\", { label: \"DND5E.Duration\", rollData });\n    this._prepareFinalFormula(\"target.value\", { label: \"DND5E.TargetValue\", rollData });\n    this._prepareFinalFormula(\"uses.max\", { label: \"DND5E.UsesMax\", rollData });\n\n    // Prepare labels\n    this.parent.labels ??= {};\n    this.parent.labels.duration = [this.duration.value, CONFIG.DND5E.timePeriods[this.duration.units]].filterJoin(\" \");\n    this.parent.labels.activation = this.activation.type ? [\n      (this.activation.type in CONFIG.DND5E.staticAbilityActivationTypes) ? null : this.activation.cost,\n      CONFIG.DND5E.abilityActivationTypes[this.activation.type]\n    ].filterJoin(\" \") : \"\";\n\n    if ( this.hasTarget ) {\n      const target = [this.target.value];\n      if ( this.hasAreaTarget ) {\n        if ( this.target.units in CONFIG.DND5E.movementUnits ) {\n          target.push(game.i18n.localize(`DND5E.Dist${this.target.units.capitalize()}Abbr`));\n        }\n        else target.push(CONFIG.DND5E.distanceUnits[this.target.units]);\n      }\n      target.push(CONFIG.DND5E.targetTypes[this.target.type]);\n      this.parent.labels.target = target.filterJoin(\" \");\n    }\n\n    if ( this.isActive && this.range.units ) {\n      const range = [this.range.value, this.range.long ? `/ ${this.range.long}` : null];\n      if ( this.range.units in CONFIG.DND5E.movementUnits ) {\n        range.push(game.i18n.localize(`DND5E.Dist${this.range.units.capitalize()}Abbr`));\n      }\n      else range.push(CONFIG.DND5E.distanceUnits[this.range.units]);\n      this.parent.labels.range = range.filterJoin(\" \");\n    } else this.parent.labels.range = game.i18n.localize(\"DND5E.None\");\n\n    if ( this.recharge ) this.parent.labels.recharge = `${game.i18n.localize(\"DND5E.Recharge\")} [${\n      `${this.recharge.value}${parseInt(this.recharge.value) < 6 ? \"+\" : \"\"}`\n    }]`;\n\n    // Substitute source UUIDs in consumption targets\n    if ( !this.parent.isEmbedded ) return;\n    if ( [\"ammo\", \"charges\", \"material\"].includes(this.consume.type) && this.consume.target?.includes(\".\") ) {\n      const item = this.parent.actor.sourcedItems?.get(this.consume.target);\n      if ( item ) this.consume.target = item.id;\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare a specific final formula, passing resolution errors to actor if available.\n   * @param {string} keyPath           Path within system data to where the property can be found.\n   * @param {object} options\n   * @param {string} options.label     Localizable name for the property to display in warnings.\n   * @param {object} options.rollData  Roll data to use to evaluate the formula.\n   */\n  _prepareFinalFormula(keyPath, { label, rollData }) {\n    const value = foundry.utils.getProperty(this, keyPath);\n    if ( !value ) return;\n    const property = game.i18n.localize(label);\n    try {\n      const formula = replaceFormulaData(value, rollData, { item: this.parent, property });\n      if ( game.release.generation < 12 ) {\n        foundry.utils.setProperty(this, keyPath, Roll.safeEval(formula));\n      } else {\n        const roll = new Roll(formula);\n        foundry.utils.setProperty(this, keyPath, roll.evaluateSync().total);\n      }\n    } catch(err) {\n      if ( this.parent.isEmbedded ) {\n        const message = game.i18n.format(\"DND5E.FormulaMalformedError\", { property, name: this.parent.name });\n        this.parent.actor._preparationWarnings.push({ message, link: this.parent.uuid, type: \"error\" });\n        console.error(message, err);\n      }\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Migration                              */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _migrateData(source) {\n    super._migrateData(source);\n    ActivatedEffectTemplate.#migrateFormulaFields(source);\n    ActivatedEffectTemplate.#migrateRanges(source);\n    ActivatedEffectTemplate.#migrateTargets(source);\n    ActivatedEffectTemplate.#migrateUses(source);\n    ActivatedEffectTemplate.#migrateConsume(source);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Ensure a 0 or null in max uses & durations are converted to an empty string rather than \"0\". Convert numbers into\n   * strings.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateFormulaFields(source) {\n    if ( [0, \"0\", null].includes(source.uses?.max) ) source.uses.max = \"\";\n    else if ( typeof source.uses?.max === \"number\" ) source.uses.max = source.uses.max.toString();\n    if ( [0, \"0\", null].includes(source.duration?.value) ) source.duration.value = \"\";\n    else if ( typeof source.duration?.value === \"number\" ) source.duration.value = source.duration.value.toString();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Fix issue with some imported range data that uses the format \"100/400\" in the range field,\n   * rather than splitting it between \"range.value\" & \"range.long\".\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateRanges(source) {\n    if ( !(\"range\" in source) ) return;\n    source.range ??= {};\n    if ( source.range.units === \"none\" ) source.range.units = \"\";\n    if ( typeof source.range.long === \"string\" ) {\n      if ( source.range.long === \"\" ) source.range.long = null;\n      else if ( Number.isNumeric(source.range.long) ) source.range.long = Number(source.range.long);\n    }\n    if ( typeof source.range.value !== \"string\" ) return;\n    if ( source.range.value === \"\" ) {\n      source.range.value = null;\n      return;\n    }\n    const [value, long] = source.range.value.split(\"/\");\n    if ( Number.isNumeric(value) ) source.range.value = Number(value);\n    if ( Number.isNumeric(long) ) source.range.long = Number(long);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Ensure blank strings in targets are converted to null.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateTargets(source) {\n    if ( !(\"target\" in source) ) return;\n    source.target ??= {};\n    if ( source.target.value === \"\" ) source.target.value = null;\n    if ( source.target.type === \"none\" ) source.target.type = \"\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Ensure a blank string in uses.value is converted to null.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateUses(source) {\n    if ( !(\"uses\" in source) ) return;\n    source.uses ??= {};\n    const value = source.uses.value;\n    if ( typeof value === \"string\" ) {\n      if ( value === \"\" ) source.uses.value = null;\n      else if ( Number.isNumeric(value) ) source.uses.value = Number(source.uses.value);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate the consume field.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateConsume(source) {\n    if ( !(\"consume\" in source) ) return;\n    source.consume ??= {};\n    const amount = source.consume.amount;\n    if ( typeof amount === \"string\" ) {\n      if ( amount === \"\" ) source.consume.amount = null;\n      else if ( Number.isNumeric(amount) ) source.consume.amount = Number(amount);\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Getters                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Chat properties for activated effects.\n   * @type {string[]}\n   */\n  get activatedEffectCardProperties() {\n    return [\n      this.parent.labels.activation,\n      this.parent.labels.target,\n      this.parent.labels.range,\n      this.parent.labels.duration\n    ];\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does the Item have an area of effect target?\n   * @type {boolean}\n   */\n  get hasAreaTarget() {\n    return this.isActive && (this.target.type in CONFIG.DND5E.areaTargetTypes);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does the Item target one or more distinct targets?\n   * @type {boolean}\n   */\n  get hasIndividualTarget() {\n    return this.isActive && (this.target.type in CONFIG.DND5E.individualTargetTypes);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Is this Item limited in its ability to be used by charges or by recharge?\n   * @type {boolean}\n   */\n  get hasLimitedUses() {\n    return this.isActive && (this.uses.per in CONFIG.DND5E.limitedUsePeriods) && (this.uses.max > 0);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does this Item draw from a resource?\n   * @type {boolean}\n   */\n  get hasResource() {\n    const consume = this.consume;\n    return this.isActive && !!consume.target && !!consume.type && (!this.hasAttack || (consume.type !== \"ammo\"));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does this Item draw from ammunition?\n   * @type {boolean}\n   */\n  get hasAmmo() {\n    const consume = this.consume;\n    return this.isActive && !!consume.target && !!consume.type && this.hasAttack && (consume.type === \"ammo\");\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does the Item duration accept an associated numeric value or formula?\n   * @type {boolean}\n   */\n  get hasScalarDuration() {\n    return this.duration.units in CONFIG.DND5E.scalarTimePeriods;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does the Item range accept an associated numeric value?\n   * @type {boolean}\n   */\n  get hasScalarRange() {\n    return this.range.units in CONFIG.DND5E.movementUnits;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does the Item target accept an associated numeric value?\n   * @type {boolean}\n   */\n  get hasScalarTarget() {\n    return ![null, \"\", \"self\"].includes(this.target.type);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does the Item have a target?\n   * @type {boolean}\n   */\n  get hasTarget() {\n    return this.isActive && ![\"\", null].includes(this.target.type);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Is this Item an activatable item?\n   * @type {boolean}\n   */\n  get isActive() {\n    return !!this.activation.type;\n  }\n}\n","import SystemDataModel from \"../../abstract.mjs\";\n\n/**\n * Data model template with item type, subtype and baseItem.\n *\n * @property {object} type                      Standardized item type object.\n * @property {string} type.value                Category to which this item belongs.\n * @property {string} type.subtype              Item subtype according to its category.\n * @property {string} type.baseItem             Item this one is based on.\n * @mixin\n */\nexport default class ItemTypeTemplate extends SystemDataModel {\n\n  /* -------------------------------------------- */\n  /*  Migrations                                  */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _migrateData(source) {\n    super._migrateData(source);\n    ItemTypeTemplate.#migrateType(source);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Convert old types into the new standard.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateType(source) {\n    if ( foundry.utils.getType(source.type) === \"Object\" ) return;\n    const oldType = source.consumableType ?? source.armor?.type ?? source.toolType ?? source.weaponType;\n    if ( (oldType !== null) && (oldType !== undefined) ) foundry.utils.setProperty(source, \"type.value\", oldType);\n    if ( \"baseItem\" in source ) foundry.utils.setProperty(source, \"type.baseItem\", source.baseItem);\n  }\n}\n","import SystemDataModel from \"../../abstract.mjs\";\n\n/**\n * Data model template for equipment that can be mounted on a vehicle.\n *\n * @property {object} armor          Equipment's armor class.\n * @property {number} armor.value    Armor class value for equipment.\n * @property {object} hp             Equipment's hit points.\n * @property {number} hp.value       Current hit point value.\n * @property {number} hp.max         Max hit points.\n * @property {number} hp.dt          Damage threshold.\n * @property {string} hp.conditions  Conditions that are triggered when this equipment takes damage.\n * @mixin\n */\nexport default class MountableTemplate extends SystemDataModel {\n  /** @inheritdoc */\n  static defineSchema() {\n    return {\n      armor: new foundry.data.fields.SchemaField({\n        value: new foundry.data.fields.NumberField({\n          required: true, integer: true, min: 0, label: \"DND5E.ArmorClass\"\n        })\n      }, {label: \"DND5E.ArmorClass\"}),\n      hp: new foundry.data.fields.SchemaField({\n        value: new foundry.data.fields.NumberField({\n          required: true, integer: true, min: 0, label: \"DND5E.HitPointsCurrent\"\n        }),\n        max: new foundry.data.fields.NumberField({\n          required: true, integer: true, min: 0, label: \"DND5E.HitPointsMax\"\n        }),\n        dt: new foundry.data.fields.NumberField({\n          required: true, integer: true, min: 0, label: \"DND5E.DamageThreshold\"\n        }),\n        conditions: new foundry.data.fields.StringField({required: true, label: \"DND5E.HealthConditions\"})\n      }, {label: \"DND5E.HitPoints\"})\n    };\n  }\n}\n","/**\n * A field for storing Item type data.\n *\n * @param {object} [options={}]                   Options to configure this field's behavior.\n * @param {string} [options.value]                An initial value for the Item's type.\n * @param {string|boolean} [options.subtype]      An initial value for the Item's subtype, or false to exclude it.\n * @param {string|boolean} [options.baseItem]     An initial value for the Item's baseItem, or false to exclude it.\n * @param {DataFieldOptions} [schemaOptions={}]   Options forwarded to the SchemaField.\n */\nexport default class ItemTypeField extends foundry.data.fields.SchemaField {\n  constructor(options={}, schemaOptions={}) {\n    const fields = {\n      value: new foundry.data.fields.StringField({\n        required: true, blank: true, initial: options.value ?? \"\", label: \"DND5E.Type\"\n      }),\n      subtype: new foundry.data.fields.StringField({\n        required: true, blank: true, initial: options.subtype ?? \"\", label: \"DND5E.Subtype\"\n      }),\n      baseItem: new foundry.data.fields.StringField({\n        required: true, blank: true, initial: options.baseItem ?? \"\", label: \"DND5E.BaseItem\"\n      })\n    };\n    if ( options.subtype === false ) delete fields.subtype;\n    if ( options.baseItem === false ) delete fields.baseItem;\n    super(fields, schemaOptions);\n  }\n}\n","import { ItemDataModel } from \"../abstract.mjs\";\nimport ActionTemplate from \"./templates/action.mjs\";\nimport ActivatedEffectTemplate from \"./templates/activated-effect.mjs\";\nimport EquippableItemTemplate from \"./templates/equippable-item.mjs\";\nimport IdentifiableTemplate from \"./templates/identifiable.mjs\";\nimport ItemDescriptionTemplate from \"./templates/item-description.mjs\";\nimport ItemTypeTemplate from \"./templates/item-type.mjs\";\nimport PhysicalItemTemplate from \"./templates/physical-item.mjs\";\nimport MountableTemplate from \"./templates/mountable.mjs\";\nimport ItemTypeField from \"./fields/item-type-field.mjs\";\n\nconst { NumberField, SchemaField, SetField, StringField } = foundry.data.fields;\n\n/**\n * Data definition for Equipment items.\n * @mixes ItemDescriptionTemplate\n * @mixes ItemTypeTemplate\n * @mixes IdentifiableTemplate\n * @mixes PhysicalItemTemplate\n * @mixes EquippableItemTemplate\n * @mixes ActivatedEffectTemplate\n * @mixes ActionTemplate\n * @mixes MountableTemplate\n *\n * @property {object} armor               Armor details and equipment type information.\n * @property {number} armor.value         Base armor class or shield bonus.\n * @property {number} armor.dex           Maximum dex bonus added to armor class.\n * @property {number} armor.magicalBonus  Bonus added to AC from the armor's magical nature.\n * @property {object} speed               Speed granted by a piece of vehicle equipment.\n * @property {number} speed.value         Speed granted by this piece of equipment measured in feet or meters\n *                                        depending on system setting.\n * @property {string} speed.conditions    Conditions that may affect item's speed.\n * @property {number} strength            Minimum strength required to use a piece of armor.\n * @property {number} proficient          Does the owner have proficiency in this piece of equipment?\n */\nexport default class EquipmentData extends ItemDataModel.mixin(\n  ItemDescriptionTemplate, IdentifiableTemplate, ItemTypeTemplate, PhysicalItemTemplate, EquippableItemTemplate,\n  ActivatedEffectTemplate, ActionTemplate, MountableTemplate\n) {\n  /** @inheritdoc */\n  static defineSchema() {\n    return this.mergeSchema(super.defineSchema(), {\n      type: new ItemTypeField({value: \"light\", subtype: false}, {label: \"DND5E.ItemEquipmentType\"}),\n      armor: new SchemaField({\n        value: new NumberField({required: true, integer: true, min: 0, label: \"DND5E.ArmorClass\"}),\n        magicalBonus: new NumberField({min: 0, integer: true, label: \"DND5E.MagicalBonus\"}),\n        dex: new NumberField({required: true, integer: true, label: \"DND5E.ItemEquipmentDexMod\"})\n      }),\n      properties: new SetField(new StringField(), {\n        label: \"DND5E.ItemEquipmentProperties\"\n      }),\n      speed: new SchemaField({\n        value: new NumberField({required: true, min: 0, label: \"DND5E.Speed\"}),\n        conditions: new StringField({required: true, label: \"DND5E.SpeedConditions\"})\n      }, {label: \"DND5E.Speed\"}),\n      strength: new NumberField({\n        required: true, integer: true, min: 0, label: \"DND5E.ItemRequiredStr\"\n      }),\n      proficient: new NumberField({\n        required: true, min: 0, max: 1, integer: true, initial: null, label: \"DND5E.ProficiencyLevel\"\n      })\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static metadata = Object.freeze(foundry.utils.mergeObject(super.metadata, {\n    enchantable: true,\n    inventoryItem: true,\n    inventoryOrder: 200\n  }, {inplace: false}));\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static get compendiumBrowserFilters() {\n    return new Map([\n      [\"type\", {\n        label: \"DND5E.ItemEquipmentType\",\n        type: \"set\",\n        config: {\n          choices: CONFIG.DND5E.equipmentTypes,\n          keyPath: \"system.type.value\"\n        }\n      }],\n      [\"attunement\", this.compendiumBrowserAttunementFilter],\n      ...this.compendiumBrowserPhysicalItemFilters,\n      [\"properties\", this.compendiumBrowserPropertiesFilter(\"equipment\")]\n    ]);\n  }\n\n  /* -------------------------------------------- */\n  /*  Migrations                                  */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _migrateData(source) {\n    super._migrateData(source);\n    EquipmentData.#migrateArmor(source);\n    EquipmentData.#migrateType(source);\n    EquipmentData.#migrateStrength(source);\n    EquipmentData.#migrateProficient(source);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Apply migrations to the armor field.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateArmor(source) {\n    if ( !(\"armor\" in source) ) return;\n    source.armor ??= {};\n    if ( (typeof source.armor.dex === \"string\") ) {\n      const dex = source.armor.dex;\n      if ( dex === \"\" ) source.armor.dex = null;\n      else if ( Number.isNumeric(dex) ) source.armor.dex = Number(dex);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Apply migrations to the type field.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateType(source) {\n    if ( !(\"type\" in source) ) return;\n    if ( source.type.value === \"bonus\" ) source.type.value = \"trinket\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Ensure blank strength values are migrated to null, and string values are converted to numbers.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateStrength(source) {\n    if ( typeof source.strength !== \"string\" ) return;\n    if ( source.strength === \"\" ) source.strength = null;\n    if ( Number.isNumeric(source.strength) ) source.strength = Number(source.strength);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrates stealth disadvantage boolean to properties.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static _migrateStealth(source) {\n    if ( foundry.utils.getProperty(source, \"system.stealth\") === true ) {\n      foundry.utils.setProperty(source, \"flags.dnd5e.migratedProperties\", [\"stealthDisadvantage\"]);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate the proficient field to convert boolean values.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateProficient(source) {\n    if ( typeof source.proficient === \"boolean\" ) source.proficient = Number(source.proficient);\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Preparation                            */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareDerivedData() {\n    super.prepareDerivedData();\n    this.armor.value = (this._source.armor.value ?? 0) + (this.magicAvailable ? (this.armor.magicalBonus ?? 0) : 0);\n    this.type.label = CONFIG.DND5E.equipmentTypes[this.type.value]\n      ?? game.i18n.localize(CONFIG.Item.typeLabels.equipment);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareFinalData() {\n    this.prepareFinalActivatedEffectData();\n    this.prepareFinalEquippableData();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async getFavoriteData() {\n    return foundry.utils.mergeObject(await super.getFavoriteData(), {\n      subtitle: [this.type.label, this.parent.labels.activation],\n      uses: this.hasLimitedUses ? this.getUsesData() : null\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * Properties displayed in chat.\n   * @type {string[]}\n   */\n  get chatProperties() {\n    return [\n      this.type.label,\n      (this.isArmor || this.isMountable) ? (this.parent.labels?.armor ?? null) : null,\n      this.properties.has(\"stealthDisadvantage\") ? game.i18n.localize(\"DND5E.Item.Property.StealthDisadvantage\") : null\n    ];\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Properties displayed on the item card.\n   * @type {string[]}\n   */\n  get cardProperties() {\n    return [\n      (this.isArmor || this.isMountable) ? (this.parent.labels?.armor ?? null) : null,\n      this.properties.has(\"stealthDisadvantage\") ? game.i18n.localize(\"DND5E.Item.Property.StealthDisadvantage\") : null\n    ];\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Is this Item any of the armor subtypes?\n   * @type {boolean}\n   */\n  get isArmor() {\n    return this.type.value in CONFIG.DND5E.armorTypes;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Is this item a separate large object like a siege engine or vehicle component that is\n   * usually mounted on fixtures rather than equipped, and has its own AC and HP?\n   * @type {boolean}\n   */\n  get isMountable() {\n    return this.type.value === \"vehicle\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The proficiency multiplier for this item.\n   * @returns {number}\n   */\n  get proficiencyMultiplier() {\n    if ( Number.isFinite(this.proficient) ) return this.proficient;\n    const actor = this.parent.actor;\n    if ( !actor ) return 0;\n    if ( actor.type === \"npc\" ) return 1; // NPCs are always considered proficient with any armor in their stat block.\n    const config = CONFIG.DND5E.armorProficienciesMap;\n    const itemProf = config[this.type.value];\n    const actorProfs = actor.system.traits?.armorProf?.value ?? new Set();\n    const isProficient = (itemProf === true) || actorProfs.has(itemProf) || actorProfs.has(this.type.baseItem);\n    return Number(isProficient);\n  }\n}\n","import { filteredKeys } from \"../../utils.mjs\";\nimport { ItemDataModel } from \"../abstract.mjs\";\nimport { FormulaField } from \"../fields.mjs\";\nimport ActionTemplate from \"./templates/action.mjs\";\nimport ActivatedEffectTemplate from \"./templates/activated-effect.mjs\";\nimport ItemDescriptionTemplate from \"./templates/item-description.mjs\";\n\n/**\n * Data definition for Spell items.\n * @mixes ItemDescriptionTemplate\n * @mixes ActivatedEffectTemplate\n * @mixes ActionTemplate\n *\n * @property {number} level                      Base level of the spell.\n * @property {string} school                     Magical school to which this spell belongs.\n * @property {Set<string>} properties            General components and tags for this spell.\n * @property {object} materials                  Details on material components required for this spell.\n * @property {string} materials.value            Description of the material components required for casting.\n * @property {boolean} materials.consumed        Are these material components consumed during casting?\n * @property {number} materials.cost             GP cost for the required components.\n * @property {number} materials.supply           Quantity of this component available.\n * @property {object} preparation                Details on how this spell is prepared.\n * @property {string} preparation.mode           Spell preparation mode as defined in `DND5E.spellPreparationModes`.\n * @property {boolean} preparation.prepared      Is the spell currently prepared?\n * @property {object} scaling                    Details on how casting at higher levels affects this spell.\n * @property {string} scaling.mode               Spell scaling mode as defined in `DND5E.spellScalingModes`.\n * @property {string} scaling.formula            Dice formula used for scaling.\n */\nexport default class SpellData extends ItemDataModel.mixin(\n  ItemDescriptionTemplate, ActivatedEffectTemplate, ActionTemplate\n) {\n  /** @inheritdoc */\n  static defineSchema() {\n    return this.mergeSchema(super.defineSchema(), {\n      level: new foundry.data.fields.NumberField({\n        required: true, integer: true, initial: 1, min: 0, label: \"DND5E.SpellLevel\"\n      }),\n      school: new foundry.data.fields.StringField({required: true, label: \"DND5E.SpellSchool\"}),\n      sourceClass: new foundry.data.fields.StringField({label: \"DND5E.SpellSourceClass\"}),\n      properties: new foundry.data.fields.SetField(new foundry.data.fields.StringField(), {\n        label: \"DND5E.SpellComponents\"\n      }),\n      materials: new foundry.data.fields.SchemaField({\n        value: new foundry.data.fields.StringField({required: true, label: \"DND5E.SpellMaterialsDescription\"}),\n        consumed: new foundry.data.fields.BooleanField({required: true, label: \"DND5E.SpellMaterialsConsumed\"}),\n        cost: new foundry.data.fields.NumberField({\n          required: true, initial: 0, min: 0, label: \"DND5E.SpellMaterialsCost\"\n        }),\n        supply: new foundry.data.fields.NumberField({\n          required: true, initial: 0, min: 0, label: \"DND5E.SpellMaterialsSupply\"\n        })\n      }, {label: \"DND5E.SpellMaterials\"}),\n      preparation: new foundry.data.fields.SchemaField({\n        mode: new foundry.data.fields.StringField({\n          required: true, initial: \"prepared\", label: \"DND5E.SpellPreparationMode\"\n        }),\n        prepared: new foundry.data.fields.BooleanField({required: true, label: \"DND5E.SpellPrepared\"})\n      }, {label: \"DND5E.SpellPreparation\"}),\n      scaling: new foundry.data.fields.SchemaField({\n        mode: new foundry.data.fields.StringField({required: true, initial: \"none\", label: \"DND5E.ScalingMode\"}),\n        formula: new FormulaField({required: true, nullable: true, initial: null, label: \"DND5E.ScalingFormula\"})\n      }, {label: \"DND5E.LevelScaling\"})\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static get compendiumBrowserFilters() {\n    return new Map([\n      [\"level\", {\n        label: \"DND5E.Level\",\n        type: \"range\",\n        config: {\n          keyPath: \"system.level\",\n          min: 0,\n          max: Object.keys(CONFIG.DND5E.spellLevels).length - 1\n        }\n      }],\n      [\"school\", {\n        label: \"DND5E.School\",\n        type: \"set\",\n        config: {\n          choices: CONFIG.DND5E.spellSchools,\n          keyPath: \"system.school\"\n        }\n      }],\n      [\"properties\", this.compendiumBrowserPropertiesFilter(\"spell\")]\n    ]);\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Migrations                             */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _migrateData(source) {\n    super._migrateData(source);\n    SpellData.#migrateScaling(source);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate the component object to be 'properties' instead.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static _migrateComponentData(source) {\n    const components = filteredKeys(source.system?.components ?? {});\n    if ( components.length ) {\n      foundry.utils.setProperty(source, \"flags.dnd5e.migratedProperties\", components);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate spell scaling.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateScaling(source) {\n    if ( !(\"scaling\" in source) ) return;\n    if ( (source.scaling.mode === \"\") || (source.scaling.mode === null) ) source.scaling.mode = \"none\";\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Preparation                            */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareDerivedData() {\n    super.prepareDerivedData();\n    this.properties.add(\"mgc\");\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareFinalData() {\n    this.prepareFinalActivatedEffectData();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async getCardData(enrichmentOptions={}) {\n    const context = await super.getCardData(enrichmentOptions);\n    context.isSpell = true;\n    context.subtitle = [this.parent.labels.level, CONFIG.DND5E.spellSchools[this.school]?.label].filterJoin(\" &bull; \");\n    if ( this.parent.labels.components.vsm ) context.tags = [this.parent.labels.components.vsm, ...context.tags];\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async getFavoriteData() {\n    return foundry.utils.mergeObject(await super.getFavoriteData(), {\n      subtitle: [this.parent.labels.components.vsm, this.parent.labels.activation],\n      modifier: this.parent.labels.modifier,\n      range: this.range,\n      save: this.save\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Getters                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Properties displayed in chat.\n   * @type {string[]}\n   */\n  get chatProperties() {\n    return [\n      this.parent.labels.level,\n      this.parent.labels.components.vsm + (this.parent.labels.materials ? ` (${this.parent.labels.materials})` : \"\"),\n      ...this.parent.labels.components.tags\n    ];\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get _typeAbilityMod() {\n    return this.parent?.actor?.spellcastingClasses[this.sourceClass]?.spellcasting.ability\n      ?? this.parent?.actor?.system.attributes?.spellcasting\n      ?? \"int\";\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get _typeCriticalThreshold() {\n    return this.parent?.actor?.flags.dnd5e?.spellCriticalThreshold ?? Infinity;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The proficiency multiplier for this item.\n   * @returns {number}\n   */\n  get proficiencyMultiplier() {\n    return 1;\n  }\n}\n","/**\n * Mixin used to add system flags enforcement to types.\n * @type {function(Class): Class}\n * @mixin\n */\nexport default Base => class extends Base {\n\n  /**\n   * Get the data model that represents system flags.\n   * @type {typeof DataModel|null}\n   * @abstract\n   */\n  get _systemFlagsDataModel() {\n    return null;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareData() {\n    super.prepareData();\n    if ( (\"dnd5e\" in this.flags) && this._systemFlagsDataModel ) {\n      this.flags.dnd5e = new this._systemFlagsDataModel(this.flags.dnd5e, { parent: this });\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async setFlag(scope, key, value) {\n    if ( (scope === \"dnd5e\") && this._systemFlagsDataModel ) {\n      let diff;\n      const changes = foundry.utils.expandObject({ [key]: value });\n      if ( this.flags.dnd5e ) diff = this.flags.dnd5e.updateSource(changes, { dryRun: true });\n      else diff = new this._systemFlagsDataModel(changes, { parent: this }).toObject();\n      return this.update({ flags: { dnd5e: diff } });\n    }\n    return super.setFlag(scope, key, value);\n  }\n};\n","import SystemFlagsMixin from \"./flags.mjs\";\n\n/**\n * Mixin used to share some logic between Actor & Item documents.\n * @type {function(Class): Class}\n * @mixin\n */\nexport default Base => class extends SystemFlagsMixin(Base) {\n\n  /** @inheritDoc */\n  get _systemFlagsDataModel() {\n    return this.system?.metadata?.systemFlagsModel ?? null;\n  }\n\n  /* -------------------------------------------- */\n  /*  Socket Event Handlers                       */\n  /* -------------------------------------------- */\n\n  /**\n   * Perform preliminary operations before a Document of this type is created.\n   * Pre-creation operations only occur for the client which requested the operation.\n   * @param {object} data               The initial data object provided to the document creation request.\n   * @param {object} options            Additional options which modify the creation request.\n   * @param {User} user                 The User requesting the document creation.\n   * @returns {Promise<boolean|void>}   A return value of false indicates the creation operation should be cancelled.\n   * @see {Document#_preCreate}\n   * @protected\n   */\n  async _preCreate(data, options, user) {\n    let allowed = await super._preCreate(data, options, user);\n    if ( foundry.utils.isNewerVersion(game.version, 12) ) return allowed;\n    if ( allowed !== false ) allowed = await this.system._preCreate?.(data, options, user);\n    return allowed;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Perform preliminary operations before a Document of this type is updated.\n   * Pre-update operations only occur for the client which requested the operation.\n   * @param {object} changed            The differential data that is changed relative to the documents prior values\n   * @param {object} options            Additional options which modify the update request\n   * @param {documents.BaseUser} user   The User requesting the document update\n   * @returns {Promise<boolean|void>}   A return value of false indicates the update operation should be cancelled.\n   * @see {Document#_preUpdate}\n   * @protected\n   */\n  async _preUpdate(changed, options, user) {\n    let allowed = await super._preUpdate(changed, options, user);\n    if ( foundry.utils.isNewerVersion(game.version, 12) ) return allowed;\n    if ( allowed !== false ) allowed = await this.system._preUpdate?.(changed, options, user);\n    return allowed;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Perform preliminary operations before a Document of this type is deleted.\n   * Pre-delete operations only occur for the client which requested the operation.\n   * @param {object} options            Additional options which modify the deletion request\n   * @param {documents.BaseUser} user   The User requesting the document deletion\n   * @returns {Promise<boolean|void>}   A return value of false indicates the deletion operation should be cancelled.\n   * @see {Document#_preDelete}\n   * @protected\n   */\n  async _preDelete(options, user) {\n    let allowed = await super._preDelete(options, user);\n    if ( foundry.utils.isNewerVersion(game.version, 12) ) return allowed;\n    if ( allowed !== false ) allowed = await this.system._preDelete?.(options, user);\n    return allowed;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Perform follow-up operations after a Document of this type is created.\n   * Post-creation operations occur for all clients after the creation is broadcast.\n   * @param {object} data               The initial data object provided to the document creation request\n   * @param {object} options            Additional options which modify the creation request\n   * @param {string} userId             The id of the User requesting the document update\n   * @see {Document#_onCreate}\n   * @protected\n   */\n  _onCreate(data, options, userId) {\n    super._onCreate(data, options, userId);\n    if ( foundry.utils.isNewerVersion(game.version, 12) ) return;\n    this.system._onCreate?.(data, options, userId);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Perform follow-up operations after a Document of this type is updated.\n   * Post-update operations occur for all clients after the update is broadcast.\n   * @param {object} changed            The differential data that was changed relative to the documents prior values\n   * @param {object} options            Additional options which modify the update request\n   * @param {string} userId             The id of the User requesting the document update\n   * @see {Document#_onUpdate}\n   * @protected\n   */\n  _onUpdate(changed, options, userId) {\n    super._onUpdate(changed, options, userId);\n    if ( foundry.utils.isNewerVersion(game.version, 12) ) return;\n    this.system._onUpdate?.(changed, options, userId);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Perform follow-up operations after a Document of this type is deleted.\n   * Post-deletion operations occur for all clients after the deletion is broadcast.\n   * @param {object} options            Additional options which modify the deletion request\n   * @param {string} userId             The id of the User requesting the document update\n   * @see {Document#_onDelete}\n   * @protected\n   */\n  _onDelete(options, userId) {\n    super._onDelete(options, userId);\n    if ( foundry.utils.isNewerVersion(game.version, 12) ) return;\n    this.system._onDelete?.(options, userId);\n  }\n};\n","import AdvancementManager from \"../applications/advancement/advancement-manager.mjs\";\nimport AdvancementConfirmationDialog from \"../applications/advancement/advancement-confirmation-dialog.mjs\";\nimport AbilityUseDialog from \"../applications/item/ability-use-dialog.mjs\";\nimport ClassData from \"../data/item/class.mjs\";\nimport ContainerData from \"../data/item/container.mjs\";\nimport EquipmentData from \"../data/item/equipment.mjs\";\nimport SpellData from \"../data/item/spell.mjs\";\nimport { EnchantmentData } from \"../data/item/fields/enchantment-field.mjs\";\nimport PhysicalItemTemplate from \"../data/item/templates/physical-item.mjs\";\nimport {d20Roll, damageRoll} from \"../dice/dice.mjs\";\nimport simplifyRollFormula from \"../dice/simplify-roll-formula.mjs\";\nimport { getSceneTargets } from \"../utils.mjs\";\nimport Proficiency from \"./actor/proficiency.mjs\";\nimport SelectChoices from \"./actor/select-choices.mjs\";\nimport Advancement from \"./advancement/advancement.mjs\";\nimport SystemDocumentMixin from \"./mixins/document.mjs\";\n\n/**\n * Override and extend the basic Item implementation.\n */\nexport default class Item5e extends SystemDocumentMixin(Item) {\n\n  /**\n   * Caches an item linked to this one, such as a subclass associated with a class.\n   * @type {Item5e}\n   * @private\n   */\n  _classLink;\n\n  /* -------------------------------------------- */\n\n  /**\n   * An object that tracks which tracks the changes to the data model which were applied by active effects\n   * @type {object}\n   */\n  overrides = this.overrides ?? {};\n\n  /* -------------------------------------------- */\n\n  /**\n   * Types that can be selected within the compendium browser.\n   * @param {object} [options={}]\n   * @param {Set<string>} [options.chosen]  Types that have been selected.\n   * @returns {SelectChoices}\n   */\n  static compendiumBrowserTypes({ chosen=new Set() }={}) {\n    const [generalTypes, physicalTypes] = Item.TYPES.reduce(([g, p], t) => {\n      if ( ![CONST.BASE_DOCUMENT_TYPE, \"backpack\"].includes(t) ) {\n        if ( CONFIG.Item.dataModels[t]?.metadata?.inventoryItem ) p.push(t);\n        else g.push(t);\n      }\n      return [g, p];\n    }, [[], []]);\n\n    const makeChoices = (types, categoryChosen) => types.reduce((obj, type) => {\n      obj[type] = {\n        label: CONFIG.Item.typeLabels[type],\n        chosen: chosen.has(type) || categoryChosen\n      };\n      return obj;\n    }, {});\n    const choices = makeChoices(generalTypes);\n    choices.physical = {\n      label: game.i18n.localize(\"DND5E.Item.Category.Physical\"),\n      children: makeChoices(physicalTypes, chosen.has(\"physical\"))\n    };\n    return new SelectChoices(choices);\n  }\n\n  /* -------------------------------------------- */\n  /*  Migrations                                  */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _initializeSource(data, options={}) {\n    // Migrate backpack -> container.\n    if ( data.type === \"backpack\" ) {\n      data.type = \"container\";\n      foundry.utils.setProperty(data, \"flags.dnd5e.persistSourceMigration\", true);\n    }\n\n    /**\n     * A hook event that fires before source data is initialized for an Item in a compendium.\n     * @function dnd5e.initializeItemSource\n     * @memberof hookEvents\n     * @param {Item5e} item     Item for which the data is being initialized.\n     * @param {object} data     Source data being initialized.\n     * @param {object} options  Additional data initialization options.\n     */\n    if ( options.pack || options.parent?.pack ) Hooks.callAll(\"dnd5e.initializeItemSource\", this, data, options);\n\n    return super._initializeSource(data, options);\n  }\n\n  /* -------------------------------------------- */\n  /*  Item Properties                             */\n  /* -------------------------------------------- */\n\n  /**\n   * Which ability score modifier is used by this item?\n   * @type {string|null}\n   * @see {@link ActionTemplate#abilityMod}\n   */\n  get abilityMod() {\n    return this.system.abilityMod ?? null;\n  }\n\n  /* --------------------------------------------- */\n\n  /**\n   * The item that contains this item, if it is in a container. Returns a promise if the item is located\n   * in a compendium pack.\n   * @type {Item5e|Promise<Item5e>|void}\n   */\n  get container() {\n    if ( !this.system.container ) return;\n    if ( this.isEmbedded ) return this.actor.items.get(this.system.container);\n    if ( this.pack ) return game.packs.get(this.pack).getDocument(this.system.container);\n    return game.items.get(this.system.container);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * What is the critical hit threshold for this item, if applicable?\n   * @type {number|null}\n   * @see {@link ActionTemplate#criticalThreshold}\n   */\n  get criticalThreshold() {\n    return this.system.criticalThreshold ?? null;\n  }\n\n  /* --------------------------------------------- */\n\n  /**\n   * Does the Item implement an ability check as part of its usage?\n   * @type {boolean}\n   * @see {@link ActionTemplate#hasAbilityCheck}\n   */\n  get hasAbilityCheck() {\n    return this.system.hasAbilityCheck ?? false;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does this item support advancement and have advancements defined?\n   * @type {boolean}\n   */\n  get hasAdvancement() {\n    return !!this.system.advancement?.length;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does the Item have an area of effect target?\n   * @type {boolean}\n   * @see {@link ActivatedEffectTemplate#hasAreaTarget}\n   */\n  get hasAreaTarget() {\n    return this.system.hasAreaTarget ?? false;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does the Item implement an attack roll as part of its usage?\n   * @type {boolean}\n   * @see {@link ActionTemplate#hasAttack}\n   */\n  get hasAttack() {\n    return this.system.hasAttack ?? false;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does the Item implement a damage roll as part of its usage?\n   * @type {boolean}\n   * @see {@link ActionTemplate#hasDamage}\n   */\n  get hasDamage() {\n    return this.system.hasDamage ?? false;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does the Item target one or more distinct targets?\n   * @type {boolean}\n   * @see {@link ActivatedEffectTemplate#hasIndividualTarget}\n   */\n  get hasIndividualTarget() {\n    return this.system.hasIndividualTarget ?? false;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Is this Item limited in its ability to be used by charges or by recharge?\n   * @type {boolean}\n   * @see {@link ActivatedEffectTemplate#hasLimitedUses}\n   * @see {@link FeatData#hasLimitedUses}\n   */\n  get hasLimitedUses() {\n    return this.system.hasLimitedUses ?? false;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does this Item draw from a resource?\n   * @type {boolean}\n   * @see {@link ActivatedEffectTemplate#hasResource}\n   */\n  get hasResource() {\n    return this.system.hasResource ?? false;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does this Item draw from ammunition?\n   * @type {boolean}\n   * @see {@link ActivatedEffectTemplate#hasAmmo}\n   */\n  get hasAmmo() {\n    return this.system.hasAmmo ?? false;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does the Item implement a saving throw as part of its usage?\n   * @type {boolean}\n   * @see {@link ActionTemplate#hasSave}\n   */\n  get hasSave() {\n    return this.system.hasSave ?? false;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does the Item have a target?\n   * @type {boolean}\n   * @see {@link ActivatedEffectTemplate#hasTarget}\n   */\n  get hasTarget() {\n    return this.system.hasTarget ?? false;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Return an item's identifier.\n   * @type {string}\n   */\n  get identifier() {\n    return this.system.identifier || this.name.slugify({strict: true});\n  }\n\n  /* --------------------------------------------- */\n\n  /**\n   * Is this Item an activatable item?\n   * @type {boolean}\n   */\n  get isActive() {\n    return this.system.isActive ?? false;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Is this item any of the armor subtypes?\n   * @type {boolean}\n   * @see {@link EquipmentTemplate#isArmor}\n   */\n  get isArmor() {\n    return this.system.isArmor ?? false;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does the item provide an amount of healing instead of conventional damage?\n   * @type {boolean}\n   * @see {@link ActionTemplate#isHealing}\n   */\n  get isHealing() {\n    return this.system.isHealing ?? false;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Is this item a separate large object like a siege engine or vehicle component that is\n   * usually mounted on fixtures rather than equipped, and has its own AC and HP?\n   * @type {boolean}\n   * @see {@link EquipmentData#isMountable}\n   * @see {@link WeaponData#isMountable}\n   */\n  get isMountable() {\n    return this.system.isMountable ?? false;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Is this class item the original class for the containing actor? If the item is not a class or it is not\n   * embedded in an actor then this will return `null`.\n   * @type {boolean|null}\n   */\n  get isOriginalClass() {\n    if ( this.type !== \"class\" || !this.isEmbedded || !this.parent.system.details?.originalClass ) return null;\n    return this.id === this.parent.system.details.originalClass;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does the Item implement a versatile damage roll as part of its usage?\n   * @type {boolean}\n   * @see {@link ActionTemplate#isVersatile}\n   */\n  get isVersatile() {\n    return this.system.isVersatile ?? false;\n  }\n\n  /* --------------------------------------------- */\n\n  /**\n   * Is the item on recharge cooldown?\n   * @type {boolean}\n   * @see {@link ActionTemplate#isOnCooldown}\n   */\n  get isOnCooldown() {\n    const { recharge } = this.system;\n    return (recharge?.value > 0) && (recharge?.charged === false);\n  }\n\n  /* --------------------------------------------- */\n\n  /**\n   * Does this item require concentration?\n   * @type {boolean}\n   */\n  get requiresConcentration() {\n    const isValid = this.system.validProperties.has(\"concentration\") && this.system.properties.has(\"concentration\");\n    return isValid && this.isActive && this.system.hasScalarDuration;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Class associated with this subclass. Always returns null on non-subclass or non-embedded items.\n   * @type {Item5e|null}\n   */\n  get class() {\n    if ( !this.isEmbedded || (this.type !== \"subclass\") ) return null;\n    const cid = this.system.classIdentifier;\n    return this._classLink ??= this.parent.items.find(i => (i.type === \"class\") && (i.identifier === cid));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Subclass associated with this class. Always returns null on non-class or non-embedded items.\n   * @type {Item5e|null}\n   */\n  get subclass() {\n    if ( !this.isEmbedded || (this.type !== \"class\") ) return null;\n    const items = this.parent.items;\n    const cid = this.identifier;\n    return this._classLink ??= items.find(i => (i.type === \"subclass\") && (i.system.classIdentifier === cid));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Retrieve scale values for current level from advancement data.\n   * @type {object}\n   */\n  get scaleValues() {\n    if ( !this.advancement.byType.ScaleValue ) return {};\n    const level = this.type === \"class\" ? this.system.levels : this.type === \"subclass\" ? this.class?.system.levels\n      : this.parent?.system.details.level ?? 0;\n    return this.advancement.byType.ScaleValue.reduce((obj, advancement) => {\n      obj[advancement.identifier] = advancement.valueForLevel(level);\n      return obj;\n    }, {});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does this item scale with any kind of consumption?\n   * @type {string|null}\n   */\n  get usageScaling() {\n    const { level, preparation, consume } = this.system;\n    const isLeveled = (this.type === \"spell\") && (level > 0);\n    if ( isLeveled && CONFIG.DND5E.spellPreparationModes[preparation.mode]?.upcast ) return \"slot\";\n    else if ( isLeveled && this.hasResource && consume.scale ) return \"resource\";\n    return null;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Spellcasting details for a class or subclass.\n   *\n   * @typedef {object} SpellcastingDescription\n   * @property {string} type              Spellcasting type as defined in ``CONFIG.DND5E.spellcastingTypes`.\n   * @property {string|null} progression  Progression within the specified spellcasting type if supported.\n   * @property {string} ability           Ability used when casting spells from this class or subclass.\n   * @property {number|null} levels       Number of levels of this class or subclass's class if embedded.\n   */\n\n  /**\n   * Retrieve the spellcasting for a class or subclass. For classes, this will return the spellcasting\n   * of the subclass if it overrides the class. For subclasses, this will return the class's spellcasting\n   * if no spellcasting is defined on the subclass.\n   * @type {SpellcastingDescription|null}  Spellcasting object containing progression & ability.\n   */\n  get spellcasting() {\n    const spellcasting = this.system.spellcasting;\n    if ( !spellcasting ) return null;\n    const isSubclass = this.type === \"subclass\";\n    const classSC = isSubclass ? this.class?.system.spellcasting : spellcasting;\n    const subclassSC = isSubclass ? spellcasting : this.subclass?.system.spellcasting;\n    const finalSC = foundry.utils.deepClone(\n      ( subclassSC && (subclassSC.progression !== \"none\") ) ? subclassSC : classSC\n    );\n    if ( !finalSC ) return null;\n    finalSC.levels = this.isEmbedded ? (this.system.levels ?? this.class?.system.levels) : null;\n\n    // Temp method for determining spellcasting type until this data is available directly using advancement\n    if ( CONFIG.DND5E.spellcastingTypes[finalSC.progression] ) finalSC.type = finalSC.progression;\n    else finalSC.type = Object.entries(CONFIG.DND5E.spellcastingTypes).find(([type, data]) => {\n      return !!data.progression?.[finalSC.progression];\n    })?.[0];\n\n    return finalSC;\n  }\n\n  /* -------------------------------------------- */\n  /*  Active Effects                              */\n  /* -------------------------------------------- */\n\n  /**\n   * Get all ActiveEffects that may apply to this Item.\n   * @yields {ActiveEffect5e}\n   * @returns {Generator<ActiveEffect5e, void, void>}\n   */\n  *allApplicableEffects() {\n    for ( const effect of this.effects ) {\n      if ( effect.isAppliedEnchantment ) yield effect;\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Apply any transformation to the Item data which are caused by enchantment Effects.\n   */\n  applyActiveEffects() {\n    const overrides = {};\n\n    // Organize non-disabled effects by their application priority\n    const changes = [];\n    for ( const effect of this.allApplicableEffects() ) {\n      if ( !effect.active ) continue;\n      changes.push(...effect.changes.map(change => {\n        const c = foundry.utils.deepClone(change);\n        c.effect = effect;\n        c.priority ??= c.mode * 10;\n        return c;\n      }));\n    }\n    changes.sort((a, b) => a.priority - b.priority);\n\n    // Apply all changes\n    for ( const change of changes ) {\n      if ( !change.key ) continue;\n      const changes = change.effect.apply(this, change);\n      Object.assign(overrides, changes);\n    }\n\n    // Expand the set of final overrides\n    this.overrides = foundry.utils.expandObject(overrides);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Should this item's active effects be suppressed.\n   * @type {boolean}\n   */\n  get areEffectsSuppressed() {\n    const requireEquipped = (this.type !== \"consumable\")\n      || [\"rod\", \"trinket\", \"wand\"].includes(this.system.type.value);\n    if ( requireEquipped && (this.system.equipped === false) ) return true;\n    return !this.system.attuned && (this.system.attunement === \"required\");\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Preparation                            */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareEmbeddedDocuments() {\n    super.prepareEmbeddedDocuments();\n    if ( !this.actor || this.actor._embeddedPreparation ) this.applyActiveEffects();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareDerivedData() {\n    super.prepareDerivedData();\n    this.labels = {};\n\n    // Clear out linked item cache\n    this._classLink = undefined;\n\n    // Advancement\n    this._prepareAdvancement();\n\n    // Item Properties\n    if ( this.system.properties ) {\n      this.labels.properties = this.system.properties.reduce((acc, prop) => {\n        if ( (prop === \"concentration\") && !this.requiresConcentration ) return acc;\n        acc.push({\n          abbr: prop,\n          label: CONFIG.DND5E.itemProperties[prop]?.label,\n          icon: CONFIG.DND5E.itemProperties[prop]?.icon\n        });\n        return acc;\n      }, []);\n    }\n\n    // Specialized preparation per Item type\n    switch ( this.type ) {\n      case \"equipment\":\n        this._prepareEquipment(); break;\n      case \"feat\":\n        this._prepareFeat(); break;\n      case \"spell\":\n        this._prepareSpell(); break;\n      case \"weapon\":\n        this._prepareWeapon(); break;\n    }\n\n    // Activated Items\n    this._prepareAction();\n    this._prepareRecovery();\n\n    // Un-owned items can have their final preparation done here, otherwise this needs to happen in the owning Actor\n    if ( !this.isOwned ) this.prepareFinalAttributes();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare derived data for an equipment-type item and define labels.\n   * @protected\n   */\n  _prepareEquipment() {\n    this.labels.armor = this.system.armor.value ? `${this.system.armor.value} ${game.i18n.localize(\"DND5E.AC\")}` : \"\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare derived data for a feat-type item and define labels.\n   * @protected\n   */\n  _prepareFeat() {\n    const act = this.system.activation;\n    if ( act?.type === \"legendary\" ) this.labels.featType = game.i18n.localize(\"DND5E.LegendaryActionLabel\");\n    else if ( act?.type === \"lair\" ) this.labels.featType = game.i18n.localize(\"DND5E.LairActionLabel\");\n    else if ( act?.type ) {\n      const isAttack = /\\w\\wak$/.test(this.system.actionType);\n      this.labels.featType = game.i18n.localize(isAttack ? \"DND5E.Attack\" : \"DND5E.Action\");\n    }\n    else this.labels.featType = game.i18n.localize(\"DND5E.Passive\");\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare derived data for a spell-type item and define labels.\n   * @protected\n   */\n  _prepareSpell() {\n    const attributes = this.system?.validProperties.reduce((obj, k) => {\n      obj[k] = CONFIG.DND5E.itemProperties[k];\n      return obj;\n    }, {});\n    this.system.preparation.mode ||= \"prepared\";\n    this.labels.level = CONFIG.DND5E.spellLevels[this.system.level];\n    this.labels.school = CONFIG.DND5E.spellSchools[this.system.school]?.label;\n    this.labels.components = this.system.properties.reduce((obj, c) => {\n      const config = attributes[c];\n      if ( !config ) return obj;\n      const { abbreviation: abbr, label, icon } = config;\n      obj.all.push({ abbr, label, icon, tag: config.isTag });\n      if ( config.isTag ) obj.tags.push(label);\n      else obj.vsm.push(abbr);\n      return obj;\n    }, {all: [], vsm: [], tags: []});\n    this.labels.components.vsm = new Intl.ListFormat(game.i18n.lang, { style: \"narrow\", type: \"conjunction\" })\n      .format(this.labels.components.vsm);\n    this.labels.materials = this.system?.materials?.value ?? null;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare derived data for a weapon-type item and define labels.\n   * @protected\n   */\n  _prepareWeapon() {\n    this.labels.armor = this.system.armor.value ? `${this.system.armor.value} ${game.i18n.localize(\"DND5E.AC\")}` : \"\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare derived data and labels for items which have an action which deals damage.\n   * @protected\n   */\n  _prepareAction() {\n    if ( !(\"actionType\" in this.system) ) return;\n    let dmg = this.system.damage || {};\n    if ( dmg.parts ) {\n      const types = CONFIG.DND5E.damageTypes;\n      this.labels.damage = dmg.parts.map(d => d[0]).join(\" + \").replace(/\\+ -/g, \"- \");\n      this.labels.damageTypes = dmg.parts.map(d => types[d[1]]?.label).join(\", \");\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare recovery labels.\n   * @protected\n   */\n  _prepareRecovery() {\n    const { per } = this.system.uses ?? {};\n    const config = CONFIG.DND5E.limitedUsePeriods[per] ?? {};\n    this.labels.recovery = config.abbreviation ?? config.label;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare advancement objects from stored advancement data.\n   * @protected\n   */\n  _prepareAdvancement() {\n    const minAdvancementLevel = [\"class\", \"subclass\"].includes(this.type) ? 1 : 0;\n    this.advancement = {\n      byId: {},\n      byLevel: Object.fromEntries(\n        Array.fromRange(CONFIG.DND5E.maxLevel, minAdvancementLevel).map(l => [l, []])\n      ),\n      byType: {},\n      needingConfiguration: []\n    };\n    for ( const advancement of this.system.advancement ?? [] ) {\n      if ( !(advancement instanceof Advancement) ) continue;\n      this.advancement.byId[advancement.id] = advancement;\n      this.advancement.byType[advancement.type] ??= [];\n      this.advancement.byType[advancement.type].push(advancement);\n      advancement.levels.forEach(l => this.advancement.byLevel[l]?.push(advancement));\n      if ( !advancement.levels.length\n        || ((advancement.levels.length === 1) && (advancement.levels[0] < minAdvancementLevel)) ) {\n        this.advancement.needingConfiguration.push(advancement);\n      }\n    }\n    Object.entries(this.advancement.byLevel).forEach(([lvl, data]) => data.sort((a, b) => {\n      return a.sortingValueForLevel(lvl).localeCompare(b.sortingValueForLevel(lvl), game.i18n.lang);\n    }));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Determine an item's proficiency level based on its parent actor's proficiencies.\n   * @protected\n   */\n  _prepareProficiency() {\n    if ( ![\"spell\", \"weapon\", \"equipment\", \"tool\", \"feat\", \"consumable\"].includes(this.type) ) return;\n    if ( !this.actor?.system.attributes?.prof ) {\n      this.system.prof = new Proficiency(0, 0);\n      return;\n    }\n\n    this.system.prof = new Proficiency(this.actor.system.attributes.prof, this.system.proficiencyMultiplier ?? 0);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Compute item attributes which might depend on prepared actor data. If this item is embedded this method will\n   * be called after the actor's data is prepared.\n   * Otherwise, it will be called at the end of `Item5e#prepareDerivedData`.\n   */\n  prepareFinalAttributes() {\n    this.system.prepareFinalData?.();\n\n    // Proficiency\n    this._prepareProficiency();\n\n    // Class data\n    if ( this.type === \"class\" ) this.system.isOriginalClass = this.isOriginalClass;\n\n    // Action usage\n    if ( \"actionType\" in this.system ) {\n      this.labels.abilityCheck = game.i18n.format(\"DND5E.AbilityPromptTitle\", {\n        ability: CONFIG.DND5E.abilities[this.system.ability]?.label ?? \"\"\n      });\n\n      // Saving throws\n      this.getSaveDC();\n\n      // To Hit\n      this.getAttackToHit();\n\n      // Damage Label\n      this.getDerivedDamageLabel();\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Populate a label with the compiled and simplified damage formula based on owned item\n   * actor data. This is only used for display purposes and is not related to `Item5e#rollDamage`.\n   * @returns {{damageType: string, formula: string, label: string}[]}\n   */\n  getDerivedDamageLabel() {\n    if ( !this.hasDamage || !this.isOwned ) return [];\n    const rollData = this.getRollData();\n    const damageLabels = { ...CONFIG.DND5E.damageTypes, ...CONFIG.DND5E.healingTypes };\n    const derivedDamage = this.system.damage?.parts?.map((damagePart, index) => {\n      let formula;\n      try {\n        formula = damagePart[0];\n        if ( (index === 0) && this.system.magicAvailable ) formula = `${formula} + ${this.system.magicalBonus ?? 0}`;\n        const roll = new Roll(formula, rollData);\n        formula = simplifyRollFormula(roll.formula, { preserveFlavor: true });\n      }\n      catch(err) {\n        const parentInfo = this.parent ? ` on ${this.parent.name} (${this.parent.id})` : \"\";\n        console.warn(`Unable to simplify formula for ${this.name} (${this.id})${parentInfo}`, err);\n      }\n      const damageType = damagePart[1];\n      return { formula, damageType, label: `${formula} ${damageLabels[damageType]?.label ?? \"\"}` };\n    });\n    return this.labels.derivedDamage = derivedDamage;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Update the derived spell DC for an item that requires a saving throw.\n   * @returns {number|null}\n   */\n  getSaveDC() {\n    if ( !this.hasSave ) return null;\n    const save = this.system.save;\n\n    // Actor spell-DC based scaling\n    if ( save.scaling === \"spell\" ) {\n      save.dc = this.isOwned ? this.actor.system.abilities?.[this.system.abilityMod]?.dc\n        ?? this.actor.system.attributes.spelldc : null;\n    }\n\n    // Ability-score based scaling\n    else if ( save.scaling !== \"flat\" ) {\n      save.dc = this.isOwned ? this.actor.system.abilities[save.scaling].dc : null;\n    }\n\n    // Update labels\n    const abl = CONFIG.DND5E.abilities[save.ability]?.label ?? \"\";\n    this.labels.save = game.i18n.format(\"DND5E.SaveDC\", {dc: save.dc || \"\", ability: abl});\n    return save.dc;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Update a label to the Item detailing its total to hit bonus from the following sources:\n   * - item's actor's proficiency bonus if applicable\n   * - item's actor's global bonuses to the given item type\n   * - item document's innate & magical attack bonuses\n   * - item's ammunition if applicable\n   * @returns {{rollData: object, parts: string[]}|null}  Data used in the item's Attack roll.\n   */\n  getAttackToHit() {\n    if ( !this.hasAttack ) return null;\n    const flat = this.system.attack.flat;\n    const rollData = this.getRollData();\n    const parts = [];\n    let ammo;\n\n    if ( this.isOwned && !flat ) {\n      // Ability score modifier\n      if ( this.system.ability !== \"none\" ) parts.push(\"@mod\");\n\n      // Add proficiency bonus.\n      if ( this.system.prof?.hasProficiency ) {\n        parts.push(\"@prof\");\n        rollData.prof = this.system.prof.term;\n      }\n\n      // Actor-level global bonus to attack rolls\n      const actorBonus = this.actor.system.bonuses?.[this.system.actionType] || {};\n      if ( actorBonus.attack ) parts.push(actorBonus.attack);\n\n      ammo = this.hasAmmo ? this.actor.items.get(this.system.consume.target) : null;\n    }\n\n    // Include the item's innate & magical attack bonuses\n    if ( this.system.attack.bonus ) parts.push(this.system.attack.bonus);\n    if ( this.system.magicalBonus && this.system.magicAvailable && !flat ) parts.push(this.system.magicalBonus);\n\n    // One-time bonus provided by consumed ammunition\n    if ( ammo && !flat ) {\n      const ammoItemQuantity = ammo.system.quantity;\n      const ammoCanBeConsumed = ammoItemQuantity && (ammoItemQuantity - (this.system.consume.amount ?? 0) >= 0);\n      const ammoParts = [\n        Roll.replaceFormulaData(ammo.system.attack.bonus, rollData),\n        ammo.system.magicAvailable ? ammo.system.magicalBonus : null\n      ].filter(b => b);\n      const ammoIsTypeConsumable = (ammo.type === \"consumable\") && (ammo.system.type.value === \"ammo\");\n      if ( ammoCanBeConsumed && ammoParts.length && ammoIsTypeConsumable ) {\n        parts.push(\"@ammo\");\n        rollData.ammo = ammoParts.join(\" + \");\n      }\n    }\n\n    // Condense the resulting attack bonus formula into a simplified label\n    const roll = new Roll(parts.join(\"+\"), rollData);\n    const formula = simplifyRollFormula(roll.formula) || \"0\";\n    this.labels.modifier = simplifyRollFormula(roll.formula, { deterministic: true }) || \"0\";\n    this.labels.toHit = !/^[+-]/.test(formula) ? `+ ${formula}` : formula;\n    return { rollData, parts };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Replace referenced data attributes in the roll formula with values from the provided data.\n   * If the attribute is not found in the provided data, display a warning on the actor.\n   * @param {string} formula           The original formula within which to replace.\n   * @param {object} data              The data object which provides replacements.\n   * @param {object} options\n   * @param {string} options.property  Name of the property to which this formula belongs.\n   * @returns {string}                 Formula with replaced data.\n   * @deprecated since DnD5e 3.2, available until DnD5e 3.4\n   */\n  replaceFormulaData(formula, data, { property }) {\n    foundry.utils.logCompatibilityWarning(\n      \"Item5e#replaceFormulaData has been moved to dnd5e.utils.replaceFormulaData.\",\n      { since: \"DnD5e 3.2\", until: \"DnD5e 3.4\" }\n    );\n    return dnd5e.utils.replaceFormulaData(formula, data, { actor: this.actor, property });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Render a rich tooltip for this item.\n   * @param {EnrichmentOptions} [enrichmentOptions={}]  Options for text enrichment.\n   * @returns {Promise<{content: string, classes: string[]}>|null}\n   */\n  richTooltip(enrichmentOptions={}) {\n    return this.system.richTooltip?.() ?? null;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Configuration data for an item usage being prepared.\n   *\n   * @typedef {object} ItemUseConfiguration\n   * @property {boolean} createMeasuredTemplate     Should this item create a template?\n   * @property {boolean} createSummons              Should this item create a summoned creature?\n   * @property {boolean} consumeResource            Should this item consume a (non-ammo) resource?\n   * @property {boolean} consumeSpellSlot           Should this item (a spell) consume a spell slot?\n   * @property {boolean} consumeUsage               Should this item consume its limited uses or recharge?\n   * @property {string} enchantmentProfile          ID of the enchantment to apply.\n   * @property {boolean} promptEnchantment          Does an enchantment profile need to be selected?\n   * @property {string|number|null} slotLevel       The spell slot type or level to consume by default.\n   * @property {string|null} summonsProfile         ID of the summoning profile to use.\n   * @property {number|null} resourceAmount         The amount to consume by default when scaling with consumption.\n   * @property {boolean} beginConcentrating         Should this item initiate concentration?\n   * @property {string|null} endConcentration       The id of the active effect to end concentration on, if any.\n   */\n\n  /**\n   * Additional options used for configuring item usage.\n   *\n   * @typedef {object} ItemUseOptions\n   * @property {boolean} configureDialog  Display a configuration dialog for the item usage, if applicable?\n   * @property {string} rollMode          The roll display mode with which to display (or not) the card.\n   * @property {boolean} createMessage    Whether to automatically create a chat message (if true) or simply return\n   *                                      the prepared chat message data (if false).\n   * @property {object} flags             Additional flags added to the chat message.\n   * @property {Event} event              The browser event which triggered the item usage, if any.\n   */\n\n  /**\n   * Trigger an item usage, optionally creating a chat message with followup actions.\n   * @param {ItemUseConfiguration} [config]      Initial configuration data for the usage.\n   * @param {ItemUseOptions} [options]           Options used for configuring item usage.\n   * @returns {Promise<ChatMessage|object|void>} Chat message if options.createMessage is true, message data if it is\n   *                                             false, and nothing if the roll wasn't performed.\n   */\n  async use(config={}, options={}) {\n    if ( !this.isOwner ) {\n      ui.notifications.error(\"DND5E.DocumentUseWarn\", { localize: true });\n      return null;\n    }\n    let item = this;\n    const is = item.system;\n    const as = item.actor.system;\n\n    // Ensure the options object is ready\n    options = foundry.utils.mergeObject({\n      configureDialog: true,\n      createMessage: true,\n      \"flags.dnd5e.use\": {type: this.type, itemId: this.id, itemUuid: this.uuid}\n    }, options);\n\n    // Define follow-up actions resulting from the item usage\n    if ( config.consumeSlotLevel ) {\n      console.warn(\"You are passing 'consumeSlotLevel' to the ItemUseConfiguration object, which now expects a key as 'slotLevel'.\");\n      config.slotLevel = config.consumeSlotLevel;\n      delete config.consumeSlotLevel;\n    }\n    config = foundry.utils.mergeObject(this._getUsageConfig(), config);\n\n    /**\n     * A hook event that fires before an item usage is configured.\n     * @function dnd5e.preUseItem\n     * @memberof hookEvents\n     * @param {Item5e} item                  Item being used.\n     * @param {ItemUseConfiguration} config  Configuration data for the item usage being prepared.\n     * @param {ItemUseOptions} options       Additional options used for configuring item usage.\n     * @returns {boolean}                    Explicitly return `false` to prevent item from being used.\n     */\n    if ( Hooks.call(\"dnd5e.preUseItem\", item, config, options) === false ) return;\n\n    // Are any default values necessitating a prompt?\n    const needsConfiguration = Object.values(config).includes(true);\n\n    // Display configuration dialog\n    if ( (options.configureDialog !== false) && needsConfiguration ) {\n      const configuration = await AbilityUseDialog.create(item, config);\n      if ( !configuration ) return;\n      foundry.utils.mergeObject(config, configuration);\n    }\n\n    // Store selected enchantment profile in flag\n    if ( config.enchantmentProfile ) {\n      foundry.utils.setProperty(options.flags, \"dnd5e.use.enchantmentProfile\", config.enchantmentProfile);\n    }\n\n    // Handle upcasting\n    if ( item.type === \"spell\" ) {\n      let level = null;\n      if ( config.resourceAmount in as.spells ) config.slotLevel = config.resourceAmount;\n      if ( config.slotLevel ) {\n        // A spell slot was consumed.\n        if ( Number.isInteger(config.slotLevel) ) level = config.slotLevel;\n        else if ( config.slotLevel in as.spells ) {\n          if ( /^spell([0-9]+)$/.test(config.slotLevel) ) level = parseInt(config.slotLevel.replace(\"spell\", \"\"));\n          else level = as.spells[config.slotLevel].level;\n        }\n      } else if ( config.resourceAmount ) {\n        // A quantity of the resource was consumed.\n        const diff = config.resourceAmount - (this.system.consume.amount || 1);\n        level = is.level + diff;\n      }\n      if ( level && (level !== is.level) ) {\n        item = item.clone({\"system.level\": level}, {keepId: true});\n        item.prepareData();\n        item.prepareFinalAttributes();\n      }\n    }\n    if ( item.type === \"spell\" ) foundry.utils.mergeObject(options.flags, {\"dnd5e.use.spellLevel\": item.system.level});\n\n    // Calculate and consume item consumption\n    if ( await this.consume(item, config, options) === false ) return;\n\n    // Initiate or end concentration.\n    const effects = [];\n    if ( config.beginConcentrating ) {\n      const effect = await item.actor.beginConcentrating(item);\n      if ( effect ) {\n        effects.push(effect);\n        foundry.utils.setProperty(options.flags, \"dnd5e.use.concentrationId\", effect.id);\n      }\n      if ( config.endConcentration ) {\n        const deleted = await item.actor.endConcentration(config.endConcentration);\n        effects.push(...deleted);\n      }\n    }\n\n    // Prepare card data & display it if options.createMessage is true\n    const cardData = await item.displayCard(options);\n\n    // Initiate measured template creation\n    let templates;\n    if ( config.createMeasuredTemplate ) {\n      try {\n        templates = await (dnd5e.canvas.AbilityTemplate.fromItem(item))?.drawPreview();\n      } catch(err) {\n        Hooks.onError(\"Item5e#use\", err, {\n          msg: game.i18n.localize(\"DND5E.PlaceTemplateError\"),\n          log: \"error\",\n          notify: \"error\"\n        });\n      }\n    }\n\n    // Initiate summons creation\n    let summoned;\n    if ( config.createSummons ) {\n      try {\n        summoned = await item.system.summons.summon(config.summonsProfile, config.summonsOptions);\n      } catch(err) {\n        Hooks.onError(\"Item5e#use\", err, { log: \"error\", notify: \"error\" });\n      }\n    }\n\n    /**\n     * A hook event that fires when an item is used, after the measured template has been created if one is needed.\n     * @function dnd5e.useItem\n     * @memberof hookEvents\n     * @param {Item5e} item                                Item being used.\n     * @param {ItemUseConfiguration} config                Configuration data for the roll.\n     * @param {ItemUseOptions} options                     Additional options for configuring item usage.\n     * @param {MeasuredTemplateDocument[]|null} templates  The measured templates if they were created.\n     * @param {ActiveEffect5e[]} effects                   The active effects that were created or deleted.\n     * @param {TokenDocument5e[]|null} summoned            Summoned tokens if they were created.\n     */\n    Hooks.callAll(\"dnd5e.useItem\", item, config, options, templates ?? null, effects, summoned ?? null);\n\n    return cardData;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle item's consumption.\n   * @param {Item5e} item  Item or clone to use when calculating updates.\n   * @param {ItemUseConfiguration} config  Configuration data for the item usage being prepared.\n   * @param {ItemUseOptions} options       Additional options used for configuring item usage.\n   * @returns {false|void}                 Returns `false` if any further usage should be canceled.\n   */\n  async consume(item, config, options) {\n    /**\n     * A hook event that fires before an item's resource consumption has been calculated.\n     * @function dnd5e.preItemUsageConsumption\n     * @memberof hookEvents\n     * @param {Item5e} item                  Item being used.\n     * @param {ItemUseConfiguration} config  Configuration data for the item usage being prepared.\n     * @param {ItemUseOptions} options       Additional options used for configuring item usage.\n     * @returns {boolean}                    Explicitly return `false` to prevent item from being used.\n     */\n    if ( Hooks.call(\"dnd5e.preItemUsageConsumption\", item, config, options) === false ) return false;\n\n    // Determine whether the item can be used by testing the chosen values of the config.\n    const usage = item._getUsageUpdates(config);\n    if ( !usage ) return false;\n\n    options.flags ??= {};\n    if ( config.consumeUsage ) foundry.utils.setProperty(options.flags, \"dnd5e.use.consumedUsage\", true);\n    if ( config.consumeResource ) foundry.utils.setProperty(options.flags, \"dnd5e.use.consumedResource\", true);\n    if ( config.consumeSpellSlot ) foundry.utils.setProperty(options.flags, \"dnd5e.use.consumedSpellSlot\", true);\n\n    /**\n     * A hook event that fires after an item's resource consumption has been calculated but before any\n     * changes have been made.\n     * @function dnd5e.itemUsageConsumption\n     * @memberof hookEvents\n     * @param {Item5e} item                     Item being used.\n     * @param {ItemUseConfiguration} config     Configuration data for the item usage being prepared.\n     * @param {ItemUseOptions} options          Additional options used for configuring item usage.\n     * @param {object} usage\n     * @param {object} usage.actorUpdates       Updates that will be applied to the actor.\n     * @param {object} usage.itemUpdates        Updates that will be applied to the item being used.\n     * @param {object[]} usage.resourceUpdates  Updates that will be applied to other items on the actor.\n     * @param {Set<string>} usage.deleteIds     Item ids for those which consumption will delete.\n     * @returns {boolean}                       Explicitly return `false` to prevent item from being used.\n     */\n    if ( Hooks.call(\"dnd5e.itemUsageConsumption\", item, config, options, usage) === false ) return false;\n\n    // Commit pending data updates\n    const { actorUpdates, itemUpdates, resourceUpdates, deleteIds } = usage;\n    if ( !foundry.utils.isEmpty(itemUpdates) ) await item.update(itemUpdates);\n    if ( !foundry.utils.isEmpty(deleteIds) ) await this.actor.deleteEmbeddedDocuments(\"Item\", [...deleteIds]);\n    if ( !foundry.utils.isEmpty(actorUpdates) ) await this.actor.update(actorUpdates);\n    if ( !foundry.utils.isEmpty(resourceUpdates) ) await this.actor.updateEmbeddedDocuments(\"Item\", resourceUpdates);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare an object of possible and default values for item usage. A value that is `null` is ignored entirely.\n   * @returns {ItemUseConfiguration}  Configuration data for the roll.\n   */\n  _getUsageConfig() {\n    const { consume, uses, summons, target, level, preparation } = this.system;\n\n    const config = {\n      createMeasuredTemplate: null,\n      createSummons: null,\n      consumeResource: null,\n      consumeSpellSlot: null,\n      consumeUsage: null,\n      enchantmentProfile: null,\n      promptEnchantment: null,\n      slotLevel: null,\n      summonsProfile: null,\n      resourceAmount: null,\n      beginConcentrating: null,\n      endConcentration: null\n    };\n\n    const scaling = this.usageScaling;\n    if ( scaling === \"slot\" ) {\n      const spells = this.actor.system.spells ?? {};\n      config.consumeSpellSlot = true;\n      config.slotLevel = (preparation?.mode in spells) ? preparation.mode : `spell${level}`;\n    } else if ( scaling === \"resource\" ) {\n      config.resourceAmount = consume.amount || 1;\n    }\n    if ( this.hasLimitedUses ) config.consumeUsage = uses.prompt;\n    if ( this.hasResource ) {\n      config.consumeResource = true;\n      // Do not suggest consuming your own uses if also consuming them through resources.\n      if ( consume.target === this.id ) config.consumeUsage = null;\n    }\n    if ( game.user.can(\"TEMPLATE_CREATE\") && this.hasAreaTarget && canvas.scene ) {\n      config.createMeasuredTemplate = target.prompt;\n    }\n    if ( this.system.isEnchantment ) {\n      const availableEnchantments = EnchantmentData.availableEnchantments(this);\n      config.promptEnchantment = availableEnchantments.length > 1;\n      config.enchantmentProfile = availableEnchantments[0]?.id;\n    }\n    if ( this.system.hasSummoning && this.system.summons.canSummon && canvas.scene ) {\n      config.createSummons = summons.prompt;\n      config.summonsProfile = this.system.summons.profiles[0]._id;\n    }\n    if ( this.requiresConcentration && !game.settings.get(\"dnd5e\", \"disableConcentration\") ) {\n      config.beginConcentrating = true;\n      const { effects } = this.actor.concentration;\n      const limit = this.actor.system.attributes?.concentration?.limit ?? 0;\n      if ( limit && (limit <= effects.size) ) {\n        const id = effects.find(e => {\n          const data = e.flags.dnd5e?.itemData ?? {};\n          return (data === this.id) || (data._id === this.id);\n        })?.id ?? effects.first()?.id ?? null;\n        config.endConcentration = id;\n      }\n    }\n\n    return config;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Verify that the consumed resources used by an Item are available and prepare the updates that should\n   * be performed. If required resources are not available, display an error and return false.\n   * @param {ItemUseConfiguration} config  Configuration data for an item usage being prepared.\n   * @returns {object|boolean}             A set of data changes to apply when the item is used, or false.\n   * @protected\n   */\n  _getUsageUpdates(config) {\n    const actorUpdates = {};\n    const itemUpdates = {};\n    const resourceUpdates = [];\n    const deleteIds = new Set();\n\n    // Consume own limited uses or recharge\n    if ( config.consumeUsage ) {\n      const canConsume = this._handleConsumeUses(itemUpdates, actorUpdates, resourceUpdates, deleteIds);\n      if ( canConsume === false ) return false;\n    }\n\n    // Consume Limited Resource\n    if ( config.consumeResource ) {\n      const canConsume = this._handleConsumeResource(config, itemUpdates, actorUpdates, resourceUpdates, deleteIds);\n      if ( canConsume === false ) return false;\n    }\n\n    // Consume Spell Slots\n    if ( config.consumeSpellSlot ) {\n      const spellData = this.actor?.system.spells ?? {};\n      const level = spellData[config.slotLevel];\n      const spells = Number(level?.value ?? 0);\n      if ( spells === 0 ) {\n        const isLeveled = /spell\\d+/.test(config.slotLevel || \"\");\n        const labelKey = isLeveled ? `DND5E.SpellLevel${this.system.level}`: `DND5E.SpellProg${config.slotLevel?.capitalize()}`;\n        const label = game.i18n.localize(labelKey);\n        ui.notifications.warn(game.i18n.format(\"DND5E.SpellCastNoSlots\", {name: this.name, level: label}));\n        return false;\n      }\n      actorUpdates[`system.spells.${config.slotLevel}.value`] = Math.max(spells - 1, 0);\n    }\n\n    // Determine whether the item can be used by testing for available concentration.\n    if ( config.beginConcentrating ) {\n      const { effects } = this.actor.concentration;\n\n      // Case 1: Replacing.\n      if ( config.endConcentration ) {\n        const replacedEffect = effects.find(i => i.id === config.endConcentration);\n        if ( !replacedEffect ) {\n          ui.notifications.warn(\"DND5E.ConcentratingMissingItem\", {localize: true});\n          return false;\n        }\n      }\n\n      // Case 2: Starting concentration, but at limit.\n      else if ( effects.size >= this.actor.system.attributes.concentration.limit ) {\n        ui.notifications.warn(\"DND5E.ConcentratingLimited\", {localize: true});\n        return false;\n      }\n    }\n\n    // Return the configured usage\n    return {itemUpdates, actorUpdates, resourceUpdates, deleteIds};\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle update actions required when consuming an item's uses or recharge\n   * @param {object} itemUpdates        An object of data updates applied to this item\n   * @param {object} actorUpdates       An object of data updates applied to the item owner (Actor)\n   * @param {object[]} resourceUpdates  An array of updates to apply to other items owned by the actor\n   * @param {Set<string>} deleteIds     A set of item ids that will be deleted off the actor\n   * @returns {boolean|void}            Return false to block further progress, or return nothing to continue\n   * @protected\n   */\n  _handleConsumeUses(itemUpdates, actorUpdates, resourceUpdates, deleteIds) {\n    const recharge = this.system.recharge || {};\n    const uses = this.system.uses || {};\n    const quantity = this.system.quantity ?? 1;\n    let used = false;\n\n    // Consume recharge.\n    if ( recharge.value ) {\n      if ( recharge.charged ) {\n        itemUpdates[\"system.recharge.charged\"] = false;\n        used = true;\n      }\n    }\n\n    // Consume uses (or quantity).\n    else if ( uses.max && uses.per && (uses.value > 0) ) {\n      const remaining = Math.max(uses.value - 1, 0);\n\n      if ( remaining > 0 || (!remaining && !uses.autoDestroy) ) {\n        used = true;\n        itemUpdates[\"system.uses.value\"] = remaining;\n      } else if ( quantity >= 2 ) {\n        used = true;\n        itemUpdates[\"system.quantity\"] = quantity - 1;\n        itemUpdates[\"system.uses.value\"] = uses.max;\n      } else if ( quantity === 1 ) {\n        used = true;\n        deleteIds.add(this.id);\n      }\n    }\n\n    // If the item was not used, return a warning\n    if ( !used ) {\n      ui.notifications.warn(game.i18n.format(\"DND5E.ItemNoUses\", {name: this.name}));\n      return false;\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle update actions required when consuming an external resource\n   * @param {ItemUseConfiguration} usageConfig  Configuration data for an item usage being prepared.\n   * @param {object} itemUpdates                An object of data updates applied to this item\n   * @param {object} actorUpdates               An object of data updates applied to the item owner (Actor)\n   * @param {object[]} resourceUpdates          An array of updates to apply to other items owned by the actor\n   * @param {Set<string>} deleteIds             A set of item ids that will be deleted off the actor\n   * @returns {boolean|void}                    Return false to block further progress, or return nothing to continue\n   * @protected\n   */\n  _handleConsumeResource(usageConfig, itemUpdates, actorUpdates, resourceUpdates, deleteIds) {\n    const consume = this.system.consume || {};\n    if ( !consume.type ) return;\n\n    // No consumed target\n    const typeLabel = CONFIG.DND5E.abilityConsumptionTypes[consume.type];\n    if ( !consume.target ) {\n      ui.notifications.warn(game.i18n.format(\"DND5E.ConsumeWarningNoResource\", {name: this.name, type: typeLabel}));\n      return false;\n    }\n\n    const as = this.actor.system;\n    // Identify the consumed resource and its current quantity\n    let resource = null;\n    let amount = usageConfig.resourceAmount ? usageConfig.resourceAmount : (consume.amount || 0);\n    if ( as.spells && (amount in as.spells) ) amount = consume.amount || 0;\n    let quantity = 0;\n    switch ( consume.type ) {\n      case \"attribute\":\n        const amt = usageConfig.resourceAmount;\n        const target = as.spells && (amt in as.spells) ? `spells.${amt}.value` : consume.target;\n        resource = foundry.utils.getProperty(as, target);\n        quantity = resource || 0;\n        break;\n      case \"ammo\":\n      case \"material\":\n        resource = this.actor.items.get(consume.target);\n        quantity = resource ? resource.system.quantity : 0;\n        break;\n      case \"hitDice\":\n        const denom = ![\"smallest\", \"largest\"].includes(consume.target) ? consume.target : false;\n        resource = Object.values(this.actor.classes).filter(cls => !denom || (cls.system.hitDice === denom));\n        quantity = resource.reduce((count, cls) => count + cls.system.levels - cls.system.hitDiceUsed, 0);\n        break;\n      case \"charges\":\n        resource = this.actor.items.get(consume.target);\n        if ( !resource ) break;\n        const uses = resource.system.uses;\n        if ( uses.per && uses.max ) quantity = uses.value;\n        else if ( resource.system.recharge?.value ) {\n          quantity = resource.system.recharge.charged ? 1 : 0;\n          amount = 1;\n        }\n        break;\n    }\n\n    // Verify that a consumed resource is available\n    if ( resource === undefined ) {\n      ui.notifications.warn(game.i18n.format(\"DND5E.ConsumeWarningNoSource\", {name: this.name, type: typeLabel}));\n      return false;\n    }\n\n    // Verify that the required quantity is available\n    let remaining = quantity - amount;\n    if ( remaining < 0 ) {\n      ui.notifications.warn(game.i18n.format(\"DND5E.ConsumeWarningNoQuantity\", {name: this.name, type: typeLabel}));\n      return false;\n    }\n\n    // Define updates to provided data objects\n    switch ( consume.type ) {\n      case \"attribute\":\n        const amt = usageConfig.resourceAmount;\n        const target = (amt in as.spells) ? `spells.${amt}.value` : consume.target;\n        actorUpdates[`system.${target}`] = remaining;\n        break;\n      case \"ammo\":\n      case \"material\":\n        resourceUpdates.push({_id: consume.target, \"system.quantity\": remaining});\n        break;\n      case \"hitDice\":\n        if ( [\"smallest\", \"largest\"].includes(consume.target) ) resource = resource.sort((lhs, rhs) => {\n          let sort = lhs.system.hitDice.localeCompare(rhs.system.hitDice, \"en\", {numeric: true});\n          if ( consume.target === \"largest\" ) sort *= -1;\n          return sort;\n        });\n        let toConsume = amount;\n        for ( const cls of resource ) {\n          const available = (toConsume > 0 ? cls.system.levels : 0) - cls.system.hitDiceUsed;\n          const delta = toConsume > 0 ? Math.min(toConsume, available) : Math.max(toConsume, available);\n          if ( delta !== 0 ) {\n            resourceUpdates.push({_id: cls.id, \"system.hitDiceUsed\": cls.system.hitDiceUsed + delta});\n            toConsume -= delta;\n            if ( toConsume === 0 ) break;\n          }\n        }\n        break;\n      case \"charges\":\n        const uses = resource.system.uses || {};\n        const recharge = resource.system.recharge || {};\n        const update = {_id: consume.target};\n        // Reduce quantity of, or delete, the external resource.\n        if ( uses.per && uses.max && uses.autoDestroy && (remaining === 0) ) {\n          update[\"system.quantity\"] = Math.max(resource.system.quantity - 1, 0);\n          update[\"system.uses.value\"] = uses.max ?? 1;\n          if ( update[\"system.quantity\"] === 0 ) deleteIds.add(resource.id);\n          else resourceUpdates.push(update);\n          break;\n        }\n\n        // Regular consumption.\n        if ( uses.per && uses.max ) update[\"system.uses.value\"] = remaining;\n        else if ( recharge.value ) update[\"system.recharge.charged\"] = false;\n        resourceUpdates.push(update);\n        break;\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Display the chat card for an Item as a Chat Message\n   * @param {ItemUseOptions} [options]  Options which configure the display of the item chat card.\n   * @returns {ChatMessage|object}      Chat message if `createMessage` is true, otherwise an object containing\n   *                                    message data.\n   */\n  async displayCard(options={}) {\n\n    // Render the chat card template\n    const token = this.actor.token;\n    const consumeUsage = this.hasLimitedUses && !options.flags?.dnd5e?.use?.consumedUsage;\n    const consumeResource = this.hasResource && !options.flags?.dnd5e?.use?.consumedResource;\n    const hasButtons = this.hasAttack || this.hasDamage || this.isVersatile || this.hasSave || this.system.formula\n      || this.hasAreaTarget || (this.type === \"tool\") || this.hasAbilityCheck || this.system.hasSummoning\n      || consumeUsage || consumeResource;\n    const templateData = {\n      hasButtons,\n      actor: this.actor,\n      config: CONFIG.DND5E,\n      tokenId: token?.uuid || null,\n      item: this,\n      effects: this.effects.filter(e => (e.getFlag(\"dnd5e\", \"type\") !== \"enchantment\") && !e.getFlag(\"dnd5e\", \"rider\")),\n      data: await this.system.getCardData(),\n      labels: this.labels,\n      hasAttack: this.hasAttack,\n      isHealing: this.isHealing,\n      hasDamage: this.hasDamage,\n      isVersatile: this.isVersatile,\n      isSpell: this.type === \"spell\",\n      hasSave: this.hasSave,\n      hasAreaTarget: this.hasAreaTarget,\n      isTool: this.type === \"tool\",\n      hasAbilityCheck: this.hasAbilityCheck,\n      consumeUsage,\n      consumeResource\n    };\n    const html = await renderTemplate(\"systems/dnd5e/templates/chat/item-card.hbs\", templateData);\n\n    // Create the ChatMessage data object\n    const chatData = {\n      user: game.user.id,\n      content: html,\n      speaker: ChatMessage.getSpeaker({actor: this.actor, token}),\n      flags: {\"core.canPopout\": true}\n    };\n    // TODO: Remove when v11 support is dropped.\n    if ( game.release.generation < 12 ) chatData.type = CONST.CHAT_MESSAGE_TYPES.OTHER;\n\n    // If the Item was destroyed in the process of displaying its card - embed the item data in the chat message\n    if ( (this.type === \"consumable\") && !this.actor.items.has(this.id) ) {\n      chatData.flags[\"dnd5e.itemData\"] = templateData.item.toObject();\n    }\n\n    // Merge in the flags from options\n    chatData.flags = foundry.utils.mergeObject(chatData.flags, options.flags);\n\n    /**\n     * A hook event that fires before an item chat card is created.\n     * @function dnd5e.preDisplayCard\n     * @memberof hookEvents\n     * @param {Item5e} item             Item for which the chat card is being displayed.\n     * @param {object} chatData         Data used to create the chat message.\n     * @param {ItemUseOptions} options  Options which configure the display of the item chat card.\n     */\n    Hooks.callAll(\"dnd5e.preDisplayCard\", this, chatData, options);\n\n    // Apply the roll mode to adjust message visibility\n    ChatMessage.applyRollMode(chatData, options.rollMode ?? game.settings.get(\"core\", \"rollMode\"));\n\n    // Create the Chat Message or return its data\n    const card = (options.createMessage !== false) ? await ChatMessage.create(chatData) : chatData;\n\n    /**\n     * A hook event that fires after an item chat card is created.\n     * @function dnd5e.displayCard\n     * @memberof hookEvents\n     * @param {Item5e} item              Item for which the chat card is being displayed.\n     * @param {ChatMessage|object} card  The created ChatMessage instance or ChatMessageData depending on whether\n     *                                   options.createMessage was set to `true`.\n     */\n    Hooks.callAll(\"dnd5e.displayCard\", this, card);\n\n    return card;\n  }\n\n  /* -------------------------------------------- */\n  /*  Chat Cards                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare an object of chat data used to display a card for the Item in the chat log.\n   * @param {object} htmlOptions    Options used by the TextEditor.enrichHTML function.\n   * @returns {object}              An object of chat data to render.\n   */\n  async getChatData(htmlOptions={}) {\n    const data = this.toObject().system;\n\n    // Rich text description\n    data.description.value = await TextEditor.enrichHTML(data.description.value, {\n      async: true,\n      relativeTo: this,\n      rollData: this.getRollData(),\n      ...htmlOptions\n    });\n\n    // Type specific properties\n    data.properties = [\n      ...this.system.chatProperties ?? [],\n      ...this.system.equippableItemCardProperties ?? [],\n      ...this.system.activatedEffectCardProperties ?? []\n    ].filter(p => p);\n\n    return data;\n  }\n\n  /* -------------------------------------------- */\n  /*  Item Rolls - Attack, Damage, Saves, Checks  */\n  /* -------------------------------------------- */\n\n  /**\n   * Place an attack roll using an item (weapon, feat, spell, or equipment)\n   * Rely upon the d20Roll logic for the core implementation\n   *\n   * @param {D20RollConfiguration} options  Roll options which are configured and provided to the d20Roll function\n   * @returns {Promise<D20Roll|null>}       A Promise which resolves to the created Roll instance\n   */\n  async rollAttack(options={}) {\n    const flags = this.actor.flags.dnd5e ?? {};\n    if ( !this.hasAttack ) throw new Error(\"You may not place an Attack Roll with this Item.\");\n    let title = `${this.name} - ${game.i18n.localize(\"DND5E.AttackRoll\")}`;\n\n    // Get the parts and rollData for this item's attack\n    const {parts, rollData} = this.getAttackToHit();\n    if ( options.spellLevel ) rollData.item.level = options.spellLevel;\n\n    // Handle ammunition consumption\n    let ammoUpdate = [];\n    const consume = this.system.consume;\n    const ammo = this.hasAmmo ? this.actor.items.get(consume.target) : null;\n    if ( ammo ) {\n      const q = ammo.system.quantity;\n      const consumeAmount = consume.amount ?? 0;\n      if ( q && (q - consumeAmount >= 0) ) {\n        title += ` [${ammo.name}]`;\n      }\n\n      // Get pending ammunition update\n      const usage = this._getUsageUpdates({consumeResource: true});\n      if ( usage === false ) return null;\n      ammoUpdate = usage.resourceUpdates ?? [];\n    }\n\n    // Flags\n    const elvenAccuracy = (flags.elvenAccuracy\n      && CONFIG.DND5E.characterFlags.elvenAccuracy.abilities.includes(this.abilityMod)) || undefined;\n\n    // Targets\n    const targets = this.constructor._formatAttackTargets();\n\n    // Compose roll options\n    const rollConfig = foundry.utils.mergeObject({\n      actor: this.actor,\n      data: rollData,\n      critical: this.criticalThreshold,\n      title,\n      flavor: title,\n      elvenAccuracy,\n      targetValue: targets.length === 1 ? targets[0].ac : undefined,\n      halflingLucky: flags.halflingLucky,\n      dialogOptions: {\n        width: 400,\n        top: options.event ? options.event.clientY - 80 : null,\n        left: window.innerWidth - 710\n      },\n      messageData: {\n        \"flags.dnd5e\": {\n          targets,\n          roll: { type: \"attack\", itemId: this.id, itemUuid: this.uuid }\n        },\n        speaker: ChatMessage.getSpeaker({actor: this.actor})\n      }\n    }, options);\n    rollConfig.parts = parts.concat(options.parts ?? []);\n\n    /**\n     * A hook event that fires before an attack is rolled for an Item.\n     * @function dnd5e.preRollAttack\n     * @memberof hookEvents\n     * @param {Item5e} item                  Item for which the roll is being performed.\n     * @param {D20RollConfiguration} config  Configuration data for the pending roll.\n     * @returns {boolean}                    Explicitly return false to prevent the roll from being performed.\n     */\n    if ( Hooks.call(\"dnd5e.preRollAttack\", this, rollConfig) === false ) return;\n\n    const roll = await d20Roll(rollConfig);\n    if ( roll === null ) return null;\n\n    /**\n     * A hook event that fires after an attack has been rolled for an Item.\n     * @function dnd5e.rollAttack\n     * @memberof hookEvents\n     * @param {Item5e} item          Item for which the roll was performed.\n     * @param {D20Roll} roll         The resulting roll.\n     * @param {object[]} ammoUpdate  Updates that will be applied to ammo Items as a result of this attack.\n     */\n    Hooks.callAll(\"dnd5e.rollAttack\", this, roll, ammoUpdate);\n\n    // Commit ammunition consumption on attack rolls resource consumption if the attack roll was made\n    if ( ammoUpdate.length ) await this.actor?.updateEmbeddedDocuments(\"Item\", ammoUpdate);\n    return roll;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * @typedef {object} TargetDescriptor5e\n   * @property {string} uuid  The UUID of the target.\n   * @property {string} img   The target's image.\n   * @property {string} name  The target's name.\n   * @property {number} ac    The target's armor class.\n   */\n\n  /**\n   * Extract salient information about targeted Actors.\n   * @returns {TargetDescriptor5e[]}\n   * @protected\n   */\n  static _formatAttackTargets() {\n    const targets = new Map();\n    for ( const token of game.user.targets ) {\n      const { name } = token;\n      const { img, system, uuid } = token.actor ?? {};\n      const ac = system?.attributes?.ac ?? {};\n      if ( uuid && Number.isNumeric(ac.value) ) targets.set(uuid, { name, img, uuid, ac: ac.value });\n    }\n    return Array.from(targets.values());\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Place a damage roll using an item (weapon, feat, spell, or equipment)\n   * Rely upon the damageRoll logic for the core implementation.\n   * @param {object} [config]\n   * @param {MouseEvent} [config.event]    An event which triggered this roll, if any\n   * @param {boolean} [config.critical]    Should damage be rolled as a critical hit?\n   * @param {number} [config.spellLevel]   If the item is a spell, override the level for damage scaling\n   * @param {boolean} [config.versatile]   If the item is a weapon, roll damage using the versatile formula\n   * @param {DamageRollConfiguration} [config.options]  Additional options passed to the damageRoll function\n   * @returns {Promise<DamageRoll[]>}      A Promise which resolves to the created Roll instances, or null if the action\n   *                                       cannot be performed.\n   */\n  async rollDamage({critical, event=null, spellLevel=null, versatile=false, options={}}={}) {\n    if ( !this.hasDamage ) throw new Error(\"You may not make a Damage Roll with this Item.\");\n\n    // Fetch level from tags if not specified\n    let originalLevel = this.system.level;\n    let scaling = this.system.scaling;\n    const levelingFlag = this.getFlag(\"dnd5e\", \"spellLevel\");\n    if ( !spellLevel && levelingFlag ) {\n      spellLevel = levelingFlag.value;\n      originalLevel = levelingFlag.base;\n      scaling = levelingFlag.scaling;\n    }\n\n    // Get roll data\n    const dmg = this.system.damage;\n    const properties = Array.from(this.system.properties).filter(p => CONFIG.DND5E.itemProperties[p]?.isPhysical);\n    const rollConfigs = dmg.parts.map(([formula, type]) => ({ parts: [formula], type, properties }));\n    const rollData = this.getRollData();\n    if ( spellLevel ) rollData.item.level = spellLevel;\n\n    // Configure the damage roll\n    const actionFlavor = game.i18n.localize(this.system.actionType === \"heal\" ? \"DND5E.Healing\" : \"DND5E.DamageRoll\");\n    const title = `${this.name} - ${actionFlavor}`;\n    const rollConfig = {\n      actor: this.actor,\n      critical,\n      data: rollData,\n      event,\n      title: title,\n      flavor: this.labels.damageTypes.length ? `${title} (${this.labels.damageTypes})` : title,\n      dialogOptions: {\n        width: 400,\n        top: event ? event.clientY - 80 : null,\n        left: window.innerWidth - 710\n      },\n      messageData: {\n        \"flags.dnd5e\": {\n          targets: this.constructor._formatAttackTargets(),\n          roll: {type: \"damage\", itemId: this.id, itemUuid: this.uuid}\n        },\n        speaker: ChatMessage.getSpeaker({actor: this.actor})\n      }\n    };\n\n    // Adjust damage from versatile usage\n    if ( versatile && dmg.versatile ) {\n      rollConfigs[0].parts[0] = dmg.versatile;\n      rollConfig.messageData[\"flags.dnd5e\"].roll.versatile = true;\n    }\n\n    // Add magical damage if available\n    if ( this.system.magicalBonus && this.system.magicAvailable ) {\n      rollConfigs[0].parts.push(this.system.magicalBonus);\n    }\n\n    // Scale damage from up-casting spells\n    if ( (this.type === \"spell\") || scaling ) {\n      if ( scaling.mode === \"cantrip\" ) {\n        let level;\n        if ( this.actor.type === \"character\" ) level = this.actor.system.details.level;\n        else if ( this.system.preparation.mode === \"innate\" ) level = Math.ceil(this.actor.system.details.cr);\n        else level = this.actor.system.details.spellLevel;\n        rollConfigs.forEach(c => this._scaleCantripDamage(c.parts, scaling.formula, level, rollData));\n      }\n      else if ( spellLevel && (scaling.mode === \"level\") ) rollConfigs.forEach(c => {\n        if ( scaling.formula || c.parts.length ) {\n          this._scaleSpellDamage(c.parts, originalLevel, spellLevel, scaling.formula || c.parts[0], rollData);\n        }\n      });\n    }\n\n    // Add damage bonus formula\n    const actorBonus = foundry.utils.getProperty(this.actor.system, `bonuses.${this.system.actionType}`) || {};\n    if ( actorBonus.damage && (parseInt(actorBonus.damage) !== 0) ) {\n      rollConfigs[0].parts.push(actorBonus.damage);\n    }\n\n    // Only add the ammunition damage if the ammunition is a consumable with type 'ammo'\n    const ammo = this.hasAmmo ? this.actor.items.get(this.system.consume.target) : null;\n    if ( ammo ) {\n      const properties = Array.from(ammo.system.properties).filter(p => CONFIG.DND5E.itemProperties[p]?.isPhysical);\n      if ( this.system.properties.has(\"mgc\") && !properties.includes(\"mgc\") ) properties.push(\"mgc\");\n      const ammoConfigs = ammo.system.damage.parts.map((([formula, type]) => ({ parts: [formula], type, properties })));\n      if ( ammo.system.magicalBonus && ammo.system.magicAvailable ) {\n        rollConfigs[0].parts.push(\"@ammo\");\n        properties.forEach(p => {\n          if ( !rollConfigs[0].properties.includes(p) ) rollConfigs[0].properties.push(p);\n        });\n        rollData.ammo = ammo.system.magicalBonus;\n      }\n      rollConfigs.push(...ammoConfigs);\n    }\n\n    // Factor in extra critical damage dice from the Barbarian's \"Brutal Critical\"\n    if ( this.system.actionType === \"mwak\" ) {\n      rollConfig.criticalBonusDice = this.actor.getFlag(\"dnd5e\", \"meleeCriticalDamageDice\") ?? 0;\n    }\n\n    // Factor in extra weapon-specific critical damage\n    if ( this.system.critical?.damage ) rollConfig.criticalBonusDamage = this.system.critical.damage;\n\n    foundry.utils.mergeObject(rollConfig, options);\n    rollConfig.rollConfigs = rollConfigs.concat(options.rollConfigs ?? []);\n\n    /**\n     * A hook event that fires before a damage is rolled for an Item.\n     * @function dnd5e.preRollDamage\n     * @memberof hookEvents\n     * @param {Item5e} item                     Item for which the roll is being performed.\n     * @param {DamageRollConfiguration} config  Configuration data for the pending roll.\n     * @returns {boolean}                       Explicitly return false to prevent the roll from being performed.\n     */\n    if ( Hooks.call(\"dnd5e.preRollDamage\", this, rollConfig) === false ) return;\n\n    const rolls = await damageRoll(rollConfig);\n\n    /**\n     * A hook event that fires after a damage has been rolled for an Item.\n     * @function dnd5e.rollDamage\n     * @memberof hookEvents\n     * @param {Item5e} item                    Item for which the roll was performed.\n     * @param {DamageRoll|DamageRoll[]} rolls  The resulting rolls (or single roll if `returnMultiple` is `false`).\n     */\n    if ( rolls || (rollConfig.returnMultiple && rolls?.length) ) Hooks.callAll(\"dnd5e.rollDamage\", this, rolls);\n\n    return rolls;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Adjust a cantrip damage formula to scale it for higher level characters and monsters.\n   * @param {string[]} parts   The original parts of the damage formula.\n   * @param {string} scale     The scaling formula.\n   * @param {number} level     Level at which the spell is being cast.\n   * @param {object} rollData  A data object that should be applied to the scaled damage roll.\n   * @returns {string[]}       The parts of the damage formula with the scaling applied.\n   * @private\n   */\n  _scaleCantripDamage(parts, scale, level, rollData) {\n    const add = Math.floor((level + 1) / 6);\n    if ( add === 0 ) return [];\n    return this._scaleDamage(parts, scale || parts.join(\" + \"), add, rollData);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Adjust the spell damage formula to scale it for spell level up-casting.\n   * @param {string[]} parts      The original parts of the damage formula.\n   * @param {number} baseLevel    Default level for the spell.\n   * @param {number} spellLevel   Level at which the spell is being cast.\n   * @param {string} formula      The scaling formula.\n   * @param {object} rollData     A data object that should be applied to the scaled damage roll.\n   * @returns {string[]}          The parts of the damage formula with the scaling applied.\n   * @private\n   */\n  _scaleSpellDamage(parts, baseLevel, spellLevel, formula, rollData) {\n    const upcastLevels = Math.max(spellLevel - baseLevel, 0);\n    if ( upcastLevels === 0 ) return parts;\n    return this._scaleDamage(parts, formula, upcastLevels, rollData);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Scale an array of damage parts according to a provided scaling formula and scaling multiplier.\n   * @param {string[]} parts    The original parts of the damage formula.\n   * @param {string} scaling    The scaling formula.\n   * @param {number} times      A number of times to apply the scaling formula.\n   * @param {object} rollData   A data object that should be applied to the scaled damage roll\n   * @returns {string[]}        The parts of the damage formula with the scaling applied.\n   * @private\n   */\n  _scaleDamage(parts, scaling, times, rollData) {\n    if ( times <= 0 ) return parts;\n    const p0 = new Roll(parts[0], rollData);\n    const s = new Roll(scaling, rollData).alter(times);\n\n    // Attempt to simplify by combining like dice terms\n    let simplified = false;\n    if ( (s.terms[0] instanceof Die) && (s.terms.length === 1) ) {\n      const d0 = p0.terms[0];\n      const s0 = s.terms[0];\n      if ( (d0 instanceof Die) && (d0.faces === s0.faces) && d0.modifiers.equals(s0.modifiers) ) {\n        d0.number += s0.number;\n        parts[0] = p0.formula;\n        simplified = true;\n      }\n    }\n\n    // Otherwise, add to the first part\n    if ( !simplified ) parts[0] = `${parts[0]} + ${s.formula}`;\n    return parts;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare data needed to roll an attack using an item (weapon, feat, spell, or equipment)\n   * and then pass it off to `d20Roll`.\n   * @param {object} [options]\n   * @param {boolean} [options.spellLevel]  Level at which a spell is cast.\n   * @returns {Promise<Roll>}   A Promise which resolves to the created Roll instance.\n   */\n  async rollFormula({spellLevel}={}) {\n    if ( !this.system.formula ) throw new Error(\"This Item does not have a formula to roll!\");\n\n    const rollConfig = {\n      formula: this.system.formula,\n      data: this.getRollData(),\n      chatMessage: true\n    };\n    if ( spellLevel ) rollConfig.data.item.level = spellLevel;\n\n    /**\n     * A hook event that fires before a formula is rolled for an Item.\n     * @function dnd5e.preRollFormula\n     * @memberof hookEvents\n     * @param {Item5e} item                 Item for which the roll is being performed.\n     * @param {object} config               Configuration data for the pending roll.\n     * @param {string} config.formula       Formula that will be rolled.\n     * @param {object} config.data          Data used when evaluating the roll.\n     * @param {boolean} config.chatMessage  Should a chat message be created for this roll?\n     * @returns {boolean}                   Explicitly return false to prevent the roll from being performed.\n     */\n    if ( Hooks.call(\"dnd5e.preRollFormula\", this, rollConfig) === false ) return;\n\n    const roll = await new Roll(rollConfig.formula, rollConfig.data)\n      .roll({ allowInteractive: game.settings.get(\"core\", \"rollMode\") !== CONST.DICE_ROLL_MODES.BLIND });\n\n    if ( rollConfig.chatMessage ) {\n      roll.toMessage({\n        speaker: ChatMessage.getSpeaker({actor: this.actor}),\n        flavor: `${this.name} - ${game.i18n.localize(\"DND5E.OtherFormula\")}`,\n        rollMode: game.settings.get(\"core\", \"rollMode\"),\n        messageData: {\"flags.dnd5e.roll\": {type: \"other\", itemId: this.id, itemUuid: this.uuid}}\n      });\n    }\n\n    /**\n     * A hook event that fires after a formula has been rolled for an Item.\n     * @function dnd5e.rollFormula\n     * @memberof hookEvents\n     * @param {Item5e} item  Item for which the roll was performed.\n     * @param {Roll} roll    The resulting roll.\n     */\n    Hooks.callAll(\"dnd5e.rollFormula\", this, roll);\n\n    return roll;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Perform an ability recharge test for an item which uses the d6 recharge mechanic.\n   * @returns {Promise<Roll>}   A Promise which resolves to the created Roll instance\n   */\n  async rollRecharge() {\n    const recharge = this.system.recharge ?? {};\n    if ( !recharge.value ) return;\n\n    const rollConfig = {\n      formula: \"1d6\",\n      data: this.getRollData(),\n      target: parseInt(recharge.value),\n      chatMessage: true\n    };\n\n    /**\n     * A hook event that fires before the Item is rolled to recharge.\n     * @function dnd5e.preRollRecharge\n     * @memberof hookEvents\n     * @param {Item5e} item                 Item for which the roll is being performed.\n     * @param {object} config               Configuration data for the pending roll.\n     * @param {string} config.formula       Formula that will be used to roll the recharge.\n     * @param {object} config.data          Data used when evaluating the roll.\n     * @param {number} config.target        Total required to be considered recharged.\n     * @param {boolean} config.chatMessage  Should a chat message be created for this roll?\n     * @returns {boolean}                   Explicitly return false to prevent the roll from being performed.\n     */\n    if ( Hooks.call(\"dnd5e.preRollRecharge\", this, rollConfig) === false ) return;\n\n    const roll = await new Roll(rollConfig.formula, rollConfig.data).roll({async: true});\n    const success = roll.total >= rollConfig.target;\n\n    if ( rollConfig.chatMessage ) {\n      const resultMessage = game.i18n.localize(`DND5E.ItemRecharge${success ? \"Success\" : \"Failure\"}`);\n      roll.toMessage({\n        flavor: `${game.i18n.format(\"DND5E.ItemRechargeCheck\", {name: this.name})} - ${resultMessage}`,\n        speaker: ChatMessage.getSpeaker({actor: this.actor, token: this.actor.token})\n      });\n    }\n\n    /**\n     * A hook event that fires after the Item has rolled to recharge, but before any changes have been performed.\n     * @function dnd5e.rollRecharge\n     * @memberof hookEvents\n     * @param {Item5e} item  Item for which the roll was performed.\n     * @param {Roll} roll    The resulting roll.\n     * @returns {boolean}    Explicitly return false to prevent the item from being recharged.\n     */\n    if ( Hooks.call(\"dnd5e.rollRecharge\", this, roll) === false ) return roll;\n\n    // Update the Item data\n    if ( success ) this.update({\"system.recharge.charged\": true});\n\n    return roll;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare data needed to roll a tool check and then pass it off to `d20Roll`.\n   * @param {D20RollConfiguration} [options]  Roll configuration options provided to the d20Roll function.\n   * @returns {Promise<Roll>}                 A Promise which resolves to the created Roll instance.\n   */\n  async rollToolCheck(options={}) {\n    if ( this.type !== \"tool\" ) throw new Error(\"Wrong item type!\");\n    return this.actor?.rollToolCheck(this.system.type.baseItem, {\n      ability: this.system.ability,\n      bonus: this.system.bonus,\n      prof: this.system.prof,\n      item: this,\n      ...options\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * @inheritdoc\n   * @param {object} [options]\n   * @param {boolean} [options.deterministic] Whether to force deterministic values for data properties that could be\n   *                                          either a die term or a flat term.\n   */\n  getRollData({ deterministic=false }={}) {\n    let data;\n    if ( this.system.getRollData ) data = this.system.getRollData({ deterministic });\n    else data = { ...(this.actor?.getRollData({ deterministic }) ?? {}), item: { ...this.system } };\n    if ( data?.item ) {\n      data.item.flags = { ...this.flags };\n      data.item.name = this.name;\n    }\n    return data;\n  }\n\n  /* -------------------------------------------- */\n  /*  Chat Message Helpers                        */\n  /* -------------------------------------------- */\n\n  /**\n   * Apply listeners to chat messages.\n   * @param {HTML} html  Rendered chat message.\n   */\n  static chatListeners(html) {\n    html.on(\"click\", \".chat-card button[data-action]\", this._onChatCardAction.bind(this));\n    html.on(\"click\", \".item-name, .collapsible\", this._onChatCardToggleContent.bind(this));\n    html[0].addEventListener(\"click\", event => {\n      if ( event.target.closest(\"[data-context-menu]\") ) {\n        event.preventDefault();\n        event.stopPropagation();\n        event.target.closest(\"[data-message-id]\").dispatchEvent(new PointerEvent(\"contextmenu\", {\n          view: window, bubbles: true, cancelable: true\n        }));\n      }\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle execution of a chat card action via a click event on one of the card buttons\n   * @param {Event} event       The originating click event\n   * @returns {Promise}         A promise which resolves once the handler workflow is complete\n   * @private\n   */\n  static async _onChatCardAction(event) {\n    event.preventDefault();\n\n    // Extract card data\n    const button = event.currentTarget;\n    button.disabled = true;\n    const card = button.closest(\".chat-card\");\n    const messageId = card.closest(\".message\").dataset.messageId;\n    const message = game.messages.get(messageId);\n    const action = button.dataset.action;\n\n    try {\n      // Recover the actor for the chat card\n      const actor = await this._getChatCardActor(card);\n      if ( !actor ) return;\n\n      // Validate permission to proceed with the roll\n      const isTargetted = action === \"save\";\n      if ( !( isTargetted || game.user.isGM || actor.isOwner ) ) return;\n\n      // Get the Item from stored flag data or by the item ID on the Actor\n      const storedData = message.getFlag(\"dnd5e\", \"itemData\");\n      let item = storedData ? new this(storedData, {parent: actor}) : actor.items.get(card.dataset.itemId);\n      if ( !item ) {\n        ui.notifications.error(game.i18n.format(\"DND5E.ActionWarningNoItem\", {\n          item: card.dataset.itemId, name: actor.name\n        }));\n        return null;\n      }\n\n      let spellLevel;\n      if ( item.system.level === 0 ) spellLevel = 0;\n      else spellLevel = parseInt(card.dataset.spellLevel) || null;\n\n      // Handle different actions\n      let targets;\n      let messageUpdates = {};\n      switch ( action ) {\n        case \"abilityCheck\":\n          targets = this._getChatCardTargets(card);\n          for ( let token of targets ) {\n            const speaker = ChatMessage.getSpeaker({scene: canvas.scene, token: token.document});\n            await token.actor.rollAbilityTest(button.dataset.ability, { event, speaker });\n          }\n          break;\n        case \"applyEffect\":\n          const li = button.closest(\"li.effect\");\n          let effect = item.effects.get(li.dataset.effectId);\n          if ( !effect ) effect = await fromUuid(li.dataset.uuid);\n          const concentration = actor.effects.get(message.getFlag(\"dnd5e\", \"use.concentrationId\"));\n          const effectData = { \"flags.dnd5e.spellLevel\": spellLevel };\n          for ( const token of canvas.tokens.controlled ) {\n            try {\n              await this._applyEffectToToken(effect, token, { concentration, effectData });\n            } catch(err) {\n              Hooks.onError(\"Item5e._applyEffectToToken\", err, { notify: \"warn\", log: \"warn\" });\n            }\n          }\n          break;\n        case \"attack\":\n          await item.rollAttack({\n            event: event,\n            spellLevel: spellLevel\n          });\n          break;\n        case \"consumeUsage\":\n          await item.consume(item, { consumeUsage: true }, messageUpdates);\n          break;\n        case \"consumeResource\":\n          await item.consume(item, { consumeResource: true }, messageUpdates);\n          break;\n        case \"damage\":\n        case \"versatile\":\n          await item.rollDamage({\n            event: event,\n            spellLevel: spellLevel,\n            versatile: action === \"versatile\"\n          });\n          break;\n        case \"formula\":\n          await item.rollFormula({event, spellLevel});\n          break;\n        case \"placeTemplate\":\n          try {\n            await dnd5e.canvas.AbilityTemplate.fromItem(item, {\"flags.dnd5e.spellLevel\": spellLevel})?.drawPreview();\n          } catch(err) {\n            Hooks.onError(\"Item5e#_onChatCardAction\", err, {\n              msg: game.i18n.localize(\"DND5E.PlaceTemplateError\"),\n              log: \"error\",\n              notify: \"error\"\n            });\n          }\n          break;\n        case \"save\":\n          targets = this._getChatCardTargets(card);\n          for ( let token of targets ) {\n            const dc = parseInt(button.dataset.dc);\n            const speaker = ChatMessage.getSpeaker({scene: canvas.scene, token: token.document});\n            await token.actor.rollAbilitySave(button.dataset.ability, {\n              event, speaker, targetValue: Number.isFinite(dc) ? dc : undefined\n            });\n          }\n          break;\n        case \"summon\":\n          if ( spellLevel ) item = item.clone({ \"system.level\": spellLevel }, { keepId: true });\n          await this._onChatCardSummon(message, item);\n          break;\n        case \"toolCheck\":\n          await item.rollToolCheck({event});\n          break;\n      }\n      if ( !foundry.utils.isEmpty(messageUpdates) ) await message.update(messageUpdates);\n\n    } catch(err) {\n      Hooks.onError(\"Item5e._onChatCardAction\", err, { log: \"error\", notify: \"error\" });\n    } finally {\n      // Re-enable the button\n      button.disabled = false;\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle applying an Active Effect to a Token.\n   * @param {ActiveEffect5e} effect                   The effect.\n   * @param {Token5e} token                           The token.\n   * @param {object} [options]\n   * @param {ActiveEffect5e} [options.concentration]  An optional concentration effect to act as the applied effect's\n   *                                                  origin instead.\n   * @param {number} [options.effectData]             Optional data to merge into the created or updated effect.\n   * @returns {Promise<ActiveEffect5e|false>}\n   * @throws {Error}                                  If the effect could not be applied.\n   * @protected\n   */\n  static async _applyEffectToToken(effect, token, { concentration, effectData={} }={}) {\n    const origin = concentration ?? effect;\n    if ( !game.user.isGM && !token.actor?.isOwner ) {\n      throw new Error(game.i18n.localize(\"DND5E.EffectApplyWarningOwnership\"));\n    }\n\n    // Enable an existing effect on the target if it originated from this effect\n    const existingEffect = token.actor?.effects.find(e => e.origin === origin.uuid);\n    if ( existingEffect ) {\n      return existingEffect.update(foundry.utils.mergeObject({\n        ...effect.constructor.getInitialDuration(),\n        disabled: false\n      }, effectData));\n    }\n\n    if ( !game.user.isGM && concentration && !concentration.actor?.isOwner ) {\n      throw new Error(game.i18n.localize(\"DND5E.EffectApplyWarningConcentration\"));\n    }\n\n    // Otherwise, create a new effect on the target\n    effectData = foundry.utils.mergeObject({\n      ...effect.toObject(),\n      disabled: false,\n      transfer: false,\n      origin: origin.uuid\n    }, effectData);\n    const applied = await ActiveEffect.implementation.create(effectData, { parent: token.actor });\n    if ( concentration ) await concentration.addDependent(applied);\n    return applied;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle summoning from a chat card.\n   * @param {ChatMessage5e} message  The message that was clicked.\n   * @param {Item5e} item            The item from which to summon.\n   */\n  static async _onChatCardSummon(message, item) {\n    let summonsProfile;\n    let summonsOptions = {};\n    let needsConfiguration = false;\n\n    // No profile specified and only one profile on item, use that one\n    if ( item.system.summons.profiles.length === 1 ) summonsProfile = item.system.summons.profiles[0]._id;\n    else needsConfiguration = true;\n\n    // More than one creature type requires configuration\n    if ( item.system.summons.creatureSizes.size > 1\n      || item.system.summons.creatureTypes.size > 1 ) needsConfiguration = true;\n\n    // Show the item use dialog to get the profile and other options\n    if ( needsConfiguration ) {\n      let config = await AbilityUseDialog.create(item, {\n        beginConcentrating: null,\n        consumeResource: null,\n        consumeSpellSlot: null,\n        consumeUsage: null,\n        createMeasuredTemplate: null,\n        createSummons: true\n      }, {\n        button: {\n          icon: '<i class=\"fa-solid fa-spaghetti-monster-flying\"></i>',\n          label: game.i18n.localize(\"DND5E.Summoning.Action.Summon\")\n        },\n        disableScaling: true\n      });\n      if ( !config?.summonsProfile ) return;\n      config = foundry.utils.expandObject(config);\n      summonsProfile = config.summonsProfile;\n      summonsOptions = config.summonsOptions;\n    }\n\n    try {\n      await item.system.summons.summon(summonsProfile, summonsOptions);\n    } catch(err) {\n      Hooks.onError(\"Item5e#_onChatCardSummon\", err, { log: \"error\", notify: \"error\" });\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle toggling the visibility of chat card content when the name is clicked\n   * @param {Event} event   The originating click event\n   * @private\n   */\n  static _onChatCardToggleContent(event) {\n    const header = event.currentTarget;\n    if ( header.classList.contains(\"collapsible\") && !event.target.closest(\".collapsible-content.card-content\") ) {\n      event.preventDefault();\n      header.classList.toggle(\"collapsed\");\n\n      // Clear the height from the chat popout container so that it appropriately resizes.\n      const popout = header.closest(\".chat-popout\");\n      if ( popout ) popout.style.height = \"\";\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get the Actor which is the author of a chat card\n   * @param {HTMLElement} card    The chat card being used\n   * @returns {Actor|null}        The Actor document or null\n   * @private\n   */\n  static async _getChatCardActor(card) {\n\n    // Case 1 - a synthetic actor from a Token\n    if ( card.dataset.tokenId ) {\n      const token = await fromUuid(card.dataset.tokenId);\n      if ( !token ) return null;\n      return token.actor;\n    }\n\n    // Case 2 - use Actor ID directory\n    const actorId = card.dataset.actorId;\n    return game.actors.get(actorId) || null;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get token targets for the current chat card action and display warning of none are selected.\n   * @param {HTMLElement} card  The chat card being used.\n   * @returns {Token5e[]}       An Array of Token objects, if any.\n   * @private\n   */\n  static _getChatCardTargets(card) {\n    const targets = getSceneTargets();\n    if ( !targets.length ) ui.notifications.warn(\"DND5E.ActionWarningNoToken\", {localize: true});\n    return targets;\n  }\n\n  /* -------------------------------------------- */\n  /*  Advancements                                */\n  /* -------------------------------------------- */\n\n  /**\n   * Create a new advancement of the specified type.\n   * @param {string} type                          Type of advancement to create.\n   * @param {object} [data]                        Data to use when creating the advancement.\n   * @param {object} [options]\n   * @param {boolean} [options.showConfig=true]    Should the new advancement's configuration application be shown?\n   * @param {boolean} [options.source=false]       Should a source-only update be performed?\n   * @returns {Promise<AdvancementConfig>|Item5e}  Promise for advancement config for new advancement if local\n   *                                               is `false`, or item with newly added advancement.\n   */\n  createAdvancement(type, data={}, { showConfig=true, source=false }={}) {\n    if ( !this.system.advancement ) return this;\n\n    let config = CONFIG.DND5E.advancementTypes[type];\n    if ( !config ) throw new Error(`${type} not found in CONFIG.DND5E.advancementTypes`);\n    if ( config.prototype instanceof Advancement ) {\n      foundry.utils.logCompatibilityWarning(\n        \"Advancement type configuration changed into an object with `documentClass` defining the advancement class.\",\n        { since: \"DnD5e 3.1\", until: \"DnD5e 3.3\", once: true }\n      );\n      config = {\n        documentClass: config,\n        validItemTypes: config.metadata.validItemTypes\n      };\n    }\n    const cls = config.documentClass;\n\n    if ( !config.validItemTypes.has(this.type) || !cls.availableForItem(this) ) {\n      throw new Error(`${type} advancement cannot be added to ${this.name}`);\n    }\n\n    const createData = foundry.utils.deepClone(data);\n    const advancement = new cls(data, {parent: this});\n    if ( advancement._preCreate(createData) === false ) return;\n\n    const advancementCollection = this.toObject().system.advancement;\n    advancementCollection.push(advancement.toObject());\n    if ( source ) return this.updateSource({\"system.advancement\": advancementCollection});\n    return this.update({\"system.advancement\": advancementCollection}).then(() => {\n      if ( !showConfig ) return this;\n      const config = new cls.metadata.apps.config(this.advancement.byId[advancement.id]);\n      return config.render(true);\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Update an advancement belonging to this item.\n   * @param {string} id                       ID of the advancement to update.\n   * @param {object} updates                  Updates to apply to this advancement.\n   * @param {object} [options={}]\n   * @param {boolean} [options.source=false]  Should a source-only update be performed?\n   * @returns {Promise<Item5e>|Item5e}        This item with the changes applied, promised if source is `false`.\n   */\n  updateAdvancement(id, updates, { source=false }={}) {\n    if ( !this.system.advancement ) return this;\n    const idx = this.system.advancement.findIndex(a => a._id === id);\n    if ( idx === -1 ) throw new Error(`Advancement of ID ${id} could not be found to update`);\n\n    const advancement = this.advancement.byId[id];\n    if ( source ) {\n      advancement.updateSource(updates);\n      advancement.render();\n      return this;\n    }\n\n    const advancementCollection = this.toObject().system.advancement;\n    const clone = new advancement.constructor(advancementCollection[idx], { parent: advancement.parent });\n    clone.updateSource(updates);\n    advancementCollection[idx] = clone.toObject();\n    return this.update({\"system.advancement\": advancementCollection}).then(r => {\n      advancement.render(false, { height: \"auto\" });\n      return r;\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Remove an advancement from this item.\n   * @param {string} id                       ID of the advancement to remove.\n   * @param {object} [options={}]\n   * @param {boolean} [options.source=false]  Should a source-only update be performed?\n   * @returns {Promise<Item5e>|Item5e}        This item with the changes applied.\n   */\n  deleteAdvancement(id, { source=false }={}) {\n    if ( !this.system.advancement ) return this;\n\n    const advancementCollection = this.toObject().system.advancement.filter(a => a._id !== id);\n    if ( source ) return this.updateSource({\"system.advancement\": advancementCollection});\n    return this.update({\"system.advancement\": advancementCollection});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Duplicate an advancement, resetting its value to default and giving it a new ID.\n   * @param {string} id                             ID of the advancement to duplicate.\n   * @param {object} [options]\n   * @param {boolean} [options.showConfig=true]     Should the new advancement's configuration application be shown?\n   * @param {boolean} [options.source=false]        Should a source-only update be performed?\n   * @returns {Promise<AdvancementConfig>|Item5e}   Promise for advancement config for duplicate advancement if source\n   *                                                is `false`, or item with newly duplicated advancement.\n   */\n  duplicateAdvancement(id, options) {\n    const original = this.advancement.byId[id];\n    if ( !original ) return this;\n    const duplicate = original.toObject();\n    delete duplicate._id;\n    if ( original.constructor.metadata.dataModels?.value ) {\n      duplicate.value = (new original.constructor.metadata.dataModels.value()).toObject();\n    } else {\n      duplicate.value = original.constructor.metadata.defaults?.value ?? {};\n    }\n    return this.createAdvancement(original.constructor.typeName, duplicate, options);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  getEmbeddedDocument(embeddedName, id, options) {\n    if ( embeddedName !== \"Advancement\" ) return super.getEmbeddedDocument(embeddedName, id, options);\n    const advancement = this.advancement.byId[id];\n    if ( options?.strict && (advancement === undefined) ) {\n      throw new Error(`The key ${id} does not exist in the ${embeddedName} Collection`);\n    }\n    return advancement;\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Handlers                              */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _preCreate(data, options, user) {\n    if ( (await super._preCreate(data, options, user)) === false ) return false;\n\n    // Create class identifier based on name\n    if ( [\"class\", \"subclass\"].includes(this.type) && !this.system.identifier ) {\n      await this.updateSource({ \"system.identifier\": data.name.slugify({strict: true}) });\n    }\n\n    if ( !this.isEmbedded || (this.parent.type === \"vehicle\") ) return;\n    const isNPC = this.parent.type === \"npc\";\n    let updates;\n    switch (data.type) {\n      case \"equipment\":\n        updates = this._onCreateOwnedEquipment(data, isNPC);\n        break;\n      case \"spell\":\n        updates = this._onCreateOwnedSpell(data, isNPC);\n        break;\n      case \"weapon\":\n        updates = this._onCreateOwnedWeapon(data, isNPC);\n        break;\n      case \"feat\":\n        updates = this._onCreateOwnedFeature(data, isNPC);\n        break;\n    }\n    if ( updates ) return this.updateSource(updates);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _onCreate(data, options, userId) {\n    super._onCreate(data, options, userId);\n    if ( (userId !== game.user.id) || !this.parent ) return;\n\n    // Assign a new original class\n    if ( (this.parent.type === \"character\") && (this.type === \"class\") ) {\n      const pc = this.parent.items.get(this.parent.system.details.originalClass);\n      if ( !pc ) await this.parent._assignPrimaryClass();\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _preUpdate(changed, options, user) {\n    if ( (await super._preUpdate(changed, options, user)) === false ) return false;\n\n    if ( foundry.utils.hasProperty(changed, \"system.container\") ) {\n      options.formerContainer = (await this.container)?.uuid;\n    }\n\n    if ( (this.type !== \"class\") || !(\"levels\" in (changed.system || {})) ) return;\n\n    // Check to make sure the updated class level isn't below zero\n    if ( changed.system.levels <= 0 ) {\n      ui.notifications.warn(\"DND5E.MaxClassLevelMinimumWarn\", {localize: true});\n      changed.system.levels = 1;\n    }\n\n    // Check to make sure the updated class level doesn't exceed level cap\n    if ( changed.system.levels > CONFIG.DND5E.maxLevel ) {\n      ui.notifications.warn(game.i18n.format(\"DND5E.MaxClassLevelExceededWarn\", {max: CONFIG.DND5E.maxLevel}));\n      changed.system.levels = CONFIG.DND5E.maxLevel;\n    }\n    if ( !this.isEmbedded || (this.parent.type !== \"character\") ) return;\n\n    // Check to ensure the updated character doesn't exceed level cap\n    const newCharacterLevel = this.actor.system.details.level + (changed.system.levels - this.system.levels);\n    if ( newCharacterLevel > CONFIG.DND5E.maxLevel ) {\n      ui.notifications.warn(game.i18n.format(\"DND5E.MaxCharacterLevelExceededWarn\", {max: CONFIG.DND5E.maxLevel}));\n      changed.system.levels -= newCharacterLevel - CONFIG.DND5E.maxLevel;\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _onDelete(options, userId) {\n    super._onDelete(options, userId);\n    if ( userId !== game.user.id ) return;\n\n    // Delete a container's contents when it is deleted\n    const contents = await this.system.allContainedItems;\n    if ( contents?.size && options.deleteContents ) {\n      await Item.deleteDocuments(Array.from(contents.map(i => i.id)), { pack: this.pack, parent: this.parent });\n    }\n\n    // End concentration on any effects.\n    this.parent?.endConcentration?.(this);\n\n    // Assign a new original class\n    if ( this.parent && (this.type === \"class\") && (this.id === this.parent.system.details.originalClass) ) {\n      this.parent._assignPrimaryClass();\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Pre-creation logic for the automatic configuration of owned equipment type Items.\n   *\n   * @param {object} data       Data for the newly created item.\n   * @param {boolean} isNPC     Is this actor an NPC?\n   * @returns {object}          Updates to apply to the item data.\n   * @private\n   */\n  _onCreateOwnedEquipment(data, isNPC) {\n    const updates = {};\n    if ( foundry.utils.getProperty(data, \"system.equipped\") === undefined ) {\n      updates[\"system.equipped\"] = isNPC;  // NPCs automatically equip equipment\n    }\n    return updates;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Pre-creation logic for the automatic configuration of owned spell type Items.\n   *\n   * @param {object} data       Data for the newly created item.\n   * @param {boolean} isNPC     Is this actor an NPC?\n   * @returns {object}          Updates to apply to the item data.\n   * @private\n   */\n  _onCreateOwnedSpell(data, isNPC) {\n    const updates = {};\n    if ( foundry.utils.getProperty(data, \"system.preparation.prepared\") === undefined ) {\n      updates[\"system.preparation.prepared\"] = isNPC; // NPCs automatically prepare spells\n    }\n    return updates;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Pre-creation logic for the automatic configuration of owned weapon type Items.\n   * @param {object} data       Data for the newly created item.\n   * @param {boolean} isNPC     Is this actor an NPC?\n   * @returns {object|void}     Updates to apply to the item data.\n   * @private\n   */\n  _onCreateOwnedWeapon(data, isNPC) {\n    if ( !isNPC ) return;\n    // NPCs automatically equip items.\n    const updates = {};\n    if ( !foundry.utils.hasProperty(data, \"system.equipped\") ) updates[\"system.equipped\"] = true;\n    return updates;\n  }\n\n  /**\n   * Pre-creation logic for the automatic configuration of owned feature type Items.\n   * @param {object} data       Data for the newly created item.\n   * @param {boolean} isNPC     Is this actor an NPC?\n   * @returns {object}          Updates to apply to the item data.\n   * @private\n   */\n  _onCreateOwnedFeature(data, isNPC) {\n    const updates = {};\n    if ( isNPC && !foundry.utils.getProperty(data, \"system.type.value\") ) {\n      updates[\"system.type.value\"] = \"monster\"; // Set features on NPCs to be 'monster features'.\n    }\n    return updates;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async deleteDialog(options={}) {\n    // If item has advancement, handle it separately\n    if ( this.actor?.system.metadata?.supportsAdvancement && !game.settings.get(\"dnd5e\", \"disableAdvancements\") ) {\n      const manager = AdvancementManager.forDeletedItem(this.actor, this.id);\n      if ( manager.steps.length ) {\n        try {\n          const shouldRemoveAdvancements = await AdvancementConfirmationDialog.forDelete(this);\n          if ( shouldRemoveAdvancements ) return manager.render(true);\n          return this.delete({ shouldRemoveAdvancements });\n        } catch(err) {\n          return;\n        }\n      }\n    }\n\n    // Display custom delete dialog when deleting a container with contents\n    const count = await this.system.contentsCount;\n    if ( count ) {\n      return Dialog.confirm({\n        title: `${game.i18n.format(\"DOCUMENT.Delete\", {type: game.i18n.localize(\"DND5E.Container\")})}: ${this.name}`,\n        content: `<h4>${game.i18n.localize(\"AreYouSure\")}</h4>\n          <p>${game.i18n.format(\"DND5E.ContainerDeleteMessage\", {count})}</p>\n          <label>\n            <input type=\"checkbox\" name=\"deleteContents\">\n            ${game.i18n.localize(\"DND5E.ContainerDeleteContents\")}\n          </label>`,\n        yes: html => {\n          const deleteContents = html.querySelector('[name=\"deleteContents\"]').checked;\n          this.delete({ deleteContents });\n        },\n        options: { ...options, jQuery: false }\n      });\n    }\n\n    return super.deleteDialog(options);\n  }\n\n  /* -------------------------------------------- */\n  /*  Factory Methods                             */\n  /* -------------------------------------------- */\n\n  /**\n   * Add additional system-specific compendium context menu options for Item documents.\n   * @param {jQuery} html            The compendium HTML.\n   * @param {object{}} entryOptions  The default array of context menu options.\n   */\n  static addCompendiumContextOptions(html, entryOptions) {\n    const makeUuid = li => {\n      const pack = li[0].closest(\"[data-pack]\")?.dataset.pack;\n      return `Compendium.${pack}.Item.${li.data(\"documentId\")}`;\n    };\n    entryOptions.push({\n      name: \"DND5E.Scroll.CreateScroll\",\n      icon: '<i class=\"fa-solid fa-scroll\"></i>',\n      callback: async li => {\n        const spell = await fromUuid(makeUuid(li));\n        const scroll = await Item5e.createScrollFromSpell(spell);\n        if ( scroll ) Item5e.create(scroll);\n      },\n      condition: li => {\n        const item = fromUuidSync(makeUuid(li));\n        return (item?.type === \"spell\") && game.user.hasPermission(\"ITEM_CREATE\");\n      },\n      group: \"system\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Add additional system-specific sidebar directory context menu options for Item documents.\n   * @param {jQuery} html            The sidebar HTML.\n   * @param {object[]} entryOptions  The default array of context menu options.\n   */\n  static addDirectoryContextOptions(html, entryOptions) {\n    entryOptions.push({\n      name: \"DND5E.Scroll.CreateScroll\",\n      icon: '<i class=\"fa-solid fa-scroll\"></i>',\n      callback: async li => {\n        const spell = game.items.get(li.data(\"documentId\"));\n        const scroll = await Item5e.createScrollFromSpell(spell);\n        if ( scroll ) Item5e.create(scroll);\n      },\n      condition: li => {\n        const item = game.items.get(li.data(\"documentId\"));\n        return (item.type === \"spell\") && game.user.hasPermission(\"ITEM_CREATE\");\n      },\n      group: \"system\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare creation data for the provided items and any items contained within them. The data created by this method\n   * can be passed to `createDocuments` with `keepId` always set to true to maintain links to container contents.\n   * @param {Item5e[]} items                     Items to create.\n   * @param {object} [context={}]                Context for the item's creation.\n   * @param {Item5e} [context.container]         Container in which to create the item.\n   * @param {boolean} [context.keepId=false]     Should IDs be maintained?\n   * @param {Function} [context.transformAll]    Method called on provided items and their contents.\n   * @param {Function} [context.transformFirst]  Method called only on provided items.\n   * @returns {Promise<object[]>}                Data for items to be created.\n   */\n  static async createWithContents(items, { container, keepId=false, transformAll, transformFirst }={}) {\n    let depth = 0;\n    if ( container ) {\n      depth = 1 + (await container.system.allContainers()).length;\n      if ( depth > PhysicalItemTemplate.MAX_DEPTH ) {\n        ui.notifications.warn(game.i18n.format(\"DND5E.ContainerMaxDepth\", { depth: PhysicalItemTemplate.MAX_DEPTH }));\n        return;\n      }\n    }\n\n    const createItemData = async (item, containerId, depth) => {\n      let newItemData = transformAll ? await transformAll(item) : item;\n      if ( transformFirst && (depth === 0) ) newItemData = await transformFirst(newItemData);\n      if ( !newItemData ) return;\n      if ( newItemData instanceof Item ) newItemData = newItemData.toObject();\n      foundry.utils.mergeObject(newItemData, {\"system.container\": containerId} );\n      if ( !keepId ) newItemData._id = foundry.utils.randomID();\n\n      created.push(newItemData);\n\n      const contents = await item.system.contents;\n      if ( contents && (depth < PhysicalItemTemplate.MAX_DEPTH) ) {\n        for ( const doc of contents ) await createItemData(doc, newItemData._id, depth + 1);\n      }\n    };\n\n    const created = [];\n    for ( const item of items ) await createItemData(item, container?.id, depth);\n    return created;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Configuration options for spell scroll creation.\n   *\n   * @typedef {object} SpellScrollConfiguration\n   * @property {boolean} [dialog=true]                           Present scroll creation dialog?\n   * @property {\"full\"|\"reference\"|\"none\"} [explanation=\"full\"]  Length of spell scroll rules text to include.\n   * @property {number} [level]                                  Level at which the spell should be cast.\n   */\n\n  /**\n   * Create a consumable spell scroll Item from a spell Item.\n   * @param {Item5e|object} spell                   The spell or item data to be made into a scroll.\n   * @param {object} [options]                      Additional options that modify the created scroll.\n   * @param {SpellScrollConfiguration} [config={}]  Configuration options for scroll creation.\n   * @returns {Promise<Item5e|void>}                The created scroll consumable item.\n   */\n  static async createScrollFromSpell(spell, options={}, config={}) {\n    config = foundry.utils.mergeObject({\n      explanation: game.user.getFlag(\"dnd5e\", \"creation.scrollExplanation\") ?? \"reference\",\n      level: spell.system.level\n    }, config);\n\n    if ( config.dialog !== false ) {\n      const anchor = spell instanceof Item5e ? spell.toAnchor().outerHTML : `<span>${spell.name}</span>`;\n      const result = await Dialog.prompt({\n        title: game.i18n.format(\"DND5E.Scroll.CreateFrom\", { spell: spell.name }),\n        label: game.i18n.localize(\"DND5E.Scroll.CreateScroll\"),\n        content: await renderTemplate(\"systems/dnd5e/templates/apps/spell-scroll-dialog.hbs\", {\n          ...config, anchor, spellLevels: Object.entries(CONFIG.DND5E.spellLevels).reduce((obj, [k, v]) => {\n            if ( Number(k) >= spell.system.level ) obj[k] = v;\n            return obj;\n          }, {})\n        }),\n        callback: dialog => (new FormDataExtended(dialog.querySelector(\"form\"))).object,\n        rejectClose: false,\n        options: { jQuery: false }\n      });\n      if ( result === null ) return;\n      foundry.utils.mergeObject(config, result);\n      await game.user.setFlag(\"dnd5e\", \"creation.scrollExplanation\", config.explanation);\n    }\n\n    // Get spell data\n    const flags = {};\n    const itemData = (spell instanceof Item5e) ? spell.toObject() : spell;\n    if ( Number.isNumeric(config.level) ) {\n      flags.dnd5e = { spellLevel: {\n        value: config.level,\n        base: spell.system.level,\n        scaling: spell.system.scaling\n      } };\n      itemData.system.level = config.level;\n    }\n\n    /**\n     * A hook event that fires before the item data for a scroll is created.\n     * @function dnd5e.preCreateScrollFromSpell\n     * @memberof hookEvents\n     * @param {object} itemData                  The initial item data of the spell to convert to a scroll.\n     * @param {object} options                   Additional options that modify the created scroll.\n     * @param {SpellScrollConfiguration} config  Configuration options for scroll creation.\n     * @returns {boolean}                        Explicitly return false to prevent the scroll to be created.\n     */\n    if ( Hooks.call(\"dnd5e.preCreateScrollFromSpell\", itemData, options, config) === false ) return;\n\n    let {\n      actionType, description, source, activation, duration, target, summons,\n      range, damage, formula, save, level, attack, ability, properties\n    } = itemData.system;\n\n    // Get scroll data\n    let scrollUuid;\n    const id = CONFIG.DND5E.spellScrollIds[level];\n    if ( foundry.data.validators.isValidId(id) ) {\n      scrollUuid = game.packs.get(CONFIG.DND5E.sourcePacks.ITEMS).index.get(id).uuid;\n    } else {\n      scrollUuid = id;\n    }\n    const scrollItem = await fromUuid(scrollUuid);\n    const scrollData = scrollItem.toObject();\n    delete scrollData._id;\n    const isConc = properties.includes(\"concentration\");\n\n    // Create a composite description from the scroll description and the spell details\n    let desc;\n    switch ( config.explanation ) {\n      case \"full\":\n        // Split the scroll description into an intro paragraph and the remaining details\n        const scrollDescription = scrollData.system.description.value;\n        const pdel = \"</p>\";\n        const scrollIntroEnd = scrollDescription.indexOf(pdel);\n        const scrollIntro = scrollDescription.slice(0, scrollIntroEnd + pdel.length);\n        const scrollDetails = scrollDescription.slice(scrollIntroEnd + pdel.length);\n        desc = [\n          scrollIntro,\n          \"<hr>\",\n          `<h3>${itemData.name} (${game.i18n.format(\"DND5E.LevelNumber\", {level})})</h3>`,\n          isConc ? `<p><em>${game.i18n.localize(\"DND5E.Scroll.RequiresConcentration\")}</em></p>` : null,\n          \"<hr>\",\n          description.value,\n          \"<hr>\",\n          `<h3>${game.i18n.localize(\"DND5E.Scroll.Details\")}</h3>`,\n          \"<hr>\",\n          scrollDetails\n        ].filterJoin(\"\");\n        break;\n      case \"reference\":\n        desc = [\n          \"<p><em>\",\n          CONFIG.DND5E.spellLevels[level] ?? level,\n          \" &Reference[Spell Scroll]\",\n          isConc ? `, ${game.i18n.localize(\"DND5E.Scroll.RequiresConcentration\")}` : null,\n          \"</em></p>\",\n          description.value\n        ].filterJoin(\"\");\n        break;\n      default:\n        desc = description.value;\n        break;\n    }\n\n    // Used a fixed attack modifier and saving throw according to the level of spell scroll.\n    if ( [\"mwak\", \"rwak\", \"msak\", \"rsak\"].includes(actionType) ) {\n      attack = { bonus: scrollData.system.attack.bonus };\n    }\n    if ( save.ability ) {\n      save.scaling = \"flat\";\n      save.dc = scrollData.system.save.dc;\n    }\n\n    // Create the spell scroll data\n    const spellScrollData = foundry.utils.mergeObject(scrollData, {\n      name: `${game.i18n.localize(\"DND5E.SpellScroll\")}: ${itemData.name}`,\n      img: itemData.img,\n      effects: itemData.effects ?? [],\n      flags,\n      system: {\n        description: {value: desc.trim()}, source, actionType, activation, duration, target, summons,\n        range, damage, formula, save, level, ability, properties, attack: {bonus: attack.bonus, flat: true}\n      }\n    });\n    foundry.utils.mergeObject(spellScrollData, options);\n    spellScrollData.system.properties = [\n      \"mgc\",\n      ...scrollData.system.properties,\n      ...properties ?? [],\n      ...options.system?.properties ?? []\n    ];\n\n    /**\n     * A hook event that fires after the item data for a scroll is created but before the item is returned.\n     * @function dnd5e.createScrollFromSpell\n     * @memberof hookEvents\n     * @param {Item5e|object} spell              The spell or item data to be made into a scroll.\n     * @param {object} spellScrollData           The final item data used to make the scroll.\n     * @param {SpellScrollConfiguration} config  Configuration options for scroll creation.\n     */\n    Hooks.callAll(\"dnd5e.createScrollFromSpell\", spell, spellScrollData, config);\n\n    return new this(spellScrollData);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Spawn a dialog for creating a new Item.\n   * @param {object} [data]  Data to pre-populate the Item with.\n   * @param {object} [context]\n   * @param {Actor5e} [context.parent]       A parent for the Item.\n   * @param {string|null} [context.pack]     A compendium pack the Item should be placed in.\n   * @param {string[]|null} [context.types]  A list of types to restrict the choices to, or null for no restriction.\n   * @returns {Promise<Item5e|null>}\n   */\n  static async createDialog(data={}, { parent=null, pack=null, types=null, ...options }={}) {\n    types ??= game.documentTypes[this.documentName].filter(t => (t !== CONST.BASE_DOCUMENT_TYPE) && (t !== \"backpack\"));\n    if ( !types.length ) return null;\n    const collection = parent ? null : pack ? game.packs.get(pack) : game.collections.get(this.documentName);\n    const folders = collection?._formatFolderSelectOptions() ?? [];\n    const label = game.i18n.localize(this.metadata.label);\n    const title = game.i18n.format(\"DOCUMENT.Create\", { type: label });\n    const name = data.name || game.i18n.format(\"DOCUMENT.New\", { type: label });\n    let type = data.type || CONFIG[this.documentName]?.defaultType;\n    if ( !types.includes(type) ) type = types[0];\n    const content = await renderTemplate(\"systems/dnd5e/templates/apps/document-create.hbs\", {\n      folders, name, type,\n      folder: data.folder,\n      hasFolders: folders.length > 0,\n      types: types.reduce((arr, type) => {\n        const label = CONFIG[this.documentName]?.typeLabels?.[type] ?? type;\n        arr.push({\n          type,\n          label: game.i18n.has(label) ? game.i18n.localize(label) : type,\n          icon: this.getDefaultArtwork({ type })?.img ?? \"icons/svg/item-bag.svg\"\n        });\n        return arr;\n      }, []).sort((a, b) => a.label.localeCompare(b.label, game.i18n.lang))\n    });\n    return Dialog.prompt({\n      title, content,\n      label: title,\n      render: html => {\n        const app = html.closest(\".app\");\n        const folder = app.querySelector(\"select\");\n        if ( folder ) app.querySelector(\".dialog-buttons\").insertAdjacentElement(\"afterbegin\", folder);\n        app.querySelectorAll(\".window-header .header-button\").forEach(btn => {\n          const label = btn.innerText;\n          const icon = btn.querySelector(\"i\");\n          btn.innerHTML = icon.outerHTML;\n          btn.dataset.tooltip = label;\n          btn.setAttribute(\"aria-label\", label);\n        });\n        app.querySelector(\".document-name\").select();\n      },\n      callback: html => {\n        const form = html.querySelector(\"form\");\n        const fd = new FormDataExtended(form);\n        const createData = foundry.utils.mergeObject(data, fd.object, { inplace: false });\n        if ( !createData.folder ) delete createData.folder;\n        if ( !createData.name?.trim() ) createData.name = this.defaultName();\n        return this.create(createData, { parent, pack, renderSheet: true });\n      },\n      rejectClose: false,\n      options: { ...options, jQuery: false, width: 350, classes: [\"dnd5e2\", \"create-document\", \"dialog\"] }\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  static getDefaultArtwork(itemData={}) {\n    const { type } = itemData;\n    const { img } = super.getDefaultArtwork(itemData);\n    return { img: CONFIG.DND5E.defaultArtwork.Item[type] ?? img };\n  }\n\n  /* -------------------------------------------- */\n  /*  Migrations & Deprecations                   */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static migrateData(source) {\n    source = super.migrateData(source);\n    if ( source.type === \"class\" ) ClassData._migrateTraitAdvancement(source);\n    else if ( source.type === \"container\" ) ContainerData._migrateWeightlessData(source);\n    else if ( source.type === \"equipment\" ) EquipmentData._migrateStealth(source);\n    else if ( source.type === \"spell\" ) SpellData._migrateComponentData(source);\n    return source;\n  }\n}\n","import Item5e from \"../../documents/item.mjs\";\n\n/**\n * Custom items collection to hide items in containers automatically.\n */\nexport default class Items5e extends Items {\n  /** @override */\n  _getVisibleTreeContents(entry) {\n    return this.contents.filter(c => c.visible && !this.has(c.system?.container));\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async importFromCompendium(pack, id, updateData={}, options={}) {\n    const created = await super.importFromCompendium(pack, id, updateData, options);\n\n    const item = await pack.getDocument(id);\n    const contents = await item.system.contents;\n    if ( contents ) {\n      const fromOptions = foundry.utils.mergeObject({ clearSort: false }, options);\n      const toCreate = await Item5e.createWithContents(contents, {\n        container: created, keepId: options.keepId, transformAll: item => this.fromCompendium(item, fromOptions)\n      });\n      await Item5e.createDocuments(toCreate, {fromCompendium: true, keepId: true});\n    }\n\n    return created;\n  }\n}\n","/**\n * Application for configuring a single unlinked spell in a spell list.\n */\nexport default class SpellsUnlinkedConfig extends DocumentSheet {\n  constructor(unlinkedId, object, options={}) {\n    super(object, options);\n    this.unlinkedId = unlinkedId;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\", \"unlinked-spell-config\"],\n      template: \"systems/dnd5e/templates/journal/page-spell-list-unlinked-config.hbs\",\n      width: 400,\n      height: \"auto\",\n      sheetConfig: false\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * ID of the unlinked spell entry being edited.\n   * @type {string}\n   */\n  unlinkedId;\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  get title() {\n    return `${game.i18n.localize(\n      \"JOURNALENTRYPAGE.DND5E.SpellList.UnlinkedSpells.Configuration\")}: ${this.document.name}`;\n  }\n\n  /* -------------------------------------------- */\n  /*  Rendering                                   */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  getData() {\n    const context = {\n      ...super.getData(),\n      ...this.document.system.unlinkedSpells.find(u => u._id === this.unlinkedId),\n      appId: this.id,\n      CONFIG: CONFIG.DND5E\n    };\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _updateObject(event, formData) {\n    const unlinkedSpells = this.document.toObject().system.unlinkedSpells;\n    const editing = unlinkedSpells.find(s => s._id === this.unlinkedId);\n    foundry.utils.mergeObject(editing, formData);\n    this.document.update({\"system.unlinkedSpells\": unlinkedSpells});\n  }\n}\n","import SpellListJournalPageData from \"../../data/journal/spells.mjs\";\nimport { linkForUuid, sortObjectEntries } from \"../../utils.mjs\";\nimport Items5e from \"../../data/collection/items-collection.mjs\";\nimport SpellsUnlinkedConfig from \"./spells-unlinked-config.mjs\";\n\n/**\n * Journal entry page the displays a list of spells for a class, subclass, background, or something else.\n */\nexport default class JournalSpellListPageSheet extends JournalPageSheet {\n\n  /** @inheritDoc */\n  static get defaultOptions() {\n    const options = foundry.utils.mergeObject(super.defaultOptions, {\n      dragDrop: [{dropSelector: \"form\"}],\n      submitOnChange: true,\n      width: 700,\n      displayAsTable: false,\n      embedRendering: false,\n      grouping: null\n    });\n    options.classes.push(\"spells\");\n    return options;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Different ways in which spells can be grouped on the sheet.\n   * @type {Record<string, string>}\n   */\n  static get GROUPING_MODES() {\n    return SpellListJournalPageData.GROUPING_MODES;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Currently selected grouping mode.\n   * @type {string|null}\n   */\n  grouping = null;\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  get template() {\n    if ( this.options.displayAsTable ) return \"systems/dnd5e/templates/journal/page-spell-list-table.hbs\";\n    return `systems/dnd5e/templates/journal/page-spell-list-${this.isEditable ? \"edit\" : \"view\"}.hbs`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async getData(options) {\n    const context = super.getData(options);\n    context.CONFIG = CONFIG.DND5E;\n    context.system = context.document.system;\n    context.embedRendering = this.options.embedRendering ?? false;\n\n    context.title = Object.fromEntries(Array.fromRange(4, 1).map(n => [`level${n}`, context.data.title.level + n - 1]));\n\n    context.description = await TextEditor.enrichHTML(context.system.description.value, {\n      async: true, relativeTo: this\n    });\n    if ( context.description === \"<p></p>\" ) context.description = \"\";\n\n    context.GROUPING_MODES = this.constructor.GROUPING_MODES;\n    context.grouping = this.grouping || this.options.grouping || context.system.grouping;\n\n    context.spells = await this.prepareSpells(context.grouping);\n\n    context.sections = {};\n    for ( const data of context.spells ) {\n      const spell = data.spell ?? data.unlinked;\n      let section;\n      switch ( context.grouping ) {\n        case \"level\":\n          const level = spell.system.level;\n          section = context.sections[level] ??= { header: CONFIG.DND5E.spellLevels[level], spells: [] };\n          break;\n        case \"school\":\n          const school = spell.system.school;\n          section = context.sections[school] ??= { header: CONFIG.DND5E.spellSchools[school]?.label, spells: [] };\n          break;\n        case \"alphabetical\":\n          const letter = spell.name.slice(0, 1).toLowerCase();\n          section = context.sections[letter] ??= { header: letter.toUpperCase(), spells: [] };\n          break;\n        default:\n          continue;\n      }\n      section.spells.push(data);\n    }\n    if ( context.grouping === \"school\" ) context.sections = sortObjectEntries(context.sections, \"header\");\n\n    if ( this.options.displayAsTable ) Object.values(context.sections).forEach(section => {\n      const spells = section.spells.map(s => linkForUuid(s.uuid));\n      section.spellList = game.i18n.getListFormatter({ type: \"unit\" }).format(spells);\n    });\n\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Load indices with necessary information for spells.\n   * @param {string} grouping  Grouping mode to respect.\n   * @returns {object[]}\n   */\n  async prepareSpells(grouping) {\n    let fields;\n    switch ( grouping ) {\n      case \"level\": fields = [\"system.level\"]; break;\n      case \"school\": fields = [\"system.school\"]; break;\n      default: fields = []; break;\n    }\n\n    const unlinkedData = {};\n    const uuids = new Set(this.document.system.spells);\n    for ( const unlinked of this.document.system.unlinkedSpells ) {\n      if ( unlinked.source.uuid ) {\n        uuids.add(unlinked.source.uuid);\n        unlinkedData[unlinked.source.uuid] = unlinked;\n      }\n    }\n\n    let collections = new Collection();\n    for ( const uuid of uuids ) {\n      const { collection } = foundry.utils.parseUuid(uuid);\n      if ( collection && !collections.has(collection) ) {\n        if ( collection instanceof Items5e ) collections.set(collection, collection);\n        else collections.set(collection, collection.getIndex({ fields }));\n      } else if ( !collection ) uuids.delete(uuid);\n    }\n\n    const spells = (await Promise.all(collections.values())).flatMap(c => c.filter(s => uuids.has(s.uuid)));\n\n    for ( const unlinked of this.document.system.unlinkedSpells ) {\n      if ( !uuids.has(unlinked.source.uuid) ) spells.push({ unlinked });\n    }\n\n    return spells\n      .map(spell => {\n        const data = spell.unlinked ? spell : { spell };\n        data.unlinked ??= unlinkedData[data.spell?.uuid];\n        data.name = data.spell?.name ?? data.unlinked?.name ?? \"\";\n        if ( data.spell ) {\n          data.display = linkForUuid(data.spell.uuid, {\n            tooltip: '<section class=\"loading\"><i class=\"fas fa-spinner fa-spin-pulse\"></i></section>'\n          });\n        } else {\n          data.display = `<span class=\"unlinked-spell\"\n            data-tooltip=\"${data.unlinked.source.label}\">${data.unlinked.name ?? \"\"}*</span>`;\n        }\n        return data;\n      })\n      .sort((a, b) => a.name.localeCompare(b.name, game.i18n.lang));\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Handlers                              */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  activateListeners(jQuery) {\n    super.activateListeners(jQuery);\n    const [html] = jQuery;\n\n    html.querySelector('[name=\"grouping\"]')?.addEventListener(\"change\", event => {\n      this.grouping = (event.target.value === this.document.system.grouping) ? null : event.target.value;\n      this.object.parent.sheet.render();\n    });\n    html.querySelectorAll(\"[data-action]\").forEach(e => {\n      e.addEventListener(\"click\", this._onAction.bind(this));\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle performing an action.\n   * @param {PointerEvent} event  This triggering click event.\n   */\n  async _onAction(event) {\n    event.preventDefault();\n    const { action } = event.target.dataset;\n\n    const { itemUuid, unlinkedId } = event.target.closest(\".item\")?.dataset ?? {};\n    switch ( action ) {\n      case \"add-unlinked\":\n        await this.document.update({\"system.unlinkedSpells\": [...this.document.system.unlinkedSpells, {}]});\n        const id = this.document.toObject().system.unlinkedSpells.pop()._id;\n        new SpellsUnlinkedConfig(id, this.document).render(true);\n        break;\n      case \"delete\":\n        if ( itemUuid ) {\n          const spellSet = this.document.system.spells.filter(s => s !== itemUuid);\n          await this.document.update({\"system.spells\": Array.from(spellSet)});\n        } else if ( unlinkedId ) {\n          const unlinkedSet = this.document.system.unlinkedSpells.filter(s => s._id !== unlinkedId);\n          await this.document.update({\"system.unlinkedSpells\": Array.from(unlinkedSet)});\n        }\n        this.render();\n        break;\n      case \"edit-unlinked\":\n        if ( unlinkedId ) new SpellsUnlinkedConfig(unlinkedId, this.document).render(true);\n        break;\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _onDrop(event) {\n    const data = TextEditor.getDragEventData(event);\n    let spells;\n    switch ( data?.type ) {\n      case \"Folder\":\n        spells = (await Folder.implementation.fromDropData(data))?.contents;\n        break;\n      case \"Item\":\n        spells = [await Item.implementation.fromDropData(data)];\n        break;\n      default: return false;\n    }\n\n    const spellUuids = this.document.system.spells;\n    spells = spells.filter(item => (item.type === \"spell\") && !spellUuids.has(item.uuid));\n    if ( !spells.length ) return false;\n\n    spells.forEach(i => spellUuids.add(i.uuid));\n    await this.document.update({\"system.spells\": Array.from(spellUuids)});\n    this.render();\n  }\n}\n","/**\n * Parse the provided rolls, splitting parts based on damage types & properties, taking flavor into account.\n * @param {DamageRoll[]} rolls                   Evaluated damage rolls to aggregate.\n * @param {object} [options={}]\n * @param {boolean} [options.respectProperties]  Should damage properties also affect grouping?\n * @returns {DamageRoll[]}\n */\nexport default function aggregateDamageRolls(rolls, { respectProperties }={}) {\n  const makeHash = (type, properties=[]) => [type, ...(respectProperties ? Array.from(properties).sort() : [])].join();\n\n  // Split rolls into new sets of terms based on damage type & properties\n  const types = new Map();\n  for ( const roll of rolls ) {\n    if ( !roll._evaluated ) throw new Error(\"Only evaluated rolls can be aggregated.\");\n    for ( const chunk of chunkTerms(roll.terms, roll.options.type) ) {\n      const key = makeHash(chunk.type, roll.options.properties);\n      if ( !types.has(key) ) types.set(key, { type: chunk.type, properties: new Set(), terms: [] });\n      const data = types.get(key);\n      data.terms.push(new OperatorTerm({ operator: chunk.negative ? \"-\" : \"+\" }), ...chunk.terms);\n      if ( roll.options.properties ) data.properties = data.properties.union(new Set(roll.options.properties));\n    }\n  }\n\n  // Create new damage rolls based on the aggregated terms\n  const newRolls = [];\n  for ( const type of types.values() ) {\n    const roll = new CONFIG.Dice.DamageRoll();\n    roll.terms = type.terms;\n    roll._total = roll._evaluateTotal();\n    roll._evaluated = true;\n    roll.options = { type: type.type, properties: Array.from(type.properties) };\n    roll.resetFormula();\n    newRolls.push(roll);\n  }\n\n  return newRolls;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Split terms into groups based on operators. Addition & subtraction will split groups while multiplication and\n * division will keep groups together. These groups also contain information on contained types written in flavor\n * and whether they are negative.\n * @param {RollTerm[]} terms  Terms to chunk.\n * @param {string} type       Type specified in the roll as a whole.\n * @returns {{ terms: RollTerm[], negative: boolean, type: string }[]}\n */\nfunction chunkTerms(terms, type) {\n  const pushChunk = () => {\n    currentChunk.type ??= type;\n    chunks.push(currentChunk);\n    currentChunk = null;\n    negative = false;\n  };\n  const isValidType = t => ((t in CONFIG.DND5E.damageTypes) || (t in CONFIG.DND5E.healingTypes));\n  const chunks = [];\n  let currentChunk;\n  let negative = false;\n\n  for ( let term of terms ) {\n    // Plus or minus operators split chunks\n    if ( (term instanceof OperatorTerm) && [\"+\", \"-\"].includes(term.operator) ) {\n      if ( currentChunk ) pushChunk();\n      if ( term.operator === \"-\" ) negative = !negative;\n      continue;\n    }\n\n    // All other terms get added to the current chunk\n    term = RollTerm.fromData(foundry.utils.deepClone(term.toJSON()));\n    currentChunk ??= { terms: [], negative, type: null };\n    currentChunk.terms.push(term);\n    const flavor = term.flavor?.toLowerCase().trim();\n    if ( isValidType(flavor) ) {\n      currentChunk.type ??= flavor;\n      term.options.flavor = \"\";\n    }\n  }\n\n  if ( currentChunk ) pushChunk();\n  return chunks;\n}\n","/**\n * A type of Roll specific to a d20-based check, save, or attack roll in the 5e system.\n * @param {string} formula                       The string formula to parse\n * @param {object} data                          The data object against which to parse attributes within the formula\n * @param {object} [options={}]                  Extra optional arguments which describe or modify the D20Roll\n * @param {number} [options.advantageMode]       What advantage modifier to apply to the roll (none, advantage,\n *                                               disadvantage)\n * @param {number} [options.critical]            The value of d20 result which represents a critical success\n * @param {number} [options.fumble]              The value of d20 result which represents a critical failure\n * @param {(number)} [options.targetValue]       Assign a target value against which the result of this roll should be\n *                                               compared\n * @param {boolean} [options.elvenAccuracy=false]      Allow Elven Accuracy to modify this roll?\n * @param {boolean} [options.halflingLucky=false]      Allow Halfling Luck to modify this roll?\n * @param {boolean} [options.reliableTalent=false]     Allow Reliable Talent to modify this roll?\n */\nexport default class D20Roll extends Roll {\n  constructor(formula, data, options) {\n    super(formula, data, options);\n    if ( !this.options.configured ) this.configureModifiers();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create a D20Roll from a standard Roll instance.\n   * @param {Roll} roll\n   * @returns {D20Roll}\n   */\n  static fromRoll(roll) {\n    const newRoll = new this(roll.formula, roll.data, roll.options);\n    Object.assign(newRoll, roll);\n    return newRoll;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Determine whether a d20 roll should be fast-forwarded, and whether advantage or disadvantage should be applied.\n   * @param {object} [options]\n   * @param {Event} [options.event]                               The Event that triggered the roll.\n   * @param {boolean} [options.advantage]                         Is something granting this roll advantage?\n   * @param {boolean} [options.disadvantage]                      Is something granting this roll disadvantage?\n   * @param {boolean} [options.fastForward]                       Should the roll dialog be skipped?\n   * @returns {{advantageMode: D20Roll.ADV_MODE, isFF: boolean}}  Whether the roll is fast-forwarded, and its advantage\n   *                                                              mode.\n   */\n  static determineAdvantageMode({event, advantage=false, disadvantage=false, fastForward}={}) {\n    const isFF = fastForward ?? (event?.shiftKey || event?.altKey || event?.ctrlKey || event?.metaKey);\n    let advantageMode = this.ADV_MODE.NORMAL;\n    if ( advantage || event?.altKey ) advantageMode = this.ADV_MODE.ADVANTAGE;\n    else if ( disadvantage || event?.ctrlKey || event?.metaKey ) advantageMode = this.ADV_MODE.DISADVANTAGE;\n    return {isFF: !!isFF, advantageMode};\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Advantage mode of a 5e d20 roll\n   * @enum {number}\n   */\n  static ADV_MODE = {\n    NORMAL: 0,\n    ADVANTAGE: 1,\n    DISADVANTAGE: -1\n  };\n\n  /* -------------------------------------------- */\n\n  /**\n   * The HTML template path used to configure evaluation of this Roll\n   * @type {string}\n   */\n  static EVALUATION_TEMPLATE = \"systems/dnd5e/templates/chat/roll-dialog.hbs\";\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does this roll start with a d20?\n   * @type {boolean}\n   */\n  get validD20Roll() {\n    return (this.terms[0] instanceof Die) && (this.terms[0].faces === 20);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * A convenience reference for whether this D20Roll has advantage\n   * @type {boolean}\n   */\n  get hasAdvantage() {\n    return this.options.advantageMode === D20Roll.ADV_MODE.ADVANTAGE;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * A convenience reference for whether this D20Roll has disadvantage\n   * @type {boolean}\n   */\n  get hasDisadvantage() {\n    return this.options.advantageMode === D20Roll.ADV_MODE.DISADVANTAGE;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Is this roll a critical success? Returns undefined if roll isn't evaluated.\n   * @type {boolean|void}\n   */\n  get isCritical() {\n    if ( !this.validD20Roll || !this._evaluated ) return undefined;\n    if ( !Number.isNumeric(this.options.critical) ) return false;\n    return this.dice[0].total >= this.options.critical;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Is this roll a critical failure? Returns undefined if roll isn't evaluated.\n   * @type {boolean|void}\n   */\n  get isFumble() {\n    if ( !this.validD20Roll || !this._evaluated ) return undefined;\n    if ( !Number.isNumeric(this.options.fumble) ) return false;\n    return this.dice[0].total <= this.options.fumble;\n  }\n\n  /* -------------------------------------------- */\n  /*  D20 Roll Methods                            */\n  /* -------------------------------------------- */\n\n  /**\n   * Apply optional modifiers which customize the behavior of the d20term\n   * @private\n   */\n  configureModifiers() {\n    if ( !this.validD20Roll ) return;\n\n    const d20 = this.terms[0];\n    d20.modifiers = [];\n\n    // Halfling Lucky\n    if ( this.options.halflingLucky ) d20.modifiers.push(\"r1=1\");\n\n    // Reliable Talent\n    if ( this.options.reliableTalent ) d20.modifiers.push(\"min10\");\n\n    // Handle Advantage or Disadvantage\n    if ( this.hasAdvantage ) {\n      d20.number = this.options.elvenAccuracy ? 3 : 2;\n      d20.modifiers.push(\"kh\");\n      d20.options.advantage = true;\n    }\n    else if ( this.hasDisadvantage ) {\n      d20.number = 2;\n      d20.modifiers.push(\"kl\");\n      d20.options.disadvantage = true;\n    }\n    else d20.number = 1;\n\n    // Assign critical and fumble thresholds\n    if ( this.options.critical ) d20.options.critical = this.options.critical;\n    if ( this.options.fumble ) d20.options.fumble = this.options.fumble;\n    if ( this.options.targetValue ) d20.options.target = this.options.targetValue;\n\n    // Re-compile the underlying formula\n    this._formula = this.constructor.getFormula(this.terms);\n\n    // Mark configuration as complete\n    this.options.configured = true;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async toMessage(messageData={}, options={}) {\n    // Record the preferred rollMode\n    options.rollMode ??= this.options.rollMode;\n    if ( options.rollMode === \"roll\" ) options.rollMode = undefined;\n    options.rollMode ||= game.settings.get(\"core\", \"rollMode\");\n\n    // Evaluate the roll now so we have the results available to determine whether reliable talent came into play\n    if ( !this._evaluated ) await this.evaluate({ allowInteractive: options.rollMode !== CONST.DICE_ROLL_MODES.BLIND });\n\n    // Add appropriate advantage mode message flavor and dnd5e roll flags\n    messageData.flavor = messageData.flavor || this.options.flavor;\n    if ( this.hasAdvantage ) messageData.flavor += ` (${game.i18n.localize(\"DND5E.Advantage\")})`;\n    else if ( this.hasDisadvantage ) messageData.flavor += ` (${game.i18n.localize(\"DND5E.Disadvantage\")})`;\n\n    // Add reliable talent to the d20-term flavor text if it applied\n    if ( this.validD20Roll && this.options.reliableTalent ) {\n      const d20 = this.dice[0];\n      const isRT = d20.results.every(r => !r.active || (r.result < 10));\n      const label = `(${game.i18n.localize(\"DND5E.FlagsReliableTalent\")})`;\n      if ( isRT ) d20.options.flavor = d20.options.flavor ? `${d20.options.flavor} (${label})` : label;\n    }\n\n    return super.toMessage(messageData, options);\n  }\n\n  /* -------------------------------------------- */\n  /*  Configuration Dialog                        */\n  /* -------------------------------------------- */\n\n  /**\n   * Create a Dialog prompt used to configure evaluation of an existing D20Roll instance.\n   * @param {object} data                     Dialog configuration data\n   * @param {string} [data.title]             The title of the shown dialog window\n   * @param {number} [data.defaultRollMode]   The roll mode that the roll mode select element should default to\n   * @param {number} [data.defaultAction]     The button marked as default\n   * @param {boolean} [data.chooseModifier]   Choose which ability modifier should be applied to the roll?\n   * @param {string} [data.defaultAbility]    For tool rolls, the default ability modifier applied to the roll\n   * @param {string} [data.template]          A custom path to an HTML template to use instead of the default\n   * @param {object} options                  Additional Dialog customization options\n   * @returns {Promise<D20Roll|null>}         A resulting D20Roll object constructed with the dialog, or null if the\n   *                                          dialog was closed\n   */\n  async configureDialog({title, defaultRollMode, defaultAction=D20Roll.ADV_MODE.NORMAL, chooseModifier=false,\n    defaultAbility, template}={}, options={}) {\n\n    // Render the Dialog inner HTML\n    const content = await renderTemplate(template ?? this.constructor.EVALUATION_TEMPLATE, {\n      formulas: [{formula: `${this.formula} + @bonus`}],\n      defaultRollMode,\n      rollModes: CONFIG.Dice.rollModes,\n      chooseModifier,\n      defaultAbility,\n      abilities: CONFIG.DND5E.abilities\n    });\n\n    let defaultButton = \"normal\";\n    switch ( defaultAction ) {\n      case D20Roll.ADV_MODE.ADVANTAGE: defaultButton = \"advantage\"; break;\n      case D20Roll.ADV_MODE.DISADVANTAGE: defaultButton = \"disadvantage\"; break;\n    }\n\n    // Create the Dialog window and await submission of the form\n    return new Promise(resolve => {\n      new Dialog({\n        title,\n        content,\n        buttons: {\n          advantage: {\n            label: game.i18n.localize(\"DND5E.Advantage\"),\n            callback: html => resolve(this._onDialogSubmit(html, D20Roll.ADV_MODE.ADVANTAGE))\n          },\n          normal: {\n            label: game.i18n.localize(\"DND5E.Normal\"),\n            callback: html => resolve(this._onDialogSubmit(html, D20Roll.ADV_MODE.NORMAL))\n          },\n          disadvantage: {\n            label: game.i18n.localize(\"DND5E.Disadvantage\"),\n            callback: html => resolve(this._onDialogSubmit(html, D20Roll.ADV_MODE.DISADVANTAGE))\n          }\n        },\n        default: defaultButton,\n        close: () => resolve(null)\n      }, options).render(true);\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle submission of the Roll evaluation configuration Dialog\n   * @param {jQuery} html            The submitted dialog content\n   * @param {number} advantageMode   The chosen advantage mode\n   * @returns {D20Roll}              This damage roll.\n   * @private\n   */\n  _onDialogSubmit(html, advantageMode) {\n    const form = html[0].querySelector(\"form\");\n\n    // Append a situational bonus term\n    if ( form.bonus.value ) {\n      const bonus = new Roll(form.bonus.value, this.data);\n      if ( !(bonus.terms[0] instanceof OperatorTerm) ) this.terms.push(new OperatorTerm({operator: \"+\"}));\n      this.terms = this.terms.concat(bonus.terms);\n    }\n\n    // Customize the modifier\n    if ( form.ability?.value ) {\n      const abl = this.data.abilities[form.ability.value];\n      this.terms = this.terms.flatMap(t => {\n        if ( t.term === \"@mod\" ) return new NumericTerm({number: abl.mod});\n        if ( t.term === \"@abilityCheckBonus\" ) {\n          const bonus = abl.bonuses?.check;\n          if ( bonus ) return new Roll(bonus, this.data).terms;\n          return new NumericTerm({number: 0});\n        }\n        return t;\n      });\n      this.options.flavor += ` (${CONFIG.DND5E.abilities[form.ability.value]?.label ?? \"\"})`;\n    }\n\n    // Apply advantage or disadvantage\n    this.options.advantageMode = advantageMode;\n    this.options.rollMode = form.rollMode.value;\n    this.configureModifiers();\n    return this;\n  }\n}\n","/**\n * A type of Roll specific to a damage (or healing) roll in the 5e system.\n * @param {string} formula                       The string formula to parse\n * @param {object} data                          The data object against which to parse attributes within the formula\n * @param {object} [options={}]                  Extra optional arguments which describe or modify the DamageRoll\n * @param {number} [options.criticalBonusDice=0]      A number of bonus damage dice that are added for critical hits\n * @param {number} [options.criticalMultiplier=2]     A critical hit multiplier which is applied to critical hits\n * @param {boolean} [options.multiplyNumeric=false]   Multiply numeric terms by the critical multiplier\n * @param {boolean} [options.powerfulCritical=false]  Apply the \"powerful criticals\" house rule to critical hits\n * @param {string} [options.criticalBonusDamage]      An extra damage term that is applied only on a critical hit\n */\nexport default class DamageRoll extends Roll {\n  constructor(formula, data, options) {\n    super(formula, data, options);\n    if ( !this.options.preprocessed ) this.preprocessFormula();\n    // For backwards compatibility, skip rolls which do not have the \"critical\" option defined\n    if ( (this.options.critical !== undefined) && !this.options.configured ) this.configureDamage();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create a DamageRoll from a standard Roll instance.\n   * @param {Roll} roll\n   * @returns {DamageRoll}\n   */\n  static fromRoll(roll) {\n    const newRoll = new this(roll.formula, roll.data, roll.options);\n    Object.assign(newRoll, roll);\n    return newRoll;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The HTML template path used to configure evaluation of this Roll\n   * @type {string}\n   */\n  static EVALUATION_TEMPLATE = \"systems/dnd5e/templates/chat/roll-dialog.hbs\";\n\n  /* -------------------------------------------- */\n\n  /**\n   * A convenience reference for whether this DamageRoll is a critical hit\n   * @type {boolean}\n   */\n  get isCritical() {\n    return this.options.critical;\n  }\n\n  /* -------------------------------------------- */\n  /*  Damage Roll Methods                         */\n  /* -------------------------------------------- */\n\n  /**\n   * Perform any term-merging required to ensure that criticals can be calculated successfully.\n   * @protected\n   */\n  preprocessFormula() {\n    for ( let [i, term] of this.terms.entries() ) {\n      const nextTerm = this.terms[i + 1];\n      const prevTerm = this.terms[i - 1];\n\n      // Convert shorthand dX terms to 1dX preemptively to allow them to be appropriately doubled for criticals\n      if ( (term instanceof StringTerm) && /^d\\d+/.test(term.term) && !(prevTerm instanceof ParentheticalTerm) ) {\n        const formula = `1${term.term}`;\n        const newTerm = new Roll(formula).terms[0];\n        this.terms.splice(i, 1, newTerm);\n        term = newTerm;\n      }\n\n      // Merge parenthetical terms that follow string terms to build a dice term (to allow criticals)\n      else if ( (term instanceof ParentheticalTerm) && (prevTerm instanceof StringTerm)\n        && prevTerm.term.match(/^[0-9]*d$/)) {\n        if ( term.isDeterministic ) {\n          let newFormula = `${prevTerm.term}${term.evaluate().total}`;\n          let deleteCount = 2;\n\n          // Merge in any roll modifiers\n          if ( nextTerm instanceof StringTerm ) {\n            newFormula += nextTerm.term;\n            deleteCount += 1;\n          }\n\n          const newTerm = (new Roll(newFormula)).terms[0];\n          this.terms.splice(i - 1, deleteCount, newTerm);\n          term = newTerm;\n        }\n      }\n\n      // Merge any parenthetical terms followed by string terms\n      else if ( (term instanceof ParentheticalTerm || term instanceof MathTerm) && (nextTerm instanceof StringTerm)\n        && nextTerm.term.match(/^d[0-9]*$/)) {\n        if ( term.isDeterministic ) {\n          const newFormula = `${term.evaluate().total}${nextTerm.term}`;\n          const newTerm = (new Roll(newFormula)).terms[0];\n          this.terms.splice(i, 2, newTerm);\n          term = newTerm;\n        }\n      }\n    }\n\n    // Re-compile the underlying formula\n    this._formula = this.constructor.getFormula(this.terms);\n\n    // Mark configuration as complete\n    this.options.preprocessed = true;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Apply optional modifiers which customize the behavior of the d20term.\n   * @protected\n   */\n  configureDamage() {\n    const flatBonus = new Map();\n    for ( let [i, term] of this.terms.entries() ) {\n      // Multiply dice terms\n      if ( term instanceof DiceTerm ) {\n        if ( (game.release.generation > 11) && (term._number instanceof Roll) ) {\n          // Complex number term.\n          if ( !term._number.isDeterministic ) continue;\n          if ( !term._number._evaluated ) term._number.evaluateSync();\n        }\n        term.options.baseNumber = term.options.baseNumber ?? term.number; // Reset back\n        term.number = term.options.baseNumber;\n        if ( this.isCritical ) {\n          let cm = this.options.criticalMultiplier ?? 2;\n\n          // Powerful critical - maximize damage and reduce the multiplier by 1\n          if ( this.options.powerfulCritical ) {\n            let bonus = term.number * term.faces;\n            if ( bonus > 0 ) {\n              const flavor = term.flavor?.toLowerCase().trim() ?? game.i18n.localize(\"DND5E.PowerfulCritical\");\n              flatBonus.set(flavor, (flatBonus.get(flavor) ?? 0) + bonus);\n            }\n            cm = Math.max(1, cm-1);\n          }\n\n          // Alter the damage term\n          let cb = (this.options.criticalBonusDice && (i === 0)) ? this.options.criticalBonusDice : 0;\n          term.alter(cm, cb);\n          term.options.critical = true;\n        }\n      }\n\n      // Multiply numeric terms\n      else if ( this.options.multiplyNumeric && (term instanceof NumericTerm) ) {\n        term.options.baseNumber = term.options.baseNumber ?? term.number; // Reset back\n        term.number = term.options.baseNumber;\n        if ( this.isCritical ) {\n          term.number *= (this.options.criticalMultiplier ?? 2);\n          term.options.critical = true;\n        }\n      }\n    }\n\n    // Add powerful critical bonus\n    if ( this.options.powerfulCritical && flatBonus.size ) {\n      for ( const [type, number] of flatBonus.entries() ) {\n        this.terms.push(new OperatorTerm({operator: \"+\"}));\n        this.terms.push(new NumericTerm({number, options: {flavor: type}}));\n      }\n    }\n\n    // Add extra critical damage term\n    if ( this.isCritical && this.options.criticalBonusDamage ) {\n      const extra = new Roll(this.options.criticalBonusDamage, this.data);\n      if ( !(extra.terms[0] instanceof OperatorTerm) ) this.terms.push(new OperatorTerm({operator: \"+\"}));\n      this.terms.push(...extra.terms);\n    }\n\n    // Re-compile the underlying formula\n    this._formula = this.constructor.getFormula(this.terms);\n\n    // Mark configuration as complete\n    this.options.configured = true;\n  }\n\n  /* -------------------------------------------- */\n  /*  Chat Messages                               */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  toMessage(messageData={}, options={}) {\n    return this.constructor.toMessage([this], messageData, options);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Transform a Roll instance into a ChatMessage, displaying the roll result.\n   * This function can either create the ChatMessage directly, or return the data object that will be used to create.\n   *\n   * @param {DamageRoll[]} rolls             Rolls to add to the message.\n   * @param {object} messageData             The data object to use when creating the message.\n   * @param {options} [options]              Additional options which modify the created message.\n   * @param {string} [options.rollMode]      The template roll mode to use for the message from CONFIG.Dice.rollModes.\n   * @param {boolean} [options.create=true]  Whether to automatically create the chat message, or only return the\n   *                                         prepared chatData object.\n   * @returns {Promise<ChatMessage|object>}  A promise which resolves to the created ChatMessage document if create is\n   *                                         true, or the Object of prepared chatData otherwise.\n   */\n  static async toMessage(rolls, messageData={}, {rollMode, create=true}={}) {\n    rollMode = rolls.at(-1)?.options.rollMode ?? rollMode ?? game.settings.get(\"core\", \"rollMode\");\n    let isCritical = false;\n    for ( const roll of rolls ) {\n      if ( !roll._evaluated ) await roll.evaluate({ allowInteractive: rollMode !== CONST.DICE_ROLL_MODES.BLIND });\n      messageData.flavor ??= roll.options.flavor;\n      isCritical ||= roll.isCritical;\n    }\n    if ( isCritical ) {\n      const label = game.i18n.localize(\"DND5E.CriticalHit\");\n      messageData.flavor = messageData.flavor ? `${messageData.flavor} (${label})` : label;\n    }\n\n    // Prepare chat data\n    messageData = foundry.utils.mergeObject({\n      user: game.user.id,\n      sound: CONFIG.sounds.dice\n    }, messageData);\n    messageData.rolls = rolls;\n    // TODO: Remove when v11 support is dropped.\n    if ( game.release.generation < 12 ) messageData.type = CONST.CHAT_MESSAGE_TYPES.ROLL;\n\n    // Either create the message or just return the chat data\n    const cls = getDocumentClass(\"ChatMessage\");\n    const msg = new cls(messageData);\n\n    // Either create or return the data\n    if ( create ) return cls.create(msg.toObject(), { rollMode });\n    else {\n      if ( rollMode ) msg.applyRollMode(rollMode);\n      return msg.toObject();\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Configuration Dialog                        */\n  /* -------------------------------------------- */\n\n  /**\n   * Create a Dialog prompt used to configure evaluation of an existing D20Roll instance.\n   * @param {object} data                     Dialog configuration data\n   * @param {string} [data.title]               The title of the shown dialog window\n   * @param {number} [data.defaultRollMode]     The roll mode that the roll mode select element should default to\n   * @param {string} [data.defaultCritical]     Should critical be selected as default\n   * @param {string} [data.template]            A custom path to an HTML template to use instead of the default\n   * @param {boolean} [data.allowCritical=true] Allow critical hit to be chosen as a possible damage mode\n   * @param {object} options                  Additional Dialog customization options\n   * @returns {Promise<D20Roll|null>}         A resulting D20Roll object constructed with the dialog, or null if the\n   *                                          dialog was closed\n   */\n  async configureDialog(data={}, options={}) {\n    const rolls = await this.constructor.configureDialog([this], data, options);\n    return rolls[0] ?? null;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create a Dialog prompt used to configure evaluation of one or more daamge rolls.\n   * @param {DamageRoll[]} rolls                Damage rolls to configure.\n   * @param {object} [data={}]                  Dialog configuration data\n   * @param {string} [data.title]               The title of the shown dialog window\n   * @param {number} [data.defaultRollMode]     The roll mode that the roll mode select element should default to\n   * @param {string} [data.defaultCritical]     Should critical be selected as default\n   * @param {string} [data.template]            A custom path to an HTML template to use instead of the default\n   * @param {boolean} [data.allowCritical=true] Allow critical hit to be chosen as a possible damage mode\n   * @param {object} options                    Additional Dialog customization options\n   * @returns {Promise<D20Roll|null>}           A resulting D20Roll object constructed with the dialog, or null if the\n   *                                            dialog was closed\n   */\n  static async configureDialog(rolls, {\n    title, defaultRollMode, defaultCritical=false, template, allowCritical=true}={}, options={}) {\n\n    // Render the Dialog inner HTML\n    const content = await renderTemplate(template ?? this.EVALUATION_TEMPLATE, {\n      formulas: rolls.map((roll, index) => ({\n        formula: `${roll.formula}${index === 0 ? \" + @bonus\" : \"\"}`,\n        type: CONFIG.DND5E.damageTypes[roll.options.type]?.label\n          ?? CONFIG.DND5E.healingTypes[roll.options.type]?.label ?? null\n      })),\n      defaultRollMode,\n      rollModes: CONFIG.Dice.rollModes\n    });\n\n    // Create the Dialog window and await submission of the form\n    return new Promise(resolve => {\n      new Dialog({\n        title,\n        content,\n        buttons: {\n          critical: {\n            condition: allowCritical,\n            label: game.i18n.localize(\"DND5E.CriticalHit\"),\n            callback: html => resolve(rolls.map((r, i) => r._onDialogSubmit(html, true, i === 0)))\n          },\n          normal: {\n            label: game.i18n.localize(allowCritical ? \"DND5E.Normal\" : \"DND5E.Roll\"),\n            callback: html => resolve(rolls.map((r, i) => r._onDialogSubmit(html, false, i === 0)))\n          }\n        },\n        default: defaultCritical ? \"critical\" : \"normal\",\n        close: () => resolve(null)\n      }, options).render(true);\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle submission of the Roll evaluation configuration Dialog\n   * @param {jQuery} html         The submitted dialog content\n   * @param {boolean} isCritical  Is the damage a critical hit?\n   * @param {boolean} isFirst     Is this the first roll being prepared?\n   * @returns {DamageRoll}        This damage roll.\n   * @private\n   */\n  _onDialogSubmit(html, isCritical, isFirst) {\n    const form = html[0].querySelector(\"form\");\n\n    // Append a situational bonus term\n    if ( form.bonus.value && isFirst ) {\n      const bonus = new DamageRoll(form.bonus.value, this.data);\n      if ( !(bonus.terms[0] instanceof OperatorTerm) ) this.terms.push(new OperatorTerm({operator: \"+\"}));\n      this.terms = this.terms.concat(bonus.terms);\n    }\n\n    // Apply advantage or disadvantage\n    this.options.critical = isCritical;\n    this.options.rollMode = form.rollMode.value;\n    this.configureDamage();\n    return this;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static fromData(data) {\n    const roll = super.fromData(data);\n    roll._formula = this.getFormula(roll.terms);\n    return roll;\n  }\n}\n","/**\n * Attempt to create a macro from the dropped data. Will use an existing macro if one exists.\n * @param {object} dropData     The dropped data\n * @param {number} slot         The hotbar slot to use\n * @returns {Promise}\n */\nexport async function create5eMacro(dropData, slot) {\n  const macroData = { type: \"script\", scope: \"actor\" };\n  switch ( dropData.type ) {\n    case \"Item\":\n      const itemData = await Item.implementation.fromDropData(dropData);\n      if ( !itemData ) {\n        ui.notifications.warn(\"MACRO.5eUnownedWarn\", {localize: true});\n        return null;\n      }\n      foundry.utils.mergeObject(macroData, {\n        name: itemData.name,\n        img: itemData.img,\n        command: `dnd5e.documents.macro.rollItem(\"${itemData._source.name}\")`,\n        flags: {\"dnd5e.itemMacro\": true}\n      });\n      break;\n    case \"ActiveEffect\":\n      const effectData = await ActiveEffect.implementation.fromDropData(dropData);\n      if ( !effectData ) {\n        ui.notifications.warn(\"MACRO.5eUnownedWarn\", {localize: true});\n        return null;\n      }\n      foundry.utils.mergeObject(macroData, {\n        name: effectData.name,\n        img: effectData.icon,\n        command: `dnd5e.documents.macro.toggleEffect(\"${effectData.name}\")`,\n        flags: {\"dnd5e.effectMacro\": true}\n      });\n      break;\n    default:\n      return;\n  }\n\n  // Assign the macro to the hotbar\n  const macro = game.macros.find(m => {\n    return (m.name === macroData.name) && (m.command === macroData.command) && m.isAuthor;\n  }) || await Macro.create(macroData);\n  game.user.assignHotbarMacro(macro, slot);\n}\n\n/* -------------------------------------------- */\n\n/**\n * Find a document of the specified name and type on an assigned or selected actor.\n * @param {string} name          Document name to locate.\n * @param {string} documentType  Type of embedded document (e.g. \"Item\" or \"ActiveEffect\").\n * @returns {Document}           Document if found, otherwise nothing.\n */\nfunction getMacroTarget(name, documentType) {\n  let actor;\n  const speaker = ChatMessage.getSpeaker();\n  if ( speaker.token ) actor = game.actors.tokens[speaker.token];\n  actor ??= game.actors.get(speaker.actor);\n  if ( !actor ) {\n    ui.notifications.warn(\"MACRO.5eNoActorSelected\", {localize: true});\n    return null;\n  }\n\n  const collection = (documentType === \"Item\") ? actor.items : Array.from(actor.allApplicableEffects());\n\n  // Find item in collection\n  const documents = collection.filter(i => i._source.name === name);\n  const type = game.i18n.localize(`DOCUMENT.${documentType}`);\n  if ( documents.length === 0 ) {\n    ui.notifications.warn(game.i18n.format(\"MACRO.5eMissingTargetWarn\", { actor: actor.name, type, name }));\n    return null;\n  }\n  if ( documents.length > 1 ) {\n    ui.notifications.warn(game.i18n.format(\"MACRO.5eMultipleTargetsWarn\", { actor: actor.name, type, name }));\n  }\n  return documents[0];\n}\n\n/* -------------------------------------------- */\n\n/**\n * Trigger an item to roll when a macro is clicked.\n * @param {string} itemName                Name of the item on the selected actor to trigger.\n * @returns {Promise<ChatMessage|object>}  Roll result.\n */\nexport function rollItem(itemName) {\n  return getMacroTarget(itemName, \"Item\")?.use();\n}\n\n/* -------------------------------------------- */\n\n/**\n * Toggle an effect on and off when a macro is clicked.\n * @param {string} effectName        Name of the effect to be toggled.\n * @returns {Promise<ActiveEffect>}  The effect after it has been toggled.\n */\nexport function toggleEffect(effectName) {\n  const effect = getMacroTarget(effectName, \"ActiveEffect\");\n  return effect?.update({disabled: !effect.disabled});\n}\n","import { formatNumber, getSceneTargets, simplifyBonus } from \"./utils.mjs\";\nimport Award from \"./applications/award.mjs\";\nimport JournalSpellListPageSheet from \"./applications/journal/spells-page-sheet.mjs\";\nimport { damageRoll } from \"./dice/_module.mjs\";\nimport * as Trait from \"./documents/actor/trait.mjs\";\nimport Item5e from \"./documents/item.mjs\";\nimport { rollItem } from \"./documents/macro.mjs\";\n\nconst slugify = value => value?.slugify().replaceAll(\"-\", \"\");\n\n/**\n * Set up custom text enrichers.\n */\nexport function registerCustomEnrichers() {\n  const stringNames = [\"award\", \"check\", \"concentration\", \"damage\", \"healing\", \"item\", \"save\", \"skill\", \"tool\"];\n  CONFIG.TextEditor.enrichers.push({\n    pattern: new RegExp(`\\\\[\\\\[/(?<type>${stringNames.join(\"|\")}) (?<config>[^\\\\]]+)]](?:{(?<label>[^}]+)})?`, \"gi\"),\n    enricher: enrichString\n  },\n  {\n    pattern: /\\[\\[(?<type>lookup) (?<config>[^\\]]+)]](?:{(?<label>[^}]+)})?/gi,\n    enricher: enrichString\n  },\n  {\n    pattern: /&(?<type>Reference)\\[(?<config>[^\\]]+)](?:{(?<label>[^}]+)})?/gi,\n    enricher: enrichString\n  },\n  {\n    // TODO: Remove when v11 support is dropped\n    pattern: /@(?<type>Embed)\\[(?<config>[^\\]]+)](?:{(?<label>[^}]+)})?/gi,\n    enricher: enrichString\n  });\n\n  document.body.addEventListener(\"click\", applyAction);\n  document.body.addEventListener(\"click\", awardAction);\n  document.body.addEventListener(\"click\", rollAction);\n}\n\n/* -------------------------------------------- */\n\n/**\n * Parse the enriched string and provide the appropriate content.\n * @param {RegExpMatchArray} match       The regular expression match result.\n * @param {EnrichmentOptions} options    Options provided to customize text enrichment.\n * @returns {Promise<HTMLElement|null>}  An HTML element to insert in place of the matched text or null to\n *                                       indicate that no replacement should be made.\n */\nasync function enrichString(match, options) {\n  let { type, config, label } = match.groups;\n  config = parseConfig(config);\n  config._input = match[0];\n  switch ( type.toLowerCase() ) {\n    case \"award\": return enrichAward(config, label, options);\n    case \"healing\": config._isHealing = true;\n    case \"damage\": return enrichDamage(config, label, options);\n    case \"check\":\n    case \"skill\":\n    case \"tool\": return enrichCheck(config, label, options);\n    case \"lookup\": return enrichLookup(config, label, options);\n    case \"concentration\": config._isConcentration = true;\n    case \"save\": return enrichSave(config, label, options);\n    case \"embed\": return enrichEmbed(config, label, options);\n    case \"item\": return enrichItem(config, label, options);\n    case \"reference\": return enrichReference(config, label, options);\n  }\n  return null;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Parse a roll string into a configuration object.\n * @param {string} match  Matched configuration string.\n * @returns {object}\n */\nfunction parseConfig(match) {\n  const config = { _config: match, values: [] };\n  for ( const part of match.match(/(?:[^\\s\"]+|\"[^\"]*\")+/g) ) {\n    if ( !part ) continue;\n    const [key, value] = part.split(\"=\");\n    const valueLower = value?.toLowerCase();\n    if ( value === undefined ) config.values.push(key.replace(/(^\"|\"$)/g, \"\"));\n    else if ( [\"true\", \"false\"].includes(valueLower) ) config[key] = valueLower === \"true\";\n    else if ( Number.isNumeric(value) ) config[key] = Number(value);\n    else config[key] = value.replace(/(^\"|\"$)/g, \"\");\n  }\n  return config;\n}\n\n/* -------------------------------------------- */\n/*  Award Enricher                              */\n/* -------------------------------------------- */\n\n/**\n * Enrich an award block displaying amounts for each part granted with a GM-control for awarding to the party.\n * @param {object} config              Configuration data.\n * @param {string} [label]             Optional label to replace default text.\n * @param {EnrichmentOptions} options  Options provided to customize text enrichment.\n * @returns {HTMLElement|null}         An HTML link if the check could be built, otherwise null.\n */\nasync function enrichAward(config, label, options) {\n  const command = config._config;\n  let parsed;\n  try {\n    parsed = Award.parseAwardCommand(command);\n  } catch(err) {\n    console.warn(err.message);\n    return null;\n  }\n\n  const block = document.createElement(\"span\");\n  block.classList.add(\"award-block\", \"dnd5e2\");\n  block.dataset.awardCommand = command;\n\n  const entries = [];\n  for ( let [key, amount] of Object.entries(parsed.currency) ) {\n    const label = CONFIG.DND5E.currencies[key].label;\n    amount = Number.isNumeric(amount) ? formatNumber(amount) : amount;\n    entries.push(`\n      <span class=\"award-entry\">\n        ${amount} <i class=\"currency ${key}\" data-tooltip=\"${label}\" aria-label=\"${label}\"></i>\n      </span>\n    `);\n  }\n  if ( parsed.xp ) entries.push(`\n    <span class=\"award-entry\">\n      ${formatNumber(parsed.xp)} ${game.i18n.localize(\"DND5E.ExperiencePointsAbbr\")}\n    </span>\n  `);\n\n  let award = game.i18n.getListFormatter({ type: \"unit\" }).format(entries);\n  if ( parsed.each ) award = game.i18n.format(\"EDITOR.DND5E.Inline.AwardEach\", { award });\n\n  block.innerHTML += `\n    ${award}\n    <a class=\"award-link\" data-action=\"awardRequest\">\n      <i class=\"fa-solid fa-trophy\"></i> ${label ?? game.i18n.localize(\"DND5E.Award.Action\")}\n    </a>\n  `;\n\n  return block;\n}\n\n/* -------------------------------------------- */\n/*  Check & Save Enrichers                      */\n/* -------------------------------------------- */\n\n/**\n * Enrich an ability check link to perform a specific ability or skill check. If an ability is provided\n * along with a skill, then the skill check will always use the provided ability. Otherwise it will use\n * the character's default ability for that skill.\n * @param {object} config              Configuration data.\n * @param {string} [label]             Optional label to replace default text.\n * @param {EnrichmentOptions} options  Options provided to customize text enrichment.\n * @returns {HTMLElement|null}         An HTML link if the check could be built, otherwise null.\n *\n * @example Create a dexterity check:\n * ```[[/check ability=dex]]```\n * becomes\n * ```html\n * <a class=\"roll-action\" data-type=\"check\" data-ability=\"dex\">\n *   <i class=\"fa-solid fa-dice-d20\"></i> Dexterity check\n * </a>\n * ```\n *\n * @example Create an acrobatics check with a DC and default ability:\n * ```[[/check skill=acr dc=20]]```\n * becomes\n * ```html\n * <a class=\"roll-action\" data-type=\"check\" data-skill=\"acr\" data-dc=\"20\">\n *   <i class=\"fa-solid fa-dice-d20\"></i> DC 20 Dexterity (Acrobatics) check\n * </a>\n * ```\n *\n * @example Create an acrobatics check using strength:\n * ```[[/check ability=str skill=acr]]```\n * becomes\n * ```html\n * <a class=\"roll-action\" data-type=\"check\" data-ability=\"str\" data-skill=\"acr\">\n *   <i class=\"fa-solid fa-dice-d20\"></i> Strength (Acrobatics) check\n * </a>\n * ```\n *\n * @example Create a tool check:\n * ```[[/check tool=thief ability=int]]```\n * becomes\n * ```html\n * <a class=\"roll-action\" data-type=\"check\" data-ability=\"int\" data-tool=\"thief\">\n *   <i class=\"fa-solid fa-dice-d20\"></i> Intelligence (Thieves' Tools) check\n * </a>\n * ```\n *\n * @example Formulas used for DCs will be resolved using data provided to the description (not the roller):\n * ```[[/check ability=cha dc=@abilities.int.dc]]```\n * becomes\n * ```html\n * <a class=\"roll-action\" data-type=\"check\" data-ability=\"cha\" data-dc=\"15\">\n *   <i class=\"fa-solid fa-dice-d20\"></i> DC 15 Charisma check\n * </a>\n * ```\n */\nasync function enrichCheck(config, label, options) {\n  for ( let value of config.values ) {\n    value = foundry.utils.getType(value) === \"string\" ? slugify(value) : value;\n    if ( value in CONFIG.DND5E.enrichmentLookup.abilities ) config.ability = value;\n    else if ( value in CONFIG.DND5E.enrichmentLookup.skills ) config.skill = value;\n    else if ( value in CONFIG.DND5E.enrichmentLookup.tools ) config.tool = value;\n    else if ( Number.isNumeric(value) ) config.dc = Number(value);\n    else config[value] = true;\n  }\n\n  let invalid = false;\n\n  const skillConfig = CONFIG.DND5E.enrichmentLookup.skills[slugify(config.skill)];\n  if ( config.skill && !skillConfig ) {\n    console.warn(`Skill ${config.skill} not found while enriching ${config._input}.`);\n    invalid = true;\n  } else if ( config.skill && !config.ability ) {\n    config.ability = skillConfig.ability;\n  }\n  if ( skillConfig?.key ) config.skill = skillConfig.key;\n\n  const toolUUID = CONFIG.DND5E.enrichmentLookup.tools[slugify(config.tool)];\n  const toolIndex = toolUUID ? Trait.getBaseItem(toolUUID, { indexOnly: true }) : null;\n  if ( config.tool && !toolIndex ) {\n    console.warn(`Tool ${config.tool} not found while enriching ${config._input}.`);\n    invalid = true;\n  }\n\n  let abilityConfig = CONFIG.DND5E.enrichmentLookup.abilities[slugify(config.ability)];\n  if ( config.ability && !abilityConfig ) {\n    console.warn(`Ability ${config.ability} not found while enriching ${config._input}.`);\n    invalid = true;\n  } else if ( !abilityConfig ) {\n    console.warn(`No ability provided while enriching check ${config._input}.`);\n    invalid = true;\n  }\n  if ( abilityConfig?.key ) config.ability = abilityConfig.key;\n\n  if ( config.dc && !Number.isNumeric(config.dc) ) config.dc = simplifyBonus(config.dc, options.rollData);\n\n  if ( invalid ) return null;\n\n  const type = config.skill ? \"skill\" : config.tool ? \"tool\" : \"check\";\n  config = { type, ...config };\n  if ( !label ) label = createRollLabel(config);\n  return config.passive ? createPassiveTag(label, config) : createRollLink(label, config);\n}\n\n/* -------------------------------------------- */\n\n/**\n * Enrich a saving throw link.\n * @param {object} config              Configuration data.\n * @param {string} [label]             Optional label to replace default text.\n * @param {EnrichmentOptions} options  Options provided to customize text enrichment.\n * @returns {HTMLElement|null}         An HTML link if the save could be built, otherwise null.\n *\n * @example Create a dexterity saving throw:\n * ```[[/save ability=dex]]```\n * becomes\n * ```html\n * <a class=\"roll-action\" data-type=\"save\" data-key=\"dex\">\n *   <i class=\"fa-solid fa-dice-d20\"></i> Dexterity\n * </a>\n * ```\n *\n * @example Add a DC to the save:\n * ```[[/save ability=dex dc=20]]```\n * becomes\n * ```html\n * <a class=\"roll-action\" data-type=\"save\" data-key=\"dex\" data-dc=\"20\">\n *   <i class=\"fa-solid fa-dice-d20\"></i> DC 20 Dexterity\n * </a>\n * ```\n *\n * @example Create a concentration check:\n * ```[[/concentration 10]]```\n * becomes\n * ```html\n * <a class=\"roll-action\" data-type=\"concentration\" data-dc=\"10\">\n *   <i class=\"fa-solid fa-dice-d20\"></i> DC 10 concentration\n * </a>\n * ```\n */\nasync function enrichSave(config, label, options) {\n  for ( const value of config.values ) {\n    if ( value in CONFIG.DND5E.enrichmentLookup.abilities ) config.ability = value;\n    else if ( Number.isNumeric(value) ) config.dc = Number(value);\n    else config[value] = true;\n  }\n\n  const abilityConfig = CONFIG.DND5E.enrichmentLookup.abilities[config.ability];\n  if ( !abilityConfig && !config._isConcentration ) {\n    console.warn(`Ability ${config.ability} not found while enriching ${config._input}.`);\n    return null;\n  }\n  if ( abilityConfig?.key ) config.ability = abilityConfig.key;\n\n  if ( config.dc && !Number.isNumeric(config.dc) ) config.dc = simplifyBonus(config.dc, options.rollData);\n\n  config = { type: config._isConcentration ? \"concentration\" : \"save\", ...config };\n  if ( !label ) label = createRollLabel(config);\n  return createRollLink(label, config);\n}\n\n/* -------------------------------------------- */\n/*  Damage Enricher                             */\n/* -------------------------------------------- */\n\n/**\n * Enrich a damage link.\n * @param {object} config              Configuration data.\n * @param {string} [label]             Optional label to replace default text.\n * @param {EnrichmentOptions} options  Options provided to customize text enrichment.\n * @returns {HTMLElement|null}         An HTML link if the save could be built, otherwise null.\n *\n * @example Create a damage link:\n * ```[[/damage 2d6 type=bludgeoning]]``\n * becomes\n * ```html\n * <a class=\"roll-action\" data-type=\"damage\" data-formula=\"2d6\" data-damage-type=\"bludgeoning\">\n *   <i class=\"fa-solid fa-dice-d20\"></i> 2d6\n * </a> bludgeoning\n * ````\n *\n * @example Display the average:\n * ```[[/damage 2d6 type=bludgeoning average=true]]``\n * becomes\n * ```html\n * 7 (<a class=\"roll-action\" data-type=\"damage\" data-formula=\"2d6\" data-damage-type=\"bludgeoning\">\n *   <i class=\"fa-solid fa-dice-d20\"></i> 2d6\n * </a>) bludgeoning\n * ````\n *\n * @example Manually set the average & don't prefix the type:\n * ```[[/damage 8d4dl force average=666]]``\n * becomes\n * ```html\n * 666 (<a class=\"roll-action\" data-type=\"damage\" data-formula=\"8d4dl\" data-damage-type=\"force\">\n *   <i class=\"fa-solid fa-dice-d20\"></i> 8d4dl\n * </a> force\n * ````\n *\n * @example Create a healing link:\n * ```[[/healing 2d6]]``` or ```[[/damage 2d6 healing]]```\n * becomes\n * ```html\n * <a class=\"roll-action\" data-type=\"damage\" data-formula=\"2d6\" data-damage-type=\"healing\">\n *   <i class=\"fa-solid fa-dice-d20\"></i> 2d6\n * </a> healing\n * ```\n */\nasync function enrichDamage(config, label, options) {\n  const formulaParts = [];\n  if ( config.formula ) formulaParts.push(config.formula);\n  for ( const value of config.values ) {\n    if ( value in CONFIG.DND5E.damageTypes ) config.type = value;\n    else if ( value in CONFIG.DND5E.healingTypes ) config.type = value;\n    else if ( value === \"average\" ) config.average = true;\n    else if ( value === \"temp\" ) config.type = \"temphp\";\n    else formulaParts.push(value);\n  }\n  config.formula = Roll.defaultImplementation.replaceFormulaData(formulaParts.join(\" \"), options.rollData ?? {});\n  if ( !config.formula ) return null;\n  config.damageType = config.type ?? (config._isHealing ? \"healing\" : null);\n  config.type = \"damage\";\n\n  if ( label ) return createRollLink(label, config);\n\n  const typeConfig = CONFIG.DND5E.damageTypes[config.damageType] ?? CONFIG.DND5E.healingTypes[config.damageType];\n  const localizationData = {\n    formula: createRollLink(config.formula, config).outerHTML,\n    type: game.i18n.localize(typeConfig?.label ?? \"\").toLowerCase()\n  };\n\n  let localizationType = \"Short\";\n  if ( config.average ) {\n    localizationType = \"Long\";\n    if ( config.average === true ) {\n      const minRoll = Roll.create(config.formula).evaluate({ minimize: true, async: true });\n      const maxRoll = Roll.create(config.formula).evaluate({ maximize: true, async: true });\n      localizationData.average = Math.floor(((await minRoll).total + (await maxRoll).total) / 2);\n    } else if ( Number.isNumeric(config.average) ) {\n      localizationData.average = config.average;\n    }\n  }\n\n  const span = document.createElement(\"span\");\n  span.innerHTML = game.i18n.format(`EDITOR.DND5E.Inline.Damage${localizationType}`, localizationData);\n  return span;\n}\n\n/* -------------------------------------------- */\n/*  Embed Enrichers                             */\n/* -------------------------------------------- */\n\nconst MAX_EMBED_DEPTH = 5;\n\n/* -------------------------------------------- */\n\n/**\n * Parse the enriched embed and provide the appropriate content.\n * @param {object} config              Configuration data.\n * @param {string} [label]             Optional label to replace default caption/text.\n * @param {EnrichmentOptions} options  Options provided to customize text enrichment.\n * @returns {HTMLElement|null}         An HTML link if the check could be built, otherwise null.\n */\nasync function enrichEmbed(config, label, options) {\n  options._embedDepth ??= 0;\n  if ( options._embedDepth > MAX_EMBED_DEPTH ) {\n    console.warn(\n      `Embed enrichers are restricted to ${MAX_EMBED_DEPTH} levels deep. ${config._input} cannot be enriched fully.`\n    );\n    return null;\n  }\n\n  for ( const value of config.values ) {\n    if ( config.uuid ) break;\n    try {\n      const parsed = foundry.utils.parseUuid(value);\n      if ( parsed.documentId ) config.uuid = value;\n    } catch(err) {}\n  }\n\n  config.doc = await fromUuid(config.uuid, { relative: options.relativeTo });\n  if ( config.doc instanceof JournalEntryPage ) {\n    switch ( config.doc.type ) {\n      case \"image\": return embedImagePage(config, label, options);\n      case \"text\":\n      case \"map\":\n      case \"rule\": return embedTextPage(config, label, options);\n      case \"spells\": return embedSpellList(config, label, options);\n    }\n  }\n  else if ( config.doc instanceof RollTable ) return embedRollTable(config, label, options);\n  else if ( (config.doc instanceof Actor) || (config.doc instanceof Item) ) {\n    return embedDocument(config, label, options);\n  }\n  return null;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Embed an Actor or Item document with a description.\n * @param {object} config              Configuration data.\n * @param {string} [label]             Optional label to replace the default caption.\n * @param {EnrichmentOptions} options  Options provided to customize text enrichment.\n * @returns {HTMLElement|null}         An HTML figure containing the image, caption from the image page or a custom\n *                                     caption, and a link to the source if it could be built, otherwise null.\n */\nasync function embedDocument(config, label, options) {\n  options = { ...options, _embedDepth: options._embedDepth + 1, relativeTo: config.doc };\n  config.inline ??= config.values.includes(\"inline\");\n\n  const keyPath = (config.doc instanceof Actor) ? \"system.details.biography.value\"\n    : game.user.isGM || (config.doc.system.identified !== false)\n      ? \"system.description.value\"\n      : \"system.unidentified.description\";\n  const description = foundry.utils.getProperty(config.doc, keyPath);\n  if ( description === undefined ) return null;\n\n  const enriched = await TextEditor.enrichHTML(description, options);\n  return wrapEmbeddedText(enriched, config, label, options);\n}\n\n/* -------------------------------------------- */\n\n/**\n * Embed an image page.\n * @param {object} config              Configuration data.\n * @param {string} [label]             Optional label to replace the default caption.\n * @param {EnrichmentOptions} options  Options provided to customize text enrichment.\n * @returns {HTMLElement|null}         An HTML figure containing the image, caption from the image page or a custom\n *                                     caption, and a link to the source if it could be built, otherwise null.\n *\n * @example Create an embedded image from the UUID of an Image Journal Entry Page:\n * ```@Embed[uuid=.QnH8yGIHy4pmFBHR classes=\"small right\"]{A caption for the image}```\n * becomes\n * ```html\n * <figure class=\"small right content-embed\">\n *   <img src=\"assets/image.png\" alt=\"A caption for the image\">\n *   <figcaption>\n *     <strong class=\"embed-caption\">A caption for the image</strong>\n *     <cite>\n *       <a class=\"content-link\" draggable=\"true\"\n *          data-uuid=\"JournalEntry.xFNPjbSEDbWjILNj.JournalEntryPage.QnH8yGIHy4pmFBHR\"\n *          data-id=\"QnH8yGIHy4pmFBHR\" data-type=\"JournalEntryPage\" data-tooltip=\"Image Page\">\n *         <i class=\"fas fa-file-image\"></i> Image Page\n *       </a>\n *     </cite>\n *   </figcaption>\n * </figure>\n * ```\n */\nfunction embedImagePage(config, label, options) {\n  const showCaption = config.caption !== false;\n  const showCite = config.cite !== false;\n  const caption = label || config.doc.image.caption || config.doc.name;\n\n  const figure = document.createElement(\"figure\");\n  if ( config.classes ) figure.className = config.classes;\n  figure.classList.add(\"content-embed\");\n  figure.innerHTML = `<img src=\"${config.doc.src}\" alt=\"${config.alt || caption}\">`;\n\n  if ( showCaption || showCite ) {\n    const figcaption = document.createElement(\"figcaption\");\n    if ( showCaption ) figcaption.innerHTML += `<strong class=\"embed-caption\">${caption}</strong>`;\n    if ( showCite ) {\n      const citeLink = config.doc.toAnchor();\n      if ( game.release.generation < 12 ) citeLink.setAttribute(\"draggable\", true);\n      figcaption.innerHTML += `<cite>${citeLink.outerHTML}</cite>`;\n    }\n    figure.insertAdjacentElement(\"beforeend\", figcaption);\n  }\n  return figure;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Embed a text page.\n * @param {object} config              Configuration data.\n * @param {string} [label]             Optional label to replace default text.\n * @param {EnrichmentOptions} options  Options provided to customize text enrichment.\n * @returns {HTMLElement|null}         An HTML element containing the content from the given page and a link to the\n *                                     source if it could be built, otherwise null.\n *\n * @example Embed the content of the Journal Entry Page with the given UUID:\n * ```@Embed[uuid=JournalEntry.xFNPjbSEDbWjILNj.JournalEntryPage.QnH8yGIHy4pmFBHR classes=\"small right\"]```\n * becomes\n * ```html\n * <figure class=\"small right content-embed\">\n *   <p>The contents of the page</p>\n *   <figcaption>\n *     <strong class=\"embed-caption\">A caption for the text</strong>\n *     <cite>\n *       <a class=\"content-link\" draggable=\"true\"\n *          data-uuid=\"JournalEntry.ekAeXsvXvNL8rKFZ.JournalEntryPage.yDbDF1ThSfeinh3Y\"\n *          data-id=\"yDbDF1ThSfeinh3Y\" data-type=\"JournalEntryPage\" data-tooltip=\"Text Page\">\n *         <i class=\"fas fa-file-lines\"></i> Text Page\n *       </a>\n *     </cite>\n *   <figcaption>\n * </figure>\n * ```\n */\nasync function embedTextPage(config, label, options) {\n  options = { ...options, _embedDepth: options._embedDepth + 1, relativeTo: config.doc };\n  config.inline ??= config.values.includes(\"inline\");\n\n  const enrichedPage = await TextEditor.enrichHTML(config.doc.text.content, options);\n  return wrapEmbeddedText(enrichedPage, config, label, options);\n}\n\n/* -------------------------------------------- */\n\n/**\n * Embed a roll table.\n * @param {object} config              Configuration data.\n * @param {string} label               Optional label to use as the table caption.\n * @param {EnrichmentOptions} options  Options provided to customize text enrichment.\n * @returns {Promise<HTMLElement|null>}\n */\nasync function embedRollTable(config, label, options) {\n  options = { ...options, _embedDepth: options._embedDepth + 1, relativeTo: config.doc };\n  config.inline ??= config.values.includes(\"inline\");\n  const results = config.doc.results.toObject();\n  results.sort((a, b) => a.range[0] - b.range[0]);\n  const table = document.createElement(\"table\");\n  table.classList.add(\"roll-table-embed\");\n  table.innerHTML = `\n    <thead>\n      <tr>\n        <th>${game.i18n.localize(\"TABLE.Roll\")}</th>\n        <th>${game.i18n.localize(\"Result\")}</th>\n      </tr>\n    </thead>\n    <tbody></tbody>\n  `;\n\n  const getDocAnchor = (doc, resultData) => {\n    if ( doc ) return doc.toAnchor().outerHTML;\n\n    // No doc found, create a broken anchor.\n    return `<a class=\"content-link broken\"><i class=\"fas fa-unlink\"></i>${resultData.text || game.i18n.localize(\"Unknown\")}</a>`;\n  };\n\n  const tbody = table.querySelector(\"tbody\");\n  for ( const data of results ) {\n    const { range, type, text, documentCollection, documentId } = data;\n    const row = document.createElement(\"tr\");\n    const [lo, hi] = range;\n    row.innerHTML += `<td>${lo === hi ? lo : `${lo}&mdash;${hi}`}</td>`;\n    let result;\n    switch ( type ) {\n      case CONST.TABLE_RESULT_TYPES.TEXT: result = await TextEditor.enrichHTML(text, options); break;\n      case CONST.TABLE_RESULT_TYPES.DOCUMENT: {\n        const doc = CONFIG[documentCollection]?.collection.instance?.get(documentId);\n        result = getDocAnchor(doc, data);\n        break;\n      }\n      case CONST.TABLE_RESULT_TYPES.COMPENDIUM: {\n        const doc = await game.packs.get(documentCollection)?.getDocument(documentId);\n        result = getDocAnchor(doc, data);\n        break;\n      }\n    }\n\n    row.innerHTML += `<td>${result}</td>`;\n    tbody.append(row);\n  }\n\n  if ( config.inline ) {\n    const section = document.createElement(\"section\");\n    if ( config.classes ) section.className = config.classes;\n    section.classList.add(\"content-embed\");\n    section.append(table);\n    return section;\n  }\n\n  const showCaption = config.caption !== false;\n  const showCite = config.cite !== false;\n  const figure = document.createElement(\"figure\");\n  figure.append(table);\n  if ( config.classes ) figure.className = config.classes;\n  figure.classList.add(\"content-embed\");\n  if ( showCaption || showCite ) {\n    const figcaption = document.createElement(\"figcaption\");\n    if ( showCaption ) {\n      if ( label ) figcaption.innerHTML += `<strong class=\"embed-caption\">${label}</strong>`;\n      else {\n        const description = await TextEditor.enrichHTML(config.doc.description, options);\n        const container = document.createElement(\"div\");\n        container.innerHTML = description;\n        container.classList.add(\"embed-caption\");\n        figcaption.append(container);\n      }\n    }\n    if ( showCite ) figcaption.innerHTML += `<cite>${config.doc.toAnchor().outerHTML}</cite>`;\n    figure.append(figcaption);\n  }\n  return figure;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Embed a spell list.\n * @param {object} config              Configuration data.\n * @param {string} label               Optional label to use as the table caption.\n * @param {EnrichmentOptions} options  Options provided to customize text enrichment.\n * @returns {Promise<HTMLElement|null>}\n */\nasync function embedSpellList(config, label, options) {\n  for ( const value of config.values ) {\n    if ( value === \"table\" ) config.table = true;\n    else if ( value in JournalSpellListPageSheet.GROUPING_MODES ) config.grouping = value;\n  }\n  if ( config.table ) config.grouping = \"level\";\n\n  const sheet = new JournalSpellListPageSheet(config.doc, {\n    editable: false, displayAsTable: config.table, embedRendering: true, grouping: config.grouping\n  });\n  const rendered = await sheet._renderInner(await sheet.getData());\n  config.classes = `spells ${config.classes ?? \"\"}`;\n  return wrapEmbeddedText(rendered[0].innerHTML, config, label, options);\n}\n\n/* -------------------------------------------- */\n\n/**\n * Wrap embeds in containing elements.\n * @param {string} enriched            Enriched text content to include.\n * @param {object} config              Configuration data.\n * @param {string} label               Optional label to replace the default caption.\n * @param {EnrichmentOptions} options  Options provided to customize text enrichment.\n * @returns {Promise<HTMLElement>}\n */\nfunction wrapEmbeddedText(enriched, config, label, options) {\n  if ( config.inline ) {\n    const section = document.createElement(\"section\");\n    if ( config.classes ) section.className = config.classes;\n    section.classList.add(\"content-embed\");\n    section.innerHTML = enriched;\n    return section;\n  }\n\n  const showCaption = config.caption !== false;\n  const showCite = config.cite !== false;\n  const caption = label || config.doc.name;\n  const figure = document.createElement(\"figure\");\n  figure.innerHTML = enriched;\n\n  if ( config.classes ) figure.className = config.classes;\n  figure.classList.add(\"content-embed\");\n  if ( showCaption || showCite ) {\n    const figcaption = document.createElement(\"figcaption\");\n    if ( showCaption ) figcaption.innerHTML += `<strong class=\"embed-caption\">${caption}</strong>`;\n    if ( showCite ) {\n      const citeLink = config.doc.toAnchor();\n      if ( game.release.generation < 12 ) citeLink.setAttribute(\"draggable\", true);\n      figcaption.innerHTML += `<cite>${citeLink.outerHTML}</cite>`;\n    }\n    figure.insertAdjacentElement(\"beforeend\", figcaption);\n  }\n\n  return figure;\n}\n\n/* -------------------------------------------- */\n/*  Lookup Enricher                             */\n/* -------------------------------------------- */\n\n/**\n * Enrich a property lookup.\n * @param {object} config              Configuration data.\n * @param {string} [fallback]          Optional fallback if the value couldn't be found.\n * @param {EnrichmentOptions} options  Options provided to customize text enrichment.\n * @returns {HTMLElement|null}         An HTML element if the lookup could be built, otherwise null.\n *\n * @example Include a creature's name in its description:\n * ```[[lookup @name]]``\n * becomes\n * ```html\n * <span class=\"lookup-value\">Adult Black Dragon</span>\n * ```\n */\nfunction enrichLookup(config, fallback, options) {\n  let keyPath = config.path;\n  let style = config.style;\n  for ( const value of config.values ) {\n    if ( value === \"capitalize\" ) style ??= \"capitalize\";\n    else if ( value === \"lowercase\" ) style ??= \"lowercase\";\n    else if ( value === \"uppercase\" ) style ??= \"uppercase\";\n    else if ( value.startsWith(\"@\") ) keyPath ??= value;\n  }\n\n  if ( !keyPath ) {\n    console.warn(`Lookup path must be defined to enrich ${config._input}.`);\n    return null;\n  }\n\n  const data = options.relativeTo?.getRollData();\n  let value = foundry.utils.getProperty(data, keyPath.substring(1)) ?? fallback;\n  if ( value && style ) {\n    if ( style === \"capitalize\" ) value = value.capitalize();\n    else if ( style === \"lowercase\" ) value = value.toLowerCase();\n    else if ( style === \"uppercase\" ) value = value.toUpperCase();\n  }\n\n  const span = document.createElement(\"span\");\n  span.classList.add(\"lookup-value\");\n  if ( !value ) span.classList.add(\"not-found\");\n  span.innerText = value ?? keyPath;\n  return span;\n}\n\n/* -------------------------------------------- */\n/*  Reference Enricher                          */\n/* -------------------------------------------- */\n\n/**\n * Enrich a reference link.\n * @param {object} config              Configuration data.\n * @param {string} [label]             Optional label to replace default text.\n * @param {EnrichmentOptions} options  Options provided to customize text enrichment.\n * @returns {HTMLElement|null}         An HTML link to the Journal Entry Page for the given reference.\n *\n * @example Create a content link to the relevant reference:\n * ```&Reference[condition=unconscious]{Label}```\n * becomes\n * ```html\n * <span class=\"reference-link\">\n *   <a class=\"content-link\" draggable=\"true\"\n *      data-uuid=\"Compendium.dnd5e.rules.JournalEntry.w7eitkpD7QQTB6j0.JournalEntryPage.UWw13ISmMxDzmwbd\"\n *      data-type=\"JournalEntryPage\" data-tooltip=\"Text Page\">\n *     <i class=\"fas fa-book-open\"></i> Label\n *   </a>\n *   <a class=\"enricher-action\" data-action=\"apply\" data-status=\"unconscious\"\n *      data-tooltip=\"EDITOR.DND5E.Inline.ApplyStatus\" aria-label=\"Apply Status to Selected Tokens\">\n *     <i class=\"fas fa-fw fa-reply-all fa-flip-horizontal\"></i>\n *   </a>\n * </span>\n * ```\n */\nasync function enrichReference(config, label, options) {\n  let key;\n  let source;\n  let isCondition = \"condition\" in config;\n  const type = Object.keys(config).find(k => k in CONFIG.DND5E.ruleTypes);\n  if ( type ) {\n    key = slugify(config[type]);\n    source = foundry.utils.getProperty(CONFIG.DND5E, CONFIG.DND5E.ruleTypes[type].references)?.[key];\n  } else if ( config.values.length ) {\n    key = slugify(config.values.join(\"\"));\n    for ( const [type, { references }] of Object.entries(CONFIG.DND5E.ruleTypes) ) {\n      source = foundry.utils.getProperty(CONFIG.DND5E, references)[key];\n      if ( source ) {\n        if ( type === \"condition\" ) isCondition = true;\n        break;\n      }\n    }\n  }\n  if ( !source ) {\n    console.warn(`No valid rule found while enriching ${config._input}.`);\n    return null;\n  }\n  const uuid = foundry.utils.getType(source) === \"Object\" ? source.reference : source;\n  if ( !uuid ) return null;\n  const doc = await fromUuid(uuid);\n  const span = document.createElement(\"span\");\n  span.classList.add(\"reference-link\");\n  span.append(doc.toAnchor({ name: label || doc.name }));\n  if ( isCondition && (config.apply !== false) ) {\n    const apply = document.createElement(\"a\");\n    apply.classList.add(\"enricher-action\");\n    apply.dataset.action = \"apply\";\n    apply.dataset.status = key;\n    apply.dataset.tooltip = \"EDITOR.DND5E.Inline.ApplyStatus\";\n    apply.setAttribute(\"aria-label\", game.i18n.localize(apply.dataset.tooltip));\n    apply.innerHTML = '<i class=\"fas fa-fw fa-reply-all fa-flip-horizontal\"></i>';\n    span.append(apply);\n  }\n  return span;\n}\n\n/* -------------------------------------------- */\n/*  Helpers                                     */\n/* -------------------------------------------- */\n\n/**\n * Enrich an item use link to roll an item on the selected token.\n * @param {string[]} config              Configuration data.\n * @param {string} [label]               Optional label to replace default text.\n * @param {EnrichmentOptions} options  Options provided to customize text enrichment.\n * @returns {Promise<HTMLElement|null>}  An HTML link if the item link could be built, otherwise null.\n *\n * @example Use an item from a Name:\n * ```[[/item Heavy Crossbow]]```\n * becomes\n * ```html\n * <a class=\"roll-action\" data-type=\"item\" data-roll-item-name=\"Heavy Crossbow\">\n *   <i class=\"fa-solid fa-dice-d20\"></i> Heavy Crossbow\n * </a>\n * ```\n *\n * @example Use an Item from a UUID:\n * ```[[/item Actor.M4eX4Mu5IHCr3TMf.Item.amUUCouL69OK1GZU]]```\n * becomes\n * ```html\n * <a class=\"roll-action\" data-type=\"item\" data-roll-item-uuid=\"Actor.M4eX4Mu5IHCr3TMf.Item.amUUCouL69OK1GZU\">\n *   <i class=\"fa-solid fa-dice-d20\"></i> Bite\n * </a>\n * ```\n *\n * @example Use an Item from an ID:\n * ```[[/item amUUCouL69OK1GZU]]```\n * becomes\n * ```html\n * <a class=\"roll-action\" data-type=\"item\" data-roll-item-uuid=\"Actor.M4eX4Mu5IHCr3TMf.Item.amUUCouL69OK1GZU\">\n *   <i class=\"fa-solid fa-dice-d20\"></i> Bite\n * </a>\n * ```\n */\nasync function enrichItem(config, label, options) {\n  const givenItem = config.values.join(\" \");\n  // If config is a UUID\n  const itemUuidMatch = givenItem.match(\n    /^(?<synthid>Scene\\.\\w{16}\\.Token\\.\\w{16}\\.)?(?<actorid>Actor\\.\\w{16})(?<itemid>\\.?Item(?<relativeId>\\.\\w{16}))$/\n  );\n  if ( itemUuidMatch ) {\n    const ownerActor = itemUuidMatch.groups.actorid.trim();\n    if ( !label ) {\n      const item = await fromUuid(givenItem);\n      if ( !item ) {\n        console.warn(`Item not found while enriching ${givenItem}.`);\n        return null;\n      }\n      label = item.name;\n    }\n    return createRollLink(label, { type: \"item\", rollItemActor: ownerActor, rollItemUuid: givenItem });\n  }\n\n  let foundItem;\n  const foundActor = options.relativeTo instanceof Item\n    ? options.relativeTo.parent\n    : options.relativeTo instanceof Actor ? options.relativeTo : null;\n\n  // If config is an Item ID\n  if ( /^\\w{16}$/.test(givenItem) && foundActor ) foundItem = foundActor.items.get(givenItem);\n\n  // If config is a relative UUID\n  if ( givenItem.startsWith(\".\") ) {\n    try {\n      foundItem = await fromUuid(givenItem, { relative: options.relativeTo });\n    } catch { return null; }\n  }\n\n  if ( foundItem ) {\n    if ( !label ) label = foundItem.name;\n    return createRollLink(label, { type: \"item\", rollItemUuid: foundItem.uuid });\n  }\n\n  // Finally, if config is an item name\n  if ( !label ) label = givenItem;\n  return createRollLink(label, { type: \"item\", rollItemActor: foundActor?.uuid, rollItemName: givenItem });\n}\n\n/* -------------------------------------------- */\n\n/**\n * Add a dataset object to the provided element.\n * @param {HTMLElement} element  Element to modify.\n * @param {object} dataset       Data properties to add.\n * @private\n */\nfunction _addDataset(element, dataset) {\n  for ( const [key, value] of Object.entries(dataset) ) {\n    if ( !key.startsWith(\"_\") && (key !== \"values\") && value ) element.dataset[key] = value;\n  }\n}\n\n/* -------------------------------------------- */\n\n/**\n * Create a passive skill tag.\n * @param {string} label    Label to display.\n * @param {object} dataset  Data that will be added to the tag.\n * @returns {HTMLElement}\n */\nfunction createPassiveTag(label, dataset) {\n  const span = document.createElement(\"span\");\n  span.classList.add(\"passive-check\");\n  _addDataset(span, {\n    ...dataset,\n    tooltip: `\n      <section class=\"loading\" data-passive><i class=\"fas fa-spinner fa-spin-pulse\"></i></section>\n    `\n  });\n  span.innerText = label;\n  return span;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Create a label for a roll message.\n * @param {object} config  Configuration data.\n * @returns {string}\n */\nexport function createRollLabel(config) {\n  const { label: ability, abbreviation } = CONFIG.DND5E.abilities[config.ability] ?? {};\n  const skill = CONFIG.DND5E.skills[config.skill]?.label;\n  const toolUUID = CONFIG.DND5E.enrichmentLookup.tools[config.tool];\n  const tool = toolUUID ? Trait.getBaseItem(toolUUID, { indexOnly: true })?.name : null;\n  const longSuffix = config.format === \"long\" ? \"Long\" : \"Short\";\n  const showDC = config.dc && !config.hideDC;\n\n  let label;\n  switch ( config.type ) {\n    case \"check\":\n    case \"skill\":\n    case \"tool\":\n      if ( ability && (skill || tool) ) {\n        label = game.i18n.format(\"EDITOR.DND5E.Inline.SpecificCheck\", { ability, type: skill ?? tool });\n      } else {\n        label = ability;\n      }\n      if ( config.passive ) {\n        label = game.i18n.format(`EDITOR.DND5E.Inline.DCPassive${longSuffix}`, { dc: config.dc, check: label });\n      } else {\n        if ( showDC ) label = game.i18n.format(\"EDITOR.DND5E.Inline.DC\", { dc: config.dc, check: label });\n        label = game.i18n.format(`EDITOR.DND5E.Inline.Check${longSuffix}`, { check: label });\n      }\n      break;\n    case \"concentration\":\n    case \"save\":\n      if ( config.type === \"save\" ) label = ability;\n      else label = `${game.i18n.localize(\"DND5E.Concentration\")} ${ability ? `(${abbreviation})` : \"\"}`;\n      if ( showDC ) label = game.i18n.format(\"EDITOR.DND5E.Inline.DC\", { dc: config.dc, check: label });\n      label = game.i18n.format(`EDITOR.DND5E.Inline.Save${longSuffix}`, { save: label });\n      break;\n    default:\n      return \"\";\n  }\n\n  if ( config.icon ) {\n    switch ( config.type ) {\n      case \"check\":\n      case \"skill\":\n        label = `<i class=\"dnd5e-icon\" data-src=\"systems/dnd5e/icons/svg/ability-score-improvement.svg\"></i>${label}`;\n        break;\n      case \"tool\":\n        label = `<i class=\"fas fa-hammer\"></i>${label}`;\n        break;\n      case \"concentration\":\n      case \"save\":\n        label = `<i class=\"fas fa-shield-heart\"></i>${label}`;\n        break;\n    }\n  }\n\n  return label;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Create a rollable link.\n * @param {string} label    Label to display.\n * @param {object} dataset  Data that will be added to the link for the rolling method.\n * @returns {HTMLElement}\n */\nfunction createRollLink(label, dataset) {\n  const span = document.createElement(\"span\");\n  span.classList.add(\"roll-link\");\n  _addDataset(span, dataset);\n\n  // Add main link\n  const link = document.createElement(\"a\");\n  link.dataset.action = \"roll\";\n  link.innerHTML = `<i class=\"fa-solid fa-dice-d20\"></i>${label}`;\n  span.insertAdjacentElement(\"afterbegin\", link);\n\n  // Add chat request link for GMs\n  if ( game.user.isGM && (dataset.type !== \"damage\") && (dataset.type !== \"item\") ) {\n    const gmLink = document.createElement(\"a\");\n    gmLink.classList.add(\"enricher-action\");\n    gmLink.dataset.action = \"request\";\n    gmLink.dataset.tooltip = \"EDITOR.DND5E.Inline.RequestRoll\";\n    gmLink.setAttribute(\"aria-label\", game.i18n.localize(gmLink.dataset.tooltip));\n    gmLink.innerHTML = '<i class=\"fa-solid fa-comment-dots\"></i>';\n    span.insertAdjacentElement(\"beforeend\", gmLink);\n  }\n\n  return span;\n}\n\n/* -------------------------------------------- */\n/*  Actions                                     */\n/* -------------------------------------------- */\n\n/**\n * Toggle status effects on selected tokens.\n * @param {PointerEvent} event  The triggering event.\n * @returns {Promise<void>}\n */\nasync function applyAction(event) {\n  const target = event.target.closest('[data-action=\"apply\"][data-status]');\n  const status = target?.dataset.status;\n  const effect = CONFIG.statusEffects.find(e => e.id === status);\n  if ( !effect ) return;\n  event.stopPropagation();\n  for ( const token of canvas.tokens.controlled ) await token.toggleEffect(effect);\n}\n\n/* -------------------------------------------- */\n\n/**\n * Forward clicks on award requests to the Award application.\n * @param {Event} event  The click event triggering the action.\n * @returns {Promise<void>}\n */\nasync function awardAction(event) {\n  const target = event.target.closest('[data-action=\"awardRequest\"]');\n  const command = target?.closest(\"[data-award-command]\")?.dataset.awardCommand;\n  if ( !command ) return;\n  event.stopPropagation();\n  Award.handleAward(command);\n}\n\n/* -------------------------------------------- */\n\n/**\n * Perform the provided roll action.\n * @param {Event} event  The click event triggering the action.\n * @returns {Promise}\n */\nasync function rollAction(event) {\n  const target = event.target.closest('.roll-link, [data-action=\"rollRequest\"], [data-action=\"concentration\"]');\n  if ( !target ) return;\n  event.stopPropagation();\n\n  const { type, ability, skill, tool, dc } = target.dataset;\n  const options = { event };\n  if ( dc ) options.targetValue = dc;\n\n  const action = event.target.closest(\"a\")?.dataset.action ?? \"roll\";\n\n  // Direct roll\n  if ( (action === \"roll\") || !game.user.isGM ) {\n    target.disabled = true;\n    try {\n      switch ( type ) {\n        case \"damage\": return await rollDamage(event);\n        case \"item\": return await useItem(target.dataset);\n      }\n\n      const tokens = getSceneTargets();\n      if ( !tokens.length ) {\n        ui.notifications.warn(\"EDITOR.DND5E.Inline.Warning.NoActor\", { localize: true });\n        return;\n      }\n\n      for ( const token of tokens ) {\n        const actor = token.actor;\n        switch ( type ) {\n          case \"check\":\n            await actor.rollAbilityTest(ability, options);\n            break;\n          case \"concentration\":\n            if ( ability in CONFIG.DND5E.abilities ) options.ability = ability;\n            await actor.rollConcentration(options);\n            break;\n          case \"save\":\n            await actor.rollAbilitySave(ability, options);\n            break;\n          case \"skill\":\n            if ( ability ) options.ability = ability;\n            await actor.rollSkill(skill, options);\n            break;\n          case \"tool\":\n            options.ability = ability;\n            await actor.rollToolCheck(tool, options);\n            break;\n        }\n      }\n    } finally {\n      target.disabled = false;\n    }\n  }\n\n  // Roll request\n  else {\n    const MessageClass = getDocumentClass(\"ChatMessage\");\n    const chatData = {\n      user: game.user.id,\n      content: await renderTemplate(\"systems/dnd5e/templates/chat/request-card.hbs\", {\n        buttonLabel: createRollLabel({ ...target.dataset, format: \"short\", icon: true }),\n        hiddenLabel: createRollLabel({ ...target.dataset, format: \"short\", icon: true, hideDC: true }),\n        dataset: { ...target.dataset, action: \"rollRequest\" }\n      }),\n      flavor: game.i18n.localize(\"EDITOR.DND5E.Inline.RollRequest\"),\n      speaker: MessageClass.getSpeaker({user: game.user})\n    };\n    // TODO: Remove when v11 support is dropped.\n    if ( game.release.generation < 12 ) chatData.type = CONST.CHAT_MESSAGE_TYPES.OTHER;\n    return MessageClass.create(chatData);\n  }\n}\n\n/* -------------------------------------------- */\n\n/**\n * Perform a damage roll.\n * @param {Event} event  The click event triggering the action.\n * @returns {Promise<void>}\n */\nasync function rollDamage(event) {\n  const target = event.target.closest(\".roll-link\");\n  const { formula, damageType } = target.dataset;\n\n  const isHealing = damageType in CONFIG.DND5E.healingTypes;\n  const title = game.i18n.localize(`DND5E.${isHealing ? \"Healing\" : \"Damage\"}Roll`);\n  const rollConfig = {\n    rollConfigs: [{\n      parts: [formula],\n      type: damageType\n    }],\n    flavor: title,\n    event,\n    title,\n    messageData: {\n      \"flags.dnd5e\": {\n        targets: Item5e._formatAttackTargets(),\n        roll: {type: \"damage\"}\n      },\n      speaker: ChatMessage.implementation.getSpeaker()\n    }\n  };\n\n  if ( Hooks.call(\"dnd5e.preRollDamage\", undefined, rollConfig) === false ) return;\n  const roll = await damageRoll(rollConfig);\n  if ( roll ) Hooks.callAll(\"dnd5e.rollDamage\", undefined, roll);\n}\n\n/* -------------------------------------------- */\n\n/**\n * Use an Item from an Item enricher.\n * @param {object} [options]\n * @param {string} [options.rollItemUuid]   Lookup the Item by UUID.\n * @param {string} [options.rollItemName]   Lookup the Item by name.\n * @param {string} [options.rollItemActor]  The UUID of a specific Actor that should use the Item.\n * @returns {Promise}\n */\nasync function useItem({ rollItemUuid, rollItemName, rollItemActor }={}) {\n  // If UUID is provided, always roll that item directly\n  if ( rollItemUuid ) return (await fromUuid(rollItemUuid))?.use();\n\n  if ( !rollItemName ) return;\n  const actor = rollItemActor ? await fromUuid(rollItemActor) : null;\n\n  // If no actor is specified or player isn't owner, fall back to the macro rolling logic\n  if ( !actor?.isOwner ) return rollItem(rollItemName);\n  const token = canvas.tokens.controlled[0];\n\n  // If a token is controlled, and it has an item with the correct name, activate it\n  let item = token?.actor.items.getName(rollItemName);\n\n  // Otherwise check the specified actor for the item\n  if ( !item ) {\n    item = actor.items.getName(rollItemName);\n\n    // Display a warning to indicate the item wasn't rolled from the controlled actor\n    if ( item && canvas.tokens.controlled.length ) ui.notifications.warn(\n      game.i18n.format(\"MACRO.5eMissingTargetWarn\", {\n        actor: token.name, name: rollItemName, type: game.i18n.localize(\"DOCUMENT.Item\")\n      })\n    );\n  }\n\n  if ( item ) return item.use();\n\n  // If no item could be found at all, display a warning\n  ui.notifications.warn(game.i18n.format(\"EDITOR.DND5E.Inline.Warning.NoItemOnActor\", {\n    actor: actor.name, name: rollItemName, type: game.i18n.localize(\"DOCUMENT.Item\")\n  }));\n}\n","import { FormulaField } from \"../data/fields.mjs\";\nimport { EnchantmentData } from \"../data/item/fields/enchantment-field.mjs\";\nimport { staticID } from \"../utils.mjs\";\n\n/**\n * Extend the base ActiveEffect class to implement system-specific logic.\n */\nexport default class ActiveEffect5e extends ActiveEffect {\n  /**\n   * Static ActiveEffect ID for various conditions.\n   * @type {Record<string, string>}\n   */\n  static ID = {\n    ENCUMBERED: staticID(\"dnd5eencumbered\"),\n    EXHAUSTION: staticID(\"dnd5eexhaustion\")\n  };\n\n  /* -------------------------------------------- */\n\n  /**\n   * Additional key paths to properties added during base data preparation that should be treated as formula fields.\n   * @type {Set<string>}\n   */\n  static FORMULA_FIELDS = new Set([\n    \"system.attributes.ac.bonus\",\n    \"system.attributes.encumbrance.bonuses.encumbered\",\n    \"system.attributes.encumbrance.bonuses.heavilyEncumbered\",\n    \"system.attributes.encumbrance.bonuses.maximum\",\n    \"system.attributes.encumbrance.bonuses.overall\",\n    \"system.attributes.encumbrance.multipliers.encumbered\",\n    \"system.attributes.encumbrance.multipliers.heavilyEncumbered\",\n    \"system.attributes.encumbrance.multipliers.maximum\",\n    \"system.attributes.encumbrance.multipliers.overall\"\n  ]);\n\n  /* -------------------------------------------- */\n\n  /**\n   * Is this effect an enchantment on an item that accepts enchantment?\n   * @type {boolean}\n   */\n  get isAppliedEnchantment() {\n    return (this.getFlag(\"dnd5e\", \"type\") === \"enchantment\")\n      && !!this.origin && (this.origin !== this.parent.uuid);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Is this active effect currently suppressed?\n   * @type {boolean}\n   */\n  isSuppressed = false;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Retrieve the source Actor or Item, or null if it could not be determined.\n   * @returns {Promise<Actor5e|Item5e|null>}\n   */\n  async getSource() {\n    if ( (this.target instanceof dnd5e.documents.Actor5e) && (this.parent instanceof dnd5e.documents.Item5e) ) {\n      return this.parent;\n    }\n    return fromUuid(this.origin);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create an ActiveEffect instance from some status effect ID.\n   * Delegates to {@link ActiveEffect._fromStatusEffect} to create the ActiveEffect instance\n   * after creating the ActiveEffect data from the status effect data if `CONFIG.statusEffects`.\n   * @param {string} statusId                             The status effect ID.\n   * @param {DocumentModificationContext} [options={}]    Additional options to pass to ActiveEffect instantiation.\n   * @returns {Promise<ActiveEffect>}                     The created ActiveEffect instance.\n   * @throws    An error if there's not status effect in `CONFIG.statusEffects` with the given status ID,\n   *            and if the status has implicit statuses but doesn't have a static _id.\n   */\n  static async fromStatusEffect(statusId, options={}) {\n    // TODO: This function has been copy & pasted from V12. Remove it once V11 support is dropped.\n\n    const status = CONFIG.statusEffects.find(e => e.id === statusId);\n    if ( !status ) throw new Error(`Invalid status ID \"${statusId}\" provided to ActiveEffect.fromStatusEffect`);\n    if ( foundry.utils.isNewerVersion(game.version, 12) ) {\n      for ( const [oldKey, newKey] of Object.entries({label: \"name\", icon: \"img\"}) ) {\n        if ( !(newKey in status) && (oldKey in status) ) {\n          const msg = `StatusEffectConfig#${oldKey} has been deprecated in favor of StatusEffectConfig#${newKey}`;\n          foundry.utils.logCompatibilityWarning(msg, {since: 12, until: 14, once: true});\n        }\n      }\n    }\n    const {id, label, icon, hud, ...effectData} = foundry.utils.deepClone(status);\n    effectData.name = game.i18n.localize(effectData.name ?? label);\n    if ( game.release.generation < 12 ) effectData.icon ??= icon;\n    else effectData.img ??= icon;\n    effectData.statuses = Array.from(new Set([id, ...effectData.statuses ?? []]));\n    if ( (effectData.statuses.length > 1) && !status._id ) {\n      throw new Error(\"Status effects with implicit statuses must have a static _id\");\n    }\n    return ActiveEffect.implementation._fromStatusEffect(statusId, effectData, options);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static async _fromStatusEffect(statusId, { reference, ...effectData }, options) {\n    if ( !(\"description\" in effectData) && reference ) effectData.description = `@Embed[${reference} inline]`;\n    return super._fromStatusEffect?.(statusId, effectData, options) ?? new this(effectData, options);\n  }\n\n  /* -------------------------------------------- */\n  /*  Effect Application                          */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  apply(actor, change) {\n    if ( change.key.startsWith(\"flags.dnd5e.\") ) change = this._prepareFlagChange(actor, change);\n\n    // Determine type using DataField\n    let field = change.key.startsWith(\"system.\")\n      ? actor.system.schema.getField(change.key.slice(7))\n      : actor.schema.getField(change.key);\n\n    // Get the current value of the target field\n    const current = foundry.utils.getProperty(actor, change.key) ?? null;\n\n    const getTargetType = field => {\n      if ( (field instanceof FormulaField) || ActiveEffect5e.FORMULA_FIELDS.has(change.key) ) return \"formula\";\n      else if ( field instanceof foundry.data.fields.ArrayField ) return \"Array\";\n      else if ( field instanceof foundry.data.fields.ObjectField ) return \"Object\";\n      else if ( field instanceof foundry.data.fields.BooleanField ) return \"boolean\";\n      else if ( field instanceof foundry.data.fields.NumberField ) return \"number\";\n      else if ( field instanceof foundry.data.fields.StringField ) return \"string\";\n    };\n\n    const targetType = getTargetType(field);\n    if ( !targetType ) return super.apply(actor, change);\n    const modes = CONST.ACTIVE_EFFECT_MODES;\n\n    // Special handling for FormulaField\n    if ( targetType === \"formula\" ) {\n      const changes = {};\n      if ( !field ) field = new FormulaField({ deterministic: true });\n      const delta = field._cast(change.value).trim();\n      this._applyFormulaField(actor, change, current, delta, changes);\n      foundry.utils.mergeObject(actor, changes);\n      return changes;\n    }\n\n    else if ( (targetType === \"string\") && (change.mode === modes.OVERRIDE) && change.value.includes(\"{}\") ) {\n      change = foundry.utils.deepClone(change);\n      change.value = change.value.replace(\"{}\", current ?? \"\");\n    }\n\n    let delta;\n    try {\n      if ( targetType === \"Array\" ) {\n        const innerType = getTargetType(field.element);\n        delta = this._castArray(change.value, innerType);\n      }\n      else delta = this._castDelta(change.value, targetType);\n    } catch(err) {\n      console.warn(`Actor [${actor.id}] | Unable to parse active effect change for ${change.key}: \"${change.value}\"`);\n      return;\n    }\n\n    // Apply the change depending on the application mode\n    const changes = {};\n    switch ( change.mode ) {\n      case modes.ADD:\n        this._applyAdd(actor, change, current, delta, changes);\n        break;\n      case modes.MULTIPLY:\n        this._applyMultiply(actor, change, current, delta, changes);\n        break;\n      case modes.OVERRIDE:\n        this._applyOverride(actor, change, current, delta, changes);\n        break;\n      case modes.UPGRADE:\n      case modes.DOWNGRADE:\n        this._applyUpgrade(actor, change, current, delta, changes);\n        break;\n      default:\n        this._applyCustom(actor, change, current, delta, changes);\n        break;\n    }\n\n    // Apply all changes to the Actor data\n    foundry.utils.mergeObject(actor, changes);\n    return changes;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Custom application for FormulaFields.\n   * @param {Actor5e} actor                 The Actor to whom this effect should be applied\n   * @param {EffectChangeData} change       The change data being applied\n   * @param {string} current                The current value being modified\n   * @param {string} delta                  The parsed value of the change object\n   * @param {object} changes                An object which accumulates changes to be applied\n   */\n  _applyFormulaField(actor, change, current, delta, changes) {\n    if ( !current || change.mode === CONST.ACTIVE_EFFECT_MODES.OVERRIDE ) {\n      this._applyOverride(actor, change, current, delta, changes);\n      return;\n    }\n    const terms = (new Roll(current)).terms;\n    let fn = \"min\";\n    switch ( change.mode ) {\n      case CONST.ACTIVE_EFFECT_MODES.ADD:\n        const operator = delta.startsWith(\"-\") ? \"-\" : \"+\";\n        delta = delta.replace(/^[+-]?/, \"\").trim();\n        changes[change.key] = `${current} ${operator} ${delta}`;\n        break;\n      case CONST.ACTIVE_EFFECT_MODES.MULTIPLY:\n        if ( terms.length > 1 ) changes[change.key] = `(${current}) * ${delta}`;\n        else changes[change.key] = `${current} * ${delta}`;\n        break;\n      case CONST.ACTIVE_EFFECT_MODES.UPGRADE:\n        fn = \"max\";\n      case CONST.ACTIVE_EFFECT_MODES.DOWNGRADE:\n        if ( (terms.length === 1) && (terms[0].fn === fn) ) {\n          changes[change.key] = current.replace(/\\)$/, `, ${delta})`);\n        } else changes[change.key] = `${fn}(${current}, ${delta})`;\n        break;\n      default:\n        this._applyCustom(actor, change, current, delta, changes);\n        break;\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _applyAdd(actor, change, current, delta, changes) {\n    if ( current instanceof Set ) {\n      const handle = v => {\n        const neg = v.replace(/^\\s*-\\s*/, \"\");\n        if ( neg !== v ) current.delete(neg);\n        else current.add(v);\n      };\n      if ( Array.isArray(delta) ) delta.forEach(item => handle(item));\n      else handle(delta);\n      return;\n    }\n    super._applyAdd(actor, change, current, delta, changes);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _applyOverride(actor, change, current, delta, changes) {\n    if ( current instanceof Set ) {\n      current.clear();\n      if ( Array.isArray(delta) ) delta.forEach(item => current.add(item));\n      else current.add(delta);\n      return;\n    }\n    return super._applyOverride(actor, change, current, delta, changes);\n  }\n\n  /* --------------------------------------------- */\n\n  /** @inheritdoc */\n  _applyUpgrade(actor, change, current, delta, changes) {\n    if ( current === null ) return this._applyOverride(actor, change, current, delta, changes);\n    return super._applyUpgrade(actor, change, current, delta, changes);\n  }\n\n  /* --------------------------------------------- */\n\n  /**\n   * Transform the data type of the change to match the type expected for flags.\n   * @param {Actor5e} actor            The Actor to whom this effect should be applied.\n   * @param {EffectChangeData} change  The change being applied.\n   * @returns {EffectChangeData}       The change with altered types if necessary.\n   */\n  _prepareFlagChange(actor, change) {\n    const { key, value } = change;\n    const data = CONFIG.DND5E.characterFlags[key.replace(\"flags.dnd5e.\", \"\")];\n    if ( !data ) return change;\n\n    // Set flag to initial value if it isn't present\n    const current = foundry.utils.getProperty(actor, key) ?? null;\n    if ( current === null ) {\n      let initialValue = null;\n      if ( data.placeholder ) initialValue = data.placeholder;\n      else if ( data.type === Boolean ) initialValue = false;\n      else if ( data.type === Number ) initialValue = 0;\n      foundry.utils.setProperty(actor, key, initialValue);\n    }\n\n    // Coerce change data into the correct type\n    if ( data.type === Boolean ) {\n      if ( value === \"false\" ) change.value = false;\n      else change.value = Boolean(value);\n    }\n    return change;\n  }\n\n  /* --------------------------------------------- */\n\n  /**\n   * Determine whether this Active Effect is suppressed or not.\n   */\n  determineSuppression() {\n    this.isSuppressed = false;\n    if ( this.getFlag(\"dnd5e\", \"type\") === \"enchantment\" ) return;\n    if ( this.parent instanceof dnd5e.documents.Item5e ) this.isSuppressed = this.parent.areEffectsSuppressed;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  getRelativeUUID(doc) {\n    // TODO: Backport relative UUID fixes to accommodate descendant documents. Can be removed once v12 is the minimum.\n    if ( this.compendium && (this.compendium !== doc.compendium) ) return this.uuid;\n    if ( this.isEmbedded && (this.collection === doc.collection) ) return `.${this.id}`;\n    const parts = [this.documentName, this.id];\n    let parent = this.parent;\n    while ( parent ) {\n      if ( parent === doc ) break;\n      parts.unshift(parent.documentName, parent.id);\n      parent = parent.parent;\n    }\n    if ( parent === doc ) return `.${parts.join(\".\")}`;\n    return this.uuid;\n  }\n\n  /* -------------------------------------------- */\n  /*  Lifecycle                                   */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareDerivedData() {\n    super.prepareDerivedData();\n    if ( this.id === this.constructor.ID.EXHAUSTION ) this._prepareExhaustionLevel();\n    if ( this.isAppliedEnchantment ) EnchantmentData.trackEnchantment(this.origin, this.uuid);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Modify the ActiveEffect's attributes based on the exhaustion level.\n   * @protected\n   */\n  _prepareExhaustionLevel() {\n    const config = CONFIG.DND5E.conditionTypes.exhaustion;\n    let level = this.getFlag(\"dnd5e\", \"exhaustionLevel\");\n    if ( !Number.isFinite(level) ) level = 1;\n    // TODO: Remove when v11 support is dropped.\n    if ( game.release.version < 12 ) this.icon = this.constructor._getExhaustionImage(level);\n    else this.img = this.constructor._getExhaustionImage(level);\n    this.name = `${game.i18n.localize(\"DND5E.Exhaustion\")} ${level}`;\n    if ( level >= config.levels ) {\n      this.statuses.add(\"dead\");\n      CONFIG.DND5E.statusEffects.dead.statuses?.forEach(s => this.statuses.add(s));\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare effect favorite data.\n   * @returns {Promise<FavoriteData5e>}\n   */\n  async getFavoriteData() {\n    return {\n      img: this.img,\n      title: this.name,\n      subtitle: this.duration.remaining ? this.duration.label : \"\",\n      toggle: !this.disabled,\n      suppressed: this.isSuppressed\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create conditions that are applied separately from an effect.\n   * @returns {Promise<ActiveEffect5e[]|void>}      Created rider effects.\n   */\n  async createRiderConditions() {\n    const riders = new Set(this.statuses.reduce((acc, status) => {\n      const r = CONFIG.statusEffects.find(e => e.id === status)?.riders ?? [];\n      return acc.concat(r);\n    }, []));\n    if ( !riders.size ) return;\n\n    const createRider = async id => {\n      const existing = this.parent.effects.get(staticID(`dnd5e${id}`));\n      if ( existing ) return;\n      const effect = await ActiveEffect.implementation.fromStatusEffect(id);\n      return ActiveEffect.implementation.create(effect, { parent: this.parent, keepId: true });\n    };\n\n    return Promise.all(Array.from(riders).map(createRider));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create additional effects that are applied separately from an enchantment.\n   * @param {object} options  Options passed to the effect creation.\n   */\n  async createRiderEnchantments(options) {\n    const origin = await fromUuid(this.origin)?? game.messages.get(options?.chatMessageOrigin)?.getAssociatedItem();\n    if ( !origin ) return;\n\n    // Create Effects\n    const riderEffects = (this.getFlag(\"dnd5e\", \"enchantment.riders.effect\") ?? []).map(id => {\n      const effectData = origin.effects.get(id)?.toObject();\n      if ( effectData ) {\n        delete effectData._id;\n        delete effectData.flags?.dnd5e?.rider;\n        effectData.origin = this.origin;\n      }\n      return effectData;\n    });\n    const createdEffects = await this.parent.createEmbeddedDocuments(\"ActiveEffect\", riderEffects.filter(e => e));\n\n    // Create Items\n    let createdItems = [];\n    if ( this.parent.isEmbedded ) {\n      const riderItems = await Promise.all((this.getFlag(\"dnd5e\", \"enchantment.riders.item\") ?? []).map(async uuid => {\n        const itemData = (await fromUuid(uuid))?.toObject();\n        if ( itemData ) {\n          delete itemData._id;\n          foundry.utils.setProperty(itemData, \"flags.dnd5e.enchantment\", { origin: this.uuid });\n        }\n        return itemData;\n      }));\n      createdItems = await this.parent.actor.createEmbeddedDocuments(\"Item\", riderItems.filter(i => i));\n    }\n\n    if ( createdEffects.length || createdItems.length ) this.addDependent(...createdEffects, ...createdItems);\n  }\n\n  /* -------------------------------------------- */\n  /*  Socket Event Handlers                       */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _preCreate(data, options, user) {\n    if ( await super._preCreate(data, options, user) === false ) return false;\n    if ( options.keepOrigin === false ) this.updateSource({ origin: this.parent.uuid });\n\n    // Enchantments cannot be added directly to actors\n    if ( (this.getFlag(\"dnd5e\", \"type\") === \"enchantment\") && (this.parent instanceof Actor) ) {\n      ui.notifications.error(\"DND5E.Enchantment.Warning.NotOnActor\", { localize: true });\n      return false;\n    }\n\n    if ( this.isAppliedEnchantment ) {\n      const origin = await fromUuid(this.origin);\n      const errors = origin?.system.enchantment?.canEnchant(this.parent);\n      if ( errors?.length ) {\n        errors.forEach(err => console.error(err));\n        return false;\n      }\n      this.updateSource({ disabled: false });\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _onCreate(data, options, userId) {\n    super._onCreate(data, options, userId);\n    if ( userId === game.userId ) {\n      if ( this.active && (this.parent instanceof Actor) ) await this.createRiderConditions();\n      if ( this.isAppliedEnchantment ) await this.createRiderEnchantments(options);\n    }\n    if ( options.chatMessageOrigin ) {\n      document.body.querySelectorAll(`[data-message-id=\"${options.chatMessageOrigin}\"] enchantment-application`)\n        .forEach(element => element.buildItemList());\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _onUpdate(data, options, userId) {\n    super._onUpdate(data, options, userId);\n    const originalLevel = foundry.utils.getProperty(options, \"dnd5e.originalExhaustion\");\n    const newLevel = foundry.utils.getProperty(data, \"flags.dnd5e.exhaustionLevel\");\n    const originalEncumbrance = foundry.utils.getProperty(options, \"dnd5e.originalEncumbrance\");\n    const newEncumbrance = data.statuses?.[0];\n    const name = this.name;\n\n    // Display proper scrolling status effects for exhaustion\n    if ( (this.id === this.constructor.ID.EXHAUSTION) && Number.isFinite(newLevel) && Number.isFinite(originalLevel) ) {\n      if ( newLevel === originalLevel ) return;\n      // Temporarily set the name for the benefit of _displayScrollingTextStatus. We should improve this method to\n      // accept a name parameter instead.\n      if ( newLevel < originalLevel ) this.name = `Exhaustion ${originalLevel}`;\n      this._displayScrollingStatus(newLevel > originalLevel);\n      this.name = name;\n    }\n\n    // Display proper scrolling status effects for encumbrance\n    else if ( (this.id === this.constructor.ID.ENCUMBERED) && originalEncumbrance && newEncumbrance ) {\n      if ( newEncumbrance === originalEncumbrance ) return;\n      const increase = !originalEncumbrance || ((originalEncumbrance === \"encumbered\") && newEncumbrance)\n        || (newEncumbrance === \"exceedingCarryingCapacity\");\n      if ( !increase ) this.name = CONFIG.DND5E.encumbrance.effects[originalEncumbrance].name;\n      this._displayScrollingStatus(increase);\n      this.name = name;\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _preDelete(options, user) {\n    const dependents = this.getDependents();\n    if ( dependents.length && !game.users.activeGM ) {\n      ui.notifications.warn(\"DND5E.ConcentrationBreakWarning\", { localize: true });\n      return false;\n    }\n    return super._preDelete(options, user);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _onDelete(options, userId) {\n    super._onDelete(options, userId);\n    if ( game.user === game.users.activeGM ) this.getDependents().forEach(e => e.delete());\n    if ( this.isAppliedEnchantment ) EnchantmentData.untrackEnchantment(this.origin, this.uuid);\n    document.body.querySelectorAll(`enchantment-application:has([data-enchantment-uuid=\"${this.uuid}\"]`)\n      .forEach(element => element.buildItemList());\n  }\n\n  /* -------------------------------------------- */\n  /*  Exhaustion and Concentration Handling       */\n  /* -------------------------------------------- */\n\n  /**\n   * Create effect data for concentration on an actor.\n   * @param {Item5e} item       The item on which to begin concentrating.\n   * @param {object} [data]     Additional data provided for the effect instance.\n   * @returns {object}          Created data for the ActiveEffect.\n   */\n  static createConcentrationEffectData(item, data={}) {\n    if ( !item.isEmbedded || !item.requiresConcentration ) {\n      throw new Error(\"You may not begin concentrating on this item!\");\n    }\n\n    const statusEffect = CONFIG.statusEffects.find(e => e.id === CONFIG.specialStatusEffects.CONCENTRATING);\n    const effectData = foundry.utils.mergeObject({\n      ...statusEffect,\n      name: `${game.i18n.localize(\"EFFECT.DND5E.StatusConcentrating\")}: ${item.name}`,\n      description: game.i18n.format(\"DND5E.ConcentratingOn\", {\n        name: item.name,\n        type: game.i18n.localize(`TYPES.Item.${item.type}`)\n      }),\n      duration: ActiveEffect5e.getEffectDurationFromItem(item),\n      \"flags.dnd5e.itemData\": item.actor.items.has(item.id) ? item.id : item.toObject(),\n      origin: item.uuid,\n      statuses: [statusEffect.id].concat(statusEffect.statuses ?? [])\n    }, data, {inplace: false});\n    delete effectData.id;\n    if ( item.type === \"spell\" ) effectData[\"flags.dnd5e.spellLevel\"] = item.system.level;\n\n    return effectData;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Register listeners for custom handling in the TokenHUD.\n   */\n  static registerHUDListeners() {\n    Hooks.on(\"renderTokenHUD\", this.onTokenHUDRender);\n    document.addEventListener(\"click\", this.onClickTokenHUD.bind(this), { capture: true });\n    document.addEventListener(\"contextmenu\", this.onClickTokenHUD.bind(this), { capture: true });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Adjust exhaustion icon display to match current level.\n   * @param {Application} app  The TokenHUD application.\n   * @param {jQuery} html      The TokenHUD HTML.\n   */\n  static onTokenHUDRender(app, html) {\n    const actor = app.object.actor;\n    const level = foundry.utils.getProperty(actor, \"system.attributes.exhaustion\");\n    if ( Number.isFinite(level) && (level > 0) ) {\n      const img = ActiveEffect5e._getExhaustionImage(level);\n      html.find('[data-status-id=\"exhaustion\"]').css({\n        objectPosition: \"-100px\",\n        background: `url('${img}') no-repeat center / contain`\n      });\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get the image used to represent exhaustion at this level.\n   * @param {number} level\n   * @returns {string}\n   */\n  static _getExhaustionImage(level) {\n    const split = CONFIG.DND5E.conditionTypes.exhaustion.icon.split(\".\");\n    const ext = split.pop();\n    const path = split.join(\".\");\n    return `${path}-${level}.${ext}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Map the duration of an item to an active effect duration.\n   * @param {Item5e} item     An item with a duration.\n   * @returns {object}        The active effect duration.\n   */\n  static getEffectDurationFromItem(item) {\n    const dur = item.system.duration ?? {};\n    const value = dur.value || 1;\n\n    switch ( dur.units ) {\n      case \"turn\": return { turns: value };\n      case \"round\": return { rounds: value };\n      case \"minute\": return { seconds: value * 60 };\n      case \"hour\": return { seconds: value * 60 * 60 };\n      case \"day\": return { seconds: value * 60 * 60 * 24 };\n      case \"year\": return { seconds: value * 60 * 60 * 24 * 365 };\n      default: return {};\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Implement custom behavior for select conditions on the token HUD.\n   * @param {PointerEvent} event        The triggering event.\n   */\n  static onClickTokenHUD(event) {\n    const { target } = event;\n    if ( !target.classList?.contains(\"effect-control\") ) return;\n\n    const actor = canvas.hud.token.object?.actor;\n    if ( !actor ) return;\n\n    const id = target.dataset?.statusId;\n    if ( id === \"exhaustion\" ) ActiveEffect5e._manageExhaustion(event, actor);\n    else if ( id === \"concentrating\" ) ActiveEffect5e._manageConcentration(event, actor);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Manage custom exhaustion cycling when interacting with the token HUD.\n   * @param {PointerEvent} event        The triggering event.\n   * @param {Actor5e} actor             The actor belonging to the token.\n   */\n  static _manageExhaustion(event, actor) {\n    let level = foundry.utils.getProperty(actor, \"system.attributes.exhaustion\");\n    if ( !Number.isFinite(level) ) return;\n    event.preventDefault();\n    event.stopPropagation();\n    if ( event.button === 0 ) level++;\n    else level--;\n    const max = CONFIG.DND5E.conditionTypes.exhaustion.levels;\n    actor.update({ \"system.attributes.exhaustion\": Math.clamp(level, 0, max) });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Manage custom concentration handling when interacting with the token HUD.\n   * @param {PointerEvent} event        The triggering event.\n   * @param {Actor5e} actor             The actor belonging to the token.\n   */\n  static _manageConcentration(event, actor) {\n    const { effects } = actor.concentration;\n    if ( effects.size < 1 ) return;\n    event.preventDefault();\n    event.stopPropagation();\n    if ( effects.size === 1 ) {\n      actor.endConcentration(effects.first());\n      return;\n    }\n    const choices = effects.reduce((acc, effect) => {\n      const data = effect.getFlag(\"dnd5e\", \"itemData\");\n      acc[effect.id] = data?.name ?? actor.items.get(data)?.name ?? game.i18n.localize(\"DND5E.ConcentratingItemless\");\n      return acc;\n    }, {});\n    const options = HandlebarsHelpers.selectOptions(choices, { hash: { sort: true } });\n    const content = `\n    <form class=\"dnd5e\">\n      <p>${game.i18n.localize(\"DND5E.ConcentratingEndChoice\")}</p>\n      <div class=\"form-group\">\n        <label>${game.i18n.localize(\"DND5E.Source\")}</label>\n        <div class=\"form-fields\">\n          <select name=\"source\">${options}</select>\n        </div>\n      </div>\n    </form>`;\n    Dialog.prompt({\n      content: content,\n      callback: ([html]) => {\n        const source = new FormDataExtended(html.querySelector(\"FORM\")).object.source;\n        if ( source ) actor.endConcentration(source);\n      },\n      rejectClose: false,\n      title: game.i18n.localize(\"DND5E.Concentration\"),\n      label: game.i18n.localize(\"DND5E.Confirm\")\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Record another effect as a dependent of this one.\n   * @param {...ActiveEffect5e} dependent  One or more dependent effects.\n   * @returns {Promise<ActiveEffect5e>}\n   */\n  addDependent(...dependent) {\n    const dependents = this.getFlag(\"dnd5e\", \"dependents\") ?? [];\n    dependents.push(...dependent.map(d => ({ uuid: d.uuid })));\n    return this.setFlag(\"dnd5e\", \"dependents\", dependents);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Retrieve a list of dependent effects.\n   * @returns {Array<ActiveEffect5e|Item5e>}\n   */\n  getDependents() {\n    return (this.getFlag(\"dnd5e\", \"dependents\") || []).reduce((arr, { uuid }) => {\n      const effect = fromUuidSync(uuid);\n      if ( effect ) arr.push(effect);\n      return arr;\n    }, []);\n  }\n\n  /* -------------------------------------------- */\n  /*  Helpers                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Helper method to add choices that have been overridden by an active effect. Used to determine what fields might\n   * need to be disabled because they are overridden by an active effect in a way not easily determined by looking at\n   * the `Document#overrides` data structure.\n   * @param {Actor5e|Item5e} doc  Document from which to determine the overrides.\n   * @param {string} prefix       The initial form prefix under which the choices are grouped.\n   * @param {string} path         Path in document data.\n   * @param {string[]} overrides  The list of fields that are currently modified by Active Effects. *Will be mutated.*\n   */\n  static addOverriddenChoices(doc, prefix, path, overrides) {\n    const source = new Set(foundry.utils.getProperty(doc._source, path) ?? []);\n    const current = foundry.utils.getProperty(doc, path) ?? new Set();\n    const delta = current.symmetricDifference(source);\n    for ( const choice of delta ) overrides.push(`${prefix}.${choice}`);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Render a rich tooltip for this effect.\n   * @param {EnrichmentOptions} [enrichmentOptions={}]  Options for text enrichment.\n   * @returns {Promise<{content: string, classes: string[]}>}\n   */\n  async richTooltip(enrichmentOptions={}) {\n    const properties = [];\n    if ( this.isSuppressed ) properties.push(\"DND5E.EffectType.Unavailable\");\n    else if ( this.disabled ) properties.push(\"DND5E.EffectType.Inactive\");\n    else if ( this.isTemporary ) properties.push(\"DND5E.EffectType.Temporary\");\n    else properties.push(\"DND5E.EffectType.Passive\");\n    if ( this.getFlag(\"dnd5e\", \"type\") === \"enchantment\" ) properties.push(\"DND5E.Enchantment.Label\");\n\n    return {\n      content: await renderTemplate(\n        \"systems/dnd5e/templates/effects/parts/effect-tooltip.hbs\", {\n          effect: this,\n          description: await TextEditor.enrichHTML(this.description ?? \"\", {\n            async: true, relativeTo: this, ...enrichmentOptions\n          }),\n          durationParts: this.duration.remaining ? this.duration.label.split(\", \") : [],\n          properties: properties.map(p => game.i18n.localize(p))\n        }\n      ),\n      classes: [\"dnd5e2\", \"dnd5e-tooltip\", \"effect-tooltip\"]\n    };\n  }\n}\n","import ShortRestDialog from \"../../applications/actor/short-rest.mjs\";\nimport LongRestDialog from \"../../applications/actor/long-rest.mjs\";\nimport PropertyAttribution from \"../../applications/property-attribution.mjs\";\nimport { SummonsData } from \"../../data/item/fields/summons-field.mjs\";\nimport { d20Roll } from \"../../dice/dice.mjs\";\nimport { createRollLabel } from \"../../enrichers.mjs\";\nimport { replaceFormulaData, simplifyBonus } from \"../../utils.mjs\";\nimport ActiveEffect5e from \"../active-effect.mjs\";\nimport Item5e from \"../item.mjs\";\nimport SystemDocumentMixin from \"../mixins/document.mjs\";\nimport Proficiency from \"./proficiency.mjs\";\nimport SelectChoices from \"./select-choices.mjs\";\nimport * as Trait from \"./trait.mjs\";\n\n/**\n * Extend the base Actor class to implement additional system-specific logic.\n */\nexport default class Actor5e extends SystemDocumentMixin(Actor) {\n\n  /**\n   * The data source for Actor5e.classes allowing it to be lazily computed.\n   * @type {Record<string, Item5e>}\n   * @private\n   */\n  _classes;\n\n  /**\n   * Cached spellcasting classes.\n   * @type {Record<string, Item5e>}\n   * @private\n   */\n  _spellcastingClasses;\n\n  /**\n   * Mapping of item source IDs to the items.\n   * @type {Map<string, Item5e>}\n   */\n  sourcedItems = this.sourcedItems;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Types that can be selected within the compendium browser.\n   * @param {object} [options={}]\n   * @param {Set<string>} [options.chosen]  Types that have been selected.\n   * @returns {SelectChoices}\n   */\n  static compendiumBrowserTypes({ chosen=new Set() }={}) {\n    return new SelectChoices(Actor.TYPES.filter(t => t !== CONST.BASE_DOCUMENT_TYPE).reduce((obj, type) => {\n      obj[type] = {\n        label: CONFIG.Actor.typeLabels[type],\n        chosen: chosen.has(type)\n      };\n      return obj;\n    }, {}));\n  }\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * A mapping of classes belonging to this Actor.\n   * @type {Record<string, Item5e>}\n   */\n  get classes() {\n    if ( this._classes !== undefined ) return this._classes;\n    if ( ![\"character\", \"npc\"].includes(this.type) ) return this._classes = {};\n    return this._classes = this.items.filter(item => item.type === \"class\").reduce((obj, cls) => {\n      obj[cls.identifier] = cls;\n      return obj;\n    }, {});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get all classes which have spellcasting ability.\n   * @type {Record<string, Item5e>}\n   */\n  get spellcastingClasses() {\n    if ( this._spellcastingClasses !== undefined ) return this._spellcastingClasses;\n    return this._spellcastingClasses = Object.entries(this.classes).reduce((obj, [identifier, cls]) => {\n      if ( cls.spellcasting && (cls.spellcasting.progression !== \"none\") ) obj[identifier] = cls;\n      return obj;\n    }, {});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Is this Actor currently polymorphed into some other creature?\n   * @type {boolean}\n   */\n  get isPolymorphed() {\n    return this.getFlag(\"dnd5e\", \"isPolymorphed\") || false;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The Actor's currently equipped armor, if any.\n   * @type {Item5e|null}\n   */\n  get armor() {\n    return this.system.attributes?.ac?.equippedArmor ?? null;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The Actor's currently equipped shield, if any.\n   * @type {Item5e|null}\n   */\n  get shield() {\n    return this.system.attributes?.ac?.equippedShield ?? null;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The items this actor is concentrating on, and the relevant effects.\n   * @type {{items: Set<Item5e>, effects: Set<ActiveEffect5e>}}\n   */\n  get concentration() {\n    const concentration = {\n      items: new Set(),\n      effects: new Set()\n    };\n\n    const limit = this.system.attributes?.concentration?.limit ?? 0;\n    if ( !limit ) return concentration;\n\n    for ( const effect of this.effects ) {\n      if ( !effect.statuses.has(CONFIG.specialStatusEffects.CONCENTRATING) ) continue;\n      const data = effect.getFlag(\"dnd5e\", \"itemData\");\n      concentration.effects.add(effect);\n      if ( data ) {\n        const item = typeof data === \"string\"\n          ? this.items.get(data)\n          : new Item.implementation(data, { keepId: true, parent: this });\n        if ( item ) concentration.items.add(item);\n      }\n    }\n    return concentration;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Creatures summoned by this actor.\n   * @type {Actor5e[]}\n   */\n  get summonedCreatures() {\n    return SummonsData.summonedCreatures(this);\n  }\n\n  /* -------------------------------------------- */\n  /*  Methods                                     */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _initializeSource(source, options={}) {\n    source = super._initializeSource(source, options);\n    if ( !source._id || !options.pack || dnd5e.moduleArt.suppressArt ) return source;\n    const uuid = `Compendium.${options.pack}.${source._id}`;\n    const art = game.dnd5e.moduleArt.map.get(uuid);\n    if ( art?.actor || art?.token ) {\n      if ( art.actor ) source.img = art.actor;\n      if ( typeof art.token === \"string\" ) source.prototypeToken.texture.src = art.token;\n      else if ( art.token ) foundry.utils.mergeObject(source.prototypeToken, art.token);\n      const biography = source.system.details?.biography;\n      if ( art.credit && biography ) {\n        if ( typeof biography.value !== \"string\" ) biography.value = \"\";\n        biography.value += `<p>${art.credit}</p>`;\n      }\n    }\n    return source;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareData() {\n    if ( this.system.modelProvider !== dnd5e ) return super.prepareData();\n    this._clearCachedValues();\n    this._preparationWarnings = [];\n    super.prepareData();\n    this.items.forEach(item => item.prepareFinalAttributes());\n  }\n\n  /* --------------------------------------------- */\n\n  /**\n   * Clear cached class collections.\n   * @internal\n   */\n  _clearCachedValues() {\n    this._classes = undefined;\n    this._spellcastingClasses = undefined;\n  }\n\n  /* --------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareEmbeddedDocuments() {\n    this.sourcedItems = new Map();\n    this._embeddedPreparation = true;\n    super.prepareEmbeddedDocuments();\n    delete this._embeddedPreparation;\n  }\n\n  /* --------------------------------------------- */\n\n  /** @inheritDoc */\n  applyActiveEffects() {\n    this._prepareScaleValues();\n    if ( this.system?.prepareEmbeddedData instanceof Function ) this.system.prepareEmbeddedData();\n    // The Active Effects do not have access to their parent at preparation time, so we wait until this stage to\n    // determine whether they are suppressed or not.\n    for ( const effect of this.allApplicableEffects() ) {\n      effect.determineSuppression();\n    }\n    return super.applyActiveEffects();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  *allApplicableEffects() {\n    for ( const effect of super.allApplicableEffects() ) {\n      if ( (effect.getFlag(\"dnd5e\", \"type\") !== \"enchantment\") && !effect.getFlag(\"dnd5e\", \"rider\") ) yield effect;\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareDerivedData() {\n    const origin = this.getFlag(\"dnd5e\", \"summon.origin\");\n    // TODO: Replace with parseUuid once V11 support is dropped\n    if ( origin && this.token?.id ) SummonsData.trackSummon(origin.split(\".Item.\")[0], this.uuid);\n\n    if ( (this.system.modelProvider !== dnd5e) || (this.type === \"group\") ) return;\n\n    this.labels = {};\n\n    // Retrieve data for polymorphed actors\n    const { originalSkills } = this.getOriginalStats();\n\n    // Prepare abilities, skills, & everything else\n    const globalBonuses = this.system.bonuses?.abilities ?? {};\n    const rollData = this.getRollData();\n    const checkBonus = simplifyBonus(globalBonuses?.check, rollData);\n    this._prepareSkills(rollData, globalBonuses, checkBonus, originalSkills);\n    this._prepareTools(rollData, globalBonuses, checkBonus);\n    this._prepareArmorClass();\n    this._prepareInitiative(rollData, checkBonus);\n    this._prepareSpellcasting();\n\n    // Apply condition immunities\n    if ( game.release.generation >= 12 ) {\n      const conditionImmunities = this.system.traits?.ci?.value;\n      if ( conditionImmunities ) {\n        for ( const condition of conditionImmunities ) this.statuses.delete(condition);\n      }\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Calculate the DC of a concentration save required for a given amount of damage.\n   * @param {number} damage  Amount of damage taken.\n   * @returns {number}       DC of the required concentration save.\n   */\n  getConcentrationDC(damage) {\n    return Math.max(10, Math.floor(damage * .5));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Return the amount of experience required to gain a certain character level.\n   * @param {number} level  The desired level.\n   * @returns {number}      The XP required.\n   */\n  getLevelExp(level) {\n    const levels = CONFIG.DND5E.CHARACTER_EXP_LEVELS;\n    return levels[Math.min(level, levels.length - 1)];\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Return the amount of experience granted by killing a creature of a certain CR.\n   * @param {number} cr     The creature's challenge rating.\n   * @returns {number}      The amount of experience granted per kill.\n   */\n  getCRExp(cr) {\n    if ( cr < 1.0 ) return Math.max(200 * cr, 10);\n    return CONFIG.DND5E.CR_EXP_LEVELS[cr];\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * @inheritdoc\n   * @param {object} [options]\n   * @param {boolean} [options.deterministic] Whether to force deterministic values for data properties that could be\n   *                                          either a die term or a flat term.\n   */\n  getRollData({ deterministic=false }={}) {\n    let data;\n    if ( this.system.getRollData ) data = this.system.getRollData({ deterministic });\n    else data = {...super.getRollData()};\n    data.flags = {...this.flags};\n    data.name = this.name;\n    return data;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Is this actor under the effect of this property from some status or due to its level of exhaustion?\n   * @param {string} key      A key in `DND5E.conditionEffects`.\n   * @returns {boolean}       Whether the actor is affected.\n   */\n  hasConditionEffect(key) {\n    const props = CONFIG.DND5E.conditionEffects[key] ?? new Set();\n    const level = this.system.attributes?.exhaustion ?? null;\n    const imms = this.system.traits?.ci?.value ?? new Set();\n    const statuses = this.statuses;\n    return props.some(k => {\n      const l = Number(k.split(\"-\").pop());\n      return (statuses.has(k) && !imms.has(k))\n        || (!imms.has(\"exhaustion\") && (level !== null) && Number.isInteger(l) && (level >= l));\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Base Data Preparation Helpers               */\n  /* -------------------------------------------- */\n\n  /**\n   * Derive any values that have been scaled by the Advancement system.\n   * Mutates the value of the `system.scale` object.\n   * @protected\n   */\n  _prepareScaleValues() {\n    this.system.scale = this.items.reduce((scale, item) => {\n      if ( CONFIG.DND5E.advancementTypes.ScaleValue.validItemTypes.has(item.type) ) {\n        scale[item.identifier] = item.scaleValues;\n      }\n      return scale;\n    }, {});\n  }\n\n  /* -------------------------------------------- */\n  /*  Derived Data Preparation Helpers            */\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare skill checks. Mutates the values of system.skills.\n   * @param {object} rollData         Data produced by `getRollData` to be applied to bonus formulas.\n   * @param {object} globalBonuses     Global bonus data.\n   * @param {number} globalCheckBonus  Global ability check bonus.\n   * @param {object} originalSkills    A transformed actor's original actor's skills.\n   * @protected\n   */\n  _prepareSkills(rollData, globalBonuses, globalCheckBonus, originalSkills) {\n    if ( this.type === \"vehicle\" ) return;\n\n    // Skill modifiers\n    for ( const [id, skillData] of Object.entries(this.system.skills) ) {\n      this._prepareSkill(id, { skillData, rollData, originalSkills, globalCheckBonus, globalBonuses });\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepares data for a specific skill.\n   * @param {string} skillId                     The id of the skill to prepare data for.\n   * @param {object} [options]                   Additional options.\n   * @param {SkillData} [options.skillData]      The base skill data for this skill.\n   *                                             If undefined, `this.system.skill[skillId]` is used.\n   * @param {object} [options.rollData]          RollData for this actor, used to evaluate dice terms in bonuses.\n   *                                             If undefined, `this.getRollData()` is used.\n   * @param {object} [options.originalSkills]    Original skills if actor is polymorphed.\n   *                                             If undefined, the skills of the actor identified by\n   *                                             `this.flags.dnd5e.originalActor` are used.\n   * @param {object} [options.globalBonuses]     Global ability bonuses for this actor.\n   *                                             If undefined, `this.system.bonuses.abilities` is used.\n   * @param {number} [options.globalCheckBonus]  Global check bonus for this actor.\n   *                                             If undefined, `globalBonuses.check` will be evaluated using `rollData`.\n   * @param {number} [options.globalSkillBonus]  Global skill bonus for this actor.\n   *                                             If undefined, `globalBonuses.skill` will be evaluated using `rollData`.\n   * @param {string} [options.ability]           The ability to compute bonuses based on.\n   *                                             If undefined, skillData.ability is used.\n   * @returns {SkillData}\n   * @internal\n   */\n  _prepareSkill(skillId, {\n    skillData, rollData, originalSkills, globalBonuses,\n    globalCheckBonus, globalSkillBonus, ability\n  }={}) {\n    const flags = this.flags.dnd5e ?? {};\n\n    skillData ??= foundry.utils.deepClone(this.system.skills[skillId]);\n    rollData ??= this.getRollData();\n    originalSkills ??= flags.originalActor ? game.actors?.get(flags.originalActor)?.system?.skills : null;\n    globalBonuses ??= this.system.bonuses?.abilities ?? {};\n    globalCheckBonus ??= simplifyBonus(globalBonuses.check, rollData);\n    globalSkillBonus ??= simplifyBonus(globalBonuses.skill, rollData);\n    ability ??= skillData.ability;\n    const abilityData = this.system.abilities[ability];\n    skillData.ability = ability;\n\n    const feats = CONFIG.DND5E.characterFlags;\n\n    const baseBonus = simplifyBonus(skillData.bonuses?.check, rollData);\n    let roundDown = true;\n\n    // Remarkable Athlete\n    if ( this._isRemarkableAthlete(skillData.ability) && (skillData.value < 0.5) ) {\n      skillData.value = 0.5;\n      roundDown = false;\n    }\n\n    // Jack of All Trades\n    else if ( flags.jackOfAllTrades && (skillData.value < 0.5) ) {\n      skillData.value = 0.5;\n    }\n\n    // Polymorph Skill Proficiencies\n    if ( originalSkills ) {\n      skillData.value = Math.max(skillData.value, originalSkills[skillId].value);\n    }\n\n    // Compute modifier\n    const checkBonusAbl = simplifyBonus(abilityData?.bonuses?.check, rollData);\n    skillData.bonus = baseBonus + globalCheckBonus + checkBonusAbl + globalSkillBonus;\n    skillData.mod = abilityData?.mod ?? 0;\n    skillData.prof = new Proficiency(this.system.attributes.prof, skillData.value, roundDown);\n    skillData.proficient = skillData.value;\n    skillData.total = skillData.mod + skillData.bonus;\n    if ( Number.isNumeric(skillData.prof.term) ) skillData.total += skillData.prof.flat;\n\n    // Compute passive bonus\n    const passive = flags.observantFeat && feats.observantFeat.skills.includes(skillId) ? 5 : 0;\n    const passiveBonus = simplifyBonus(skillData.bonuses?.passive, rollData);\n    skillData.passive = 10 + skillData.mod + skillData.bonus + skillData.prof.flat + passive + passiveBonus;\n\n    return skillData;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare tool checks. Mutates the values of system.tools.\n   * @param {object} bonusData       Data produced by `getRollData` to be applied to bonus formulae.\n   * @param {object} globalBonuses   Global bonus data.\n   * @param {number} checkBonus      Global ability check bonus.\n   * @protected\n   */\n  _prepareTools(bonusData, globalBonuses, checkBonus) {\n    if ( this.type === \"vehicle\" ) return;\n    const flags = this.flags.dnd5e ?? {};\n    for ( const tool of Object.values(this.system.tools) ) {\n      const ability = this.system.abilities[tool.ability];\n      const baseBonus = simplifyBonus(tool.bonuses.check, bonusData);\n      let roundDown = true;\n\n      // Remarkable Athlete.\n      if ( this._isRemarkableAthlete(tool.ability) && (tool.value < 0.5) ) {\n        tool.value = 0.5;\n        roundDown = false;\n      }\n\n      // Jack of All Trades.\n      else if ( flags.jackOfAllTrades && (tool.value < 0.5) ) tool.value = 0.5;\n\n      const checkBonusAbl = simplifyBonus(ability?.bonuses?.check, bonusData);\n      tool.bonus = baseBonus + checkBonus + checkBonusAbl;\n      tool.mod = ability?.mod ?? 0;\n      tool.prof = new Proficiency(this.system.attributes.prof, tool.value, roundDown);\n      tool.total = tool.mod + tool.bonus;\n      if ( Number.isNumeric(tool.prof.term) ) tool.total += tool.prof.flat;\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare a character's AC value from their equipped armor and shield.\n   * Mutates the value of the `system.attributes.ac` object.\n   */\n  _prepareArmorClass() {\n    const ac = this.system.attributes.ac;\n\n    // Apply automatic migrations for older data structures\n    let cfg = CONFIG.DND5E.armorClasses[ac.calc];\n    if ( !cfg ) {\n      ac.calc = \"flat\";\n      if ( Number.isNumeric(ac.value) ) ac.flat = Number(ac.value);\n      cfg = CONFIG.DND5E.armorClasses.flat;\n    }\n\n    // Identify Equipped Items\n    const armorTypes = new Set(Object.keys(CONFIG.DND5E.armorTypes));\n    const {armors, shields} = this.itemTypes.equipment.reduce((obj, equip) => {\n      if ( !equip.system.equipped || !armorTypes.has(equip.system.type.value) ) return obj;\n      if ( equip.system.type.value === \"shield\" ) obj.shields.push(equip);\n      else obj.armors.push(equip);\n      return obj;\n    }, {armors: [], shields: []});\n    const rollData = this.getRollData({ deterministic: true });\n\n    // Determine base AC\n    switch ( ac.calc ) {\n\n      // Flat AC (no additional bonuses)\n      case \"flat\":\n        ac.value = Number(ac.flat);\n        return;\n\n      // Natural AC (includes bonuses)\n      case \"natural\":\n        ac.base = Number(ac.flat);\n        break;\n\n      default:\n        let formula = ac.calc === \"custom\" ? ac.formula : cfg.formula;\n        if ( armors.length ) {\n          if ( armors.length > 1 ) this._preparationWarnings.push({\n            message: game.i18n.localize(\"DND5E.WarnMultipleArmor\"), type: \"warning\"\n          });\n          const armorData = armors[0].system.armor;\n          const isHeavy = armors[0].system.type.value === \"heavy\";\n          ac.armor = armorData.value ?? ac.armor;\n          ac.dex = isHeavy ? 0 : Math.min(armorData.dex ?? Infinity, this.system.abilities.dex?.mod ?? 0);\n          ac.equippedArmor = armors[0];\n        }\n        else ac.dex = this.system.abilities.dex?.mod ?? 0;\n\n        rollData.attributes.ac = ac;\n        try {\n          const replaced = replaceFormulaData(formula, rollData, {\n            actor: this, missing: null, property: game.i18n.localize(\"DND5E.ArmorClass\")\n          });\n          ac.base = replaced ? game.release.generation < 12\n            ? Roll.safeEval(replaced) : new Roll(replaced).evaluateSync().total\n            : 0;\n        } catch(err) {\n          this._preparationWarnings.push({\n            message: game.i18n.format(\"DND5E.WarnBadACFormula\", { formula }), link: \"armor\", type: \"error\"\n          });\n          const replaced = Roll.replaceFormulaData(CONFIG.DND5E.armorClasses.default.formula, rollData);\n          ac.base = game.release.generation < 12 ? Roll.safeEval(replaced) : new Roll(replaced).evaluateSync().total;\n        }\n        break;\n    }\n\n    // Equipped Shield\n    if ( shields.length ) {\n      if ( shields.length > 1 ) this._preparationWarnings.push({\n        message: game.i18n.localize(\"DND5E.WarnMultipleShields\"), type: \"warning\"\n      });\n      ac.shield = shields[0].system.armor.value ?? 0;\n      ac.equippedShield = shields[0];\n    }\n\n    // Compute total AC and return\n    ac.bonus = simplifyBonus(ac.bonus, rollData);\n    ac.value = ac.base + ac.shield + ac.bonus + ac.cover;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare the initiative data for an actor.\n   * Mutates the value of the system.attributes.init object.\n   * @param {object} bonusData         Data produced by getRollData to be applied to bonus formulas\n   * @param {number} globalCheckBonus  Global ability check bonus\n   * @protected\n   */\n  _prepareInitiative(bonusData, globalCheckBonus=0) {\n    const init = this.system.attributes.init ??= {};\n    const flags = this.flags.dnd5e || {};\n\n    // Compute initiative modifier\n    const abilityId = init.ability || CONFIG.DND5E.defaultAbilities.initiative;\n    const ability = this.system.abilities?.[abilityId] || {};\n    init.mod = ability.mod ?? 0;\n\n    // Initiative proficiency\n    const prof = this.system.attributes.prof ?? 0;\n    const ra = flags.remarkableAthlete && [\"str\", \"dex\", \"con\"].includes(abilityId);\n    init.prof = new Proficiency(prof, (flags.jackOfAllTrades || ra) ? 0.5 : 0, !ra);\n\n    // Total initiative includes all numeric terms\n    const initBonus = simplifyBonus(init.bonus, bonusData);\n    const abilityBonus = simplifyBonus(ability.bonuses?.check, bonusData);\n    init.total = init.mod + initBonus + abilityBonus + globalCheckBonus\n      + (flags.initiativeAlert ? 5 : 0)\n      + (Number.isNumeric(init.prof.term) ? init.prof.flat : 0);\n  }\n\n  /* -------------------------------------------- */\n  /*  Spellcasting Preparation                    */\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare data related to the spell-casting capabilities of the Actor.\n   * Mutates the value of the system.spells object.\n   * @protected\n   */\n  _prepareSpellcasting() {\n    if ( !this.system.spells ) return;\n\n    // Spellcasting DC and modifier\n    const spellcastingAbility = this.system.abilities[this.system.attributes.spellcasting];\n    this.system.attributes.spelldc = spellcastingAbility ? spellcastingAbility.dc : 8 + this.system.attributes.prof;\n    this.system.attributes.spellmod = spellcastingAbility ? spellcastingAbility.mod : 0;\n\n    // Translate the list of classes into spellcasting progression\n    const progression = { slot: 0, pact: 0 };\n    const types = {};\n\n    // Grab all classes with spellcasting\n    const classes = this.items.filter(cls => {\n      if ( cls.type !== \"class\" ) return false;\n      const type = cls.spellcasting.type;\n      if ( !type ) return false;\n      types[type] ??= 0;\n      types[type] += 1;\n      return true;\n    });\n\n    for ( const cls of classes ) this.constructor.computeClassProgression(\n      progression, cls, { actor: this, count: types[cls.spellcasting.type] }\n    );\n\n    if ( this.type === \"npc\" ) {\n      if ( progression.slot || progression.pact ) this.system.details.spellLevel = progression.slot || progression.pact;\n      else progression.slot = this.system.details.spellLevel ?? 0;\n    }\n\n    for ( const type of Object.keys(CONFIG.DND5E.spellcastingTypes) ) {\n      this.constructor.prepareSpellcastingSlots(this.system.spells, type, progression, { actor: this });\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Contribute to the actor's spellcasting progression.\n   * @param {object} progression                             Spellcasting progression data. *Will be mutated.*\n   * @param {Item5e} cls                                     Class for whom this progression is being computed.\n   * @param {object} [config={}]\n   * @param {Actor5e|null} [config.actor]                    Actor for whom the data is being prepared.\n   * @param {SpellcastingDescription} [config.spellcasting]  Spellcasting descriptive object.\n   * @param {number} [config.count=1]                        Number of classes with this type of spellcasting.\n   */\n  static computeClassProgression(progression, cls, {actor, spellcasting, count=1}={}) {\n    const type = cls.spellcasting.type;\n    spellcasting = spellcasting ?? cls.spellcasting;\n\n    /**\n     * A hook event that fires while computing the spellcasting progression for each class on each actor.\n     * The actual hook names include the spellcasting type (e.g. `dnd5e.computeLeveledProgression`).\n     * @param {object} progression                    Spellcasting progression data. *Will be mutated.*\n     * @param {Actor5e|null} [actor]                  Actor for whom the data is being prepared.\n     * @param {Item5e} cls                            Class for whom this progression is being computed.\n     * @param {SpellcastingDescription} spellcasting  Spellcasting descriptive object.\n     * @param {number} count                          Number of classes with this type of spellcasting.\n     * @returns {boolean}  Explicitly return false to prevent default progression from being calculated.\n     * @function dnd5e.computeSpellcastingProgression\n     * @memberof hookEvents\n     */\n    const allowed = Hooks.call(\n      `dnd5e.compute${type.capitalize()}Progression`, progression, actor, cls, spellcasting, count\n    );\n\n    if ( allowed && (type === \"pact\") ) {\n      this.computePactProgression(progression, actor, cls, spellcasting, count);\n    } else if ( allowed && (type === \"leveled\") ) {\n      this.computeLeveledProgression(progression, actor, cls, spellcasting, count);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Contribute to the actor's spellcasting progression for a class with leveled spellcasting.\n   * @param {object} progression                    Spellcasting progression data. *Will be mutated.*\n   * @param {Actor5e} actor                         Actor for whom the data is being prepared.\n   * @param {Item5e} cls                            Class for whom this progression is being computed.\n   * @param {SpellcastingDescription} spellcasting  Spellcasting descriptive object.\n   * @param {number} count                          Number of classes with this type of spellcasting.\n   */\n  static computeLeveledProgression(progression, actor, cls, spellcasting, count) {\n    const prog = CONFIG.DND5E.spellcastingTypes.leveled.progression[spellcasting.progression];\n    if ( !prog ) return;\n    const rounding = prog.roundUp ? Math.ceil : Math.floor;\n    progression.slot += rounding(spellcasting.levels / prog.divisor ?? 1);\n    // Single-classed, non-full progression rounds up, rather than down.\n    if ( (count === 1) && (prog.divisor > 1) && progression.slot ) {\n      progression.slot = Math.ceil(spellcasting.levels / prog.divisor);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Contribute to the actor's spellcasting progression for a class with pact spellcasting.\n   * @param {object} progression                    Spellcasting progression data. *Will be mutated.*\n   * @param {Actor5e} actor                         Actor for whom the data is being prepared.\n   * @param {Item5e} cls                            Class for whom this progression is being computed.\n   * @param {SpellcastingDescription} spellcasting  Spellcasting descriptive object.\n   * @param {number} count                          Number of classes with this type of spellcasting.\n   */\n  static computePactProgression(progression, actor, cls, spellcasting, count) {\n    progression.pact += spellcasting.levels;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare actor's spell slots using progression data.\n   * @param {object} spells           The `data.spells` object within actor's data. *Will be mutated.*\n   * @param {string} type             Type of spellcasting slots being prepared.\n   * @param {object} progression      Spellcasting progression data.\n   * @param {object} [config]\n   * @param {Actor5e} [config.actor]  Actor for whom the data is being prepared.\n   */\n  static prepareSpellcastingSlots(spells, type, progression, {actor}={}) {\n    /**\n     * A hook event that fires to convert the provided spellcasting progression into spell slots.\n     * The actual hook names include the spellcasting type (e.g. `dnd5e.prepareLeveledSlots`).\n     * @param {object} spells        The `data.spells` object within actor's data. *Will be mutated.*\n     * @param {Actor5e} actor        Actor for whom the data is being prepared.\n     * @param {object} progression   Spellcasting progression data.\n     * @returns {boolean}            Explicitly return false to prevent default preparation from being performed.\n     * @function dnd5e.prepareSpellcastingSlots\n     * @memberof hookEvents\n     */\n    const allowed = Hooks.call(`dnd5e.prepare${type.capitalize()}Slots`, spells, actor, progression);\n\n    if ( allowed && (type === \"pact\") ) this.preparePactSlots(spells, actor, progression);\n    else if ( allowed && (type === \"leveled\") ) this.prepareLeveledSlots(spells, actor, progression);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare leveled spell slots using progression data.\n   * @param {object} spells        The `data.spells` object within actor's data. *Will be mutated.*\n   * @param {Actor5e} actor        Actor for whom the data is being prepared.\n   * @param {object} progression   Spellcasting progression data.\n   */\n  static prepareLeveledSlots(spells, actor, progression) {\n    const levels = Math.clamp(progression.slot, 0, CONFIG.DND5E.maxLevel);\n    const slots = CONFIG.DND5E.SPELL_SLOT_TABLE[Math.min(levels, CONFIG.DND5E.SPELL_SLOT_TABLE.length) - 1] ?? [];\n    for ( const level of Array.fromRange(Object.keys(CONFIG.DND5E.spellLevels).length - 1, 1) ) {\n      const slot = spells[`spell${level}`] ??= { value: 0 };\n      slot.level = level;\n      slot.max = Number.isNumeric(slot.override) ? Math.max(parseInt(slot.override), 0) : slots[level - 1] ?? 0;\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare non-leveled spell slots using progression data.\n   * @param {object} spells        The `data.spells` object within actor's data. *Will be mutated.*\n   * @param {Actor5e} actor        Actor for whom the data is being prepared.\n   * @param {object} progression   Spellcasting progression data.\n   * @param {string} key           The internal key for these spell slots on the actor.\n   * @param {object} table         The table used for determining the progression of slots.\n   */\n  static prepareAltSlots(spells, actor, progression, key, table) {\n    // Spell data:\n    // - x.level: Slot level for casting\n    // - x.max: Total number of slots\n    // - x.value: Currently available slots\n    // - x.override: Override number of available spell slots\n\n    let keyLevel = Math.clamp(progression[key], 0, CONFIG.DND5E.maxLevel);\n    spells[key] ??= {};\n    const override = Number.isNumeric(spells[key].override) ? parseInt(spells[key].override) : null;\n\n    // Slot override\n    if ( (keyLevel === 0) && (actor.type === \"npc\") && (override !== null) ) {\n      keyLevel = actor.system.details.spellLevel;\n    }\n\n    const [, keyConfig] = Object.entries(table).reverse().find(([l]) => Number(l) <= keyLevel) ?? [];\n    if ( keyConfig ) {\n      spells[key].level = keyConfig.level;\n      if ( override === null ) spells[key].max = keyConfig.slots;\n      else spells[key].max = Math.max(override, 1);\n      spells[key].value = Math.min(spells[key].value, spells[key].max);\n    }\n\n    else {\n      spells[key].max = override || 0;\n      spells[key].level = (spells[key].max > 0) ? 1 : 0;\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Convenience method for preparing pact slots specifically.\n   * @param {object} spells        The `data.spells` object within actor's data. *Will be mutated.*\n   * @param {Actor5e} actor        Actor for whom the data is being prepared.\n   * @param {object} progression   Spellcasting progression data.\n   */\n  static preparePactSlots(spells, actor, progression) {\n    this.prepareAltSlots(spells, actor, progression, \"pact\", CONFIG.DND5E.pactCastingProgression);\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Handlers                              */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _preCreate(data, options, user) {\n    if ( (await super._preCreate(data, options, user)) === false ) return false;\n\n    const sourceId = this.getFlag(\"core\", \"sourceId\");\n    if ( sourceId?.startsWith(\"Compendium.\") ) return;\n\n    // Configure prototype token settings\n    const prototypeToken = {};\n    if ( \"size\" in (this.system.traits || {}) ) {\n      const size = CONFIG.DND5E.actorSizes[this.system.traits.size || \"med\"].token ?? 1;\n      if ( !foundry.utils.hasProperty(data, \"prototypeToken.width\") ) prototypeToken.width = size;\n      if ( !foundry.utils.hasProperty(data, \"prototypeToken.height\") ) prototypeToken.height = size;\n    }\n    if ( this.type === \"character\" ) Object.assign(prototypeToken, {\n      sight: { enabled: true }, actorLink: true, disposition: CONST.TOKEN_DISPOSITIONS.FRIENDLY\n    });\n    this.updateSource({ prototypeToken });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _preUpdate(changed, options, user) {\n    if ( (await super._preUpdate(changed, options, user)) === false ) return false;\n\n    // Apply changes in Actor size to Token width/height\n    if ( \"size\" in (this.system.traits || {}) ) {\n      const newSize = foundry.utils.getProperty(changed, \"system.traits.size\");\n      if ( newSize && (newSize !== this.system.traits?.size) ) {\n        let size = CONFIG.DND5E.actorSizes[newSize].token ?? 1;\n        if ( !foundry.utils.hasProperty(changed, \"prototypeToken.width\") ) {\n          changed.prototypeToken ||= {};\n          changed.prototypeToken.height = size;\n          changed.prototypeToken.width = size;\n        }\n      }\n    }\n\n    // Reset death save counters and store hp\n    if ( \"hp\" in (this.system.attributes || {}) ) {\n      const isDead = this.system.attributes.hp.value <= 0;\n      if ( isDead && (foundry.utils.getProperty(changed, \"system.attributes.hp.value\") > 0) ) {\n        foundry.utils.setProperty(changed, \"system.attributes.death.success\", 0);\n        foundry.utils.setProperty(changed, \"system.attributes.death.failure\", 0);\n      }\n      foundry.utils.setProperty(options, \"dnd5e.hp\", { ...this.system.attributes.hp });\n    }\n\n    // Record previous exhaustion level.\n    if ( Number.isFinite(foundry.utils.getProperty(changed, \"system.attributes.exhaustion\")) ) {\n      foundry.utils.setProperty(options, \"dnd5e.originalExhaustion\", this.system.attributes.exhaustion);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Assign a class item as the original class for the Actor based on which class has the most levels.\n   * @returns {Promise<Actor5e>}  Instance of the updated actor.\n   * @protected\n   */\n  _assignPrimaryClass() {\n    const classes = this.itemTypes.class.sort((a, b) => b.system.levels - a.system.levels);\n    const newPC = classes[0]?.id || \"\";\n    return this.update({\"system.details.originalClass\": newPC});\n  }\n\n  /* -------------------------------------------- */\n  /*  Gameplay Mechanics                          */\n  /* -------------------------------------------- */\n\n  /** @override */\n  async modifyTokenAttribute(attribute, value, isDelta, isBar) {\n    if ( attribute === \"attributes.hp\" ) {\n      const hp = this.system.attributes.hp;\n      const delta = isDelta ? (-1 * value) : (hp.value + hp.temp) - value;\n      return this.applyDamage(delta);\n    } else if ( attribute.startsWith(\".\") ) {\n      const item = fromUuidSync(attribute, { relative: this });\n      let newValue = item?.system.uses?.value ?? 0;\n      if ( isDelta ) newValue += value;\n      else newValue = value;\n      return item?.update({ \"system.uses.value\": newValue });\n    }\n    return super.modifyTokenAttribute(attribute, value, isDelta, isBar);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Description of a source of damage.\n   *\n   * @typedef {object} DamageDescription\n   * @property {number} value            Amount of damage.\n   * @property {string} type             Type of damage.\n   * @property {Set<string>} properties  Physical properties that affect damage application.\n   * @property {object} [active]\n   * @property {number} [active.multiplier]      Final calculated multiplier.\n   * @property {boolean} [active.modifications]  Did modification affect this description?\n   * @property {boolean} [active.resistance]     Did resistance affect this description?\n   * @property {boolean} [active.vulnerability]  Did vulnerability affect this description?\n   * @property {boolean} [active.immunity]       Did immunity affect this description?\n   */\n\n  /**\n   * Options for damage application.\n   *\n   * @typedef {object} DamageApplicationOptions\n   * @property {boolean|Set<string>} [downgrade]  Should this actor's resistances and immunities be downgraded by one\n   *                                              step? A set of damage types to be downgraded or `true` to downgrade\n   *                                              all damage types.\n   * @property {number} [multiplier=1]         Amount by which to multiply all damage.\n   * @property {object|boolean} [ignore]       Set to `true` to ignore all damage modifiers. If set to an object, then\n   *                                           values can either be `true` to indicate that the all modifications of\n   *                                           that type should be ignored, or a set of specific damage types for which\n   *                                           it should be ignored.\n   * @property {boolean|Set<string>} [ignore.immunity]       Should this actor's damage immunity be ignored?\n   * @property {boolean|Set<string>} [ignore.resistance]     Should this actor's damage resistance be ignored?\n   * @property {boolean|Set<string>} [ignore.vulnerability]  Should this actor's damage vulnerability be ignored?\n   * @property {boolean|Set<string>} [ignore.modification]   Should this actor's damage modification be ignored?\n   * @property {boolean} [invertHealing=true]  Automatically invert healing types to it heals, rather than damages.\n   * @property {\"damage\"|\"healing\"} [only]     Apply only damage or healing parts. Untyped rolls will always be applied.\n   */\n\n  /**\n   * Apply a certain amount of damage or healing to the health pool for Actor\n   * @param {DamageDescription[]|number} damages     Damages to apply.\n   * @param {DamageApplicationOptions} [options={}]  Damage application options.\n   * @returns {Promise<Actor5e>}                     A Promise which resolves once the damage has been applied.\n   */\n  async applyDamage(damages, options={}) {\n    const hp = this.system.attributes.hp;\n    if ( !hp ) return this; // Group actors don't have HP at the moment\n\n    if ( Number.isNumeric(damages) ) {\n      damages = [{ value: damages }];\n      options.ignore ??= true;\n    }\n\n    damages = this.calculateDamage(damages, options);\n    if ( !damages ) return this;\n\n    // Round damage towards zero\n    let { amount, temp } = damages.reduce((acc, d) => {\n      if ( d.type === \"temphp\" ) acc.temp += d.value;\n      else acc.amount += d.value;\n      return acc;\n    }, { amount: 0, temp: 0 });\n    amount = amount > 0 ? Math.floor(amount) : Math.ceil(amount);\n\n    const deltaTemp = amount > 0 ? Math.min(hp.temp, amount) : 0;\n    const deltaHP = Math.clamp(amount - deltaTemp, -hp.damage, hp.value);\n    const updates = {\n      \"system.attributes.hp.temp\": hp.temp - deltaTemp,\n      \"system.attributes.hp.value\": hp.value - deltaHP\n    };\n\n    if ( temp > updates[\"system.attributes.hp.temp\"] ) updates[\"system.attributes.hp.temp\"] = temp;\n\n    /**\n     * A hook event that fires before damage is applied to an actor.\n     * @param {Actor5e} actor                     Actor the damage will be applied to.\n     * @param {number} amount                     Amount of damage that will be applied.\n     * @param {object} updates                    Distinct updates to be performed on the actor.\n     * @param {DamageApplicationOptions} options  Additional damage application options.\n     * @returns {boolean}                         Explicitly return `false` to prevent damage application.\n     * @function dnd5e.preApplyDamage\n     * @memberof hookEvents\n     */\n    if ( Hooks.call(\"dnd5e.preApplyDamage\", this, amount, updates, options) === false ) return this;\n\n    // Delegate damage application to a hook\n    // TODO: Replace this in the future with a better modifyTokenAttribute function in the core\n    if ( Hooks.call(\"modifyTokenAttribute\", {\n      attribute: \"attributes.hp\",\n      value: amount,\n      isDelta: false,\n      isBar: true\n    }, updates) === false ) return this;\n\n    await this.update(updates);\n\n    /**\n     * A hook event that fires after damage has been applied to an actor.\n     * @param {Actor5e} actor                     Actor that has been damaged.\n     * @param {number} amount                     Amount of damage that has been applied.\n     * @param {DamageApplicationOptions} options  Additional damage application options.\n     * @function dnd5e.applyDamage\n     * @memberof hookEvents\n     */\n    Hooks.callAll(\"dnd5e.applyDamage\", this, amount, options);\n\n    return this;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Calculate the damage that will be applied to this actor.\n   * @param {DamageDescription[]} damages            Damages to calculate.\n   * @param {DamageApplicationOptions} [options={}]  Damage calculation options.\n   * @returns {DamageDescription[]|false}            New damage descriptions with changes applied, or `false` if the\n   *                                                 calculation was canceled.\n   */\n  calculateDamage(damages, options={}) {\n    damages = foundry.utils.deepClone(damages);\n\n    /**\n     * A hook event that fires before damage amount is calculated for an actor.\n     * @param {Actor5e} actor                     The actor being damaged.\n     * @param {DamageDescription[]} damages       Damage descriptions.\n     * @param {DamageApplicationOptions} options  Additional damage application options.\n     * @returns {boolean}                         Explicitly return `false` to prevent damage application.\n     * @function dnd5e.preCalculateDamage\n     * @memberof hookEvents\n     */\n    if ( Hooks.call(\"dnd5e.preCalculateDamage\", this, damages, options) === false ) return false;\n\n    const multiplier = options.multiplier ?? 1;\n\n    const downgrade = type => options.downgrade === true || options.downgrade?.has?.(type);\n    const ignore = (category, type, skipDowngrade) => {\n      return options.ignore === true\n        || options.ignore?.[category] === true\n        || options.ignore?.[category]?.has?.(type)\n        || ((category === \"immunity\") && downgrade(type) && !skipDowngrade)\n        || ((category === \"resistance\") && downgrade(type) && !hasEffect(\"di\", type));\n    };\n\n    const traits = this.system.traits ?? {};\n    const hasEffect = (category, type, properties) => {\n      if ( (category === \"dr\") && downgrade(type) && hasEffect(\"di\", type, properties)\n        && !ignore(\"immunity\", type, true) ) return true;\n      const config = traits[category];\n      if ( !config?.value.has(type) ) return false;\n      if ( !CONFIG.DND5E.damageTypes[type]?.isPhysical || !properties?.size ) return true;\n      return !config.bypasses?.intersection(properties)?.size;\n    };\n\n    const skipped = type => {\n      if ( options.only === \"damage\" ) return type in CONFIG.DND5E.healingTypes;\n      if ( options.only === \"healing\" ) return type in CONFIG.DND5E.damageTypes;\n      return false;\n    };\n\n    const rollData = this.getRollData({deterministic: true});\n\n    damages.forEach(d => {\n      d.active ??= {};\n\n      // Skip damage types with immunity\n      if ( skipped(d.type) || (!ignore(\"immunity\", d.type) && hasEffect(\"di\", d.type, d.properties)) ) {\n        d.value = 0;\n        d.active.multiplier = 0;\n        d.active.immunity = true;\n        return;\n      }\n\n      // Apply type-specific damage reduction\n      if ( !ignore(\"modification\", d.type) && traits.dm?.amount[d.type]\n        && !traits.dm.bypasses.intersection(d.properties).size ) {\n        const modification = simplifyBonus(traits.dm.amount[d.type], rollData);\n        if ( Math.sign(d.value) !== Math.sign(d.value + modification) ) d.value = 0;\n        else d.value += modification;\n        d.active.modification = true;\n      }\n\n      let damageMultiplier = multiplier;\n\n      // Apply type-specific damage resistance\n      if ( !ignore(\"resistance\", d.type) && hasEffect(\"dr\", d.type, d.properties) ) {\n        damageMultiplier /= 2;\n        d.active.resistance = true;\n      }\n\n      // Apply type-specific damage vulnerability\n      if ( !ignore(\"vulnerability\", d.type) && hasEffect(\"dv\", d.type, d.properties) ) {\n        damageMultiplier *= 2;\n        d.active.vulnerability = true;\n      }\n\n      // Negate healing types\n      if ( (options.invertHealing !== false) && (d.type === \"healing\") ) damageMultiplier *= -1;\n\n      d.value = d.value * damageMultiplier;\n      d.active.multiplier = (d.active.multiplier ?? 1) * damageMultiplier;\n    });\n\n    /**\n     * A hook event that fires after damage values are calculated for an actor.\n     * @param {Actor5e} actor                     The actor being damaged.\n     * @param {DamageDescription[]} damages       Damage descriptions.\n     * @param {DamageApplicationOptions} options  Additional damage application options.\n     * @returns {boolean}                         Explicitly return `false` to prevent damage application.\n     * @function dnd5e.calculateDamage\n     * @memberof hookEvents\n     */\n    if ( Hooks.call(\"dnd5e.calculateDamage\", this, damages, options) === false ) return false;\n\n    return damages;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Apply a certain amount of temporary hit point, but only if it's more than the actor currently has.\n   * @param {number} amount       An amount of temporary hit points to set\n   * @returns {Promise<Actor5e>}  A Promise which resolves once the temp HP has been applied\n   */\n  async applyTempHP(amount=0) {\n    amount = parseInt(amount);\n    const hp = this.system.attributes.hp;\n\n    // Update the actor if the new amount is greater than the current\n    const tmp = parseInt(hp.temp) || 0;\n    return amount > tmp ? this.update({\"system.attributes.hp.temp\": amount}) : this;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get a color used to represent the current hit points of an Actor.\n   * @param {number} current        The current HP value\n   * @param {number} max            The maximum HP value\n   * @returns {Color}               The color used to represent the HP percentage\n   */\n  static getHPColor(current, max) {\n    const pct = Math.clamp(current, 0, max) / max;\n    return Color.fromRGB([(1-(pct/2)), pct, 0]);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Initiate concentration on an item.\n   * @param {Item5e} item                        The item on which to being concentration.\n   * @param {object} [effectData]                Effect data to merge into the created effect.\n   * @returns {Promise<ActiveEffect5e|void>}     A promise that resolves to the created effect.\n   */\n  async beginConcentrating(item, effectData={}) {\n    effectData = ActiveEffect5e.createConcentrationEffectData(item, effectData);\n\n    /**\n     * A hook that is called before a concentration effect is created.\n     * @function dnd5e.preBeginConcentrating\n     * @memberof hookEvents\n     * @param {Actor5e} actor         The actor initiating concentration.\n     * @param {Item5e} item           The item that will be concentrated on.\n     * @param {object} effectData     Data used to create the ActiveEffect.\n     * @returns {boolean}             Explicitly return false to prevent the effect from being created.\n     */\n    if ( Hooks.call(\"dnd5e.preBeginConcentrating\", this, item, effectData) === false ) return;\n\n    const effect = await ActiveEffect5e.create(effectData, { parent: this });\n\n    /**\n     * A hook that is called after a concentration effect is created.\n     * @function dnd5e.createConcentrating\n     * @memberof hookEvents\n     * @param {Actor5e} actor             The actor initiating concentration.\n     * @param {Item5e} item               The item that is being concentrated on.\n     * @param {ActiveEffect5e} effect     The created ActiveEffect instance.\n     */\n    Hooks.callAll(\"dnd5e.beginConcentrating\", this, item, effect);\n\n    return effect;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * End concentration on an item.\n   * @param {Item5e|ActiveEffect5e|string} [target]    An item or effect to end concentration on, or id of an effect.\n   *                                                   If not provided, all maintained effects are removed.\n   * @returns {Promise<ActiveEffect5e[]>}              A promise that resolves to the deleted effects.\n   */\n  async endConcentration(target) {\n    let effect;\n    const { effects } = this.concentration;\n\n    if ( !target ) {\n      return effects.reduce(async (acc, effect) => {\n        acc = await acc;\n        return acc.concat(await this.endConcentration(effect));\n      }, []);\n    }\n\n    if ( foundry.utils.getType(target) === \"string\" ) effect = effects.find(e => e.id === target);\n    else if ( target instanceof ActiveEffect5e ) effect = effects.has(target) ? target : null;\n    else if ( target instanceof Item5e ) {\n      effect = effects.find(e => {\n        const data = e.getFlag(\"dnd5e\", \"itemData\") ?? {};\n        return (data === target._id) || (data._id === target._id);\n      });\n    }\n    if ( !effect ) return [];\n\n    /**\n     * A hook that is called before a concentration effect is deleted.\n     * @function dnd5e.preEndConcentration\n     * @memberof hookEvents\n     * @param {Actor5e} actor             The actor ending concentration.\n     * @param {ActiveEffect5e} effect     The ActiveEffect that will be deleted.\n     * @returns {boolean}                 Explicitly return false to prevent the effect from being deleted.\n     */\n    if ( Hooks.call(\"dnd5e.preEndConcentration\", this, effect) === false) return [];\n\n    await effect.delete();\n\n    /**\n     * A hook that is called after a concentration effect is deleted.\n     * @function dnd5e.endConcentration\n     * @memberof hookEvents\n     * @param {Actor5e} actor             The actor ending concentration.\n     * @param {ActiveEffect5e} effect     The ActiveEffect that was deleted.\n     */\n    Hooks.callAll(\"dnd5e.endConcentration\", this, effect);\n\n    return [effect];\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create a chat message for this actor with a prompt to challenge concentration.\n   * @param {object} [options]\n   * @param {number} [options.dc]         The target value of the saving throw.\n   * @param {string} [options.ability]    An ability to use instead of the default.\n   * @returns {Promise<ChatMessage5e>}    A promise that resolves to the created chat message.\n   */\n  async challengeConcentration({ dc=10, ability=null }={}) {\n    const isConcentrating = this.concentration.effects.size > 0;\n    if ( !isConcentrating ) return null;\n\n    const dataset = {\n      action: \"concentration\",\n      dc: dc\n    };\n    if ( ability in CONFIG.DND5E.abilities ) dataset.ability = ability;\n\n    const config = {\n      type: \"concentration\",\n      format: \"short\",\n      icon: true\n    };\n\n    return ChatMessage.implementation.create({\n      content: await renderTemplate(\"systems/dnd5e/templates/chat/request-card.hbs\", {\n        dataset: { ...dataset, type: \"concentration\" },\n        buttonLabel: createRollLabel({ ...dataset, ...config }),\n        hiddenLabel: createRollLabel({ ...dataset, ...config, hideDC: true })\n      }),\n      whisper: game.users.filter(user => this.testUserPermission(user, \"OWNER\")),\n      speaker: ChatMessage.implementation.getSpeaker({ actor: this })\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Determine whether the provided ability is usable for remarkable athlete.\n   * @param {string} ability  Ability type to check.\n   * @returns {boolean}       Whether the actor has the remarkable athlete flag and the ability is physical.\n   * @private\n   */\n  _isRemarkableAthlete(ability) {\n    return this.getFlag(\"dnd5e\", \"remarkableAthlete\")\n      && CONFIG.DND5E.characterFlags.remarkableAthlete.abilities.includes(ability);\n  }\n\n  /* -------------------------------------------- */\n  /*  Rolling                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Roll a Skill Check\n   * Prompt the user for input regarding Advantage/Disadvantage and any Situational Bonus\n   * @param {string} skillId      The skill id (e.g. \"ins\")\n   * @param {object} options      Options which configure how the skill check is rolled\n   * @returns {Promise<D20Roll>}  A Promise which resolves to the created Roll instance\n   */\n  async rollSkill(skillId, options={}) {\n    const skl = this.system.skills[skillId];\n    const abl = this.system.abilities[options.ability ?? skl.ability];\n    const globalBonuses = this.system.bonuses?.abilities ?? {};\n    const parts = [\"@mod\", \"@abilityCheckBonus\"];\n    const data = this.getRollData();\n\n    // Add ability modifier\n    data.mod = abl?.mod ?? 0;\n    data.defaultAbility = options.ability ?? skl.ability;\n\n    // Include proficiency bonus\n    if ( skl.prof.hasProficiency ) {\n      parts.push(\"@prof\");\n      data.prof = skl.prof.term;\n    }\n\n    // Global ability check bonus\n    if ( globalBonuses.check ) {\n      parts.push(\"@checkBonus\");\n      data.checkBonus = Roll.replaceFormulaData(globalBonuses.check, data);\n    }\n\n    // Ability-specific check bonus\n    if ( abl?.bonuses?.check ) data.abilityCheckBonus = Roll.replaceFormulaData(abl.bonuses.check, data);\n    else data.abilityCheckBonus = 0;\n\n    // Skill-specific skill bonus\n    if ( skl.bonuses?.check ) {\n      const checkBonusKey = `${skillId}CheckBonus`;\n      parts.push(`@${checkBonusKey}`);\n      data[checkBonusKey] = Roll.replaceFormulaData(skl.bonuses.check, data);\n    }\n\n    // Global skill check bonus\n    if ( globalBonuses.skill ) {\n      parts.push(\"@skillBonus\");\n      data.skillBonus = Roll.replaceFormulaData(globalBonuses.skill, data);\n    }\n\n    // Reliable Talent applies to any skill check we have full or better proficiency in\n    const reliableTalent = (skl.value >= 1 && this.getFlag(\"dnd5e\", \"reliableTalent\"));\n\n    // Roll and return\n    const flavor = game.i18n.format(\"DND5E.SkillPromptTitle\", {skill: CONFIG.DND5E.skills[skillId]?.label ?? \"\"});\n    const rollData = foundry.utils.mergeObject({\n      data: data,\n      title: `${flavor}: ${this.name}`,\n      flavor,\n      chooseModifier: true,\n      halflingLucky: this.getFlag(\"dnd5e\", \"halflingLucky\"),\n      reliableTalent,\n      messageData: {\n        speaker: options.speaker || ChatMessage.getSpeaker({actor: this}),\n        \"flags.dnd5e.roll\": {type: \"skill\", skillId }\n      }\n    }, options);\n    rollData.parts = parts.concat(options.parts ?? []);\n\n    /**\n     * A hook event that fires before a skill check is rolled for an Actor.\n     * @function dnd5e.preRollSkill\n     * @memberof hookEvents\n     * @param {Actor5e} actor                Actor for which the skill check is being rolled.\n     * @param {D20RollConfiguration} config  Configuration data for the pending roll.\n     * @param {string} skillId               ID of the skill being rolled as defined in `DND5E.skills`.\n     * @returns {boolean}                    Explicitly return `false` to prevent skill check from being rolled.\n     */\n    if ( Hooks.call(\"dnd5e.preRollSkill\", this, rollData, skillId) === false ) return;\n\n    const roll = await d20Roll(rollData);\n\n    /**\n     * A hook event that fires after a skill check has been rolled for an Actor.\n     * @function dnd5e.rollSkill\n     * @memberof hookEvents\n     * @param {Actor5e} actor   Actor for which the skill check has been rolled.\n     * @param {D20Roll} roll    The resulting roll.\n     * @param {string} skillId  ID of the skill that was rolled as defined in `DND5E.skills`.\n     */\n    if ( roll ) Hooks.callAll(\"dnd5e.rollSkill\", this, roll, skillId);\n\n    return roll;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Roll a Tool Check.\n   * Prompt the user for input regarding Advantage/Disadvantage and any Situational Bonuses.\n   * @param {string} toolId       The identifier of the tool being rolled.\n   * @param {object} options      Options which configure how the tool check is rolled.\n   * @returns {Promise<D20Roll>}  A Promise which resolves to the created Roll instance.\n   */\n  async rollToolCheck(toolId, options={}) {\n    // Prepare roll data.\n    const tool = this.system.tools[toolId];\n    const ability = this.system.abilities[options.ability || (tool?.ability ?? \"int\")];\n    const globalBonuses = this.system.bonuses?.abilities ?? {};\n    const parts = [\"@mod\", \"@abilityCheckBonus\"];\n    const data = this.getRollData();\n\n    // Add ability modifier.\n    data.mod = ability?.mod ?? 0;\n    data.defaultAbility = options.ability || (tool?.ability ?? \"int\");\n\n    // Add proficiency.\n    const prof = options.prof ?? tool?.prof;\n    if ( prof?.hasProficiency ) {\n      parts.push(\"@prof\");\n      data.prof = prof.term;\n    }\n\n    // Global ability check bonus.\n    if ( globalBonuses.check ) {\n      parts.push(\"@checkBonus\");\n      data.checkBonus = Roll.replaceFormulaData(globalBonuses.check, data);\n    }\n\n    // Ability-specific check bonus.\n    if ( ability?.bonuses.check ) data.abilityCheckBonus = Roll.replaceFormulaData(ability.bonuses.check, data);\n    else data.abilityCheckBonus = 0;\n\n    // Tool-specific check bonus.\n    if ( tool?.bonuses.check || options.bonus ) {\n      parts.push(\"@toolBonus\");\n      const bonus = [];\n      if ( tool?.bonuses.check ) bonus.push(Roll.replaceFormulaData(tool.bonuses.check, data));\n      if ( options.bonus ) bonus.push(Roll.replaceFormulaData(options.bonus, data));\n      data.toolBonus = bonus.join(\" + \");\n    }\n\n    // Reliable Talent applies to any tool check we have full or better proficiency in\n    const reliableTalent = (prof?.multiplier >= 1 && this.getFlag(\"dnd5e\", \"reliableTalent\"));\n\n    const flavor = game.i18n.format(\"DND5E.ToolPromptTitle\", {tool: Trait.keyLabel(toolId, {trait: \"tool\"}) ?? \"\"});\n    const rollData = foundry.utils.mergeObject({\n      data, flavor,\n      title: `${flavor}: ${this.name}`,\n      chooseModifier: true,\n      halflingLucky: this.getFlag(\"dnd5e\", \"halflingLucky\"),\n      reliableTalent,\n      messageData: {\n        speaker: options.speaker || ChatMessage.implementation.getSpeaker({actor: this}),\n        \"flags.dnd5e.roll\": {type: \"tool\", toolId}\n      }\n    }, options);\n    rollData.parts = parts.concat(options.parts ?? []);\n\n    /**\n     * A hook event that fires before a tool check is rolled for an Actor.\n     * @function dnd5e.preRollRool\n     * @memberof hookEvents\n     * @param {Actor5e} actor                Actor for which the tool check is being rolled.\n     * @param {D20RollConfiguration} config  Configuration data for the pending roll.\n     * @param {string} toolId                Identifier of the tool being rolled.\n     * @returns {boolean}                    Explicitly return `false` to prevent skill check from being rolled.\n     */\n    if ( Hooks.call(\"dnd5e.preRollToolCheck\", this, rollData, toolId) === false ) return;\n\n    const roll = await d20Roll(rollData);\n\n    /**\n     * A hook event that fires after a tool check has been rolled for an Actor.\n     * @function dnd5e.rollTool\n     * @memberof hookEvents\n     * @param {Actor5e} actor   Actor for which the tool check has been rolled.\n     * @param {D20Roll} roll    The resulting roll.\n     * @param {string} toolId   Identifier of the tool that was rolled.\n     */\n    if ( roll ) Hooks.callAll(\"dnd5e.rollToolCheck\", this, roll, toolId);\n\n    return roll;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Roll a generic ability test or saving throw.\n   * Prompt the user for input on which variety of roll they want to do.\n   * @param {string} abilityId    The ability id (e.g. \"str\")\n   * @param {object} options      Options which configure how ability tests or saving throws are rolled\n   */\n  rollAbility(abilityId, options={}) {\n    const label = CONFIG.DND5E.abilities[abilityId]?.label ?? \"\";\n    new Dialog({\n      title: `${game.i18n.format(\"DND5E.AbilityPromptTitle\", {ability: label})}: ${this.name}`,\n      content: `<p>${game.i18n.format(\"DND5E.AbilityPromptText\", {ability: label})}</p>`,\n      buttons: {\n        test: {\n          label: game.i18n.localize(\"DND5E.ActionAbil\"),\n          callback: () => this.rollAbilityTest(abilityId, options)\n        },\n        save: {\n          label: game.i18n.localize(\"DND5E.ActionSave\"),\n          callback: () => this.rollAbilitySave(abilityId, options)\n        }\n      }\n    }).render(true);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Roll an Ability Test\n   * Prompt the user for input regarding Advantage/Disadvantage and any Situational Bonus\n   * @param {string} abilityId    The ability ID (e.g. \"str\")\n   * @param {object} options      Options which configure how ability tests are rolled\n   * @returns {Promise<D20Roll>}  A Promise which resolves to the created Roll instance\n   */\n  async rollAbilityTest(abilityId, options={}) {\n    const label = CONFIG.DND5E.abilities[abilityId]?.label ?? \"\";\n    const abl = this.system.abilities[abilityId];\n    const globalBonuses = this.system.bonuses?.abilities ?? {};\n    const parts = [];\n    const data = this.getRollData();\n\n    // Add ability modifier\n    parts.push(\"@mod\");\n    data.mod = abl?.mod ?? 0;\n\n    // Include proficiency bonus\n    if ( abl?.checkProf.hasProficiency ) {\n      parts.push(\"@prof\");\n      data.prof = abl.checkProf.term;\n    }\n\n    // Add ability-specific check bonus\n    if ( abl?.bonuses?.check ) {\n      const checkBonusKey = `${abilityId}CheckBonus`;\n      parts.push(`@${checkBonusKey}`);\n      data[checkBonusKey] = Roll.replaceFormulaData(abl.bonuses.check, data);\n    }\n\n    // Add global actor bonus\n    if ( globalBonuses.check ) {\n      parts.push(\"@checkBonus\");\n      data.checkBonus = Roll.replaceFormulaData(globalBonuses.check, data);\n    }\n\n    // Roll and return\n    const flavor = game.i18n.format(\"DND5E.AbilityPromptTitle\", {ability: label});\n    const rollData = foundry.utils.mergeObject({\n      data,\n      title: `${flavor}: ${this.name}`,\n      flavor,\n      halflingLucky: this.getFlag(\"dnd5e\", \"halflingLucky\"),\n      messageData: {\n        speaker: options.speaker || ChatMessage.getSpeaker({actor: this}),\n        \"flags.dnd5e.roll\": {type: \"ability\", abilityId }\n      }\n    }, options);\n    rollData.parts = parts.concat(options.parts ?? []);\n\n    /**\n     * A hook event that fires before an ability test is rolled for an Actor.\n     * @function dnd5e.preRollAbilityTest\n     * @memberof hookEvents\n     * @param {Actor5e} actor                Actor for which the ability test is being rolled.\n     * @param {D20RollConfiguration} config  Configuration data for the pending roll.\n     * @param {string} abilityId             ID of the ability being rolled as defined in `DND5E.abilities`.\n     * @returns {boolean}                    Explicitly return `false` to prevent ability test from being rolled.\n     */\n    if ( Hooks.call(\"dnd5e.preRollAbilityTest\", this, rollData, abilityId) === false ) return;\n\n    const roll = await d20Roll(rollData);\n\n    /**\n     * A hook event that fires after an ability test has been rolled for an Actor.\n     * @function dnd5e.rollAbilityTest\n     * @memberof hookEvents\n     * @param {Actor5e} actor     Actor for which the ability test has been rolled.\n     * @param {D20Roll} roll      The resulting roll.\n     * @param {string} abilityId  ID of the ability that was rolled as defined in `DND5E.abilities`.\n     */\n    if ( roll ) Hooks.callAll(\"dnd5e.rollAbilityTest\", this, roll, abilityId);\n\n    return roll;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Roll an Ability Saving Throw\n   * Prompt the user for input regarding Advantage/Disadvantage and any Situational Bonus\n   * @param {string} abilityId          The ability ID (e.g. \"str\")\n   * @param {object} [options]          Options which configure how ability saves are rolled\n   * @returns {Promise<D20Roll|null>}   A Promise which resolves to the created Roll instance\n   */\n  async rollAbilitySave(abilityId, options={}) {\n    const label = CONFIG.DND5E.abilities[abilityId]?.label ?? \"\";\n    const abl = this.system.abilities[abilityId];\n    const globalBonuses = this.system.bonuses?.abilities ?? {};\n    const parts = [];\n    const data = this.getRollData();\n\n    // Add ability modifier\n    parts.push(\"@mod\");\n    data.mod = abl?.mod ?? 0;\n\n    // Include proficiency bonus\n    if ( abl?.saveProf.hasProficiency ) {\n      parts.push(\"@prof\");\n      data.prof = abl.saveProf.term;\n    }\n\n    // Include ability-specific saving throw bonus\n    if ( abl?.bonuses?.save ) {\n      const saveBonusKey = `${abilityId}SaveBonus`;\n      parts.push(`@${saveBonusKey}`);\n      data[saveBonusKey] = Roll.replaceFormulaData(abl.bonuses.save, data);\n    }\n\n    // Include a global actor ability save bonus\n    if ( globalBonuses.save ) {\n      parts.push(\"@saveBonus\");\n      data.saveBonus = Roll.replaceFormulaData(globalBonuses.save, data);\n    }\n\n    // Roll and return\n    const flavor = game.i18n.format(\"DND5E.SavePromptTitle\", {ability: label});\n    const rollData = foundry.utils.mergeObject({\n      data,\n      title: `${flavor}: ${this.name}`,\n      flavor,\n      halflingLucky: this.getFlag(\"dnd5e\", \"halflingLucky\"),\n      messageData: {\n        speaker: options.speaker || ChatMessage.getSpeaker({actor: this}),\n        \"flags.dnd5e.roll\": {type: \"save\", abilityId }\n      }\n    }, options);\n    rollData.parts = parts.concat(options.parts ?? []);\n\n    /**\n     * A hook event that fires before an ability save is rolled for an Actor.\n     * @function dnd5e.preRollAbilitySave\n     * @memberof hookEvents\n     * @param {Actor5e} actor                Actor for which the ability save is being rolled.\n     * @param {D20RollConfiguration} config  Configuration data for the pending roll.\n     * @param {string} abilityId             ID of the ability being rolled as defined in `DND5E.abilities`.\n     * @returns {boolean}                    Explicitly return `false` to prevent ability save from being rolled.\n     */\n    if ( Hooks.call(\"dnd5e.preRollAbilitySave\", this, rollData, abilityId) === false ) return;\n\n    const roll = await d20Roll(rollData);\n\n    /**\n     * A hook event that fires after an ability save has been rolled for an Actor.\n     * @function dnd5e.rollAbilitySave\n     * @memberof hookEvents\n     * @param {Actor5e} actor     Actor for which the ability save has been rolled.\n     * @param {D20Roll} roll      The resulting roll.\n     * @param {string} abilityId  ID of the ability that was rolled as defined in `DND5E.abilities`.\n     */\n    if ( roll ) Hooks.callAll(\"dnd5e.rollAbilitySave\", this, roll, abilityId);\n\n    return roll;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Perform a death saving throw, rolling a d20 plus any global save bonuses\n   * @param {object} options          Additional options which modify the roll\n   * @returns {Promise<D20Roll|null>} A Promise which resolves to the Roll instance\n   */\n  async rollDeathSave(options={}) {\n    const death = this.system.attributes.death;\n    if ( !death ) throw new Error(`Actors of the type '${this.type}' don't support death saves.`);\n\n    // Display a warning if we are not at zero HP or if we already have reached 3\n    if ( (this.system.attributes.hp.value > 0) || (death.failure >= 3) || (death.success >= 3) ) {\n      ui.notifications.warn(\"DND5E.DeathSaveUnnecessary\", {localize: true});\n      return null;\n    }\n\n    // Evaluate a global saving throw bonus\n    const speaker = options.speaker || ChatMessage.getSpeaker({actor: this});\n    const globalBonuses = this.system.bonuses?.abilities ?? {};\n    const parts = [];\n    const data = this.getRollData();\n\n    // Diamond Soul adds proficiency\n    if ( this.getFlag(\"dnd5e\", \"diamondSoul\") ) {\n      parts.push(\"@prof\");\n      data.prof = new Proficiency(this.system.attributes.prof, 1).term;\n    }\n\n    // Include a global actor ability save bonus\n    if ( globalBonuses.save ) {\n      parts.push(\"@saveBonus\");\n      data.saveBonus = Roll.replaceFormulaData(globalBonuses.save, data);\n    }\n\n    // Evaluate the roll\n    const flavor = game.i18n.localize(\"DND5E.DeathSavingThrow\");\n    const rollData = foundry.utils.mergeObject({\n      data,\n      title: `${flavor}: ${this.name}`,\n      flavor,\n      halflingLucky: this.getFlag(\"dnd5e\", \"halflingLucky\"),\n      targetValue: 10,\n      messageData: {\n        speaker: speaker,\n        \"flags.dnd5e.roll\": {type: \"death\"}\n      }\n    }, options);\n    rollData.parts = parts.concat(options.parts ?? []);\n\n    /**\n     * A hook event that fires before a death saving throw is rolled for an Actor.\n     * @function dnd5e.preRollDeathSave\n     * @memberof hookEvents\n     * @param {Actor5e} actor                Actor for which the death saving throw is being rolled.\n     * @param {D20RollConfiguration} config  Configuration data for the pending roll.\n     * @returns {boolean}                    Explicitly return `false` to prevent death saving throw from being rolled.\n     */\n    if ( Hooks.call(\"dnd5e.preRollDeathSave\", this, rollData) === false ) return;\n\n    const roll = await d20Roll(rollData);\n    if ( !roll ) return null;\n\n    // Take action depending on the result\n    const details = {};\n\n    // Save success\n    if ( roll.total >= (roll.options.targetValue ?? 10) ) {\n      let successes = (death.success || 0) + 1;\n\n      // Critical Success = revive with 1hp\n      if ( roll.isCritical ) {\n        details.updates = {\n          \"system.attributes.death.success\": 0,\n          \"system.attributes.death.failure\": 0,\n          \"system.attributes.hp.value\": 1\n        };\n        details.chatString = \"DND5E.DeathSaveCriticalSuccess\";\n      }\n\n      // 3 Successes = survive and reset checks\n      else if ( successes === 3 ) {\n        details.updates = {\n          \"system.attributes.death.success\": 0,\n          \"system.attributes.death.failure\": 0\n        };\n        details.chatString = \"DND5E.DeathSaveSuccess\";\n      }\n\n      // Increment successes\n      else details.updates = {\"system.attributes.death.success\": Math.clamp(successes, 0, 3)};\n    }\n\n    // Save failure\n    else {\n      let failures = (death.failure || 0) + (roll.isFumble ? 2 : 1);\n      details.updates = {\"system.attributes.death.failure\": Math.clamp(failures, 0, 3)};\n      if ( failures >= 3 ) {  // 3 Failures = death\n        details.chatString = \"DND5E.DeathSaveFailure\";\n      }\n    }\n\n    /**\n     * A hook event that fires after a death saving throw has been rolled for an Actor, but before\n     * updates have been performed.\n     * @function dnd5e.rollDeathSave\n     * @memberof hookEvents\n     * @param {Actor5e} actor              Actor for which the death saving throw has been rolled.\n     * @param {D20Roll} roll               The resulting roll.\n     * @param {object} details\n     * @param {object} details.updates     Updates that will be applied to the actor as a result of this save.\n     * @param {string} details.chatString  Localizable string displayed in the create chat message. If not set, then\n     *                                     no chat message will be displayed.\n     * @returns {boolean}                  Explicitly return `false` to prevent updates from being performed.\n     */\n    if ( Hooks.call(\"dnd5e.rollDeathSave\", this, roll, details) === false ) return roll;\n\n    if ( !foundry.utils.isEmpty(details.updates) ) await this.update(details.updates);\n\n    // Display success/failure chat message\n    if ( details.chatString ) {\n      let chatData = { content: game.i18n.format(details.chatString, {name: this.name}), speaker };\n      ChatMessage.applyRollMode(chatData, roll.options.rollMode);\n      await ChatMessage.create(chatData);\n    }\n\n    // Return the rolled result\n    return roll;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Perform a saving throw to maintain concentration.\n   * @param {object} [options]          Options to configure how the saving throw is rolled\n   * @returns {Promise<D20Roll|null>}   A Promise which resolves to the created Roll instance\n   */\n  async rollConcentration(options={}) {\n    if ( !this.isOwner ) return null;\n    const conc = this.system.attributes?.concentration;\n    if ( !conc ) throw new Error(\"You may not make a Concentration Saving Throw with this Actor.\");\n\n    const config = CONFIG.DND5E;\n    const modes = CONFIG.Dice.D20Roll.ADV_MODE;\n    const parts = [];\n\n    // Concentration bonus\n    if ( conc.bonuses.save ) parts.push(conc.bonuses.save);\n\n    const ability = (conc.ability in config.abilities) ? conc.ability : config.defaultAbilities.concentration;\n\n    options = foundry.utils.mergeObject({\n      ability: ability,\n      isConcentration: true,\n      targetValue: 10,\n      advantage: options.advantage || (conc.roll.mode === modes.ADVANTAGE),\n      disadvantage: options.disadvantage || (conc.roll.mode === modes.DISADVANTAGE)\n    }, options);\n    options.parts = parts.concat(options.parts ?? []);\n\n    /**\n     * A hook event that fires before a saving throw to maintain concentration is rolled for an Actor.\n     * @function dnd5e.preRollConcentration\n     * @memberof hookEvents\n     * @param {Actor5e} actor                   Actor for which the saving throw is being rolled.\n     * @param {D20RollConfiguration} options    Configuration data for the pending roll.\n     * @returns {boolean}                       Explicitly return `false` to prevent the save from being performed.\n     */\n    if ( Hooks.call(\"dnd5e.preRollConcentration\", this, options) === false ) return;\n\n    // Perform a standard ability save.\n    const roll = await this.rollAbilitySave(options.ability, options);\n\n    /**\n     * A hook event that fires after a saving throw to maintain concentration is rolled for an Actor.\n     * @function dnd5e.rollConcentration\n     * @memberof hookEvents\n     * @param {Actor5e} actor     Actor for which the saving throw has been rolled.\n     * @param {D20Roll} roll      The resulting roll.\n     */\n    if ( roll ) Hooks.callAll(\"dnd5e.rollConcentration\", this, roll);\n\n    return roll;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get an un-evaluated D20Roll instance used to roll initiative for this Actor.\n   * @param {object} [options]                        Options which modify the roll\n   * @param {D20Roll.ADV_MODE} [options.advantageMode]    A specific advantage mode to apply\n   * @param {string} [options.flavor]                     Special flavor text to apply\n   * @returns {D20Roll}                               The constructed but unevaluated D20Roll\n   */\n  getInitiativeRoll(options={}) {\n\n    // Use a temporarily cached initiative roll\n    if ( this._cachedInitiativeRoll ) return this._cachedInitiativeRoll.clone();\n\n    // Obtain required data\n    const init = this.system.attributes?.init;\n    const abilityId = init?.ability || CONFIG.DND5E.defaultAbilities.initiative;\n    const data = this.getRollData();\n    const flags = this.flags.dnd5e || {};\n    if ( flags.initiativeAdv ) options.advantageMode ??= dnd5e.dice.D20Roll.ADV_MODE.ADVANTAGE;\n\n    // Standard initiative formula\n    const parts = [\"1d20\"];\n\n    // Special initiative bonuses\n    if ( init ) {\n      parts.push(init.mod);\n      if ( init.prof.term !== \"0\" ) {\n        parts.push(\"@prof\");\n        data.prof = init.prof.term;\n      }\n      if ( init.bonus ) {\n        parts.push(\"@bonus\");\n        data.bonus = Roll.replaceFormulaData(init.bonus, data);\n      }\n    }\n\n    // Ability check bonuses\n    if ( \"abilities\" in this.system ) {\n      const abilityBonus = this.system.abilities[abilityId]?.bonuses?.check;\n      if ( abilityBonus ) {\n        parts.push(\"@abilityBonus\");\n        data.abilityBonus = Roll.replaceFormulaData(abilityBonus, data);\n      }\n    }\n\n    // Global check bonus\n    if ( \"bonuses\" in this.system ) {\n      const globalCheckBonus = this.system.bonuses.abilities?.check;\n      if ( globalCheckBonus ) {\n        parts.push(\"@globalBonus\");\n        data.globalBonus = Roll.replaceFormulaData(globalCheckBonus, data);\n      }\n    }\n\n    // Alert feat\n    if ( flags.initiativeAlert ) {\n      parts.push(\"@alertBonus\");\n      data.alertBonus = 5;\n    }\n\n    // Ability score tiebreaker\n    const tiebreaker = game.settings.get(\"dnd5e\", \"initiativeDexTiebreaker\");\n    if ( tiebreaker && (\"abilities\" in this.system) ) {\n      const abilityValue = this.system.abilities[abilityId]?.value;\n      if ( Number.isNumeric(abilityValue) ) parts.push(String(abilityValue / 100));\n    }\n\n    options = foundry.utils.mergeObject({\n      flavor: options.flavor ?? game.i18n.localize(\"DND5E.Initiative\"),\n      halflingLucky: flags.halflingLucky ?? false,\n      critical: null,\n      fumble: null\n    }, options);\n\n    // Create the d20 roll\n    const formula = parts.join(\" + \");\n    return new CONFIG.Dice.D20Roll(formula, data, options);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Roll initiative for this Actor with a dialog that provides an opportunity to elect advantage or other bonuses.\n   * @param {object} [rollOptions]      Options forwarded to the Actor#getInitiativeRoll method\n   * @returns {Promise<void>}           A promise which resolves once initiative has been rolled for the Actor\n   */\n  async rollInitiativeDialog(rollOptions={}) {\n    // Create and configure the Initiative roll\n    const roll = this.getInitiativeRoll(rollOptions);\n    const choice = await roll.configureDialog({\n      defaultRollMode: game.settings.get(\"core\", \"rollMode\"),\n      title: `${game.i18n.localize(\"DND5E.InitiativeRoll\")}: ${this.name}`,\n      chooseModifier: false,\n      defaultAction: rollOptions.advantageMode ?? dnd5e.dice.D20Roll.ADV_MODE.NORMAL\n    });\n    if ( choice === null ) return; // Closed dialog\n\n    // Temporarily cache the configured roll and use it to roll initiative for the Actor\n    this._cachedInitiativeRoll = roll;\n    await this.rollInitiative({createCombatants: true});\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async rollInitiative(options={}, rollOptions={}) {\n    this._cachedInitiativeRoll ??= this.getInitiativeRoll(rollOptions);\n\n    /**\n     * A hook event that fires before initiative is rolled for an Actor.\n     * @function dnd5e.preRollInitiative\n     * @memberof hookEvents\n     * @param {Actor5e} actor  The Actor that is rolling initiative.\n     * @param {D20Roll} roll   The initiative roll.\n     */\n    if ( Hooks.call(\"dnd5e.preRollInitiative\", this, this._cachedInitiativeRoll) === false ) {\n      delete this._cachedInitiativeRoll;\n      return null;\n    }\n\n    const combat = await super.rollInitiative(options);\n    const combatants = this.isToken ? this.getActiveTokens(false, true).reduce((arr, t) => {\n      const combatant = game.combat.getCombatantByToken(t.id);\n      if ( combatant ) arr.push(combatant);\n      return arr;\n    }, []) : [game.combat.getCombatantByActor(this.id)];\n\n    /**\n     * A hook event that fires after an Actor has rolled for initiative.\n     * @function dnd5e.rollInitiative\n     * @memberof hookEvents\n     * @param {Actor5e} actor           The Actor that rolled initiative.\n     * @param {Combatant[]} combatants  The associated Combatants in the Combat.\n     */\n    Hooks.callAll(\"dnd5e.rollInitiative\", this, combatants);\n    delete this._cachedInitiativeRoll;\n    return combat;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Roll a hit die of the appropriate type, gaining hit points equal to the die roll plus your CON modifier.\n   * @param {string} [denomination]  The hit denomination of hit die to roll. Example \"d8\".\n   *                                 If no denomination is provided, the first available HD will be used\n   * @param {object} options         Additional options which modify the roll.\n   * @returns {Promise<Roll|null>}   The created Roll instance, or null if no hit die was rolled\n   */\n  async rollHitDie(denomination, options={}) {\n    let cls = null;\n\n    // NPCs only have on denomination\n    if ( this.type === \"npc\" ) {\n      denomination = `d${this.system.attributes.hd.denomination}`;\n\n      // If no hit dice are available, display an error notification\n      if ( !this.system.attributes.hd.value ) {\n        ui.notifications.error(game.i18n.format(\"DND5E.HitDiceNPCWarn\", {name: this.name}));\n        return null;\n      }\n    }\n\n    // Otherwise check classes\n    else {\n      // If no denomination was provided, choose the first available\n      if ( !denomination ) {\n        cls = this.system.attributes.hd.classes.find(c => c.system.hitDiceUsed < c.system.levels);\n        if ( !cls ) return null;\n        denomination = cls.system.hitDice;\n      }\n\n      // Otherwise, locate a class (if any) which has an available hit die of the requested denomination\n      else cls = this.system.attributes.hd.classes.find(i => {\n        return (i.system.hitDice === denomination) && (i.system.hitDiceUsed < i.system.levels);\n      });\n\n      // If no class is available, display an error notification\n      if ( !cls ) {\n        ui.notifications.error(game.i18n.format(\"DND5E.HitDiceWarn\", {name: this.name, formula: denomination}));\n        return null;\n      }\n    }\n\n    // Prepare roll data\n    const flavor = game.i18n.localize(\"DND5E.HitDiceRoll\");\n    const rollConfig = foundry.utils.mergeObject({\n      formula: `max(0, 1${denomination} + @abilities.con.mod)`,\n      data: this.getRollData(),\n      chatMessage: true,\n      messageData: {\n        speaker: ChatMessage.implementation.getSpeaker({actor: this}),\n        flavor,\n        title: `${flavor}: ${this.name}`,\n        rollMode: game.settings.get(\"core\", \"rollMode\"),\n        \"flags.dnd5e.roll\": {type: \"hitDie\"}\n      }\n    }, options);\n\n    /**\n     * A hook event that fires before a hit die is rolled for an Actor.\n     * @function dnd5e.preRollHitDie\n     * @memberof hookEvents\n     * @param {Actor5e} actor               Actor for which the hit die is to be rolled.\n     * @param {object} config               Configuration data for the pending roll.\n     * @param {string} config.formula       Formula that will be rolled.\n     * @param {object} config.data          Data used when evaluating the roll.\n     * @param {boolean} config.chatMessage  Should a chat message be created for this roll?\n     * @param {object} config.messageData   Data used to create the chat message.\n     * @param {string} denomination         Size of hit die to be rolled.\n     * @returns {boolean}                   Explicitly return `false` to prevent hit die from being rolled.\n     */\n    if ( Hooks.call(\"dnd5e.preRollHitDie\", this, rollConfig, denomination) === false ) return;\n\n    const roll = await new Roll(rollConfig.formula, rollConfig.data).roll({async: true});\n    if ( rollConfig.chatMessage ) roll.toMessage(rollConfig.messageData);\n\n    const hp = this.system.attributes.hp;\n    const dhp = Math.min(Math.max(0, hp.effectiveMax) - hp.value, roll.total);\n    const updates = { actor: {\"system.attributes.hp.value\": hp.value + dhp} };\n    if ( cls ) updates.class = {\"system.hitDiceUsed\": cls.system.hitDiceUsed + 1};\n    else updates.actor[\"system.attributes.hd.spent\"] = this.system.attributes.hd.spent + 1;\n\n    /**\n     * A hook event that fires after a hit die has been rolled for an Actor, but before updates have been performed.\n     * @function dnd5e.rollHitDie\n     * @memberof hookEvents\n     * @param {Actor5e} actor           Actor for which the hit die has been rolled.\n     * @param {Roll} roll               The resulting roll.\n     * @param {object} updates\n     * @param {object} updates.actor    Updates that will be applied to the actor.\n     * @param {object} [updates.class]  Updates that will be applied to the class.\n     * @returns {boolean}               Explicitly return `false` to prevent updates from being performed.\n     */\n    if ( Hooks.call(\"dnd5e.rollHitDie\", this, roll, updates) === false ) return roll;\n\n    // Perform updates\n    if ( !foundry.utils.isEmpty(updates.actor) ) await this.update(updates.actor);\n    if ( !foundry.utils.isEmpty(updates.class) ) await cls.update(updates.class);\n\n    return roll;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Roll hit points for a specific class as part of a level-up workflow.\n   * @param {Item5e} item                         The class item whose hit dice to roll.\n   * @param {object} options\n   * @param {boolean} [options.chatMessage=true]  Display the chat message for this roll.\n   * @returns {Promise<Roll>}                     The completed roll.\n   * @see {@link dnd5e.preRollClassHitPoints}\n   */\n  async rollClassHitPoints(item, { chatMessage=true }={}) {\n    if ( item.type !== \"class\" ) throw new Error(\"Hit points can only be rolled for a class item.\");\n    const rollData = {\n      formula: `1${item.system.hitDice}`,\n      data: item.getRollData(),\n      chatMessage\n    };\n    const flavor = game.i18n.format(\"DND5E.AdvancementHitPointsRollMessage\", { class: item.name });\n    const messageData = {\n      title: `${flavor}: ${this.name}`,\n      flavor,\n      speaker: ChatMessage.implementation.getSpeaker({ actor: this }),\n      \"flags.dnd5e.roll\": { type: \"hitPoints\" }\n    };\n\n    /**\n     * A hook event that fires before hit points are rolled for a character's class.\n     * @function dnd5e.preRollClassHitPoints\n     * @memberof hookEvents\n     * @param {Actor5e} actor            Actor for which the hit points are being rolled.\n     * @param {Item5e} item              The class item whose hit dice will be rolled.\n     * @param {object} rollData\n     * @param {string} rollData.formula  The string formula to parse.\n     * @param {object} rollData.data     The data object against which to parse attributes within the formula.\n     * @param {object} messageData       The data object to use when creating the message.\n     */\n    Hooks.callAll(\"dnd5e.preRollClassHitPoints\", this, item, rollData, messageData);\n\n    const roll = new Roll(rollData.formula, rollData.data);\n    await roll.evaluate({async: true});\n\n    /**\n     * A hook event that fires after hit points haven been rolled for a character's class.\n     * @function dnd5e.rollClassHitPoints\n     * @memberof hookEvents\n     * @param {Actor5e} actor  Actor for which the hit points have been rolled.\n     * @param {Roll} roll      The resulting roll.\n     */\n    Hooks.callAll(\"dnd5e.rollClassHitPoints\", this, roll);\n\n    if ( rollData.chatMessage ) await roll.toMessage(messageData);\n    return roll;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Roll hit points for an NPC based on the HP formula.\n   * @param {object} options\n   * @param {boolean} [options.chatMessage=true]  Display the chat message for this roll.\n   * @returns {Promise<Roll>}                     The completed roll.\n   * @see {@link dnd5e.preRollNPCHitPoints}\n   */\n  async rollNPCHitPoints({ chatMessage=true }={}) {\n    if ( this.type !== \"npc\" ) throw new Error(\"NPC hit points can only be rolled for NPCs\");\n    const rollData = {\n      formula: this.system.attributes.hp.formula,\n      data: this.getRollData(),\n      chatMessage\n    };\n    const flavor = game.i18n.format(\"DND5E.HPFormulaRollMessage\");\n    const messageData = {\n      title: `${flavor}: ${this.name}`,\n      flavor,\n      speaker: ChatMessage.getSpeaker({ actor: this }),\n      \"flags.dnd5e.roll\": { type: \"hitPoints\" }\n    };\n\n    /**\n     * A hook event that fires before hit points are rolled for an NPC.\n     * @function dnd5e.preRollNPCHitPoints\n     * @memberof hookEvents\n     * @param {Actor5e} actor            Actor for which the hit points are being rolled.\n     * @param {object} rollData\n     * @param {string} rollData.formula  The string formula to parse.\n     * @param {object} rollData.data     The data object against which to parse attributes within the formula.\n     * @param {object} messageData       The data object to use when creating the message.\n     */\n    Hooks.callAll(\"dnd5e.preRollNPCHitPoints\", this, rollData, messageData);\n\n    const roll = new Roll(rollData.formula, rollData.data);\n    await roll.evaluate({async: true});\n\n    /**\n     * A hook event that fires after hit points are rolled for an NPC.\n     * @function dnd5e.rollNPCHitPoints\n     * @memberof hookEvents\n     * @param {Actor5e} actor  Actor for which the hit points have been rolled.\n     * @param {Roll} roll      The resulting roll.\n     */\n    Hooks.callAll(\"dnd5e.rollNPCHitPoints\", this, roll);\n\n    if ( rollData.chatMessage ) await roll.toMessage(messageData);\n    return roll;\n  }\n\n  /* -------------------------------------------- */\n  /*  Resting                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Configuration options for a rest.\n   *\n   * @typedef {object} RestConfiguration\n   * @property {string} type               Type of rest to perform.\n   * @property {boolean} dialog            Present a dialog window which allows for rolling hit dice as part of the\n   *                                       Short Rest and selecting whether a new day has occurred.\n   * @property {boolean} chat              Should a chat message be created to summarize the results of the rest?\n   * @property {number} duration           Amount of time passed during the rest in minutes.\n   * @property {boolean} newDay            Does this rest carry over to a new day?\n   * @property {boolean} [advanceTime]     Should the game clock be advanced by the rest duration?\n   * @property {boolean} [autoHD]          Should hit dice be spent automatically during a short rest?\n   * @property {number} [autoHDThreshold]  How many hit points should be missing before hit dice are\n   *                                       automatically spent during a short rest.\n   */\n\n  /**\n   * Results from a rest operation.\n   *\n   * @typedef {object} RestResult\n   * @property {number} dhp            Hit points recovered during the rest.\n   * @property {number} dhd            Hit dice recovered or spent during the rest.\n   * @property {object} updateData     Updates applied to the actor.\n   * @property {object[]} updateItems  Updates applied to actor's items.\n   * @property {boolean} longRest      Whether the rest type was a long rest.\n   * @property {boolean} newDay        Whether a new day occurred during the rest.\n   * @property {Roll[]} rolls          Any rolls that occurred during the rest process, not including hit dice.\n   */\n\n  /* -------------------------------------------- */\n\n  /**\n   * Take a short rest, possibly spending hit dice and recovering resources, item uses, and relevant spell slots.\n   * @param {RestConfiguration} [config]  Configuration options for a short rest.\n   * @returns {Promise<RestResult>}       A Promise which resolves once the short rest workflow has completed.\n   */\n  async shortRest(config={}) {\n    if ( this.type === \"vehicle\" ) return;\n\n    config = foundry.utils.mergeObject({\n      type: \"short\", dialog: true, chat: true, newDay: false, advanceTime: false, autoHD: false, autoHDThreshold: 3,\n      duration: CONFIG.DND5E.restTypes.short.duration[game.settings.get(\"dnd5e\", \"restVariant\")]\n    }, config);\n\n    /**\n     * A hook event that fires before a short rest is started.\n     * @function dnd5e.preShortRest\n     * @memberof hookEvents\n     * @param {Actor5e} actor             The actor that is being rested.\n     * @param {RestConfiguration} config  Configuration options for the rest.\n     * @returns {boolean}                 Explicitly return `false` to prevent the rest from being started.\n     */\n    if ( Hooks.call(\"dnd5e.preShortRest\", this, config) === false ) return;\n\n    // Take note of the initial hit points and number of hit dice the Actor has\n    const hd0 = foundry.utils.getProperty(this, \"system.attributes.hd.value\");\n    const hp0 = foundry.utils.getProperty(this, \"system.attributes.hp.value\");\n\n    // Display a Dialog for rolling hit dice\n    if ( config.dialog ) {\n      try {\n        foundry.utils.mergeObject(config, await ShortRestDialog.shortRestDialog({actor: this, canRoll: hd0 > 0}));\n      } catch(err) { return; }\n    }\n\n    /**\n     * A hook event that fires after a short rest has started, after the configuration is complete.\n     * @function dnd5e.shortRest\n     * @memberof hookEvents\n     * @param {Actor5e} actor             The actor that is being rested.\n     * @param {RestConfiguration} config  Configuration options for the rest.\n     * @returns {boolean}                 Explicitly return `false` to prevent the rest from being continued.\n     */\n    if ( Hooks.call(\"dnd5e.shortRest\", this, config) === false ) return;\n\n    // Automatically spend hit dice\n    if ( !config.dialog && config.autoHD ) await this.autoSpendHitDice({ threshold: config.autoHDThreshold });\n\n    // Return the rest result\n    const dhd = foundry.utils.getProperty(this, \"system.attributes.hd.value\") - hd0;\n    const dhp = foundry.utils.getProperty(this, \"system.attributes.hp.value\") - hp0;\n    return this._rest(config, { dhd, dhp });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Take a long rest, recovering hit points, hit dice, resources, item uses, and spell slots.\n   * @param {RestConfiguration} [config]  Configuration options for a long rest.\n   * @returns {Promise<RestResult>}       A Promise which resolves once the long rest workflow has completed.\n   */\n  async longRest(config={}) {\n    if ( this.type === \"vehicle\" ) return;\n\n    config = foundry.utils.mergeObject({\n      type: \"long\", dialog: true, chat: true, newDay: true, advanceTime: false,\n      duration: CONFIG.DND5E.restTypes.long.duration[game.settings.get(\"dnd5e\", \"restVariant\")]\n    }, config);\n\n    /**\n     * A hook event that fires before a long rest is started.\n     * @function dnd5e.preLongRest\n     * @memberof hookEvents\n     * @param {Actor5e} actor             The actor that is being rested.\n     * @param {RestConfiguration} config  Configuration options for the rest.\n     * @returns {boolean}                 Explicitly return `false` to prevent the rest from being started.\n     */\n    if ( Hooks.call(\"dnd5e.preLongRest\", this, config) === false ) return;\n\n    if ( config.dialog ) {\n      try {\n        foundry.utils.mergeObject(config, await LongRestDialog.longRestDialog({actor: this}));\n      } catch(err) { return; }\n    }\n\n    /**\n     * A hook event that fires after a long rest has started, after the configuration is complete.\n     * @function dnd5e.longRest\n     * @memberof hookEvents\n     * @param {Actor5e} actor             The actor that is being rested.\n     * @param {RestConfiguration} config  Configuration options for the rest.\n     * @returns {boolean}                 Explicitly return `false` to prevent the rest from being continued.\n     */\n    if ( Hooks.call(\"dnd5e.longRest\", this, config) === false ) return;\n\n    return this._rest(config);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Perform all of the changes needed for a short or long rest.\n   *\n   * @param {RestConfiguration} config  Configuration data for the rest occurring.\n   * @param {RestResult} [result={}]    Results of the rest operation being built.\n   * @param {*[]} [args]\n   * @returns {Promise<RestResult>}  Consolidated results of the rest workflow.\n   * @private\n   */\n  async _rest(config, result={}, ...args) {\n    if ( args.length ) {\n      foundry.utils.logCompatibilityWarning(\n        \"Actor5e._rest now takes a config object and a results object as parameters.\",\n        { since: \"DnD5e 3.1\", until: \"DnD5e 3.3\" }\n      );\n      const [longRest, dhd, dhp] = args;\n      config = { chat: config, newDay: result };\n      config.type = longRest ? \"long\" : \"short\";\n      result = { dhd, dhp };\n    }\n\n    if ( (foundry.utils.getType(this.system.rest) === \"function\")\n      && (await this.system.rest(config, result) === false) ) return;\n\n    let hitPointsRecovered = 0;\n    let hpActorUpdates = {};\n    let hitDiceRecovered = 0;\n    let hdActorUpdates = {};\n    let hdItemUpdates = [];\n    const rolls = [];\n    const longRest = config.type === \"long\";\n    const newDay = config.newDay === true;\n\n    // Recover hit points & hit dice on long rest\n    if ( longRest ) {\n      ({ updates: hpActorUpdates, hitPointsRecovered } = this._getRestHitPointRecovery());\n      ({ updates: hdItemUpdates, actorUpdates: hdActorUpdates, hitDiceRecovered } = this._getRestHitDiceRecovery());\n    }\n\n    // Figure out the rest of the changes\n    foundry.utils.mergeObject(result, {\n      dhd: (result.dhd ?? 0) + hitDiceRecovered,\n      dhp: (result.dhp ?? 0) + hitPointsRecovered,\n      updateData: {\n        ...(hdActorUpdates ?? {}),\n        ...hpActorUpdates,\n        ...this._getRestResourceRecovery({ recoverShortRestResources: !longRest, recoverLongRestResources: longRest }),\n        ...this._getRestSpellRecovery({ recoverLong: longRest })\n      },\n      updateItems: [\n        ...(hdItemUpdates ?? []),\n        ...(await this._getRestItemUsesRecovery({ recoverLongRestUses: longRest, recoverDailyUses: newDay, rolls }))\n      ],\n      longRest,\n      newDay\n    });\n    result.rolls = rolls;\n\n    /**\n     * A hook event that fires after rest result is calculated, but before any updates are performed.\n     * @function dnd5e.preRestCompleted\n     * @memberof hookEvents\n     * @param {Actor5e} actor             The actor that is being rested.\n     * @param {RestResult} result         Details on the rest to be completed.\n     * @param {RestConfiguration} config  Configuration data for the rest occurring.\n     * @returns {boolean}                 Explicitly return `false` to prevent the rest updates from being performed.\n     */\n    if ( Hooks.call(\"dnd5e.preRestCompleted\", this, result, config) === false ) return result;\n\n    // Perform updates\n    await this.update(result.updateData, { isRest: true });\n    await this.updateEmbeddedDocuments(\"Item\", result.updateItems, { isRest: true });\n\n    // Advance the game clock\n    if ( config.advanceTime && (config.duration > 0) && game.user.isGM ) await game.time.advance(60 * config.duration);\n\n    // Display a Chat Message summarizing the rest effects\n    if ( config.chat ) await this._displayRestResultMessage(result, longRest);\n\n    /**\n     * A hook event that fires when the rest process is completed for an actor.\n     * @function dnd5e.restCompleted\n     * @memberof hookEvents\n     * @param {Actor5e} actor             The actor that just completed resting.\n     * @param {RestResult} result         Details on the rest completed.\n     * @param {RestConfiguration} config  Configuration data for that occurred.\n     */\n    Hooks.callAll(\"dnd5e.restCompleted\", this, result, config);\n\n    // Return data summarizing the rest effects\n    return result;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Display a chat message with the result of a rest.\n   *\n   * @param {RestResult} result         Result of the rest operation.\n   * @param {boolean} [longRest=false]  Is this a long rest?\n   * @returns {Promise<ChatMessage>}    Chat message that was created.\n   * @protected\n   */\n  async _displayRestResultMessage(result, longRest=false) {\n    const { dhd, dhp, newDay } = result;\n    const diceRestored = dhd !== 0;\n    const healthRestored = dhp !== 0;\n    const length = longRest ? \"Long\" : \"Short\";\n\n    // Summarize the rest duration\n    let restFlavor;\n    switch (game.settings.get(\"dnd5e\", \"restVariant\")) {\n      case \"normal\":\n        restFlavor = (longRest && newDay) ? \"DND5E.LongRestOvernight\" : `DND5E.${length}RestNormal`;\n        break;\n      case \"gritty\":\n        restFlavor = (!longRest && newDay) ? \"DND5E.ShortRestOvernight\" : `DND5E.${length}RestGritty`;\n        break;\n      case \"epic\":\n        restFlavor = `DND5E.${length}RestEpic`;\n        break;\n    }\n\n    // Determine the chat message to display\n    let message;\n    if ( diceRestored && healthRestored ) message = `DND5E.${length}RestResult`;\n    else if ( longRest && !diceRestored && healthRestored ) message = \"DND5E.LongRestResultHitPoints\";\n    else if ( longRest && diceRestored && !healthRestored ) message = \"DND5E.LongRestResultHitDice\";\n    else message = `DND5E.${length}RestResultShort`;\n\n    // Create a chat message\n    let chatData = {\n      user: game.user.id,\n      speaker: {actor: this, alias: this.name},\n      flavor: game.i18n.localize(restFlavor),\n      rolls: result.rolls,\n      content: game.i18n.format(message, {\n        name: this.name,\n        dice: longRest ? dhd : -dhd,\n        health: dhp\n      }),\n      \"flags.dnd5e.rest\": { type: longRest ? \"long\" : \"short\" }\n    };\n    ChatMessage.applyRollMode(chatData, game.settings.get(\"core\", \"rollMode\"));\n    return ChatMessage.create(chatData);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Automatically spend hit dice to recover hit points up to a certain threshold.\n   * @param {object} [options]\n   * @param {number} [options.threshold=3]  A number of missing hit points which would trigger an automatic HD roll.\n   * @returns {Promise<number>}             Number of hit dice spent.\n   */\n  async autoSpendHitDice({ threshold=3 }={}) {\n    const hp = this.system.attributes.hp;\n    const max = Math.max(0, hp.effectiveMax);\n    let diceRolled = 0;\n    while ( (this.system.attributes.hp.value + threshold) <= max ) {\n      const r = await this.rollHitDie();\n      if ( r === null ) break;\n      diceRolled += 1;\n    }\n    return diceRolled;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Recovers actor hit points and eliminates any temp HP.\n   * @param {object} [options]\n   * @param {boolean} [options.recoverTemp=true]     Reset temp HP to zero.\n   * @param {boolean} [options.recoverTempMax=true]  Reset temp max HP to zero.\n   * @returns {object}                               Updates to the actor and change in hit points.\n   * @protected\n   */\n  _getRestHitPointRecovery({recoverTemp=true, recoverTempMax=true}={}) {\n    const hp = this.system.attributes.hp;\n    let max = hp.max;\n    let updates = {};\n    if ( recoverTempMax ) updates[\"system.attributes.hp.tempmax\"] = 0;\n    else max = Math.max(0, hp.effectiveMax);\n    updates[\"system.attributes.hp.value\"] = max;\n    if ( recoverTemp ) updates[\"system.attributes.hp.temp\"] = 0;\n    return { updates, hitPointsRecovered: Math.max(0, max - hp.value) };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Recovers actor resources.\n   * @param {object} [options]\n   * @param {boolean} [options.recoverShortRestResources=true]  Recover resources that recharge on a short rest.\n   * @param {boolean} [options.recoverLongRestResources=true]   Recover resources that recharge on a long rest.\n   * @returns {object}                                          Updates to the actor.\n   * @protected\n   */\n  _getRestResourceRecovery({recoverShortRestResources=true, recoverLongRestResources=true}={}) {\n    let updates = {};\n    for ( let [k, r] of Object.entries(this.system.resources ?? {}) ) {\n      if ( Number.isNumeric(r.max) && ((recoverShortRestResources && r.sr) || (recoverLongRestResources && r.lr)) ) {\n        updates[`system.resources.${k}.value`] = Number(r.max);\n      }\n    }\n    return updates;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Recovers expended spell slots.\n   * @param {object} [options]\n   * @param {boolean} [options.recoverShort=true]    Recover slots that return on short rests.\n   * @param {boolean} [options.recoverLong=true]     Recover slots that return on long rests.\n   * @returns {object}                               Updates to the actor.\n   * @protected\n   */\n  _getRestSpellRecovery({recoverShort=true, recoverLong=true}={}) {\n    const spells = this.system.spells;\n    let updates = {};\n    if ( !spells ) return updates;\n\n    Object.entries(CONFIG.DND5E.spellPreparationModes).forEach(([k, v]) => {\n      const isSR = CONFIG.DND5E.spellcastingTypes[k === \"prepared\" ? \"leveled\" : k]?.shortRest;\n      if ( v.upcast && ((recoverShort && isSR) || recoverLong) ) {\n        if ( k === \"prepared\" ) {\n          Object.entries(spells).forEach(([m, n]) => {\n            if ( /^spell\\d+/.test(m) && n.level ) updates[`system.spells.${m}.value`] = n.max;\n          });\n        }\n        else if ( k !== \"always\" ) updates[`system.spells.${k}.value`] = spells[k].max;\n      }\n    });\n    return updates;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Recovers class hit dice during a long rest.\n   *\n   * @param {object} [options]\n   * @param {number} [options.maxHitDice]  Maximum number of hit dice to recover.\n   * @returns {object}                     Array of item updates and number of hit dice recovered.\n   * @protected\n   */\n  _getRestHitDiceRecovery({maxHitDice}={}) {\n    // Handle simpler HD recovery for NPCs\n    if ( this.type === \"npc\" ) {\n      const hd = this.system.attributes.hd;\n      const recovered = Math.min(\n        Math.max(1, Math.floor(hd.max * 0.5)), hd.spent, maxHitDice ?? Infinity\n      );\n      return {\n        actorUpdates: { \"system.attributes.hd.spent\": hd.spent - recovered },\n        hitDiceRecovered: recovered\n      };\n    }\n\n    return this.system.attributes.hd.createHitDiceUpdates({maxHitDice});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Recovers item uses during short or long rests.\n   * @param {object} [options]\n   * @param {boolean} [options.recoverShortRestUses=true]  Recover uses for items that recharge after a short rest.\n   * @param {boolean} [options.recoverLongRestUses=true]   Recover uses for items that recharge after a long rest.\n   * @param {boolean} [options.recoverDailyUses=true]      Recover uses for items that recharge on a new day.\n   * @param {Roll[]} [options.rolls]                       Rolls that have been performed as part of this rest.\n   * @returns {Promise<object[]>}                          Array of item updates.\n   * @protected\n   */\n  async _getRestItemUsesRecovery({recoverShortRestUses=true, recoverLongRestUses=true,\n    recoverDailyUses=true, rolls}={}) {\n    let recovery = [];\n    if ( recoverShortRestUses ) recovery.push(\"sr\");\n    if ( recoverLongRestUses ) recovery.push(\"lr\");\n    if ( recoverDailyUses ) recovery.push(\"day\");\n    let updates = [];\n    for ( let item of this.items ) {\n      const uses = item.system.uses ?? {};\n      if ( recovery.includes(uses.per) ) {\n        updates.push({_id: item.id, \"system.uses.value\": uses.max});\n      }\n      if ( recoverLongRestUses && item.system.recharge?.value ) {\n        updates.push({_id: item.id, \"system.recharge.charged\": true});\n      }\n\n      // Items that roll to gain charges via a formula\n      if ( recoverDailyUses && uses.recovery && CONFIG.DND5E.limitedUsePeriods[uses.per]?.formula ) {\n        const roll = new Roll(uses.recovery, item.getRollData());\n        if ( recoverLongRestUses && (game.settings.get(\"dnd5e\", \"restVariant\") === \"gritty\") ) {\n          roll.alter(7, 0, {multiplyNumeric: true});\n        }\n\n        let total = 0;\n        try {\n          total = (await roll.evaluate()).total;\n        } catch(err) {\n          ui.notifications.warn(game.i18n.format(\"DND5E.ItemRecoveryFormulaWarning\", {\n            name: item.name,\n            formula: uses.recovery\n          }));\n        }\n\n        const newValue = Math.clamp(uses.value + total, 0, uses.max);\n        if ( newValue !== uses.value ) {\n          const diff = newValue - uses.value;\n          const isMax = newValue === uses.max;\n          const locKey = `DND5E.Item${diff < 0 ? \"Loss\" : \"Recovery\"}Roll${isMax ? \"Max\" : \"\"}`;\n          updates.push({_id: item.id, \"system.uses.value\": newValue});\n          rolls.push(roll);\n          await roll.toMessage({\n            user: game.user.id,\n            speaker: {actor: this, alias: this.name},\n            flavor: game.i18n.format(locKey, {name: item.name, count: Math.abs(diff)})\n          });\n        }\n      }\n    }\n    return updates;\n  }\n\n  /* -------------------------------------------- */\n  /*  Property Attribution                        */\n  /* -------------------------------------------- */\n\n  /**\n   * Format an HTML breakdown for a given property.\n   * @param {string} attribution      The property.\n   * @param {object} [options]\n   * @param {string} [options.title]  A title for the breakdown.\n   * @returns {Promise<string>}\n   */\n  async getAttributionData(attribution, { title }={}) {\n    switch ( attribution ) {\n      case \"attributes.ac\": return this._prepareArmorClassAttribution({ title });\n      case \"attributes.movement\": return this._prepareMovementAttribution();\n      default: return \"\";\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare a movement breakdown.\n   * @returns {string}\n   * @protected\n   */\n  _prepareMovementAttribution() {\n    const { movement } = this.system.attributes;\n    const units = movement.units || Object.keys(CONFIG.DND5E.movementUnits)[0];\n    return Object.entries(CONFIG.DND5E.movementTypes).reduce((html, [k, label]) => {\n      const value = movement[k];\n      if ( value || (k === \"walk\") ) html += `\n        <div class=\"row\">\n          <i class=\"fas ${k}\"></i>\n          <span class=\"value\">${value ?? 0} <span class=\"units\">${units}</span></span>\n          <span class=\"label\">${label}</span>\n        </div>\n      `;\n      return html;\n    }, \"\");\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare an AC breakdown.\n   * @param {object} [options]\n   * @param {string} [options.title]  A title for the breakdown.\n   * @returns {Promise<string>}\n   * @protected\n   */\n  async _prepareArmorClassAttribution({ title }={}) {\n    const rollData = this.getRollData({ deterministic: true });\n    const ac = rollData.attributes.ac;\n    const cfg = CONFIG.DND5E.armorClasses[ac.calc];\n    const attribution = [];\n\n    if ( ac.calc === \"flat\" ) {\n      attribution.push({\n        label: game.i18n.localize(\"DND5E.ArmorClassFlat\"),\n        mode: CONST.ACTIVE_EFFECT_MODES.OVERRIDE,\n        value: ac.flat\n      });\n      return new PropertyAttribution(this, attribution, \"attributes.ac\", { title }).renderTooltip();\n    }\n\n    // Base AC Attribution\n    switch ( ac.calc ) {\n\n      // Natural armor\n      case \"natural\":\n        attribution.push({\n          label: game.i18n.localize(\"DND5E.ArmorClassNatural\"),\n          mode: CONST.ACTIVE_EFFECT_MODES.OVERRIDE,\n          value: ac.flat\n        });\n        break;\n\n      default:\n        const formula = ac.calc === \"custom\" ? ac.formula : cfg.formula;\n        let base = ac.base;\n        const dataRgx = new RegExp(/@([a-z.0-9_-]+)/gi);\n        for ( const [match, term] of formula.matchAll(dataRgx) ) {\n          const value = String(foundry.utils.getProperty(rollData, term));\n          if ( (term === \"attributes.ac.armor\") || (value === \"0\") ) continue;\n          if ( Number.isNumeric(value) ) base -= Number(value);\n          attribution.push({\n            label: match,\n            mode: CONST.ACTIVE_EFFECT_MODES.ADD,\n            value\n          });\n        }\n        const armorInFormula = formula.includes(\"@attributes.ac.armor\");\n        let label = game.i18n.localize(\"DND5E.PropertyBase\");\n        if ( armorInFormula ) label = this.armor?.name ?? game.i18n.localize(\"DND5E.ArmorClassUnarmored\");\n        attribution.unshift({\n          label,\n          mode: CONST.ACTIVE_EFFECT_MODES.OVERRIDE,\n          value: base\n        });\n        break;\n    }\n\n    // Shield\n    if ( ac.shield !== 0 ) attribution.push({\n      label: this.shield?.name ?? game.i18n.localize(\"DND5E.EquipmentShield\"),\n      mode: CONST.ACTIVE_EFFECT_MODES.ADD,\n      value: ac.shield\n    });\n\n    // Bonus\n    if ( ac.bonus !== 0 ) attribution.push(...this._prepareActiveEffectAttributions(\"system.attributes.ac.bonus\"));\n\n    // Cover\n    if ( ac.cover !== 0 ) attribution.push({\n      label: game.i18n.localize(\"DND5E.Cover\"),\n      mode: CONST.ACTIVE_EFFECT_MODES.ADD,\n      value: ac.cover\n    });\n\n    if ( attribution.length ) {\n      return new PropertyAttribution(this, attribution, \"attributes.ac\", { title }).renderTooltip();\n    }\n\n    return \"\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Break down all of the Active Effects affecting a given target property.\n   * @param {string} target               The data property being targeted.\n   * @returns {AttributionDescription[]}  Any active effects that modify that property.\n   * @protected\n   */\n  _prepareActiveEffectAttributions(target) {\n    const rollData = this.getRollData({ deterministic: true });\n    const attributions = [];\n    for ( const e of this.allApplicableEffects() ) {\n      let source = e.sourceName;\n      if ( !e.origin || (e.origin === this.uuid) ) source = e.name;\n      if ( !source || e.disabled || e.isSuppressed ) continue;\n      const value = e.changes.reduce((n, change) => {\n        if ( change.key !== target ) return n;\n        if ( change.mode !== CONST.ACTIVE_EFFECT_MODES.ADD ) return n;\n        return n + simplifyBonus(change.value, rollData);\n      }, 0);\n      if ( value ) attributions.push({ value, label: source, mode: CONST.ACTIVE_EFFECT_MODES.ADD });\n    }\n    return attributions;\n  }\n\n  /* -------------------------------------------- */\n  /*  Conversion & Transformation                 */\n  /* -------------------------------------------- */\n\n  /**\n   * Fetch stats from the original actor for data preparation.\n   * @returns {{ originalSaves: object|null, originalSkills: object|null }}\n   */\n  getOriginalStats() {\n    // Retrieve data for polymorphed actors\n    let originalSaves = null;\n    let originalSkills = null;\n    if ( this.isPolymorphed ) {\n      const transformOptions = this.flags.dnd5e?.transformOptions;\n      const original = game.actors?.get(this.flags.dnd5e?.originalActor);\n      if ( original ) {\n        if ( transformOptions.mergeSaves ) originalSaves = original.system.abilities;\n        if ( transformOptions.mergeSkills ) originalSkills = original.system.skills;\n      }\n    }\n    return { originalSaves, originalSkills };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Options that determine what properties of the original actor are kept and which are replaced with\n   * the target actor.\n   *\n   * @typedef {object} TransformationOptions\n   * @property {boolean} [keepPhysical=false]       Keep physical abilities (str, dex, con)\n   * @property {boolean} [keepMental=false]         Keep mental abilities (int, wis, cha)\n   * @property {boolean} [keepSaves=false]          Keep saving throw proficiencies\n   * @property {boolean} [keepSkills=false]         Keep skill proficiencies\n   * @property {boolean} [mergeSaves=false]         Take the maximum of the save proficiencies\n   * @property {boolean} [mergeSkills=false]        Take the maximum of the skill proficiencies\n   * @property {boolean} [keepClass=false]          Keep proficiency bonus\n   * @property {boolean} [keepFeats=false]          Keep features\n   * @property {boolean} [keepSpells=false]         Keep spells and spellcasting ability\n   * @property {boolean} [keepItems=false]          Keep items\n   * @property {boolean} [keepBio=false]            Keep biography\n   * @property {boolean} [keepVision=false]         Keep vision\n   * @property {boolean} [keepSelf=false]           Keep self\n   * @property {boolean} [keepAE=false]             Keep all effects\n   * @property {boolean} [keepOriginAE=true]        Keep effects which originate on this actor\n   * @property {boolean} [keepOtherOriginAE=true]   Keep effects which originate on another actor\n   * @property {boolean} [keepSpellAE=true]         Keep effects which originate from actors spells\n   * @property {boolean} [keepFeatAE=true]          Keep effects which originate from actors features\n   * @property {boolean} [keepEquipmentAE=true]     Keep effects which originate on actors equipment\n   * @property {boolean} [keepClassAE=true]         Keep effects which originate from actors class/subclass\n   * @property {boolean} [keepBackgroundAE=true]    Keep effects which originate from actors background\n   * @property {boolean} [transformTokens=true]     Transform linked tokens too\n   */\n\n  /**\n   * Transform this Actor into another one.\n   *\n   * @param {Actor5e} target                      The target Actor.\n   * @param {TransformationOptions} [options={}]  Options that determine how the transformation is performed.\n   * @param {boolean} [options.renderSheet=true]  Render the sheet of the transformed actor after the polymorph\n   * @returns {Promise<Array<Token>>|null}        Updated token if the transformation was performed.\n   */\n  async transformInto(target, { keepPhysical=false, keepMental=false, keepSaves=false, keepSkills=false,\n    mergeSaves=false, mergeSkills=false, keepClass=false, keepFeats=false, keepSpells=false, keepItems=false,\n    keepBio=false, keepVision=false, keepSelf=false, keepAE=false, keepOriginAE=true, keepOtherOriginAE=true,\n    keepSpellAE=true, keepEquipmentAE=true, keepFeatAE=true, keepClassAE=true, keepBackgroundAE=true,\n    transformTokens=true}={}, {renderSheet=true}={}) {\n\n    // Ensure the player is allowed to polymorph\n    const allowed = game.settings.get(\"dnd5e\", \"allowPolymorphing\");\n    if ( !allowed && !game.user.isGM ) {\n      ui.notifications.warn(\"DND5E.PolymorphWarn\", {localize: true});\n      return null;\n    }\n\n    // Get the original Actor data and the new source data\n    const o = this.toObject();\n    o.flags.dnd5e = o.flags.dnd5e || {};\n    o.flags.dnd5e.transformOptions = {mergeSkills, mergeSaves};\n    const source = target.toObject();\n\n    if ( keepSelf ) {\n      o.img = source.img;\n      o.name = `${o.name} (${game.i18n.localize(\"DND5E.PolymorphSelf\")})`;\n    }\n\n    // Prepare new data to merge from the source\n    const d = foundry.utils.mergeObject(foundry.utils.deepClone({\n      type: o.type, // Remain the same actor type\n      name: `${o.name} (${source.name})`, // Append the new shape to your old name\n      system: source.system, // Get the systemdata model of your new form\n      items: source.items, // Get the items of your new form\n      effects: o.effects.concat(source.effects), // Combine active effects from both forms\n      img: source.img, // New appearance\n      ownership: o.ownership, // Use the original actor permissions\n      folder: o.folder, // Be displayed in the same sidebar folder\n      flags: o.flags, // Use the original actor flags\n      prototypeToken: { name: `${o.name} (${source.name})`, texture: {}, sight: {}, detectionModes: [] } // Set a new empty token\n    }), keepSelf ? o : {}); // Keeps most of original actor\n\n    // Specifically delete some data attributes\n    delete d.system.resources; // Don't change your resource pools\n    delete d.system.currency; // Don't lose currency\n    delete d.system.bonuses; // Don't lose global bonuses\n    if ( keepSpells ) delete d.system.attributes.spellcasting; // Keep spellcasting ability if retaining spells.\n\n    // Specific additional adjustments\n    d.system.details.alignment = o.system.details.alignment; // Don't change alignment\n    d.system.attributes.exhaustion = o.system.attributes.exhaustion; // Keep your prior exhaustion level\n    d.system.attributes.inspiration = o.system.attributes.inspiration; // Keep inspiration\n    d.system.spells = o.system.spells; // Keep spell slots\n    d.system.attributes.ac.flat = target.system.attributes.ac.value; // Override AC\n\n    // Token appearance updates\n    for ( const k of [\"width\", \"height\", \"alpha\", \"lockRotation\"] ) {\n      d.prototypeToken[k] = source.prototypeToken[k];\n    }\n    for ( const k of [\"offsetX\", \"offsetY\", \"scaleX\", \"scaleY\", \"src\", \"tint\"] ) {\n      d.prototypeToken.texture[k] = source.prototypeToken.texture[k];\n    }\n    if ( game.release.generation >= 12 ) d.prototypeToken.ring = source.prototypeToken.ring;\n    else {\n      foundry.utils.setProperty(d.prototypeToken, \"flags.dnd5e.tokenRing\", foundry.utils.mergeObject(\n        foundry.utils.getProperty(d.prototypeToken, \"flags.dnd5e.tokenRing\") ?? {},\n        foundry.utils.getProperty(source.prototypeToken, \"flags.dnd5e.tokenRing\") ?? {},\n        { inplace: false }\n      ));\n    }\n    for ( const k of [\"bar1\", \"bar2\", \"displayBars\", \"displayName\", \"disposition\", \"rotation\", \"elevation\"] ) {\n      d.prototypeToken[k] = o.prototypeToken[k];\n    }\n\n    if ( !keepSelf ) {\n      const sightSource = keepVision ? o.prototypeToken : source.prototypeToken;\n      for ( const k of [\"range\", \"angle\", \"visionMode\", \"color\", \"attenuation\", \"brightness\", \"saturation\", \"contrast\", \"enabled\"] ) {\n        d.prototypeToken.sight[k] = sightSource.sight[k];\n      }\n      d.prototypeToken.detectionModes = sightSource.detectionModes;\n\n      // Transfer ability scores\n      const abilities = d.system.abilities;\n      for ( let k of Object.keys(abilities) ) {\n        const oa = o.system.abilities[k];\n        const prof = abilities[k].proficient;\n        const type = CONFIG.DND5E.abilities[k]?.type;\n        if ( keepPhysical && (type === \"physical\") ) abilities[k] = oa;\n        else if ( keepMental && (type === \"mental\") ) abilities[k] = oa;\n\n        // Set saving throw proficiencies.\n        if ( keepSaves && oa ) abilities[k].proficient = oa.proficient;\n        else if ( mergeSaves && oa ) abilities[k].proficient = Math.max(prof, oa.proficient);\n        else abilities[k].proficient = source.system.abilities[k].proficient;\n      }\n\n      // Transfer skills\n      if ( keepSkills ) d.system.skills = o.system.skills;\n      else if ( mergeSkills ) {\n        for ( let [k, s] of Object.entries(d.system.skills) ) {\n          s.value = Math.max(s.value, o.system.skills[k]?.value ?? 0);\n        }\n      }\n\n      // Keep specific items from the original data\n      d.items = d.items.concat(o.items.filter(i => {\n        if ( [\"class\", \"subclass\"].includes(i.type) ) return keepClass;\n        else if ( i.type === \"feat\" ) return keepFeats;\n        else if ( i.type === \"spell\" ) return keepSpells;\n        else return keepItems;\n      }));\n\n      // Transfer classes for NPCs\n      if ( !keepClass && d.system.details.cr ) {\n        const cls = new dnd5e.dataModels.item.ClassData({levels: d.system.details.cr});\n        d.items.push({\n          type: \"class\",\n          name: game.i18n.localize(\"DND5E.PolymorphTmpClass\"),\n          system: cls.toObject()\n        });\n      }\n\n      // Keep biography\n      if ( keepBio ) d.system.details.biography = o.system.details.biography;\n\n      // Keep senses\n      if ( keepVision ) d.system.traits.senses = o.system.traits.senses;\n\n      // Remove active effects\n      const oEffects = foundry.utils.deepClone(d.effects);\n      const originEffectIds = new Set(oEffects.filter(effect => {\n        return !effect.origin || effect.origin === this.uuid;\n      }).map(e => e._id));\n      d.effects = d.effects.filter(e => {\n        if ( keepAE ) return true;\n        const origin = e.origin?.startsWith(\"Actor\") || e.origin?.startsWith(\"Item\") ? fromUuidSync(e.origin) : {};\n        const originIsSelf = origin?.parent?.uuid === this.uuid;\n        const isOriginEffect = originEffectIds.has(e._id);\n        if ( isOriginEffect ) return keepOriginAE;\n        if ( !isOriginEffect && !originIsSelf ) return keepOtherOriginAE;\n        if ( origin.type === \"spell\" ) return keepSpellAE;\n        if ( origin.type === \"feat\" ) return keepFeatAE;\n        if ( origin.type === \"background\" ) return keepBackgroundAE;\n        if ( [\"subclass\", \"class\"].includes(origin.type) ) return keepClassAE;\n        if ( [\"equipment\", \"weapon\", \"tool\", \"loot\", \"container\"].includes(origin.type) ) return keepEquipmentAE;\n        return true;\n      });\n    }\n\n    // Set a random image if source is configured that way\n    if ( source.prototypeToken.randomImg ) {\n      const images = await target.getTokenImages();\n      d.prototypeToken.texture.src = images[Math.floor(Math.random() * images.length)];\n    }\n\n    // Set new data flags\n    if ( !this.isPolymorphed || !d.flags.dnd5e.originalActor ) d.flags.dnd5e.originalActor = this.id;\n    d.flags.dnd5e.isPolymorphed = true;\n\n    // Gather previous actor data\n    const previousActorIds = this.getFlag(\"dnd5e\", \"previousActorIds\") || [];\n    previousActorIds.push(this._id);\n    foundry.utils.setProperty(d.flags, \"dnd5e.previousActorIds\", previousActorIds);\n\n    // Update unlinked Tokens, and grab a copy of any actorData adjustments to re-apply\n    if ( this.isToken ) {\n      const tokenData = d.prototypeToken;\n      delete d.prototypeToken;\n      tokenData.delta = d;\n      const previousActorData = this.token.delta.toObject();\n      foundry.utils.setProperty(tokenData, \"flags.dnd5e.previousActorData\", previousActorData);\n      await this.sheet?.close();\n      const update = await this.token.update(tokenData);\n      if ( renderSheet ) this.sheet?.render(true);\n      return update;\n    }\n\n    // Close sheet for non-transformed Actor\n    await this.sheet?.close();\n\n    /**\n     * A hook event that fires just before the actor is transformed.\n     * @function dnd5e.transformActor\n     * @memberof hookEvents\n     * @param {Actor5e} actor                  The original actor before transformation.\n     * @param {Actor5e} target                 The target actor into which to transform.\n     * @param {object} data                    The data that will be used to create the new transformed actor.\n     * @param {TransformationOptions} options  Options that determine how the transformation is performed.\n     * @param {object} [options]\n     */\n    Hooks.callAll(\"dnd5e.transformActor\", this, target, d, {\n      keepPhysical, keepMental, keepSaves, keepSkills, mergeSaves, mergeSkills, keepClass, keepFeats, keepSpells,\n      keepItems, keepBio, keepVision, keepSelf, keepAE, keepOriginAE, keepOtherOriginAE, keepSpellAE,\n      keepEquipmentAE, keepFeatAE, keepClassAE, keepBackgroundAE, transformTokens\n    }, {renderSheet});\n\n    // Create new Actor with transformed data\n    const newActor = await this.constructor.create(d, {renderSheet});\n\n    // Update placed Token instances\n    if ( !transformTokens ) return;\n    const tokens = this.getActiveTokens(true);\n    const updates = tokens.map(t => {\n      const newTokenData = foundry.utils.deepClone(d.prototypeToken);\n      newTokenData._id = t.id;\n      newTokenData.actorId = newActor.id;\n      newTokenData.actorLink = true;\n\n      const dOriginalActor = foundry.utils.getProperty(d, \"flags.dnd5e.originalActor\");\n      foundry.utils.setProperty(newTokenData, \"flags.dnd5e.originalActor\", dOriginalActor);\n      foundry.utils.setProperty(newTokenData, \"flags.dnd5e.isPolymorphed\", true);\n      return newTokenData;\n    });\n    return canvas.scene?.updateEmbeddedDocuments(\"Token\", updates);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * If this actor was transformed with transformTokens enabled, then its\n   * active tokens need to be returned to their original state. If not, then\n   * we can safely just delete this actor.\n   * @param {object} [options]\n   * @param {boolean} [options.renderSheet=true]  Render Sheet after revert the transformation.\n   * @returns {Promise<Actor>|null}  Original actor if it was reverted.\n   */\n  async revertOriginalForm({renderSheet=true}={}) {\n    if ( !this.isPolymorphed ) return;\n    if ( !this.isOwner ) {\n      ui.notifications.warn(\"DND5E.PolymorphRevertWarn\", {localize: true});\n      return null;\n    }\n\n    /**\n     * A hook event that fires just before the actor is reverted to original form.\n     * @function dnd5e.revertOriginalForm\n     * @memberof hookEvents\n     * @param {Actor} this                 The original actor before transformation.\n     * @param {object} [options]\n     */\n    Hooks.callAll(\"dnd5e.revertOriginalForm\", this, {renderSheet});\n    const previousActorIds = this.getFlag(\"dnd5e\", \"previousActorIds\") ?? [];\n    const isOriginalActor = !previousActorIds.length;\n    const isRendered = this.sheet.rendered;\n\n    // Obtain a reference to the original actor\n    const original = game.actors.get(this.getFlag(\"dnd5e\", \"originalActor\"));\n\n    // If we are reverting an unlinked token, grab the previous actorData, and create a new token\n    if ( this.isToken ) {\n      const baseActor = original ? original : game.actors.get(this.token.actorId);\n      if ( !baseActor ) {\n        ui.notifications.warn(game.i18n.format(\"DND5E.PolymorphRevertNoOriginalActorWarn\", {\n          reference: this.getFlag(\"dnd5e\", \"originalActor\")\n        }));\n        return;\n      }\n      const prototypeTokenData = (await baseActor.getTokenDocument()).toObject();\n      const actorData = this.token.getFlag(\"dnd5e\", \"previousActorData\");\n      const tokenUpdate = this.token.toObject();\n      actorData._id = tokenUpdate.delta._id;\n      tokenUpdate.delta = actorData;\n\n      for ( const k of [\"width\", \"height\", \"alpha\", \"lockRotation\", \"name\"] ) {\n        tokenUpdate[k] = prototypeTokenData[k];\n      }\n      for ( const k of [\"offsetX\", \"offsetY\", \"scaleX\", \"scaleY\", \"src\", \"tint\"] ) {\n        tokenUpdate.texture[k] = prototypeTokenData.texture[k];\n      }\n      if ( game.release.generation >= 12 ) tokenUpdate.ring = prototypeTokenData.ring;\n      else {\n        foundry.utils.setProperty(tokenUpdate, \"flags.dnd5e.tokenRing\", foundry.utils.mergeObject(\n          foundry.utils.getProperty(tokenUpdate, \"flags.dnd5e.tokenRing\") ?? {},\n          foundry.utils.getProperty(prototypeTokenData, \"flags.dnd5e.tokenRing\") ?? {},\n          { inplace: false }\n        ));\n      }\n      tokenUpdate.sight = prototypeTokenData.sight;\n      tokenUpdate.detectionModes = prototypeTokenData.detectionModes;\n\n      await this.sheet.close();\n      await canvas.scene?.deleteEmbeddedDocuments(\"Token\", [this.token._id]);\n      const token = await TokenDocument.implementation.create(tokenUpdate, {\n        parent: canvas.scene, keepId: true, render: true\n      });\n      if ( isOriginalActor ) {\n        await this.unsetFlag(\"dnd5e\", \"isPolymorphed\");\n        await this.unsetFlag(\"dnd5e\", \"previousActorIds\");\n        await this.token.unsetFlag(\"dnd5e\", \"previousActorData\");\n      }\n      if ( isRendered && renderSheet ) token.actor?.sheet?.render(true);\n      return token;\n    }\n\n    if ( !original ) {\n      ui.notifications.warn(game.i18n.format(\"DND5E.PolymorphRevertNoOriginalActorWarn\", {\n        reference: this.getFlag(\"dnd5e\", \"originalActor\")\n      }));\n      return;\n    }\n\n    // Get the Tokens which represent this actor\n    if ( canvas.ready ) {\n      const tokens = this.getActiveTokens(true);\n      const tokenData = (await original.getTokenDocument()).toObject();\n      const tokenUpdates = tokens.map(t => {\n        const update = foundry.utils.deepClone(tokenData);\n        update._id = t.id;\n        delete update.x;\n        delete update.y;\n        if ( (game.release.generation < 12) && !foundry.utils.getProperty(tokenData, \"flags.dnd5e.tokenRing\") ) {\n          foundry.utils.setProperty(update, \"flags.dnd5e.tokenRing\", {});\n        }\n        return update;\n      });\n      await canvas.scene.updateEmbeddedDocuments(\"Token\", tokenUpdates, { diff: false, recursive: false });\n    }\n    if ( isOriginalActor ) {\n      await this.unsetFlag(\"dnd5e\", \"isPolymorphed\");\n      await this.unsetFlag(\"dnd5e\", \"previousActorIds\");\n    }\n\n    // Delete the polymorphed version(s) of the actor, if possible\n    if ( game.user.isGM ) {\n      const idsToDelete = previousActorIds.filter(id =>\n        id !== original.id // Is not original Actor Id\n        && game.actors?.get(id) // Actor still exists\n      ).concat([this.id]); // Add this id\n\n      await Actor.implementation.deleteDocuments(idsToDelete);\n    } else if ( isRendered ) {\n      this.sheet?.close();\n    }\n    if ( isRendered && renderSheet ) original.sheet?.render(isRendered);\n    return original;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Add additional system-specific sidebar directory context menu options for Actor documents\n   * @param {jQuery} html         The sidebar HTML\n   * @param {Array} entryOptions  The default array of context menu options\n   */\n  static addDirectoryContextOptions(html, entryOptions) {\n    entryOptions.push({\n      name: \"DND5E.PolymorphRestoreTransformation\",\n      icon: '<i class=\"fa-solid fa-backward\"></i>',\n      callback: li => {\n        const actor = game.actors.get(li.data(\"documentId\"));\n        return actor.revertOriginalForm();\n      },\n      condition: li => {\n        const allowed = game.settings.get(\"dnd5e\", \"allowPolymorphing\");\n        if ( !allowed && !game.user.isGM ) return false;\n        const actor = game.actors.get(li.data(\"documentId\"));\n        return actor && actor.isPolymorphed;\n      },\n      group: \"system\"\n    }, {\n      name: \"DND5E.Group.Primary.Set\",\n      icon: '<i class=\"fa-solid fa-star\"></i>',\n      callback: li => {\n        game.settings.set(\"dnd5e\", \"primaryParty\", { actor: game.actors.get(li[0].dataset.documentId) });\n      },\n      condition: li => {\n        const actor = game.actors.get(li[0].dataset.documentId);\n        const primary = game.settings.get(\"dnd5e\", \"primaryParty\")?.actor;\n        return game.user.isGM && (actor.type === \"group\")\n          && (actor.system.type.value === \"party\") && (actor !== primary);\n      },\n      group: \"system\"\n    }, {\n      name: \"DND5E.Group.Primary.Remove\",\n      icon: '<i class=\"fa-regular fa-star\"></i>',\n      callback: li => {\n        game.settings.set(\"dnd5e\", \"primaryParty\", { actor: null });\n      },\n      condition: li => {\n        const actor = game.actors.get(li[0].dataset.documentId);\n        const primary = game.settings.get(\"dnd5e\", \"primaryParty\")?.actor;\n        return game.user.isGM && (actor === primary);\n      },\n      group: \"system\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Add class to actor entry representing the primary group.\n   * @param {jQuery} jQuery\n   */\n  static onRenderActorDirectory(jQuery) {\n    const primaryParty = game.settings.get(\"dnd5e\", \"primaryParty\")?.actor;\n    if ( primaryParty ) {\n      const element = jQuery[0]?.querySelector(`[data-entry-id=\"${primaryParty.id}\"]`);\n      element?.classList.add(\"primary-party\");\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Format a type object into a string.\n   * @param {object} typeData          The type data to convert to a string.\n   * @returns {string}\n   */\n  static formatCreatureType(typeData) {\n    if ( typeof typeData === \"string\" ) return typeData; // Backwards compatibility\n    let localizedType;\n    if ( typeData.value === \"custom\" ) {\n      localizedType = typeData.custom;\n    } else if ( typeData.value in CONFIG.DND5E.creatureTypes ) {\n      const code = CONFIG.DND5E.creatureTypes[typeData.value];\n      localizedType = game.i18n.localize(typeData.swarm ? code.plural : code.label);\n    }\n    let type = localizedType;\n    if ( typeData.swarm ) {\n      type = game.i18n.format(\"DND5E.CreatureSwarmPhrase\", {\n        size: game.i18n.localize(CONFIG.DND5E.actorSizes[typeData.swarm].label),\n        type: localizedType\n      });\n    }\n    if (typeData.subtype) type = `${type} (${typeData.subtype})`;\n    return type;\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Listeners and Handlers                */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _onUpdate(data, options, userId) {\n    super._onUpdate(data, options, userId);\n    if ( userId === game.userId ) {\n      await this.updateEncumbrance(options);\n      this._onUpdateExhaustion(data, options);\n    }\n\n    const hp = options.dnd5e?.hp;\n    if ( hp && !options.isRest && !options.isAdvancement ) {\n      const curr = this.system.attributes.hp;\n      const changes = {\n        hp: curr.value - hp.value,\n        temp: curr.temp - hp.temp\n      };\n      changes.total = changes.hp + changes.temp;\n\n      if ( Number.isInteger(changes.total) && (changes.total !== 0) ) {\n        this._displayTokenEffect(changes);\n        if ( !game.settings.get(\"dnd5e\", \"disableConcentration\") && (userId === game.userId) && (changes.total < 0) ) {\n          this.challengeConcentration({ dc: this.getConcentrationDC(-changes.total) });\n        }\n\n        /**\n         * A hook event that fires when an actor is damaged or healed by any means. The actual name\n         * of the hook will depend on the change in hit points.\n         * @function dnd5e.damageActor\n         * @memberof hookEvents\n         * @param {Actor5e} actor                                       The actor that had their hit points reduced.\n         * @param {{hp: number, temp: number, total: number}} changes   The changes to hit points.\n         * @param {object} update                                       The original update delta.\n         * @param {string} userId                                       Id of the user that performed the update.\n         */\n        Hooks.callAll(`dnd5e.${changes.total > 0 ? \"heal\" : \"damage\"}Actor`, this, changes, data, userId);\n      }\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _onDelete(options, userId) {\n    super._onDelete(options, userId);\n\n    const origin = this.getFlag(\"dnd5e\", \"summon.origin\");\n    // TODO: Replace with parseUuid once V11 support is dropped\n    if ( origin ) SummonsData.untrackSummon(origin.split(\".Item.\")[0], this.uuid);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _onCreateDescendantDocuments(parent, collection, documents, data, options, userId) {\n    if ( (userId === game.userId) && (collection === \"items\") ) await this.updateEncumbrance(options);\n    super._onCreateDescendantDocuments(parent, collection, documents, data, options, userId);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _onUpdateDescendantDocuments(parent, collection, documents, changes, options, userId) {\n    if ( (userId === game.userId) && (collection === \"items\") ) await this.updateEncumbrance(options);\n    super._onUpdateDescendantDocuments(parent, collection, documents, changes, options, userId);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _onDeleteDescendantDocuments(parent, collection, documents, ids, options, userId) {\n    if ( (userId === game.userId) ) {\n      if ( collection === \"items\" ) await this.updateEncumbrance(options);\n      await this._clearFavorites(documents);\n    }\n    super._onDeleteDescendantDocuments(parent, collection, documents, ids, options, userId);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Flash ring & display changes to health as scrolling combat text.\n   * @param {object} changes          Object of changes to hit points.\n   * @param {number} changes.hp       Changes to `hp.value`.\n   * @param {number} changes.temp     The change to `hp.temp`.\n   * @param {number} changes.total    The total change to hit points.\n   * @protected\n   */\n  _displayTokenEffect(changes) {\n    let key;\n    let value;\n    if ( changes.hp < 0 ) {\n      key = \"damage\";\n      value = changes.total;\n    } else if ( changes.hp > 0 ) {\n      key = \"healing\";\n      value = changes.total;\n    } else if ( changes.temp ) {\n      key = \"temp\";\n      value = changes.temp;\n    }\n    if ( !key || !value ) return;\n\n    const tokens = this.isToken ? [this.token] : this.getActiveTokens(true, true);\n    if ( !tokens.length ) return;\n\n    const pct = Math.clamp(Math.abs(value) / this.system.attributes.hp.max, 0, 1);\n    const fill = CONFIG.DND5E.tokenHPColors[key];\n\n    for ( const token of tokens ) {\n      if ( !token.object?.visible || token.isSecret ) continue;\n      if ( token.hasDynamicRing ) token.flashRing(key);\n      const t = token.object;\n      canvas.interface.createScrollingText(t.center, value.signedString(), {\n        anchor: CONST.TEXT_ANCHOR_POINTS.TOP,\n        // Adapt the font size relative to the Actor's HP total to emphasize more significant blows\n        fontSize: 16 + (32 * pct), // Range between [16, 48]\n        fill: fill,\n        stroke: 0x000000,\n        strokeThickness: 4,\n        jitter: 0.25\n      });\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * TODO: Perform this as part of Actor._preUpdateOperation instead when it becomes available in v12.\n   * Handle syncing the Actor's exhaustion level with the ActiveEffect.\n   * @param {object} data                          The Actor's update delta.\n   * @param {DocumentModificationContext} options  Additional options supplied with the update.\n   * @returns {Promise<ActiveEffect|void>}\n   * @protected\n   */\n  async _onUpdateExhaustion(data, options) {\n    const level = foundry.utils.getProperty(data, \"system.attributes.exhaustion\");\n    if ( !Number.isFinite(level) ) return;\n    let effect = this.effects.get(ActiveEffect5e.ID.EXHAUSTION);\n    if ( level < 1 ) return effect?.delete();\n    else if ( effect ) {\n      const originalExhaustion = foundry.utils.getProperty(options, \"dnd5e.originalExhaustion\");\n      return effect.update({ \"flags.dnd5e.exhaustionLevel\": level }, { dnd5e: { originalExhaustion } });\n    } else {\n      effect = await ActiveEffect.implementation.fromStatusEffect(\"exhaustion\", { parent: this });\n      effect.updateSource({ \"flags.dnd5e.exhaustionLevel\": level });\n      return ActiveEffect.implementation.create(effect, { parent: this, keepId: true });\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle applying/removing encumbrance statuses.\n   * @param {DocumentModificationContext} options  Additional options supplied with the update.\n   * @returns {Promise<ActiveEffect>|void}\n   */\n  updateEncumbrance(options) {\n    const encumbrance = this.system.attributes?.encumbrance;\n    if ( !encumbrance || (game.settings.get(\"dnd5e\", \"encumbrance\") === \"none\") ) return;\n    const statuses = [];\n    const variant = game.settings.get(\"dnd5e\", \"encumbrance\") === \"variant\";\n    if ( encumbrance.value > encumbrance.thresholds.maximum ) statuses.push(\"exceedingCarryingCapacity\");\n    if ( (encumbrance.value > encumbrance.thresholds.heavilyEncumbered) && variant ) statuses.push(\"heavilyEncumbered\");\n    if ( (encumbrance.value > encumbrance.thresholds.encumbered) && variant ) statuses.push(\"encumbered\");\n\n    const effect = this.effects.get(ActiveEffect5e.ID.ENCUMBERED);\n    if ( !statuses.length ) return effect?.delete();\n\n    const effectData = { ...CONFIG.DND5E.encumbrance.effects[statuses[0]], statuses };\n    if ( effect ) {\n      const originalEncumbrance = effect.statuses.first();\n      return effect.update(effectData, { dnd5e: { originalEncumbrance } });\n    }\n\n    return ActiveEffect.implementation.create(\n      { _id: ActiveEffect5e.ID.ENCUMBERED, ...effectData },\n      { parent: this, keepId: true }\n    );\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle clearing favorited entries that were deleted.\n   * @param {Document[]} documents  The deleted Documents.\n   * @returns {Promise<Actor5e>|void}\n   * @protected\n   */\n  _clearFavorites(documents) {\n    if ( !(\"favorites\" in this.system) ) return;\n    const ids = new Set(documents.map(d => d.getRelativeUUID(this)));\n    const favorites = this.system.favorites.filter(f => !ids.has(f.id));\n    return this.update({ \"system.favorites\": favorites });\n  }\n}\n","import AdvancementFlow from \"./advancement-flow.mjs\";\n\n/**\n * Inline application that presents the player with a list of items to be added.\n */\nexport default class ItemGrantFlow extends AdvancementFlow {\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      template: \"systems/dnd5e/templates/advancement/item-grant-flow.hbs\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Produce the rendering context for this flow.\n   * @returns {object}\n   */\n  async getContext() {\n    const config = this.advancement.configuration;\n    const added = this.retainedData?.items.map(i => foundry.utils.getProperty(i, \"flags.dnd5e.sourceId\"))\n      ?? this.advancement.value.added;\n    const checked = new Set(Object.values(added ?? {}));\n    return {\n      optional: this.advancement.configuration.optional,\n      items: config.items.map(i => {\n        const item = foundry.utils.deepClone(fromUuidSync(i.uuid));\n        if ( !item ) return null;\n        item.checked = added ? checked.has(item.uuid) : (config.optional && !i.optional);\n        item.optional = config.optional || i.optional;\n        return item;\n      }, []).filter(i => i),\n      abilities: this.getSelectAbilities()\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async getData(options={}) {\n    return foundry.utils.mergeObject(super.getData(options), await this.getContext());\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get the context information for selected spell abilities.\n   * @returns {object}\n   */\n  getSelectAbilities() {\n    const config = this.advancement.configuration;\n    return {\n      options: config.spell?.ability.size > 1 ? config.spell.ability.reduce((obj, k) => {\n        obj[k] = CONFIG.DND5E.abilities[k]?.label;\n        return obj;\n      }, {}) : null,\n      selected: this.ability ?? this.retainedData?.ability ?? this.advancement.value.ability\n        ?? config.spell?.ability.first()\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    html.find(\"a[data-uuid]\").click(this._onClickFeature.bind(this));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle clicking on a feature during item grant to preview the feature.\n   * @param {MouseEvent} event  The triggering event.\n   * @protected\n   */\n  async _onClickFeature(event) {\n    event.preventDefault();\n    const uuid = event.currentTarget.dataset.uuid;\n    const item = await fromUuid(uuid);\n    item?.sheet.render(true);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _updateObject(event, formData) {\n    const retainedData = this.retainedData?.items.reduce((obj, i) => {\n      obj[foundry.utils.getProperty(i, \"flags.dnd5e.sourceId\")] = i;\n      return obj;\n    }, {});\n    await this.advancement.apply(this.level, formData, retainedData);\n  }\n}\n","import Actor5e from \"../../documents/actor/actor.mjs\";\nimport ItemGrantFlow from \"./item-grant-flow.mjs\";\n\n/**\n * Inline application that presents the player with a choice of items.\n */\nexport default class ItemChoiceFlow extends ItemGrantFlow {\n\n  /**\n   * Currently selected ability.\n   * @type {string}\n   */\n  ability;\n\n  /**\n   * Set of selected UUIDs.\n   * @type {Set<string>}\n   */\n  selected;\n\n  /**\n   * Cached items from the advancement's pool.\n   * @type {Item5e[]}\n   */\n  pool;\n\n  /**\n   * UUID of item to be replaced.\n   * @type {string}\n   */\n  replacement;\n\n  /**\n   * List of dropped items.\n   * @type {Item5e[]}\n   */\n  dropped;\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      dragDrop: [{ dropSelector: \".drop-target\" }],\n      template: \"systems/dnd5e/templates/advancement/item-choice-flow.hbs\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async retainData(data) {\n    await super.retainData(data);\n    this.replacement = data.replaced?.original;\n    this.selected = new Set(data.items.map(i => foundry.utils.getProperty(i, \"flags.dnd5e.sourceId\")));\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async getContext() {\n    const context = {};\n    this.selected ??= new Set(Object.values(this.advancement.value.added?.[this.level] ?? {}));\n    this.pool ??= await Promise.all(this.advancement.configuration.pool.map(i => fromUuid(i.uuid)));\n    if ( !this.dropped ) {\n      this.dropped = [];\n      for ( const data of this.retainedData?.items ?? [] ) {\n        const uuid = foundry.utils.getProperty(data, \"flags.dnd5e.sourceId\");\n        if ( this.pool.find(i => uuid === i.uuid) ) continue;\n        const item = await fromUuid(uuid);\n        item.dropped = true;\n        this.dropped.push(item);\n      }\n    }\n\n    const levelConfig = this.advancement.configuration.choices[this.level];\n    let max = levelConfig.count ?? 0;\n    context.replaceable = levelConfig.replacement;\n    context.noReplacement = !this.advancement.actor.items.has(this.replacement);\n    if ( context.replaceable && !context.noReplacement ) max++;\n    if ( this.selected.size > max ) {\n      const [kept, lost] = Array.from(Array.from(this.selected).entries()).reduce(([kept, lost], [index, value]) => {\n        if ( index < max ) kept.push(value);\n        else lost.push(value);\n        return [kept, lost];\n      }, [[], []]);\n      this.selected = new Set(kept);\n      this.dropped = this.dropped.filter(i => !lost.includes(i.uuid));\n    }\n    context.choices = { max, current: this.selected.size, full: this.selected.size >= max };\n\n    context.previousLevels = {};\n    const previouslySelected = new Set();\n    for ( const level of Array.fromRange(this.level - 1, 1) ) {\n      const added = this.advancement.value.added[level];\n      if ( added ) context.previousLevels[level] = Object.entries(added).map(([id, uuid]) => {\n        const item = fromUuidSync(uuid);\n        previouslySelected.add(uuid);\n        return {\n          ...item, id, uuid,\n          checked: id === this.replacement,\n          replaced: false\n        };\n      });\n      const replaced = this.advancement.value.replaced[level];\n      if ( replaced ) {\n        const match = context.previousLevels[replaced.level].find(v => v.id === replaced.original);\n        if ( match ) {\n          match.replaced = true;\n          previouslySelected.delete(match.uuid);\n        }\n      }\n    }\n\n    context.items = [...this.pool, ...this.dropped].reduce((items, i) => {\n      if ( i ) {\n        i.checked = this.selected.has(i.uuid);\n        i.disabled = !i.checked && context.choices.full;\n        const validLevel = (i.system.prerequisites?.level ?? -Infinity) <= this.level;\n        if ( !previouslySelected.has(i.uuid) && validLevel ) items.push(i);\n      }\n      return items;\n    }, []);\n\n    context.abilities = this.getSelectAbilities();\n    context.abilities.disabled = previouslySelected.size;\n    this.ability ??= context.abilities.selected;\n\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    html.find(\".item-delete\").click(this._onItemDelete.bind(this));\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _onChangeInput(event) {\n    if ( event.target.type === \"checkbox\" ) {\n      if ( event.target.checked ) this.selected.add(event.target.name);\n      else this.selected.delete(event.target.name);\n    }\n    else if ( event.target.type === \"radio\" ) this.replacement = event.target.value;\n    else if ( event.target.name === \"ability\" ) this.ability = event.target.value;\n    this.render();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle deleting a dropped item.\n   * @param {Event} event  The originating click event.\n   * @protected\n   */\n  async _onItemDelete(event) {\n    event.preventDefault();\n    const uuidToDelete = event.currentTarget.closest(\".item-name\")?.querySelector(\"input\")?.name;\n    if ( !uuidToDelete ) return;\n    this.dropped.findSplice(i => i.uuid === uuidToDelete);\n    this.selected.delete(uuidToDelete);\n    this.render();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _onDrop(event) {\n    const levelConfig = this.advancement.configuration.choices[this.level];\n    let max = levelConfig.count ?? 0;\n    if ( levelConfig.replacement && this.advancement.actor.items.has(this.replacement) ) max++;\n    if ( this.selected.size >= max ) return false;\n\n    // Try to extract the data\n    let data;\n    try {\n      data = JSON.parse(event.dataTransfer.getData(\"text/plain\"));\n    } catch(err) {\n      return false;\n    }\n\n    if ( data.type !== \"Item\" ) return false;\n    const item = await Item.implementation.fromDropData(data);\n\n    try {\n      this.advancement._validateItemType(item);\n    } catch(err) {\n      ui.notifications.error(err.message);\n      return null;\n    }\n\n    // If the item is already been marked as selected, no need to go further\n    if ( this.selected.has(item.uuid) ) return false;\n\n    // Check to ensure the dropped item hasn't been selected at a lower level\n    for ( const [level, data] of Object.entries(this.advancement.value.added ?? {}) ) {\n      if ( level >= this.level ) continue;\n      if ( Object.values(data).includes(item.uuid) ) {\n        ui.notifications.error(\"DND5E.AdvancementItemChoicePreviouslyChosenWarning\", {localize: true});\n        return null;\n      }\n    }\n\n    // If a feature has a level pre-requisite, make sure it is less than or equal to current level\n    if ( (item.system.prerequisites?.level ?? -Infinity) > this.level ) {\n      ui.notifications.error(game.i18n.format(\"DND5E.AdvancementItemChoiceFeatureLevelWarning\", {\n        level: item.system.prerequisites.level\n      }));\n      return null;\n    }\n\n    // If spell level is restricted to available level, ensure the spell is of the appropriate level\n    const spellLevel = this.advancement.configuration.restriction.level;\n    if ( (this.advancement.configuration.type === \"spell\") && spellLevel === \"available\" ) {\n      const maxSlot = this._maxSpellSlotLevel();\n      if ( item.system.level > maxSlot ) {\n        ui.notifications.error(game.i18n.format(\"DND5E.AdvancementItemChoiceSpellLevelAvailableWarning\", {\n          level: CONFIG.DND5E.spellLevels[maxSlot]\n        }));\n        return null;\n      }\n    }\n\n    // Mark the item as selected\n    this.selected.add(item.uuid);\n\n    // If the item doesn't already exist in the pool, add it\n    if ( !this.pool.find(i => i.uuid === item.uuid) ) {\n      this.dropped.push(item);\n      item.dropped = true;\n    }\n\n    this.render();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Determine the maximum spell slot level for the actor to which this advancement is being applied.\n   * @returns {number}\n   */\n  _maxSpellSlotLevel() {\n    const spellcasting = this.advancement.item.spellcasting;\n    let spells;\n\n    // For advancements on classes or subclasses, use the largest slot available for that class\n    if ( spellcasting ) {\n      const progression = { slot: 0, pact: {} };\n      const maxSpellLevel = CONFIG.DND5E.SPELL_SLOT_TABLE[CONFIG.DND5E.SPELL_SLOT_TABLE.length - 1].length;\n      spells = Object.fromEntries(Array.fromRange(maxSpellLevel, 1).map(l => [`spell${l}`, {}]));\n      Actor5e.computeClassProgression(progression, this.advancement.item, { spellcasting });\n      Actor5e.prepareSpellcastingSlots(spells, spellcasting.type, progression);\n    }\n\n    // For all other items, use the largest slot possible\n    else spells = this.advancement.actor.system.spells;\n\n    return Object.values(spells).reduce((slot, { max, level }) => {\n      if ( !max ) return slot;\n      return Math.max(slot, level || -1);\n    }, 0);\n  }\n}\n","import { FormulaField } from \"../fields.mjs\";\n\nconst { SchemaField, SetField, StringField } = foundry.data.fields;\n\nexport default class SpellConfigurationData extends foundry.abstract.DataModel {\n  /** @inheritdoc */\n  static defineSchema() {\n    return {\n      ability: new SetField(new StringField()),\n      preparation: new StringField({label: \"DND5E.SpellPreparationMode\"}),\n      uses: new SchemaField({\n        max: new FormulaField({deterministic: true, label: \"DND5E.UsesMax\"}),\n        per: new StringField({label: \"DND5E.UsesPeriod\"})\n      }, {label: \"DND5E.LimitedUses\"})\n    };\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Migrations                             */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  static migrateData(source) {\n    if ( foundry.utils.getType(source.ability) === \"string\" ) {\n      source.ability = source.ability ? [source.ability] : [];\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Helpers                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Changes that this spell configuration indicates should be performed on spells.\n   * @param {object} data  Data for the advancement process.\n   * @returns {object}\n   */\n  getSpellChanges(data={}) {\n    const updates = {};\n    if ( this.ability.size ) {\n      updates[\"system.ability\"] = this.ability.has(data.ability) ? data.ability : this.ability.first();\n    }\n    if ( this.preparation ) updates[\"system.preparation.mode\"] = this.preparation;\n    if ( this.uses.max && this.uses.per ) {\n      updates[\"system.uses.max\"] = this.uses.max;\n      updates[\"system.uses.per\"] = this.uses.per;\n      if ( Number.isNumeric(this.uses.max) ) updates[\"system.uses.value\"] = parseInt(this.uses.max);\n      else {\n        try {\n          const rollData = this.parent.parent.actor.getRollData({ deterministic: true });\n          const formula = Roll.replaceFormulaData(this.uses.max, rollData, {missing: 0});\n          if ( game.release.generation < 12 ) {\n            updates[\"system.uses.value\"] = Roll.safeEval(formula);\n          } else {\n            const roll = new Roll(formula);\n            updates[\"system.uses.value\"] = roll.evaluateSync().total;\n          }\n        } catch(e) { }\n      }\n    }\n    return updates;\n  }\n}\n","import { MappingField } from \"../fields.mjs\";\nimport SpellConfigurationData from \"./spell-config.mjs\";\n\nconst {\n  ArrayField, BooleanField, EmbeddedDataField, ForeignDocumentField, NumberField, SchemaField, StringField\n} = foundry.data.fields;\n\n/**\n * Configuration data for choice levels.\n *\n * @typedef {object} ItemChoiceLevelConfig\n * @property {number} count         Number of items a player can select at this level.\n * @property {boolean} replacement  Can a player replace previous selections at this level?\n */\n\n/**\n * Configuration data for an individual pool entry.\n *\n * @typedef {object} ItemChoicePoolEntry\n * @property {string} uuid  UUID of the item to present as a choice.\n */\n\n/**\n * Configuration data for Item Choice advancement.\n *\n * @property {Record<number, ItemChoiceLevelConfig>} choices  Choices & config for specific levels.\n * @property {boolean} allowDrops                             Should players be able to drop non-listed items?\n * @property {string} type                                    Type of item allowed, if it should be restricted.\n * @property {ItemChoicePoolEntry[]} pool                     Items that can be chosen.\n * @property {SpellConfigurationData} spell                   Mutations applied to spell items.\n * @property {object} restriction\n * @property {string} restriction.type                        Specific item type allowed.\n * @property {string} restriction.subtype                     Item sub-type allowed.\n * @property {\"available\"|number} restriction.level           Level of spell allowed.\n */\nexport class ItemChoiceConfigurationData extends foundry.abstract.DataModel {\n  /** @inheritDoc */\n  static defineSchema() {\n    return {\n      choices: new MappingField(new SchemaField({\n        count: new NumberField({integer: true, min: 0}),\n        replacement: new BooleanField({label: \"DND5E.AdvancementItemChoiceReplacement\"})\n      }), {\n        hint: \"DND5E.AdvancementItemChoiceLevelsHint\"\n      }),\n      allowDrops: new BooleanField({\n        initial: true, label: \"DND5E.AdvancementConfigureAllowDrops\",\n        hint: \"DND5E.AdvancementConfigureAllowDropsHint\"\n      }),\n      type: new StringField({\n        blank: false, nullable: true, initial: null,\n        label: \"DND5E.AdvancementItemChoiceType\", hint: \"DND5E.AdvancementItemChoiceTypeHint\"\n      }),\n      pool: new ArrayField(new SchemaField({\n        uuid: new StringField()\n      }), {label: \"DOCUMENT.Items\"}),\n      spell: new EmbeddedDataField(SpellConfigurationData, {nullable: true, initial: null}),\n      restriction: new SchemaField({\n        type: new StringField({label: \"DND5E.Type\"}),\n        subtype: new StringField({label: \"DND5E.Subtype\"}),\n        level: new StringField({label: \"DND5E.SpellLevel\"})\n      })\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  get hint() {\n    foundry.utils.logCompatibilityWarning(\n      \"Advancement hints are now part of the base data model.\",\n      { since: \"DnD5e 3.3\", until: \"DnD5e 4.1\" }\n    );\n    return this.parent.hint ?? \"\";\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Migrations                             */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  static migrateData(source) {\n    if ( \"choices\" in source ) Object.entries(source.choices).forEach(([k, c]) => {\n      if ( foundry.utils.getType(c) === \"number\" ) source.choices[k] = { count: c };\n    });\n    if ( \"pool\" in source ) {\n      source.pool = source.pool.map(i => foundry.utils.getType(i) === \"string\" ? { uuid: i } : i);\n    }\n    return source;\n  }\n}\n\n/**\n * Data for a replacement.\n *\n * @typedef {object} ItemChoiceReplacement\n * @property {number} level        Level at which the original item was chosen.\n * @property {string} original     ID of the original item that was replaced.\n * @property {string} replacement  ID of the replacement item.\n */\n\n/**\n * Value data for Item Choice advancement.\n *\n * @property {string} ability                                  Ability selected for the spells.\n * @property {Record<number, Record<string, string>>} added    Mapping of IDs to UUIDs for items added at each level.\n * @property {Record<number, ItemChoiceReplacement>} replaced  Information on items replaced at each level.\n */\nexport class ItemChoiceValueData extends foundry.abstract.DataModel {\n  /** @inheritDoc */\n  static defineSchema() {\n    return {\n      ability: new StringField(),\n      added: new MappingField(new MappingField(new StringField())),\n      replaced: new MappingField(new SchemaField({\n        level: new NumberField({integer: true, min: 0}),\n        original: new ForeignDocumentField(foundry.documents.BaseItem, {idOnly: true}),\n        replacement: new ForeignDocumentField(foundry.documents.BaseItem, {idOnly: true})\n      }))\n    };\n  }\n}\n","import AdvancementConfig from \"./advancement-config.mjs\";\n\n/**\n * Configuration application for item grants.\n */\nexport default class ItemGrantConfig extends AdvancementConfig {\n\n  /** @inheritDoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\", \"advancement\", \"item-grant\"],\n      dragDrop: [{ dropSelector: \".drop-target\" }],\n      dropKeyPath: \"items\",\n      template: \"systems/dnd5e/templates/advancement/item-grant-config.hbs\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  getData(options={}) {\n    const context = super.getData(options);\n    const indexes = context.configuration.items.map(i => fromUuidSync(i.uuid));\n    context.abilities = Object.entries(CONFIG.DND5E.abilities).reduce((obj, [k, c]) => {\n      obj[k] = { label: c.label, selected: context.configuration.spell?.ability.has(k) ? \"selected\" : \"\" };\n      return obj;\n    }, {});\n    context.showContainerWarning = indexes.some(i => i?.type === \"container\");\n    context.showSpellConfig = indexes.some(i => i?.type === \"spell\");\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async prepareConfigurationUpdate(configuration) {\n    if ( configuration.spell ) configuration.spell.ability ??= [];\n    return configuration;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _validateDroppedItem(event, item) {\n    this.advancement._validateItemType(item);\n  }\n}\n","import SpellConfigurationData from \"./spell-config.mjs\";\n\nconst { ArrayField, BooleanField, EmbeddedDataField, SchemaField, StringField } = foundry.data.fields;\n\n/**\n * Configuration data for an individual item provided by item grant.\n *\n * @typedef {object} ItemGrantItemConfiguration\n * @property {string} uuid       UUID of the item to grant.\n * @property {boolean} optional  Is this item optional? Has no effect if whole advancement is optional.\n */\n\n/**\n * Configuration data for the Item Grant advancement.\n *\n * @property {ItemGrantItemConfiguration[]} items  Data for the items to be granted.\n * @property {boolean} optional                    Should user be able to de-select any individual option?\n * @property {SpellConfigurationData} spell        Data used to modify any granted spells.\n */\nexport default class ItemGrantConfigurationData extends foundry.abstract.DataModel {\n  /** @inheritDoc */\n  static defineSchema() {\n    return {\n      items: new ArrayField(new SchemaField({\n        uuid: new StringField(),\n        optional: new BooleanField({label: \"DND5E.AdvancementItemGrantOptional\"})\n      }), {required: true, label: \"DOCUMENT.Items\"}),\n      optional: new BooleanField({\n        required: true, label: \"DND5E.AdvancementItemGrantOptional\", hint: \"DND5E.AdvancementItemGrantOptionalHint\"\n      }),\n      spell: new EmbeddedDataField(SpellConfigurationData, {\n        required: true, nullable: true, initial: null\n      })\n    };\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Migrations                             */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  static migrateData(source) {\n    if ( \"items\" in source ) {\n      source.items = source.items.map(i => foundry.utils.getType(i) === \"string\" ? { uuid: i } : i);\n    }\n    return source;\n  }\n}\n","import { filteredKeys } from \"../../utils.mjs\";\nimport ItemGrantConfig from \"../../applications/advancement/item-grant-config.mjs\";\nimport ItemGrantFlow from \"../../applications/advancement/item-grant-flow.mjs\";\nimport ItemGrantConfigurationData from \"../../data/advancement/item-grant.mjs\";\nimport Advancement from \"./advancement.mjs\";\n\n/**\n * Advancement that automatically grants one or more items to the player. Presents the player with the option of\n * skipping any or all of the items.\n */\nexport default class ItemGrantAdvancement extends Advancement {\n\n  /** @inheritdoc */\n  static get metadata() {\n    return foundry.utils.mergeObject(super.metadata, {\n      dataModels: {\n        configuration: ItemGrantConfigurationData\n      },\n      order: 40,\n      icon: \"systems/dnd5e/icons/svg/item-grant.svg\",\n      title: game.i18n.localize(\"DND5E.AdvancementItemGrantTitle\"),\n      hint: game.i18n.localize(\"DND5E.AdvancementItemGrantHint\"),\n      apps: {\n        config: ItemGrantConfig,\n        flow: ItemGrantFlow\n      }\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The item types that are supported in Item Grant.\n   * @type {Set<string>}\n   */\n  static VALID_TYPES = new Set([\"feat\", \"spell\", \"consumable\", \"container\", \"equipment\", \"loot\", \"tool\", \"weapon\"]);\n\n  /* -------------------------------------------- */\n  /*  Display Methods                             */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  configuredForLevel(level) {\n    return !foundry.utils.isEmpty(this.value);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  summaryForLevel(level, { configMode=false }={}) {\n    // Link to compendium items\n    if ( !this.value.added || configMode ) return this.configuration.items.filter(i => fromUuidSync(i.uuid))\n      .reduce((html, i) => html + dnd5e.utils.linkForUuid(i.uuid), \"\");\n\n    // Link to items on the actor\n    else {\n      return Object.keys(this.value.added).map(id => {\n        const item = this.actor.items.get(id);\n        return item?.toAnchor({classes: [\"content-link\"]}).outerHTML ?? \"\";\n      }).join(\"\");\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Application Methods                         */\n  /* -------------------------------------------- */\n\n  /**\n   * Location where the added items are stored for the specified level.\n   * @param {number} level  Level being advanced.\n   * @returns {string}\n   */\n  storagePath(level) {\n    return \"value.added\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Locally apply this advancement to the actor.\n   * @param {number} level              Level being advanced.\n   * @param {object} data               Data from the advancement form.\n   * @param {object} [retainedData={}]  Item data grouped by UUID. If present, this data will be used rather than\n   *                                    fetching new data from the source.\n   * @returns {object}\n   */\n  async apply(level, data, retainedData={}) {\n    const items = [];\n    const updates = {};\n    const spellChanges = this.configuration.spell?.getSpellChanges({\n      ability: data.ability ?? this.retainedData?.ability ?? this.value?.ability\n    }) ?? {};\n    for ( const uuid of filteredKeys(data) ) {\n      let itemData = retainedData[uuid];\n      if ( !itemData ) {\n        itemData = await this.createItemData(uuid);\n        if ( !itemData ) continue;\n      }\n      if ( itemData.type === \"spell\" ) foundry.utils.mergeObject(itemData, spellChanges);\n\n      items.push(itemData);\n      updates[itemData._id] = uuid;\n    }\n    if ( items.length ) {\n      this.actor.updateSource({ items });\n      this.updateSource({\n        \"value.ability\": data.ability,\n        [this.storagePath(level)]: updates\n      });\n    }\n    return updates;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  restore(level, data) {\n    const updates = {};\n    for ( const item of data.items ) {\n      this.actor.updateSource({items: [item]});\n      updates[item._id] = item.flags.dnd5e.sourceId;\n    }\n    this.updateSource({\n      \"value.ability\": data.ability,\n      [this.storagePath(level)]: updates\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  reverse(level) {\n    const items = [];\n    const keyPath = this.storagePath(level);\n    for ( const id of Object.keys(foundry.utils.getProperty(this, keyPath) ?? {}) ) {\n      const item = this.actor.items.get(id);\n      if ( item ) items.push(item.toObject());\n      this.actor.items.delete(id);\n    }\n    this.updateSource({[keyPath.replace(/\\.([\\w\\d]+)$/, \".-=$1\")]: null});\n    return { ability: this.value?.ability, items };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Verify that the provided item can be used with this advancement based on the configuration.\n   * @param {Item5e} item                   Item that needs to be tested.\n   * @param {object} config\n   * @param {boolean} [config.strict=true]  Should an error be thrown when an invalid type is encountered?\n   * @returns {boolean}                     Is this type valid?\n   * @throws An error if the item is invalid and strict is `true`.\n   */\n  _validateItemType(item, { strict=true }={}) {\n    if ( this.constructor.VALID_TYPES.has(item.type) ) return true;\n    const type = game.i18n.localize(CONFIG.Item.typeLabels[item.type]);\n    if ( strict ) throw new Error(game.i18n.format(\"DND5E.AdvancementItemTypeInvalidWarning\", {type}));\n    return false;\n  }\n}\n","import ItemChoiceConfig from \"../../applications/advancement/item-choice-config.mjs\";\nimport ItemChoiceFlow from \"../../applications/advancement/item-choice-flow.mjs\";\nimport { ItemChoiceConfigurationData, ItemChoiceValueData } from \"../../data/advancement/item-choice.mjs\";\nimport ItemGrantAdvancement from \"./item-grant.mjs\";\n\n/**\n * Advancement that presents the player with a choice of multiple items that they can take. Keeps track of which\n * items were selected at which levels.\n */\nexport default class ItemChoiceAdvancement extends ItemGrantAdvancement {\n\n  /** @inheritdoc */\n  static get metadata() {\n    return foundry.utils.mergeObject(super.metadata, {\n      dataModels: {\n        configuration: ItemChoiceConfigurationData,\n        value: ItemChoiceValueData\n      },\n      order: 50,\n      icon: \"systems/dnd5e/icons/svg/item-choice.svg\",\n      title: game.i18n.localize(\"DND5E.AdvancementItemChoiceTitle\"),\n      hint: game.i18n.localize(\"DND5E.AdvancementItemChoiceHint\"),\n      multiLevel: true,\n      apps: {\n        config: ItemChoiceConfig,\n        flow: ItemChoiceFlow\n      }\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Instance Properties                         */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get levels() {\n    return Array.from(Object.keys(this.configuration.choices));\n  }\n\n  /* -------------------------------------------- */\n  /*  Display Methods                             */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  configuredForLevel(level) {\n    return (this.value.added?.[level] !== undefined) || !this.configuration.choices[level]?.count;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  titleForLevel(level, { configMode=false }={}) {\n    const data = this.configuration.choices[level] ?? {};\n    let tag;\n    if ( data.count ) tag = game.i18n.format(\"DND5E.AdvancementItemChoiceChoose\", { count: data.count });\n    else if ( data.replacement ) tag = game.i18n.localize(\"DND5E.AdvancementItemChoiceReplacementTitle\");\n    else return this.title;\n    return `${this.title} <em>(${tag})</em>`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  summaryForLevel(level, { configMode=false }={}) {\n    const items = this.value.added?.[level];\n    if ( !items || configMode ) return \"\";\n    return Object.values(items).reduce((html, uuid) => html + game.dnd5e.utils.linkForUuid(uuid), \"\");\n  }\n\n  /* -------------------------------------------- */\n  /*  Application Methods                         */\n  /* -------------------------------------------- */\n\n  /** @override */\n  storagePath(level) {\n    return `value.added.${level}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async apply(level, { replace: original, ...data }, retainedData={}) {\n    let replacement;\n    if ( retainedData.replaced ) ({ original, replacement } = retainedData.replaced);\n\n    const updates = await super.apply(level, data, retainedData);\n\n    replacement ??= Object.keys(updates).pop();\n    if ( original && replacement ) {\n      const replacedLevel = Object.entries(this.value.added).reverse().reduce((level, [l, v]) => {\n        if ( (original in v) && (Number(l) > level) ) return Number(l);\n        return level;\n      }, 0);\n      if ( Number.isFinite(replacedLevel) ) {\n        this.actor.items.delete(original);\n        this.updateSource({ [`value.replaced.${level}`]: { level: replacedLevel, original, replacement } });\n      }\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  restore(level, data) {\n    const original = this.actor.items.get(data.replaced?.original);\n    if ( data.replaced && !original ) data.items = data.items.filter(i => i._id !== data.replaced.replacement);\n\n    super.restore(level, data);\n\n    if ( data.replaced ) {\n      if ( !original ) {\n        throw new ItemChoiceAdvancement.ERROR(game.i18n.localize(\"DND5E.AdvancementItemChoiceNoOriginalError\"));\n      }\n      this.actor.items.delete(data.replaced.original);\n      this.updateSource({ [`value.replaced.${level}`]: data.replaced });\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async reverse(level) {\n    const retainedData = await super.reverse(level);\n\n    const replaced = retainedData.replaced = this.value.replaced[level];\n    if ( replaced ) {\n      const uuid = this.value.added[replaced.level][replaced.original];\n      const itemData = await this.createItemData(uuid, replaced.original);\n      if ( itemData ) {\n        if ( itemData.type === \"spell\" ) {\n          foundry.utils.mergeObject(itemData, this.configuration.spell?.spellChanges ?? {});\n        }\n        this.actor.updateSource({ items: [itemData] });\n        this.updateSource({ [`value.replaced.-=${level}`]: null });\n      }\n    }\n\n    return retainedData;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Verify that the provided item can be used with this advancement based on the configuration.\n   * @param {Item5e} item                   Item that needs to be tested.\n   * @param {object} config\n   * @param {string} config.type            Type restriction on this advancement.\n   * @param {object} config.restriction     Additional restrictions to be applied.\n   * @param {boolean} [config.strict=true]  Should an error be thrown when an invalid type is encountered?\n   * @returns {boolean}                     Is this type valid?\n   * @throws An error if the item is invalid and strict is `true`.\n   */\n  _validateItemType(item, { type, restriction, strict=true }={}) {\n    super._validateItemType(item, { strict });\n    type ??= this.configuration.type;\n    restriction ??= this.configuration.restriction;\n\n    // Type restriction is set and the item type does not match the selected type\n    if ( type && (type !== item.type) ) {\n      const typeLabel = game.i18n.localize(CONFIG.Item.typeLabels[restriction]);\n      if ( strict ) throw new Error(game.i18n.format(\"DND5E.AdvancementItemChoiceTypeWarning\", {type: typeLabel}));\n      return false;\n    }\n\n    // If additional type restrictions applied, make sure they are valid\n    if ( (type === \"feat\") && restriction.type ) {\n      const typeConfig = CONFIG.DND5E.featureTypes[restriction.type];\n      const subtype = typeConfig.subtypes?.[restriction.subtype];\n      let errorLabel;\n      if ( restriction.type !== item.system.type.value ) errorLabel = typeConfig.label;\n      else if ( subtype && (restriction.subtype !== item.system.type.subtype) ) errorLabel = subtype;\n      if ( errorLabel ) {\n        if ( strict ) throw new Error(game.i18n.format(\"DND5E.AdvancementItemChoiceTypeWarning\", {type: errorLabel}));\n        return false;\n      }\n    }\n\n    // If spell level is restricted, ensure the spell is of the appropriate level\n    const l = parseInt(restriction.level);\n    if ( (type === \"spell\") && !Number.isNaN(l) && (item.system.level !== l) ) {\n      const level = CONFIG.DND5E.spellLevels[l];\n      if ( strict ) throw new Error(game.i18n.format(\"DND5E.AdvancementItemChoiceSpellLevelSpecificWarning\", {level}));\n      return false;\n    }\n\n    return true;\n  }\n}\n","import { IdentifierField, MappingField } from \"../fields.mjs\";\n\n/**\n * Data model for the Scale Value advancement type.\n *\n * @property {string} identifier        Identifier used to select this scale value in roll formulas.\n * @property {string} type              Type of data represented by this scale value.\n * @property {object} [distance]\n * @property {string} [distance.units]  If distance type is selected, the units each value uses.\n * @property {Object<string, *>} scale  Scale values for each level. Value format is determined by type.\n */\nexport class ScaleValueConfigurationData extends foundry.abstract.DataModel {\n  /** @inheritdoc */\n  static defineSchema() {\n    return {\n      identifier: new IdentifierField({required: true, label: \"DND5E.Identifier\"}),\n      type: new foundry.data.fields.StringField({\n        required: true, initial: \"string\", choices: TYPES, label: \"DND5E.AdvancementScaleValueTypeLabel\"\n      }),\n      distance: new foundry.data.fields.SchemaField({\n        units: new foundry.data.fields.StringField({required: true, label: \"DND5E.MovementUnits\"})\n      }),\n      scale: new MappingField(new ScaleValueEntryField(), {required: true})\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static migrateData(source) {\n    super.migrateData(source);\n    if ( source.type === \"numeric\" ) source.type = \"number\";\n    Object.values(source.scale ?? {}).forEach(v => TYPES[source.type].migrateData(v));\n  }\n}\n\n\n/**\n * Data field that automatically selects the appropriate ScaleValueType based on the selected type.\n */\nexport class ScaleValueEntryField extends foundry.data.fields.ObjectField {\n  /** @override */\n  _cleanType(value, options) {\n    if ( !(typeof value === \"object\") ) value = {};\n\n    // Use a defined DataModel\n    const cls = TYPES[options.source?.type];\n    if ( cls ) return cls.cleanData(value, options);\n\n    return value;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  initialize(value, model, options={}) {\n    const cls = TYPES[model.type];\n    if ( !value || !cls ) return value;\n    return new cls(value, {parent: model, ...options});\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  toObject(value) {\n    return value.toObject(false);\n  }\n}\n\n\n/**\n * Base scale value data type that stores generic string values.\n *\n * @property {string} value  String value.\n */\nexport class ScaleValueType extends foundry.abstract.DataModel {\n  /** @inheritdoc */\n  static defineSchema() {\n    return {\n      value: new foundry.data.fields.StringField({required: true})\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Information on how a scale value of this type is configured.\n   *\n   * @typedef {object} ScaleValueTypeMetadata\n   * @property {string} label       Name of this type.\n   * @property {string} hint        Hint for this type shown in the scale value configuration.\n   * @property {boolean} isNumeric  When using the default editing interface, should numeric inputs be used?\n   */\n\n  /**\n   * Configuration information for this scale value type.\n   * @type {ScaleValueTypeMetadata}\n   */\n  static get metadata() {\n    return {\n      label: \"DND5E.AdvancementScaleValueTypeString\",\n      hint: \"DND5E.AdvancementScaleValueTypeHintString\",\n      isNumeric: false\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Attempt to convert another scale value type to this one.\n   * @param {ScaleValueType} original  Original type to attempt to convert.\n   * @param {object} [options]         Options which affect DataModel construction.\n   * @returns {ScaleValueType|null}\n   */\n  static convertFrom(original, options) {\n    return new this({value: original.formula}, options);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * This scale value prepared to be used in roll formulas.\n   * @type {string|null}\n   */\n  get formula() { return this.value; }\n\n  /* -------------------------------------------- */\n\n  /**\n   * This scale value formatted for display.\n   * @type {string|null}\n   */\n  get display() { return this.formula; }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Shortcut to the prepared value when used in roll formulas.\n   * @returns {string}\n   */\n  toString() {\n    return this.formula;\n  }\n}\n\n\n/**\n * Scale value data type that stores numeric values.\n *\n * @property {number} value  Numeric value.\n */\nexport class ScaleValueTypeNumber extends ScaleValueType {\n  /** @inheritdoc */\n  static defineSchema() {\n    return {\n      value: new foundry.data.fields.NumberField({required: true})\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static get metadata() {\n    return foundry.utils.mergeObject(super.metadata, {\n      label: \"DND5E.AdvancementScaleValueTypeNumber\",\n      hint: \"DND5E.AdvancementScaleValueTypeHintNumber\",\n      isNumeric: true\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static convertFrom(original, options) {\n    const value = Number(original.formula);\n    if ( Number.isNaN(value) ) return null;\n    return new this({value}, options);\n  }\n}\n\n\n/**\n * Scale value data type that stores challenge ratings.\n *\n * @property {number} value  CR value.\n */\nexport class ScaleValueTypeCR extends ScaleValueTypeNumber {\n  /** @inheritdoc */\n  static defineSchema() {\n    return {\n      value: new foundry.data.fields.NumberField({required: true, min: 0})\n      // TODO: Add CR validator\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static get metadata() {\n    return foundry.utils.mergeObject(super.metadata, {\n      label: \"DND5E.AdvancementScaleValueTypeCR\",\n      hint: \"DND5E.AdvancementScaleValueTypeHintCR\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get display() {\n    switch ( this.value ) {\n      case 0.125: return \"&frac18;\";\n      case 0.25: return \"&frac14;\";\n      case 0.5: return \"&frac12;\";\n      default: return super.display;\n    }\n  }\n}\n\n\n/**\n * Scale value data type that stores dice values.\n *\n * @property {number} number  Number of dice.\n * @property {number} faces   Die faces.\n */\nexport class ScaleValueTypeDice extends ScaleValueType {\n  /** @inheritdoc */\n  static defineSchema() {\n    const fields = foundry.data.fields;\n    return {\n      number: new fields.NumberField({nullable: true, integer: true, positive: true}),\n      faces: new fields.NumberField({required: true, integer: true, positive: true}),\n      modifiers: new fields.SetField(new fields.StringField({required: true}))\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static get metadata() {\n    return foundry.utils.mergeObject(super.metadata, {\n      label: \"DND5E.AdvancementScaleValueTypeDice\",\n      hint: \"DND5E.AdvancementScaleValueTypeHintDice\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * List of die faces that can be chosen.\n   * @type {number[]}\n   */\n  static FACES = [2, 3, 4, 6, 8, 10, 12, 20, 100];\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static convertFrom(original, options) {\n    const [number, faces] = (original.formula ?? \"\").split(\"d\");\n    if ( !faces || !Number.isNumeric(number) || !Number.isNumeric(faces) ) return null;\n    return new this({number: Number(number) || null, faces: Number(faces)}, options);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get formula() {\n    if ( !this.faces ) return null;\n    return `${this.number ?? \"\"}${this.die}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The entire die, with leading \"d\" and any modifiers, e.g., \"d4\" or \"d4r1\".\n   * @type {string}\n   */\n  get die() {\n    if ( !this.faces ) return \"\";\n    return `d${this.faces}${this.mods}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The die modifiers.\n   * @type {string}\n   */\n  get mods() {\n    if ( !this.modifiers ) return \"\";\n    return this.modifiers.reduce((acc, mod) => {\n      return acc + (dnd5e.utils.isValidDieModifier(mod) ? mod : \"\");\n    }, \"\");\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The die value to be rolled with the leading \"d\" (e.g. \"d4\").\n   * @type {string}\n   */\n  get denom() {\n    if ( !this.faces ) return \"\";\n    return `d${this.faces}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static migrateData(source) {\n    if ( source.n ) source.number = source.n;\n    if ( source.die ) source.faces = source.die;\n  }\n}\n\n\n/**\n * Scale value data type that stores distance values.\n *\n * @property {number} value  Numeric value.\n */\nexport class ScaleValueTypeDistance extends ScaleValueTypeNumber {\n  /** @inheritdoc */\n  static get metadata() {\n    return foundry.utils.mergeObject(super.metadata, {\n      label: \"DND5E.AdvancementScaleValueTypeDistance\",\n      hint: \"DND5E.AdvancementScaleValueTypeHintDistance\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get display() {\n    return `${this.value} ${CONFIG.DND5E.movementUnits[this.parent.configuration.distance?.units ?? \"ft\"]}`;\n  }\n}\n\n\n/**\n * The available types of scaling value.\n * @enum {ScaleValueType}\n */\nexport const TYPES = {\n  string: ScaleValueType,\n  number: ScaleValueTypeNumber,\n  cr: ScaleValueTypeCR,\n  dice: ScaleValueTypeDice,\n  distance: ScaleValueTypeDistance\n};\n","import AdvancementConfig from \"./advancement-config.mjs\";\nimport { TYPES } from \"../../data/advancement/scale-value.mjs\";\n\n/**\n * Configuration application for scale values.\n */\nexport default class ScaleValueConfig extends AdvancementConfig {\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\", \"advancement\", \"scale-value\", \"two-column\"],\n      template: \"systems/dnd5e/templates/advancement/scale-value-config.hbs\",\n      width: 540\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  getData() {\n    const config = this.advancement.configuration;\n    const type = TYPES[config.type];\n    return foundry.utils.mergeObject(super.getData(), {\n      classIdentifier: this.item.identifier,\n      previewIdentifier: config.identifier || this.advancement.title?.slugify()\n        || this.advancement.constructor.metadata.title.slugify(),\n      type: type.metadata,\n      types: Object.fromEntries(\n        Object.entries(TYPES).map(([key, d]) => [key, game.i18n.localize(d.metadata.label)])\n      ),\n      faces: Object.fromEntries(TYPES.dice.FACES.map(die => [die, `d${die}`])),\n      levels: this._prepareLevelData(),\n      movementUnits: CONFIG.DND5E.movementUnits\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare the data to display at each of the scale levels.\n   * @returns {object}\n   * @protected\n   */\n  _prepareLevelData() {\n    let lastValue = null;\n    let levels = Array.fromRange(CONFIG.DND5E.maxLevel + 1);\n    if ( [\"class\", \"subclass\"].includes(this.advancement.item.type) ) levels = levels.slice(1);\n    return levels.reduce((obj, level) => {\n      obj[level] = { placeholder: this._formatPlaceholder(lastValue), value: null };\n      const value = this.advancement.configuration.scale[level];\n      if ( value ) {\n        this._mergeScaleValues(value, lastValue);\n        obj[level].className = \"new-scale-value\";\n        obj[level].value = value;\n        lastValue = value;\n      }\n      return obj;\n    }, {});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Formats the placeholder for this scale value.\n   * @param {*} placeholder\n   * @returns {object}\n   * @protected\n   */\n  _formatPlaceholder(placeholder) {\n    if ( this.advancement.configuration.type === \"dice\" ) {\n      return { number: placeholder?.number ?? \"\", faces: placeholder?.faces ? `d${placeholder.faces}` : \"\" };\n    }\n    return { value: placeholder?.value ?? \"\" };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * For scale values with multiple properties, have missing properties inherit from earlier filled-in values.\n   * @param {*} value      The primary value.\n   * @param {*} lastValue  The previous value.\n   */\n  _mergeScaleValues(value, lastValue) {\n    for ( const k of Object.keys(lastValue ?? {}) ) {\n      if ( value[k] == null ) value[k] = lastValue[k];\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _cleanedObject(object) {\n    return Object.entries(object).reduce((obj, [key, value]) => {\n      if ( Object.keys(value ?? {}).some(k => value[k]) ) obj[key] = value;\n      else obj[`-=${key}`] = null;\n      return obj;\n    }, {});\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  prepareConfigurationUpdate(configuration) {\n    // Ensure multiple values in a row are not the same\n    let lastValue = null;\n    for ( const [lvl, value] of Object.entries(configuration.scale) ) {\n      if ( this.advancement.testEquality(lastValue, value) ) configuration.scale[lvl] = null;\n      else if ( Object.keys(value ?? {}).some(k => value[k]) ) {\n        this._mergeScaleValues(value, lastValue);\n        lastValue = value;\n      }\n    }\n    configuration.scale = this.constructor._cleanedObject(configuration.scale);\n    return configuration;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    this.form.querySelector(\"input[name='title']\").addEventListener(\"input\", this._onChangeTitle.bind(this));\n    this.form.querySelector(\".identifier-hint-copy\").addEventListener(\"click\", this._onIdentifierHintCopy.bind(this));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Copies the full scale identifier hint to the clipboard.\n   * @param {Event} event  The triggering click event.\n   * @protected\n   */\n  _onIdentifierHintCopy(event) {\n    const data = this.getData();\n    game.clipboard.copyPlainText(`@scale.${data.classIdentifier}.${data.previewIdentifier}`);\n    game.tooltip.activate(event.target, {text: game.i18n.localize(\"DND5E.IdentifierCopied\"), direction: \"UP\"});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * If no identifier is manually entered, slugify the custom title and display as placeholder.\n   * @param {Event} event  Change event to the title input.\n   */\n  _onChangeTitle(event) {\n    const slug = (event.target.value || this.advancement.constructor.metadata.title).slugify();\n    this.form.querySelector(\"input[name='configuration.identifier']\").placeholder = slug;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _updateObject(event, formData) {\n    const updates = foundry.utils.expandObject(formData);\n    const typeChange = \"configuration.type\" in formData;\n    if ( typeChange && (updates.configuration.type !== this.advancement.configuration.type) ) {\n      // Clear existing scale value data to prevent error during type update\n      await this.advancement.update(Array.fromRange(CONFIG.DND5E.maxLevel, 1).reduce((obj, lvl) => {\n        obj[`configuration.scale.-=${lvl}`] = null;\n        return obj;\n      }, {}));\n      updates.configuration.scale ??= {};\n      const OriginalType = TYPES[this.advancement.configuration.type];\n      const NewType = TYPES[updates.configuration.type];\n      for ( const [lvl, data] of Object.entries(updates.configuration.scale) ) {\n        const original = new OriginalType(data, { parent: this.advancement });\n        updates.configuration.scale[lvl] = NewType.convertFrom(original)?.toObject();\n      }\n    }\n    return super._updateObject(event, foundry.utils.flattenObject(updates));\n  }\n}\n","import AdvancementFlow from \"./advancement-flow.mjs\";\n\n/**\n * Inline application that displays any changes to a scale value.\n */\nexport default class ScaleValueFlow extends AdvancementFlow {\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      template: \"systems/dnd5e/templates/advancement/scale-value-flow.hbs\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  getData() {\n    return foundry.utils.mergeObject(super.getData(), {\n      initial: this.advancement.valueForLevel(this.level - 1)?.display,\n      final: this.advancement.valueForLevel(this.level).display\n    });\n  }\n}\n","import Advancement from \"./advancement.mjs\";\nimport ScaleValueConfig from \"../../applications/advancement/scale-value-config.mjs\";\nimport ScaleValueFlow from \"../../applications/advancement/scale-value-flow.mjs\";\nimport { ScaleValueConfigurationData, TYPES } from \"../../data/advancement/scale-value.mjs\";\n\n/**\n * Advancement that represents a value that scales with class level. **Can only be added to classes or subclasses.**\n */\nexport default class ScaleValueAdvancement extends Advancement {\n\n  /** @inheritdoc */\n  static get metadata() {\n    return foundry.utils.mergeObject(super.metadata, {\n      dataModels: {\n        configuration: ScaleValueConfigurationData\n      },\n      order: 60,\n      icon: \"systems/dnd5e/icons/svg/scale-value.svg\",\n      title: game.i18n.localize(\"DND5E.AdvancementScaleValueTitle\"),\n      hint: game.i18n.localize(\"DND5E.AdvancementScaleValueHint\"),\n      multiLevel: true,\n      apps: {\n        config: ScaleValueConfig,\n        flow: ScaleValueFlow\n      }\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The available types of scaling value.\n   * @enum {ScaleValueType}\n   */\n  static TYPES = TYPES;\n\n  /* -------------------------------------------- */\n  /*  Instance Properties                         */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get levels() {\n    return Array.from(Object.keys(this.configuration.scale).map(l => Number(l)))\n      .filter(l => ![\"class\", \"subclass\"].includes(this.item.type) ? true : l !== 0);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Identifier for this scale value, either manual value or the slugified title.\n   * @type {string}\n   */\n  get identifier() {\n    return this.configuration.identifier || this.title.slugify();\n  }\n\n  /* -------------------------------------------- */\n  /*  Display Methods                             */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  titleForLevel(level, { configMode=false }={}) {\n    const value = this.valueForLevel(level)?.display;\n    if ( !value ) return this.title;\n    return `${this.title}: <strong>${value}</strong>`;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Scale value for the given level.\n   * @param {number} level      Level for which to get the scale value.\n   * @returns {ScaleValueType}  Scale value at the given level or null if none exists.\n   */\n  valueForLevel(level) {\n    const key = Object.keys(this.configuration.scale).reverse().find(l => Number(l) <= level);\n    const data = this.configuration.scale[key];\n    const TypeClass = this.constructor.TYPES[this.configuration.type];\n    if ( !data || !TypeClass ) return null;\n    return new TypeClass(data, { parent: this });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Compare two scaling values and determine if they are equal.\n   * @param {*} a\n   * @param {*} b\n   * @returns {boolean}\n   */\n  testEquality(a, b) {\n    const keys = Object.keys(a ?? {});\n    if ( keys.length !== Object.keys(b ?? {}).length ) return false;\n    for ( const k of keys ) {\n      if ( a[k] !== b[k] ) return false;\n    }\n    return true;\n  }\n\n}\n","import { filteredKeys } from \"../../utils.mjs\";\nimport AdvancementConfig from \"./advancement-config.mjs\";\n\n/**\n * Configuration application for size advancement.\n */\nexport default class SizeConfig extends AdvancementConfig {\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\", \"advancement\", \"size\"],\n      template: \"systems/dnd5e/templates/advancement/size-config.hbs\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  getData() {\n    return foundry.utils.mergeObject(super.getData(), {\n      default: {\n        hint: this.advancement.automaticHint\n      },\n      showLevelSelector: false,\n      sizes: Object.entries(CONFIG.DND5E.actorSizes).reduce((obj, [key, { label }]) => {\n        obj[key] = { label, chosen: this.advancement.configuration.sizes.has(key) };\n        return obj;\n      }, {})\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async prepareConfigurationUpdate(configuration) {\n    configuration.sizes = filteredKeys(configuration.sizes ?? {});\n    return configuration;\n  }\n}\n","import AdvancementFlow from \"./advancement-flow.mjs\";\n\n/**\n * Inline application that displays size advancement.\n */\nexport default class SizeFlow extends AdvancementFlow {\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      template: \"systems/dnd5e/templates/advancement/size-flow.hbs\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  getData() {\n    const sizes = this.advancement.configuration.sizes;\n    return foundry.utils.mergeObject(super.getData(), {\n      singleSize: sizes.size === 1 ? sizes.first() : null,\n      hint: this.advancement.hint || this.advancement.automaticHint,\n      selectedSize: this.retainedData?.size ?? this.advancement.value.size,\n      sizes: Array.from(sizes).reduce((obj, key) => {\n        obj[key] = CONFIG.DND5E.actorSizes[key].label;\n        return obj;\n      }, {})\n    });\n  }\n}\n","/**\n * Configuration data for the size advancement type.\n */\nexport class SizeConfigurationData extends foundry.abstract.DataModel {\n  /** @inheritdoc */\n  static defineSchema() {\n    return {\n      sizes: new foundry.data.fields.SetField(\n        new foundry.data.fields.StringField(), {required: false, initial: [\"med\"], label: \"DND5E.Size\"}\n      )\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  get hint() {\n    foundry.utils.logCompatibilityWarning(\n      \"Advancement hints are now part of the base data model.\",\n      { since: \"DnD5e 3.3\", until: \"DnD5e 4.1\" }\n    );\n    return this.parent.hint ?? \"\";\n  }\n}\n\n/**\n * Value data for the size advancement type.\n */\nexport class SizeValueData extends foundry.abstract.DataModel {\n  /** @inheritdoc */\n  static defineSchema() {\n    return {\n      size: new foundry.data.fields.StringField({required: false, label: \"DND5E.Size\"})\n    };\n  }\n}\n","import Advancement from \"./advancement.mjs\";\nimport SizeConfig from \"../../applications/advancement/size-config.mjs\";\nimport SizeFlow from \"../../applications/advancement/size-flow.mjs\";\nimport { SizeConfigurationData, SizeValueData } from \"../../data/advancement/size.mjs\";\n\n/**\n * Advancement that handles player size.\n */\nexport default class SizeAdvancement extends Advancement {\n\n  /** @inheritdoc */\n  static get metadata() {\n    return foundry.utils.mergeObject(super.metadata, {\n      dataModels: {\n        configuration: SizeConfigurationData,\n        value: SizeValueData\n      },\n      order: 25,\n      icon: \"systems/dnd5e/icons/svg/size.svg\",\n      title: game.i18n.localize(\"DND5E.AdvancementSizeTitle\"),\n      hint: game.i18n.localize(\"DND5E.AdvancementSizeHint\"),\n      apps: {\n        config: SizeConfig,\n        flow: SizeFlow\n      }\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Instance Properties                         */\n  /* -------------------------------------------- */\n\n  /**\n   * Hint that will be displayed to players if none is entered.\n   * @type {string}\n   */\n  get automaticHint() {\n    if ( !this.configuration.sizes.size ) return \"\";\n    if ( this.configuration.sizes.size === 1 ) return game.i18n.format(\"DND5E.AdvancementSizeFlowHintSingle\", {\n      size: CONFIG.DND5E.actorSizes[this.configuration.sizes.first()].label\n    });\n\n    const listFormatter = new Intl.ListFormat(game.i18n.lang, { type: \"disjunction\" });\n    return game.i18n.format(\"DND5E.AdvancementSizeflowHintMultiple\", {\n      sizes: listFormatter.format(this.configuration.sizes.map(s => CONFIG.DND5E.actorSizes[s].label))\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get levels() {\n    return [0];\n  }\n\n  /* -------------------------------------------- */\n  /*  Display Methods                             */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  summaryForLevel(level, { configMode=false }={}) {\n    const sizes = configMode ? Array.from(this.configuration.sizes) : this.value.size ? [this.value.size] : [];\n    return sizes.map(s => `<span class=\"tag\">${CONFIG.DND5E.actorSizes[s].label}</span>`).join(\"\");\n  }\n\n  /* -------------------------------------------- */\n  /*  Editing Methods                             */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static availableForItem(item) {\n    return !item.advancement.byType.Size?.length;\n  }\n\n  /* -------------------------------------------- */\n  /*  Application Methods                         */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async apply(level, data) {\n    this.actor.updateSource({\"system.traits.size\": data.size ?? \"med\"});\n    this.updateSource({ value: data });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async restore(level, data) {\n    this.apply(level, data);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async reverse(level) {\n    this.actor.updateSource({\"system.traits.size\": \"med\"});\n    this.updateSource({ \"value.size\": null });\n  }\n}\n","import MapLocationControlIcon from \"./canvas/map-location-control-icon.mjs\";\nimport * as advancement from \"./documents/advancement/_module.mjs\";\nimport { preLocalize } from \"./utils.mjs\";\n\n// Namespace Configuration Values\nconst DND5E = {};\n\n// ASCII Artwork\nDND5E.ASCII = `_______________________________\n______      ______ _____ _____\n|  _  \\\\___  |  _  \\\\  ___|  ___|\n| | | ( _ ) | | | |___ \\\\| |__\n| | | / _ \\\\/\\\\ | | |   \\\\ \\\\  __|\n| |/ / (_>  < |/ //\\\\__/ / |___\n|___/ \\\\___/\\\\/___/ \\\\____/\\\\____/\n_______________________________`;\n\n/**\n * Configuration data for abilities.\n *\n * @typedef {object} AbilityConfiguration\n * @property {string} label                               Localized label.\n * @property {string} abbreviation                        Localized abbreviation.\n * @property {string} fullKey                             Fully written key used as alternate for enrichers.\n * @property {string} [reference]                         Reference to a rule page describing this ability.\n * @property {string} [type]                              Whether this is a \"physical\" or \"mental\" ability.\n * @property {Object<string, number|string>}  [defaults]  Default values for this ability based on actor type.\n *                                                        If a string is used, the system will attempt to fetch.\n *                                                        the value of the specified ability.\n * @property {string} [icon]                              An SVG icon that represents the ability.\n */\n\n/**\n * The set of Ability Scores used within the system.\n * @enum {AbilityConfiguration}\n */\nDND5E.abilities = {\n  str: {\n    label: \"DND5E.AbilityStr\",\n    abbreviation: \"DND5E.AbilityStrAbbr\",\n    type: \"physical\",\n    fullKey: \"strength\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.nUPv6C66Ur64BIUH\",\n    icon: \"systems/dnd5e/icons/svg/abilities/strength.svg\"\n  },\n  dex: {\n    label: \"DND5E.AbilityDex\",\n    abbreviation: \"DND5E.AbilityDexAbbr\",\n    type: \"physical\",\n    fullKey: \"dexterity\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.ER8CKDUWLsFXuARJ\",\n    icon: \"systems/dnd5e/icons/svg/abilities/dexterity.svg\"\n  },\n  con: {\n    label: \"DND5E.AbilityCon\",\n    abbreviation: \"DND5E.AbilityConAbbr\",\n    type: \"physical\",\n    fullKey: \"constitution\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.MpA4jnwD17Q0RPg7\",\n    icon: \"systems/dnd5e/icons/svg/abilities/constitution.svg\"\n  },\n  int: {\n    label: \"DND5E.AbilityInt\",\n    abbreviation: \"DND5E.AbilityIntAbbr\",\n    type: \"mental\",\n    fullKey: \"intelligence\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.WzWWcTIppki35YvF\",\n    icon: \"systems/dnd5e/icons/svg/abilities/intelligence.svg\",\n    defaults: { vehicle: 0 }\n  },\n  wis: {\n    label: \"DND5E.AbilityWis\",\n    abbreviation: \"DND5E.AbilityWisAbbr\",\n    type: \"mental\",\n    fullKey: \"wisdom\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.v3IPyTtqvXqN934s\",\n    icon: \"systems/dnd5e/icons/svg/abilities/wisdom.svg\",\n    defaults: { vehicle: 0 }\n  },\n  cha: {\n    label: \"DND5E.AbilityCha\",\n    abbreviation: \"DND5E.AbilityChaAbbr\",\n    type: \"mental\",\n    fullKey: \"charisma\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.9FyghudYFV5QJOuG\",\n    icon: \"systems/dnd5e/icons/svg/abilities/charisma.svg\",\n    defaults: { vehicle: 0 }\n  },\n  hon: {\n    label: \"DND5E.AbilityHon\",\n    abbreviation: \"DND5E.AbilityHonAbbr\",\n    type: \"mental\",\n    fullKey: \"honor\",\n    defaults: { npc: \"cha\", vehicle: 0 },\n    improvement: false\n  },\n  san: {\n    label: \"DND5E.AbilitySan\",\n    abbreviation: \"DND5E.AbilitySanAbbr\",\n    type: \"mental\",\n    fullKey: \"sanity\",\n    defaults: { npc: \"wis\", vehicle: 0 },\n    improvement: false\n  }\n};\npreLocalize(\"abilities\", { keys: [\"label\", \"abbreviation\"] });\n\n/**\n * Configure which ability score is used as the default modifier for initiative rolls,\n * when calculating hit points per level and hit dice, and as the default modifier for\n * saving throws to maintain concentration.\n * @enum {string}\n */\nDND5E.defaultAbilities = {\n  initiative: \"dex\",\n  hitPoints: \"con\",\n  concentration: \"con\"\n};\n\nObject.defineProperties(DND5E, {\n  hitPointsAbility: {\n    get: function() {\n      foundry.utils.logCompatibilityWarning(\n        \"DND5E.hitPointsAbility has been deprecated and is now accessible through DND5E.defaultAbilities.hitPoints.\",\n        { since: \"DnD5e 3.1\", until: \"DnD5e 3.3\" }\n      );\n      return DND5E.defaultAbilities.hitPoints;\n    },\n    set: function(value) {\n      foundry.utils.logCompatibilityWarning(\n        \"DND5E.hitPointsAbility has been deprecated and is now accessible through DND5E.defaultAbilities.hitPoints.\",\n        { since: \"DnD5e 3.1\", until: \"DnD5e 3.3\" }\n      );\n      DND5E.defaultAbilities.hitPoints = value;\n    }\n  },\n  initiativeAbility: {\n    get: function() {\n      foundry.utils.logCompatibilityWarning(\n        \"DND5E.initiativeAbility has been deprecated and is now accessible through DND5E.defaultAbilities.initiative.\",\n        { since: \"DnD5e 3.1\", until: \"DnD5e 3.3\" }\n      );\n      return DND5E.defaultAbilities.initiative;\n    },\n    set: function(value) {\n      foundry.utils.logCompatibilityWarning(\n        \"DND5E.initiativeAbility has been deprecated and is now accessible through DND5E.defaultAbilities.initiative.\",\n        { since: \"DnD5e 3.1\", until: \"DnD5e 3.3\" }\n      );\n      DND5E.defaultAbilities.initiative = value;\n    }\n  }\n});\n\n/* -------------------------------------------- */\n\n/**\n * Configuration data for skills.\n *\n * @typedef {object} SkillConfiguration\n * @property {string} label        Localized label.\n * @property {string} ability      Key for the default ability used by this skill.\n * @property {string} fullKey      Fully written key used as alternate for enrichers.\n * @property {string} [reference]  Reference to a rule page describing this skill.\n */\n\n/**\n * The set of skill which can be trained with their default ability scores.\n * @enum {SkillConfiguration}\n */\nDND5E.skills = {\n  acr: {\n    label: \"DND5E.SkillAcr\",\n    ability: \"dex\",\n    fullKey: \"acrobatics\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.AvvBLEHNl7kuwPkN\",\n    icon: \"icons/equipment/feet/shoes-simple-leaf-green.webp\"\n  },\n  ani: {\n    label: \"DND5E.SkillAni\",\n    ability: \"wis\",\n    fullKey: \"animalHandling\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.xb3MCjUvopOU4viE\",\n    icon: \"icons/environment/creatures/horse-brown.webp\"\n  },\n  arc: {\n    label: \"DND5E.SkillArc\",\n    ability: \"int\",\n    fullKey: \"arcana\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.h3bYSPge8IOqne1N\",\n    icon: \"icons/sundries/books/book-embossed-jewel-silver-green.webp\"\n  },\n  ath: {\n    label: \"DND5E.SkillAth\",\n    ability: \"str\",\n    fullKey: \"athletics\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.rIR7ttYDUpH3tMzv\",\n    icon: \"icons/magic/control/buff-strength-muscle-damage-orange.webp\"\n  },\n  dec: {\n    label: \"DND5E.SkillDec\",\n    ability: \"cha\",\n    fullKey: \"deception\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.mqVZ2fz0L7a9VeKJ\",\n    icon: \"icons/magic/control/mouth-smile-deception-purple.webp\"\n  },\n  his: {\n    label: \"DND5E.SkillHis\",\n    ability: \"int\",\n    fullKey: \"history\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.kRBZbdWMGW9K3wdY\",\n    icon: \"icons/sundries/books/book-embossed-bound-brown.webp\"\n  },\n  ins: {\n    label: \"DND5E.SkillIns\",\n    ability: \"wis\",\n    fullKey: \"insight\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.8R5SMbAGbECNgO8z\",\n    icon: \"icons/magic/perception/orb-crystal-ball-scrying-blue.webp\"\n  },\n  itm: {\n    label: \"DND5E.SkillItm\",\n    ability: \"cha\",\n    fullKey: \"intimidation\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.4VHHI2gJ1jEsppfg\",\n    icon: \"icons/skills/social/intimidation-impressing.webp\"\n  },\n  inv: {\n    label: \"DND5E.SkillInv\",\n    ability: \"int\",\n    fullKey: \"investigation\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.Y7nmbQAruWOs7WRM\",\n    icon: \"icons/tools/scribal/magnifying-glass.webp\"\n  },\n  med: {\n    label: \"DND5E.SkillMed\",\n    ability: \"wis\",\n    fullKey: \"medicine\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.GeYmM7BVfSCAga4o\",\n    icon: \"icons/tools/cooking/mortar-herbs-yellow.webp\"\n  },\n  nat: {\n    label: \"DND5E.SkillNat\",\n    ability: \"int\",\n    fullKey: \"nature\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.ueMx3uF2PQlcye31\",\n    icon: \"icons/magic/nature/plant-sprout-snow-green.webp\"\n  },\n  prc: {\n    label: \"DND5E.SkillPrc\",\n    ability: \"wis\",\n    fullKey: \"perception\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.zjEeHCUqfuprfzhY\",\n    icon: \"icons/magic/perception/eye-ringed-green.webp\"\n  },\n  prf: {\n    label: \"DND5E.SkillPrf\",\n    ability: \"cha\",\n    fullKey: \"performance\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.hYT7Z06yDNBcMtGe\",\n    icon: \"icons/tools/instruments/lute-gold-brown.webp\"\n  },\n  per: {\n    label: \"DND5E.SkillPer\",\n    ability: \"cha\",\n    fullKey: \"persuasion\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.4R5H8iIsdFQTsj3X\",\n    icon: \"icons/skills/social/diplomacy-handshake.webp\"\n  },\n  rel: {\n    label: \"DND5E.SkillRel\",\n    ability: \"int\",\n    fullKey: \"religion\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.CXVzERHdP4qLhJXM\",\n    icon: \"icons/magic/holy/saint-glass-portrait-halo.webp\"\n  },\n  slt: {\n    label: \"DND5E.SkillSlt\",\n    ability: \"dex\",\n    fullKey: \"sleightOfHand\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.yg6SRpGNVz9nDW0A\",\n    icon: \"icons/sundries/gaming/playing-cards.webp\"\n  },\n  ste: {\n    label: \"DND5E.SkillSte\",\n    ability: \"dex\",\n    fullKey: \"stealth\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.4MfrpERNiQXmvgCI\",\n    icon: \"icons/magic/perception/shadow-stealth-eyes-purple.webp\"\n  },\n  sur: {\n    label: \"DND5E.SkillSur\",\n    ability: \"wis\",\n    fullKey: \"survival\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.t3EzDU5b9BVAIEVi\",\n    icon: \"icons/magic/fire/flame-burning-campfire-yellow-blue.webp\"\n  }\n};\npreLocalize(\"skills\", { key: \"label\", sort: true });\n\n/* -------------------------------------------- */\n\n/**\n * Character alignment options.\n * @enum {string}\n */\nDND5E.alignments = {\n  lg: \"DND5E.AlignmentLG\",\n  ng: \"DND5E.AlignmentNG\",\n  cg: \"DND5E.AlignmentCG\",\n  ln: \"DND5E.AlignmentLN\",\n  tn: \"DND5E.AlignmentTN\",\n  cn: \"DND5E.AlignmentCN\",\n  le: \"DND5E.AlignmentLE\",\n  ne: \"DND5E.AlignmentNE\",\n  ce: \"DND5E.AlignmentCE\"\n};\npreLocalize(\"alignments\");\n\n/* -------------------------------------------- */\n\n/**\n * An enumeration of item attunement types.\n * @enum {string}\n */\nDND5E.attunementTypes = {\n  required: \"DND5E.AttunementRequired\",\n  optional: \"DND5E.AttunementOptional\"\n};\npreLocalize(\"attunementTypes\");\n\n/**\n * An enumeration of item attunement states.\n * @type {{\"0\": string, \"1\": string, \"2\": string}}\n * @deprecated since 3.2, available until 3.4\n */\nDND5E.attunements = {\n  0: \"DND5E.AttunementNone\",\n  1: \"DND5E.AttunementRequired\",\n  2: \"DND5E.AttunementAttuned\"\n};\npreLocalize(\"attunements\");\n\n/* -------------------------------------------- */\n\n/**\n * General weapon categories.\n * @enum {string}\n */\nDND5E.weaponProficiencies = {\n  sim: \"DND5E.WeaponSimpleProficiency\",\n  mar: \"DND5E.WeaponMartialProficiency\"\n};\npreLocalize(\"weaponProficiencies\");\n\n/**\n * A mapping between `DND5E.weaponTypes` and `DND5E.weaponProficiencies` that\n * is used to determine if character has proficiency when adding an item.\n * @enum {(boolean|string)}\n */\nDND5E.weaponProficienciesMap = {\n  simpleM: \"sim\",\n  simpleR: \"sim\",\n  martialM: \"mar\",\n  martialR: \"mar\"\n};\n\n/**\n * The basic weapon types in 5e. This enables specific weapon proficiencies or\n * starting equipment provided by classes and backgrounds.\n * @enum {string}\n */\nDND5E.weaponIds = {\n  battleaxe: \"I0WocDSuNpGJayPb\",\n  blowgun: \"wNWK6yJMHG9ANqQV\",\n  club: \"nfIRTECQIG81CvM4\",\n  dagger: \"0E565kQUBmndJ1a2\",\n  dart: \"3rCO8MTIdPGSW6IJ\",\n  flail: \"UrH3sMdnUDckIHJ6\",\n  glaive: \"rOG1OM2ihgPjOvFW\",\n  greataxe: \"1Lxk6kmoRhG8qQ0u\",\n  greatclub: \"QRCsxkCwWNwswL9o\",\n  greatsword: \"xMkP8BmFzElcsMaR\",\n  halberd: \"DMejWAc8r8YvDPP1\",\n  handaxe: \"eO7Fbv5WBk5zvGOc\",\n  handcrossbow: \"qaSro7kFhxD6INbZ\",\n  heavycrossbow: \"RmP0mYRn2J7K26rX\",\n  javelin: \"DWLMnODrnHn8IbAG\",\n  lance: \"RnuxdHUAIgxccVwj\",\n  lightcrossbow: \"ddWvQRLmnnIS0eLF\",\n  lighthammer: \"XVK6TOL4sGItssAE\",\n  longbow: \"3cymOVja8jXbzrdT\",\n  longsword: \"10ZP2Bu3vnCuYMIB\",\n  mace: \"Ajyq6nGwF7FtLhDQ\",\n  maul: \"DizirD7eqjh8n95A\",\n  morningstar: \"dX8AxCh9o0A9CkT3\",\n  net: \"aEiM49V8vWpWw7rU\",\n  pike: \"tC0kcqZT9HHAO0PD\",\n  quarterstaff: \"g2dWN7PQiMRYWzyk\",\n  rapier: \"Tobce1hexTnDk4sV\",\n  scimitar: \"fbC0Mg1a73wdFbqO\",\n  shortsword: \"osLzOwQdPtrK3rQH\",\n  sickle: \"i4NeNZ30ycwPDHMx\",\n  spear: \"OG4nBBydvmfWYXIk\",\n  shortbow: \"GJv6WkD7D2J6rP6M\",\n  sling: \"3gynWO9sN4OLGMWD\",\n  trident: \"F65ANO66ckP8FDMa\",\n  warpick: \"2YdfjN1PIIrSHZii\",\n  warhammer: \"F0Df164Xv1gWcYt0\",\n  whip: \"QKTyxoO0YDnAsbYe\"\n};\n\n/* -------------------------------------------- */\n\n/**\n * The basic ammunition types.\n * @enum {string}\n */\nDND5E.ammoIds = {\n  arrow: \"3c7JXOzsv55gqJS5\",\n  blowgunNeedle: \"gBQ8xqTA5f8wP5iu\",\n  crossbowBolt: \"SItCnYBqhzqBoaWG\",\n  slingBullet: \"z9SbsMIBZzuhZOqT\"\n};\n\n/* -------------------------------------------- */\n\n/**\n * The categories into which Tool items can be grouped.\n *\n * @enum {string}\n */\nDND5E.toolTypes = {\n  art: \"DND5E.ToolArtisans\",\n  game: \"DND5E.ToolGamingSet\",\n  music: \"DND5E.ToolMusicalInstrument\"\n};\npreLocalize(\"toolTypes\", { sort: true });\n\n/**\n * The categories of tool proficiencies that a character can gain.\n *\n * @enum {string}\n */\nDND5E.toolProficiencies = {\n  ...DND5E.toolTypes,\n  vehicle: \"DND5E.ToolVehicle\"\n};\npreLocalize(\"toolProficiencies\", { sort: true });\n\n/**\n * The basic tool types in 5e. This enables specific tool proficiencies or\n * starting equipment provided by classes and backgrounds.\n * @enum {string}\n */\nDND5E.toolIds = {\n  alchemist: \"SztwZhbhZeCqyAes\",\n  bagpipes: \"yxHi57T5mmVt0oDr\",\n  brewer: \"Y9S75go1hLMXUD48\",\n  calligrapher: \"jhjo20QoiD5exf09\",\n  card: \"YwlHI3BVJapz4a3E\",\n  carpenter: \"8NS6MSOdXtUqD7Ib\",\n  cartographer: \"fC0lFK8P4RuhpfaU\",\n  chess: \"23y8FvWKf9YLcnBL\",\n  cobbler: \"hM84pZnpCqKfi8XH\",\n  cook: \"Gflnp29aEv5Lc1ZM\",\n  dice: \"iBuTM09KD9IoM5L8\",\n  disg: \"IBhDAr7WkhWPYLVn\",\n  drum: \"69Dpr25pf4BjkHKb\",\n  dulcimer: \"NtdDkjmpdIMiX7I2\",\n  flute: \"eJOrPcAz9EcquyRQ\",\n  forg: \"cG3m4YlHfbQlLEOx\",\n  glassblower: \"rTbVrNcwApnuTz5E\",\n  herb: \"i89okN7GFTWHsvPy\",\n  horn: \"aa9KuBy4dst7WIW9\",\n  jeweler: \"YfBwELTgPFHmQdHh\",\n  leatherworker: \"PUMfwyVUbtyxgYbD\",\n  lute: \"qBydtUUIkv520DT7\",\n  lyre: \"EwG1EtmbgR3bM68U\",\n  mason: \"skUih6tBvcBbORzA\",\n  navg: \"YHCmjsiXxZ9UdUhU\",\n  painter: \"ccm5xlWhx74d6lsK\",\n  panflute: \"G5m5gYIx9VAUWC3J\",\n  pois: \"il2GNi8C0DvGLL9P\",\n  potter: \"hJS8yEVkqgJjwfWa\",\n  shawm: \"G3cqbejJpfB91VhP\",\n  smith: \"KndVe2insuctjIaj\",\n  thief: \"woWZ1sO5IUVGzo58\",\n  tinker: \"0d08g1i5WXnNrCNA\",\n  viol: \"baoe3U5BfMMMxhCU\",\n  weaver: \"ap9prThUB2y9lDyj\",\n  woodcarver: \"xKErqkLo4ASYr5EP\"\n};\n\n/* -------------------------------------------- */\n\n/**\n * Time periods that accept a numeric value.\n * @enum {string}\n */\nDND5E.scalarTimePeriods = {\n  turn: \"DND5E.TimeTurn\",\n  round: \"DND5E.TimeRound\",\n  minute: \"DND5E.TimeMinute\",\n  hour: \"DND5E.TimeHour\",\n  day: \"DND5E.TimeDay\",\n  month: \"DND5E.TimeMonth\",\n  year: \"DND5E.TimeYear\"\n};\npreLocalize(\"scalarTimePeriods\");\n\n/* -------------------------------------------- */\n\n/**\n * Time periods for spells that don't have a defined ending.\n * @enum {string}\n */\nDND5E.permanentTimePeriods = {\n  disp: \"DND5E.TimeDisp\",\n  dstr: \"DND5E.TimeDispTrig\",\n  perm: \"DND5E.TimePerm\"\n};\npreLocalize(\"permanentTimePeriods\");\n\n/* -------------------------------------------- */\n\n/**\n * Time periods that don't accept a numeric value.\n * @enum {string}\n */\nDND5E.specialTimePeriods = {\n  inst: \"DND5E.TimeInst\",\n  spec: \"DND5E.Special\"\n};\npreLocalize(\"specialTimePeriods\");\n\n/* -------------------------------------------- */\n\n/**\n * The various lengths of time over which effects can occur.\n * @enum {string}\n */\nDND5E.timePeriods = {\n  ...DND5E.specialTimePeriods,\n  ...DND5E.permanentTimePeriods,\n  ...DND5E.scalarTimePeriods\n};\npreLocalize(\"timePeriods\");\n\n/* -------------------------------------------- */\n\n/**\n * Ways in which to activate an item that cannot be labeled with a cost.\n * @enum {string}\n */\nDND5E.staticAbilityActivationTypes = {\n  none: \"DND5E.NoneActionLabel\",\n  special: DND5E.timePeriods.spec\n};\n\n/**\n * Various ways in which an item or ability can be activated.\n * @enum {string}\n */\nDND5E.abilityActivationTypes = {\n  ...DND5E.staticAbilityActivationTypes,\n  action: \"DND5E.Action\",\n  bonus: \"DND5E.BonusAction\",\n  reaction: \"DND5E.Reaction\",\n  minute: DND5E.timePeriods.minute,\n  hour: DND5E.timePeriods.hour,\n  day: DND5E.timePeriods.day,\n  legendary: \"DND5E.LegendaryActionLabel\",\n  mythic: \"DND5E.MythicActionLabel\",\n  lair: \"DND5E.LairActionLabel\",\n  crew: \"DND5E.VehicleCrewAction\"\n};\npreLocalize(\"abilityActivationTypes\");\n\n/* -------------------------------------------- */\n\n/**\n * Different things that an ability can consume upon use.\n * @enum {string}\n */\nDND5E.abilityConsumptionTypes = {\n  ammo: \"DND5E.ConsumeAmmunition\",\n  attribute: \"DND5E.ConsumeAttribute\",\n  hitDice: \"DND5E.ConsumeHitDice\",\n  material: \"DND5E.ConsumeMaterial\",\n  charges: \"DND5E.ConsumeCharges\"\n};\npreLocalize(\"abilityConsumptionTypes\", { sort: true });\n\n/* -------------------------------------------- */\n\n/**\n * Configuration data for actor sizes.\n *\n * @typedef {object} ActorSizeConfiguration\n * @property {string} label                   Localized label.\n * @property {string} abbreviation            Localized abbreviation.\n * @property {number} hitDie                  Default hit die denomination for NPCs of this size.\n * @property {number} [token=1]               Default token size.\n * @property {number} [capacityMultiplier=1]  Multiplier used to calculate carrying capacities.\n */\n\n/**\n * Creature sizes ordered from smallest to largest.\n * @enum {ActorSizeConfiguration}\n */\nDND5E.actorSizes = {\n  tiny: {\n    label: \"DND5E.SizeTiny\",\n    abbreviation: \"DND5E.SizeTinyAbbr\",\n    hitDie: 4,\n    token: 0.5,\n    capacityMultiplier: 0.5\n  },\n  sm: {\n    label: \"DND5E.SizeSmall\",\n    abbreviation: \"DND5E.SizeSmallAbbr\",\n    hitDie: 6,\n    dynamicTokenScale: 0.8\n  },\n  med: {\n    label: \"DND5E.SizeMedium\",\n    abbreviation: \"DND5E.SizeMediumAbbr\",\n    hitDie: 8\n  },\n  lg: {\n    label: \"DND5E.SizeLarge\",\n    abbreviation: \"DND5E.SizeLargeAbbr\",\n    hitDie: 10,\n    token: 2,\n    capacityMultiplier: 2\n  },\n  huge: {\n    label: \"DND5E.SizeHuge\",\n    abbreviation: \"DND5E.SizeHugeAbbr\",\n    hitDie: 12,\n    token: 3,\n    capacityMultiplier: 4\n  },\n  grg: {\n    label: \"DND5E.SizeGargantuan\",\n    abbreviation: \"DND5E.SizeGargantuanAbbr\",\n    hitDie: 20,\n    token: 4,\n    capacityMultiplier: 8\n  }\n};\npreLocalize(\"actorSizes\", { keys: [\"label\", \"abbreviation\"] });\n\n/* -------------------------------------------- */\n/*  Canvas                                      */\n/* -------------------------------------------- */\n\n/**\n * Colors used to visualize temporary and temporary maximum HP in token health bars.\n * @enum {number}\n */\nDND5E.tokenHPColors = {\n  damage: 0xFF0000,\n  healing: 0x00FF00,\n  temp: 0x66CCFF,\n  tempmax: 0x440066,\n  negmax: 0x550000\n};\n\n/* -------------------------------------------- */\n\n/**\n * Colors used when a dynamic token ring effects.\n * @enum {number}\n */\nDND5E.tokenRingColors = {\n  damage: 0xFF0000,\n  defeated: 0x000000,\n  healing: 0x00FF00,\n  temp: 0x33AAFF\n};\n\n/* -------------------------------------------- */\n\n/**\n * Configuration data for a map marker style. Options not included will fall back to the value set in `default` style.\n * Any additional styling options added will be passed into the custom marker class and be available for rendering.\n *\n * @typedef {object} MapLocationMarkerStyle\n * @property {typeof PIXI.Container} [icon]  Map marker class used to render the icon.\n * @property {number} [backgroundColor]      Color of the background inside the circle.\n * @property {number} [borderColor]          Color of the border in normal state.\n * @property {number} [borderHoverColor]     Color of the border when hovering over the marker.\n * @property {string} [fontFamily]           Font used for rendering the code on the marker.\n * @property {number} [shadowColor]          Color of the shadow under the marker.\n * @property {number} [textColor]            Color of the text on the marker.\n */\n\n/**\n * Settings used to render map location markers on the canvas.\n * @enum {MapLocationMarkerStyle}\n */\nDND5E.mapLocationMarker = {\n  default: {\n    icon: MapLocationControlIcon,\n    backgroundColor: 0xFBF8F5,\n    borderColor: 0x000000,\n    borderHoverColor: 0xFF5500,\n    fontFamily: \"Roboto Slab\",\n    shadowColor: 0x000000,\n    textColor: 0x000000\n  }\n};\n\n/* -------------------------------------------- */\n\n/**\n * Configuration data for creature types.\n *\n * @typedef {object} CreatureTypeConfiguration\n * @property {string} label               Localized label.\n * @property {string} plural              Localized plural form used in swarm name.\n * @property {string} [reference]         Reference to a rule page describing this type.\n * @property {boolean} [detectAlignment]  Is this type detectable by spells such as \"Detect Evil and Good\"?\n */\n\n/**\n * Default types of creatures.\n * @enum {CreatureTypeConfiguration}\n */\nDND5E.creatureTypes = {\n  aberration: {\n    label: \"DND5E.CreatureAberration\",\n    plural: \"DND5E.CreatureAberrationPl\",\n    icon: \"icons/creatures/tentacles/tentacle-eyes-yellow-pink.webp\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.yy50qVC1JhPHt4LC\",\n    detectAlignment: true\n  },\n  beast: {\n    label: \"DND5E.CreatureBeast\",\n    plural: \"DND5E.CreatureBeastPl\",\n    icon: \"icons/creatures/claws/claw-bear-paw-swipe-red.webp\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.6bTHn7pZek9YX2tv\"\n  },\n  celestial: {\n    label: \"DND5E.CreatureCelestial\",\n    plural: \"DND5E.CreatureCelestialPl\",\n    icon: \"icons/creatures/abilities/wings-birdlike-blue.webp\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.T5CJwxjhBbi6oqaM\",\n    detectAlignment: true\n  },\n  construct: {\n    label: \"DND5E.CreatureConstruct\",\n    plural: \"DND5E.CreatureConstructPl\",\n    icon: \"icons/creatures/magical/construct-stone-earth-gray.webp\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.jQGAJZBZTqDFod8d\"\n  },\n  dragon: {\n    label: \"DND5E.CreatureDragon\",\n    plural: \"DND5E.CreatureDragonPl\",\n    icon: \"icons/creatures/abilities/dragon-fire-breath-orange.webp\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.k2IRXZwGk9W0PM2S\"\n  },\n  elemental: {\n    label: \"DND5E.CreatureElemental\",\n    plural: \"DND5E.CreatureElementalPl\",\n    icon: \"icons/creatures/magical/spirit-fire-orange.webp\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.7z1LXGGkXpHuzkFh\",\n    detectAlignment: true\n  },\n  fey: {\n    label: \"DND5E.CreatureFey\",\n    plural: \"DND5E.CreatureFeyPl\",\n    icon: \"icons/creatures/magical/fae-fairy-winged-glowing-green.webp\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.OFsRUt3pWljgm8VC\",\n    detectAlignment: true\n  },\n  fiend: {\n    label: \"DND5E.CreatureFiend\",\n    plural: \"DND5E.CreatureFiendPl\",\n    icon: \"icons/magic/death/skull-horned-goat-pentagram-red.webp\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.ElHKBJeiJPC7gj6k\",\n    detectAlignment: true\n  },\n  giant: {\n    label: \"DND5E.CreatureGiant\",\n    plural: \"DND5E.CreatureGiantPl\",\n    icon: \"icons/creatures/magical/humanoid-giant-forest-blue.webp\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.AOXn3Mv5vPZwo0Uf\"\n  },\n  humanoid: {\n    label: \"DND5E.CreatureHumanoid\",\n    plural: \"DND5E.CreatureHumanoidPl\",\n    icon: \"icons/magic/unholy/strike-body-explode-disintegrate.webp\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.iFzQs4AenN8ALRvw\"\n  },\n  monstrosity: {\n    label: \"DND5E.CreatureMonstrosity\",\n    plural: \"DND5E.CreatureMonstrosityPl\",\n    icon: \"icons/creatures/abilities/mouth-teeth-rows-red.webp\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.TX0yPEFTn79AMZ8P\"\n  },\n  ooze: {\n    label: \"DND5E.CreatureOoze\",\n    plural: \"DND5E.CreatureOozePl\",\n    icon: \"icons/creatures/slimes/slime-movement-pseudopods-green.webp\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.cgzIC1ecG03D97Fg\"\n  },\n  plant: {\n    label: \"DND5E.CreaturePlant\",\n    plural: \"DND5E.CreaturePlantPl\",\n    icon: \"icons/magic/nature/tree-animated-strike.webp\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.1oT7t6tHE4kZuSN1\"\n  },\n  undead: {\n    label: \"DND5E.CreatureUndead\",\n    plural: \"DND5E.CreatureUndeadPl\",\n    icon: \"icons/magic/death/skull-horned-worn-fire-blue.webp\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.D2BdqS1GeD5rcZ6q\",\n    detectAlignment: true\n  }\n};\npreLocalize(\"creatureTypes\", { keys: [\"label\", \"plural\"], sort: true });\n\n/* -------------------------------------------- */\n\n/**\n * Classification types for item action types.\n * @enum {string}\n */\nDND5E.itemActionTypes = {\n  mwak: \"DND5E.ActionMWAK\",\n  rwak: \"DND5E.ActionRWAK\",\n  msak: \"DND5E.ActionMSAK\",\n  rsak: \"DND5E.ActionRSAK\",\n  abil: \"DND5E.ActionAbil\",\n  save: \"DND5E.ActionSave\",\n  ench: \"DND5E.ActionEnch\",\n  summ: \"DND5E.ActionSumm\",\n  heal: \"DND5E.ActionHeal\",\n  util: \"DND5E.ActionUtil\",\n  other: \"DND5E.ActionOther\"\n};\npreLocalize(\"itemActionTypes\");\n\n/* -------------------------------------------- */\n\n/**\n * Different ways in which item capacity can be limited.\n * @enum {string}\n */\nDND5E.itemCapacityTypes = {\n  items: \"DND5E.ItemContainerCapacityItems\",\n  weight: \"DND5E.ItemContainerCapacityWeight\"\n};\npreLocalize(\"itemCapacityTypes\", { sort: true });\n\n/* -------------------------------------------- */\n\n/**\n * List of various item rarities.\n * @enum {string}\n */\nDND5E.itemRarity = {\n  common: \"DND5E.ItemRarityCommon\",\n  uncommon: \"DND5E.ItemRarityUncommon\",\n  rare: \"DND5E.ItemRarityRare\",\n  veryRare: \"DND5E.ItemRarityVeryRare\",\n  legendary: \"DND5E.ItemRarityLegendary\",\n  artifact: \"DND5E.ItemRarityArtifact\"\n};\npreLocalize(\"itemRarity\");\n\n/* -------------------------------------------- */\n\n/**\n * The limited use periods that support a recovery formula.\n * @deprecated since DnD5e 3.1, available until DnD5e 3.3\n * @enum {string}\n */\nDND5E.limitedUseFormulaPeriods = {\n  charges: \"DND5E.Charges\",\n  dawn: \"DND5E.Dawn\",\n  dusk: \"DND5E.Dusk\"\n};\n\n/* -------------------------------------------- */\n\n/**\n * Configuration data for limited use periods.\n *\n * @typedef {object} LimitedUsePeriodConfiguration\n * @property {string} label           Localized label.\n * @property {string} abbreviation    Shorthand form of the label.\n * @property {boolean} [formula]      Whether this limited use period restores charges via formula.\n */\n\n/**\n * Enumerate the lengths of time over which an item can have limited use ability.\n * @enum {LimitedUsePeriodConfiguration}\n */\nDND5E.limitedUsePeriods = {\n  sr: {\n    label: \"DND5E.UsesPeriods.Sr\",\n    abbreviation: \"DND5E.UsesPeriods.SrAbbreviation\"\n  },\n  lr: {\n    label: \"DND5E.UsesPeriods.Lr\",\n    abbreviation: \"DND5E.UsesPeriods.LrAbbreviation\"\n  },\n  day: {\n    label: \"DND5E.UsesPeriods.Day\",\n    abbreviation: \"DND5E.UsesPeriods.DayAbbreviation\"\n  },\n  charges: {\n    label: \"DND5E.UsesPeriods.Charges\",\n    abbreviation: \"DND5E.UsesPeriods.ChargesAbbreviation\",\n    formula: true\n  },\n  dawn: {\n    label: \"DND5E.UsesPeriods.Dawn\",\n    abbreviation: \"DND5E.UsesPeriods.DawnAbbreviation\",\n    formula: true\n  },\n  dusk: {\n    label: \"DND5E.UsesPeriods.Dusk\",\n    abbreviation: \"DND5E.UsesPeriods.DuskAbbreviation\",\n    formula: true\n  }\n};\npreLocalize(\"limitedUsePeriods\", { keys: [\"label\", \"abbreviation\"] });\npatchConfig(\"limitedUsePeriods\", \"label\", { since: \"DnD5e 3.1\", until: \"DnD5e 3.3\" });\n\n/* -------------------------------------------- */\n\n/**\n * Periods at which enchantments can be re-bound to new items.\n * @enum {{ label: string }}\n */\nDND5E.enchantmentPeriods = {\n  sr: {\n    label: \"DND5E.UsesPeriods.Sr\"\n  },\n  lr: {\n    label: \"DND5E.UsesPeriods.Lr\"\n  },\n  atwill: {\n    label: \"DND5E.UsesPeriods.AtWill\"\n  }\n};\npreLocalize(\"enchantmentPeriods\", { key: \"label\" });\n\n/* -------------------------------------------- */\n\n/**\n * Specific equipment types that modify base AC.\n * @enum {string}\n */\nDND5E.armorTypes = {\n  light: \"DND5E.EquipmentLight\",\n  medium: \"DND5E.EquipmentMedium\",\n  heavy: \"DND5E.EquipmentHeavy\",\n  natural: \"DND5E.EquipmentNatural\",\n  shield: \"DND5E.EquipmentShield\"\n};\npreLocalize(\"armorTypes\");\n\n/* -------------------------------------------- */\n\n/**\n * Equipment types that aren't armor.\n * @enum {string}\n */\nDND5E.miscEquipmentTypes = {\n  clothing: \"DND5E.EquipmentClothing\",\n  trinket: \"DND5E.EquipmentTrinket\",\n  vehicle: \"DND5E.EquipmentVehicle\"\n};\npreLocalize(\"miscEquipmentTypes\", { sort: true });\n\n/* -------------------------------------------- */\n\n/**\n * The set of equipment types for armor, clothing, and other objects which can be worn by the character.\n * @enum {string}\n */\nDND5E.equipmentTypes = {\n  ...DND5E.miscEquipmentTypes,\n  ...DND5E.armorTypes\n};\npreLocalize(\"equipmentTypes\", { sort: true });\n\n/* -------------------------------------------- */\n\n/**\n * The various types of vehicles in which characters can be proficient.\n * @enum {string}\n */\nDND5E.vehicleTypes = {\n  air: \"DND5E.VehicleTypeAir\",\n  land: \"DND5E.VehicleTypeLand\",\n  space: \"DND5E.VehicleTypeSpace\",\n  water: \"DND5E.VehicleTypeWater\"\n};\npreLocalize(\"vehicleTypes\", { sort: true });\n\n/* -------------------------------------------- */\n\n/**\n * The set of Armor Proficiencies which a character may have.\n * @type {object}\n */\nDND5E.armorProficiencies = {\n  lgt: \"DND5E.ArmorLightProficiency\",\n  med: \"DND5E.ArmorMediumProficiency\",\n  hvy: \"DND5E.ArmorHeavyProficiency\",\n  shl: \"DND5E.EquipmentShieldProficiency\"\n};\npreLocalize(\"armorProficiencies\");\n\n/**\n * A mapping between `DND5E.equipmentTypes` and `DND5E.armorProficiencies` that\n * is used to determine if character has proficiency when adding an item.\n * @enum {(boolean|string)}\n */\nDND5E.armorProficienciesMap = {\n  natural: true,\n  clothing: true,\n  light: \"lgt\",\n  medium: \"med\",\n  heavy: \"hvy\",\n  shield: \"shl\"\n};\n\n/**\n * The basic armor types in 5e. This enables specific armor proficiencies,\n * automated AC calculation in NPCs, and starting equipment.\n * @enum {string}\n */\nDND5E.armorIds = {\n  breastplate: \"SK2HATQ4abKUlV8i\",\n  chainmail: \"rLMflzmxpe8JGTOA\",\n  chainshirt: \"p2zChy24ZJdVqMSH\",\n  halfplate: \"vsgmACFYINloIdPm\",\n  hide: \"n1V07puo0RQxPGuF\",\n  leather: \"WwdpHLXGX5r8uZu5\",\n  padded: \"GtKV1b5uqFQqpEni\",\n  plate: \"OjkIqlW2UpgFcjZa\",\n  ringmail: \"nsXZejlmgalj4he9\",\n  scalemail: \"XmnlF5fgIO3tg6TG\",\n  splint: \"cKpJmsJmU8YaiuqG\",\n  studded: \"TIV3B1vbrVHIhQAm\"\n};\n\n/**\n * The basic shield in 5e.\n * @enum {string}\n */\nDND5E.shieldIds = {\n  shield: \"sSs3hSzkKBMNBgTs\"\n};\n\n/**\n * Common armor class calculations.\n * @enum {{ label: string, [formula]: string }}\n */\nDND5E.armorClasses = {\n  flat: {\n    label: \"DND5E.ArmorClassFlat\",\n    formula: \"@attributes.ac.flat\"\n  },\n  natural: {\n    label: \"DND5E.ArmorClassNatural\",\n    formula: \"@attributes.ac.flat\"\n  },\n  default: {\n    label: \"DND5E.ArmorClassEquipment\",\n    formula: \"@attributes.ac.armor + @attributes.ac.dex\"\n  },\n  mage: {\n    label: \"DND5E.ArmorClassMage\",\n    formula: \"13 + @abilities.dex.mod\"\n  },\n  draconic: {\n    label: \"DND5E.ArmorClassDraconic\",\n    formula: \"13 + @abilities.dex.mod\"\n  },\n  unarmoredMonk: {\n    label: \"DND5E.ArmorClassUnarmoredMonk\",\n    formula: \"10 + @abilities.dex.mod + @abilities.wis.mod\"\n  },\n  unarmoredBarb: {\n    label: \"DND5E.ArmorClassUnarmoredBarbarian\",\n    formula: \"10 + @abilities.dex.mod + @abilities.con.mod\"\n  },\n  custom: {\n    label: \"DND5E.ArmorClassCustom\"\n  }\n};\npreLocalize(\"armorClasses\", { key: \"label\" });\n\n/* -------------------------------------------- */\n\n/**\n * Configuration data for an items that have sub-types.\n *\n * @typedef {object} SubtypeTypeConfiguration\n * @property {string} label                       Localized label for this type.\n * @property {Record<string, string>} [subtypes]  Enum containing localized labels for subtypes.\n */\n\n/**\n * Enumerate the valid consumable types which are recognized by the system.\n * @enum {SubtypeTypeConfiguration}\n */\nDND5E.consumableTypes = {\n  ammo: {\n    label: \"DND5E.ConsumableAmmo\",\n    subtypes: {\n      arrow: \"DND5E.ConsumableAmmoArrow\",\n      blowgunNeedle: \"DND5E.ConsumableAmmoBlowgunNeedle\",\n      crossbowBolt: \"DND5E.ConsumableAmmoCrossbowBolt\",\n      slingBullet: \"DND5E.ConsumableAmmoSlingBullet\"\n    }\n  },\n  potion: {\n    label: \"DND5E.ConsumablePotion\"\n  },\n  poison: {\n    label: \"DND5E.ConsumablePoison\",\n    subtypes: {\n      contact: \"DND5E.ConsumablePoisonContact\",\n      ingested: \"DND5E.ConsumablePoisonIngested\",\n      inhaled: \"DND5E.ConsumablePoisonInhaled\",\n      injury: \"DND5E.ConsumablePoisonInjury\"\n    }\n  },\n  food: {\n    label: \"DND5E.ConsumableFood\"\n  },\n  scroll: {\n    label: \"DND5E.ConsumableScroll\"\n  },\n  wand: {\n    label: \"DND5E.ConsumableWand\"\n  },\n  rod: {\n    label: \"DND5E.ConsumableRod\"\n  },\n  trinket: {\n    label: \"DND5E.ConsumableTrinket\"\n  }\n};\npreLocalize(\"consumableTypes\", { key: \"label\", sort: true });\npreLocalize(\"consumableTypes.ammo.subtypes\", { sort: true });\npreLocalize(\"consumableTypes.poison.subtypes\", { sort: true });\n\n/* -------------------------------------------- */\n\n/**\n * Types of containers.\n * @enum {string}\n */\nDND5E.containerTypes = {\n  backpack: \"H8YCd689ezlD26aT\",\n  barrel: \"7Yqbqg5EtVW16wfT\",\n  basket: \"Wv7HzD6dv1P0q78N\",\n  boltcase: \"eJtPBiZtr2pp6ynt\",\n  bottle: \"HZp69hhyNZUUCipF\",\n  bucket: \"mQVYcHmMSoCUnBnM\",\n  case: \"5mIeX824uMklU3xq\",\n  chest: \"2YbuclKfhDL0bU4u\",\n  flask: \"lHS63sC6bypENNlR\",\n  jug: \"0ZBWwjFz3nIAXMLW\",\n  pot: \"M8xM8BLK4tpUayEE\",\n  pitcher: \"nXWdGtzi8DXDLLsL\",\n  pouch: \"9bWTRRDym06PzSAf\",\n  quiver: \"4MtQKPn9qMWCFjDA\",\n  sack: \"CNdDj8dsXVpRVpXt\",\n  saddlebags: \"TmfaFUSZJAotndn9\",\n  tankard: \"uw6fINSmZ2j2o57A\",\n  vial: \"meJEfX3gZgtMX4x2\"\n};\n\n/* -------------------------------------------- */\n\n/**\n * Configuration data for spellcasting foci.\n *\n * @typedef {object} SpellcastingFocusConfiguration\n * @property {string} label                    Localized label for this category.\n * @property {Object<string, string>} itemIds  Item IDs or UUIDs.\n */\n\n/**\n * Type of spellcasting foci.\n * @enum {SpellcastingFocusConfiguration}\n */\nDND5E.focusTypes = {\n  arcane: {\n    label: \"DND5E.Focus.Arcane\",\n    itemIds: {\n      crystal: \"uXOT4fYbgPY8DGdd\",\n      orb: \"tH5Rn0JVRG1zdmPa\",\n      rod: \"OojyyGfh91iViuMF\",\n      staff: \"BeKIrNIvNHRPQ4t5\",\n      wand: \"KA2P6I48iOWlnboO\"\n    }\n  },\n  druidic: {\n    label: \"DND5E.Focus.Druidic\",\n    itemIds: {\n      mistletoe: \"xDK9GQd2iqOGH8Sd\",\n      totem: \"PGL6aaM0wE5h0VN5\",\n      woodenstaff: \"FF1ktpb2YSiyv896\",\n      yewwand: \"t5yP0d7YaKwuKKiH\"\n    }\n  },\n  holy: {\n    label: \"DND5E.Focus.Holy\",\n    itemIds: {\n      amulet: \"paqlMjggWkBIAeCe\",\n      emblem: \"laVqttkGMW4B9654\",\n      reliquary: \"gP1URGq3kVIIFHJ7\"\n    }\n  }\n};\npreLocalize(\"focusTypes\", { key: \"label\" });\n\n/* -------------------------------------------- */\n\n/**\n * Types of \"features\" items.\n * @enum {SubtypeTypeConfiguration}\n */\nDND5E.featureTypes = {\n  background: {\n    label: \"DND5E.Feature.Background\"\n  },\n  class: {\n    label: \"DND5E.Feature.Class.Label\",\n    subtypes: {\n      arcaneShot: \"DND5E.Feature.Class.ArcaneShot\",\n      artificerInfusion: \"DND5E.Feature.Class.ArtificerInfusion\",\n      channelDivinity: \"DND5E.Feature.Class.ChannelDivinity\",\n      defensiveTactic: \"DND5E.Feature.Class.DefensiveTactic\",\n      eldritchInvocation: \"DND5E.Feature.Class.EldritchInvocation\",\n      elementalDiscipline: \"DND5E.Feature.Class.ElementalDiscipline\",\n      fightingStyle: \"DND5E.Feature.Class.FightingStyle\",\n      huntersPrey: \"DND5E.Feature.Class.HuntersPrey\",\n      ki: \"DND5E.Feature.Class.Ki\",\n      maneuver: \"DND5E.Feature.Class.Maneuver\",\n      metamagic: \"DND5E.Feature.Class.Metamagic\",\n      multiattack: \"DND5E.Feature.Class.Multiattack\",\n      pact: \"DND5E.Feature.Class.PactBoon\",\n      psionicPower: \"DND5E.Feature.Class.PsionicPower\",\n      rune: \"DND5E.Feature.Class.Rune\",\n      superiorHuntersDefense: \"DND5E.Feature.Class.SuperiorHuntersDefense\"\n    }\n  },\n  monster: {\n    label: \"DND5E.Feature.Monster\"\n  },\n  race: {\n    label: \"DND5E.Feature.Race\"\n  },\n  enchantment: {\n    label: \"DND5E.Enchantment.Label\",\n    subtypes: {\n      artificerInfusion: \"DND5E.Feature.Class.ArtificerInfusion\",\n      rune: \"DND5E.Feature.Class.Rune\"\n    }\n  },\n  feat: {\n    label: \"DND5E.Feature.Feat\"\n  },\n  supernaturalGift: {\n    label: \"DND5E.Feature.SupernaturalGift.Label\",\n    subtypes: {\n      blessing: \"DND5E.Feature.SupernaturalGift.Blessing\",\n      charm: \"DND5E.Feature.SupernaturalGift.Charm\",\n      epicBoon: \"DND5E.Feature.SupernaturalGift.EpicBoon\"\n    }\n  }\n};\npreLocalize(\"featureTypes\", { key: \"label\" });\npreLocalize(\"featureTypes.class.subtypes\", { sort: true });\npreLocalize(\"featureTypes.enchantment.subtypes\", { sort: true });\npreLocalize(\"featureTypes.supernaturalGift.subtypes\", { sort: true });\n\n/* -------------------------------------------- */\n\n/**\n * Configuration data for item properties.\n *\n * @typedef {object} ItemPropertyConfiguration\n * @property {string} label           Localized label.\n * @property {string} [abbreviation]  Localized abbreviation.\n * @property {string} [icon]          Icon that can be used in certain places to represent this property.\n * @property {string} [reference]     Reference to a rule page describing this property.\n * @property {boolean} [isPhysical]   Is this property one that can cause damage resistance bypasses?\n * @property {boolean} [isTag]        Is this spell property a tag, rather than a component?\n */\n\n/**\n * The various properties of all item types.\n * @enum {ItemPropertyConfiguration}\n */\nDND5E.itemProperties = {\n  ada: {\n    label: \"DND5E.Item.Property.Adamantine\",\n    isPhysical: true\n  },\n  amm: {\n    label: \"DND5E.Item.Property.Ammunition\"\n  },\n  concentration: {\n    label: \"DND5E.Item.Property.Concentration\",\n    abbreviation: \"DND5E.ConcentrationAbbr\",\n    icon: \"systems/dnd5e/icons/svg/statuses/concentrating.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.ow58p27ctAnr4VPH\",\n    isTag: true\n  },\n  fin: {\n    label: \"DND5E.Item.Property.Finesse\"\n  },\n  fir: {\n    label: \"DND5E.Item.Property.Firearm\"\n  },\n  foc: {\n    label: \"DND5E.Item.Property.Focus\"\n  },\n  hvy: {\n    label: \"DND5E.Item.Property.Heavy\"\n  },\n  lgt: {\n    label: \"DND5E.Item.Property.Light\"\n  },\n  lod: {\n    label: \"DND5E.Item.Property.Loading\"\n  },\n  material: {\n    label: \"DND5E.Item.Property.Material\",\n    abbreviation: \"DND5E.ComponentMaterialAbbr\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.AeH5eDS4YeM9RETC\"\n  },\n  mgc: {\n    label: \"DND5E.Item.Property.Magical\",\n    icon: \"systems/dnd5e/icons/svg/properties/magical.svg\",\n    isPhysical: true\n  },\n  rch: {\n    label: \"DND5E.Item.Property.Reach\"\n  },\n  rel: {\n    label: \"DND5E.Item.Property.Reload\"\n  },\n  ret: {\n    label: \"DND5E.Item.Property.Returning\"\n  },\n  ritual: {\n    label: \"DND5E.Item.Property.Ritual\",\n    abbreviation: \"DND5E.RitualAbbr\",\n    icon: \"systems/dnd5e/icons/svg/items/spell.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.FjWqT5iyJ89kohdA\",\n    isTag: true\n  },\n  sil: {\n    label: \"DND5E.Item.Property.Silvered\",\n    isPhysical: true\n  },\n  somatic: {\n    label: \"DND5E.Item.Property.Somatic\",\n    abbreviation: \"DND5E.ComponentSomaticAbbr\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.qwUNgUNilEmZkSC9\"\n  },\n  spc: {\n    label: \"DND5E.Item.Property.Special\"\n  },\n  stealthDisadvantage: {\n    label: \"DND5E.Item.Property.StealthDisadvantage\"\n  },\n  thr: {\n    label: \"DND5E.Item.Property.Thrown\"\n  },\n  two: {\n    label: \"DND5E.Item.Property.TwoHanded\"\n  },\n  ver: {\n    label: \"DND5E.Item.Property.Versatile\"\n  },\n  vocal: {\n    label: \"DND5E.Item.Property.Verbal\",\n    abbreviation: \"DND5E.ComponentVerbalAbbr\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.6UXTNWMCQ0nSlwwx\"\n  },\n  weightlessContents: {\n    label: \"DND5E.Item.Property.WeightlessContents\"\n  }\n};\npreLocalize(\"itemProperties\", { keys: [\"label\", \"abbreviation\"], sort: true });\n\n/* -------------------------------------------- */\n\n/**\n * The various properties of an item per item type.\n * @enum {object}\n */\nDND5E.validProperties = {\n  consumable: new Set([\n    \"mgc\"\n  ]),\n  container: new Set([\n    \"mgc\",\n    \"weightlessContents\"\n  ]),\n  equipment: new Set([\n    \"concentration\",\n    \"mgc\",\n    \"stealthDisadvantage\"\n  ]),\n  feat: new Set([\n    \"concentration\",\n    \"mgc\"\n  ]),\n  loot: new Set([\n    \"mgc\"\n  ]),\n  weapon: new Set([\n    \"ada\",\n    \"amm\",\n    \"fin\",\n    \"fir\",\n    \"foc\",\n    \"hvy\",\n    \"lgt\",\n    \"lod\",\n    \"mgc\",\n    \"rch\",\n    \"rel\",\n    \"ret\",\n    \"sil\",\n    \"spc\",\n    \"thr\",\n    \"two\",\n    \"ver\"\n  ]),\n  spell: new Set([\n    \"vocal\",\n    \"somatic\",\n    \"material\",\n    \"concentration\",\n    \"ritual\"\n  ]),\n  tool: new Set([\n    \"concentration\",\n    \"mgc\"\n  ])\n};\n\n/* -------------------------------------------- */\n\n/**\n * Configuration data for an item with the \"loot\" type.\n *\n * @typedef {object} LootTypeConfiguration\n * @property {string} label                       Localized label for this type.\n */\n\n/**\n * Types of \"loot\" items.\n * @enum {LootTypeConfiguration}\n */\nDND5E.lootTypes = {\n  art: {\n    label: \"DND5E.Loot.Art\"\n  },\n  gear: {\n    label: \"DND5E.Loot.Gear\"\n  },\n  gem: {\n    label: \"DND5E.Loot.Gem\"\n  },\n  junk: {\n    label: \"DND5E.Loot.Junk\"\n  },\n  material: {\n    label: \"DND5E.Loot.Material\"\n  },\n  resource: {\n    label: \"DND5E.Loot.Resource\"\n  },\n  treasure: {\n    label: \"DND5E.Loot.Treasure\"\n  }\n};\npreLocalize(\"lootTypes\", { key: \"label\" });\n\n/* -------------------------------------------- */\n\n/**\n * @typedef {object} CurrencyConfiguration\n * @property {string} label         Localized label for the currency.\n * @property {string} abbreviation  Localized abbreviation for the currency.\n * @property {number} conversion    Number by which this currency should be multiplied to arrive at a standard value.\n */\n\n/**\n * The valid currency denominations with localized labels, abbreviations, and conversions.\n * The conversion number defines how many of that currency are equal to one GP.\n * @enum {CurrencyConfiguration}\n */\nDND5E.currencies = {\n  pp: {\n    label: \"DND5E.CurrencyPP\",\n    abbreviation: \"DND5E.CurrencyAbbrPP\",\n    conversion: 0.1\n  },\n  gp: {\n    label: \"DND5E.CurrencyGP\",\n    abbreviation: \"DND5E.CurrencyAbbrGP\",\n    conversion: 1\n  },\n  ep: {\n    label: \"DND5E.CurrencyEP\",\n    abbreviation: \"DND5E.CurrencyAbbrEP\",\n    conversion: 2\n  },\n  sp: {\n    label: \"DND5E.CurrencySP\",\n    abbreviation: \"DND5E.CurrencyAbbrSP\",\n    conversion: 10\n  },\n  cp: {\n    label: \"DND5E.CurrencyCP\",\n    abbreviation: \"DND5E.CurrencyAbbrCP\",\n    conversion: 100\n  }\n};\npreLocalize(\"currencies\", { keys: [\"label\", \"abbreviation\"] });\n\n/* -------------------------------------------- */\n/*  Damage Types                                */\n/* -------------------------------------------- */\n\n/**\n * Configuration data for damage types.\n *\n * @typedef {object} DamageTypeConfiguration\n * @property {string} label          Localized label.\n * @property {string} icon           Icon representing this type.\n * @property {boolean} [isPhysical]  Is this a type that can be bypassed by magical or silvered weapons?\n * @property {string} [reference]    Reference to a rule page describing this damage type.\n * @property {Color} Color           Visual color of the damage type.\n */\n\n/**\n * Types of damage the can be caused by abilities.\n * @enum {DamageTypeConfiguration}\n */\nDND5E.damageTypes = {\n  acid: {\n    label: \"DND5E.DamageAcid\",\n    icon: \"systems/dnd5e/icons/svg/damage/acid.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.IQhbKRPe1vCPdh8v\",\n    color: new Color(0x839D50)\n  },\n  bludgeoning: {\n    label: \"DND5E.DamageBludgeoning\",\n    icon: \"systems/dnd5e/icons/svg/damage/bludgeoning.svg\",\n    isPhysical: true,\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.39LFrlef94JIYO8m\",\n    color: new Color(0x0000A0)\n  },\n  cold: {\n    label: \"DND5E.DamageCold\",\n    icon: \"systems/dnd5e/icons/svg/damage/cold.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.4xsFUooHDEdfhw6g\",\n    color: new Color(0xADD8E6)\n  },\n  fire: {\n    label: \"DND5E.DamageFire\",\n    icon: \"systems/dnd5e/icons/svg/damage/fire.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.f1S66aQJi4PmOng6\",\n    color: new Color(0xFF4500)\n  },\n  force: {\n    label: \"DND5E.DamageForce\",\n    icon: \"systems/dnd5e/icons/svg/damage/force.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.eFTWzngD8dKWQuUR\",\n    color: new Color(0x800080)\n  },\n  lightning: {\n    label: \"DND5E.DamageLightning\",\n    icon: \"systems/dnd5e/icons/svg/damage/lightning.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.9SaxFJ9bM3SutaMC\",\n    color: new Color(0x1E90FF)\n  },\n  necrotic: {\n    label: \"DND5E.DamageNecrotic\",\n    icon: \"systems/dnd5e/icons/svg/damage/necrotic.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.klOVUV5G1U7iaKoG\",\n    color: new Color(0x006400)\n  },\n  piercing: {\n    label: \"DND5E.DamagePiercing\",\n    icon: \"systems/dnd5e/icons/svg/damage/piercing.svg\",\n    isPhysical: true,\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.95agSnEGTdAmKhyC\",\n    color: new Color(0xC0C0C0)\n  },\n  poison: {\n    label: \"DND5E.DamagePoison\",\n    icon: \"systems/dnd5e/icons/svg/damage/poison.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.k5wOYXdWPzcWwds1\",\n    color: new Color(0x8A2BE2)\n  },\n  psychic: {\n    label: \"DND5E.DamagePsychic\",\n    icon: \"systems/dnd5e/icons/svg/damage/psychic.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.YIKbDv4zYqbE5teJ\",\n    color: new Color(0xFF1493)\n  },\n  radiant: {\n    label: \"DND5E.DamageRadiant\",\n    icon: \"systems/dnd5e/icons/svg/damage/radiant.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.5tcK9buXWDOw8yHH\",\n    color: new Color(0xFFD700)\n  },\n  slashing: {\n    label: \"DND5E.DamageSlashing\",\n    icon: \"systems/dnd5e/icons/svg/damage/slashing.svg\",\n    isPhysical: true,\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.sz2XKQ5lgsdPEJOa\",\n    color: new Color(0x8B0000)\n  },\n  thunder: {\n    label: \"DND5E.DamageThunder\",\n    icon: \"systems/dnd5e/icons/svg/damage/thunder.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.iqsmMHk7FSpiNkQy\",\n    color: new Color(0x708090)\n  }\n};\npreLocalize(\"damageTypes\", { keys: [\"label\"], sort: true });\n\n/* -------------------------------------------- */\n\n/**\n * Display aggregated damage in chat cards.\n * @type {boolean}\n */\nDND5E.aggregateDamageDisplay = true;\n\n/* -------------------------------------------- */\n/*  Movement                                    */\n/* -------------------------------------------- */\n\n/**\n * Different types of healing that can be applied using abilities.\n * @enum {string}\n */\nDND5E.healingTypes = {\n  healing: {\n    label: \"DND5E.Healing\",\n    icon: \"systems/dnd5e/icons/svg/damage/healing.svg\",\n    color: new Color(0x46C252)\n  },\n  temphp: {\n    label: \"DND5E.HealingTemp\",\n    icon: \"systems/dnd5e/icons/svg/damage/temphp.svg\",\n    color: new Color(0x4B66DE)\n  }\n};\npreLocalize(\"healingTypes\", { keys: [\"label\"] });\n\n/* -------------------------------------------- */\n\n/**\n * The valid units of measure for movement distances in the game system.\n * By default this uses the imperial units of feet and miles.\n * @enum {string}\n */\nDND5E.movementTypes = {\n  burrow: \"DND5E.MovementBurrow\",\n  climb: \"DND5E.MovementClimb\",\n  fly: \"DND5E.MovementFly\",\n  swim: \"DND5E.MovementSwim\",\n  walk: \"DND5E.MovementWalk\"\n};\npreLocalize(\"movementTypes\", { sort: true });\n\n/* -------------------------------------------- */\n/*  Measurement                                 */\n/* -------------------------------------------- */\n\n/**\n * The valid units of measure for movement distances in the game system.\n * By default this uses the imperial units of feet and miles.\n * @enum {string}\n */\nDND5E.movementUnits = {\n  ft: \"DND5E.DistFt\",\n  mi: \"DND5E.DistMi\",\n  m: \"DND5E.DistM\",\n  km: \"DND5E.DistKm\"\n};\npreLocalize(\"movementUnits\");\n\n/* -------------------------------------------- */\n\n/**\n * The types of range that are used for measuring actions and effects.\n * @enum {string}\n */\nDND5E.rangeTypes = {\n  self: \"DND5E.DistSelf\",\n  touch: \"DND5E.DistTouch\",\n  spec: \"DND5E.Special\",\n  any: \"DND5E.DistAny\"\n};\npreLocalize(\"rangeTypes\");\n\n/* -------------------------------------------- */\n\n/**\n * The valid units of measure for the range of an action or effect. A combination of `DND5E.movementUnits` and\n * `DND5E.rangeUnits`.\n * @enum {string}\n */\nDND5E.distanceUnits = {\n  ...DND5E.movementUnits,\n  ...DND5E.rangeTypes\n};\npreLocalize(\"distanceUnits\");\n\n/* -------------------------------------------- */\n\n/**\n * Configuration data for a weight unit.\n *\n * @typedef {object} WeightUnitConfiguration\n * @property {string} label         Localized label for the unit.\n * @property {string} abbreviation  Localized abbreviation for the unit.\n * @property {number} conversion    Number that by which this unit should be multiplied to arrive at a standard value.\n * @property {string} type          Whether this is an \"imperial\" or \"metric\" unit.\n */\n\n/**\n * The valid units for measurement of weight.\n * @enum {WeightUnitConfiguration}\n */\nDND5E.weightUnits = {\n  lb: {\n    label: \"DND5E.WeightUnit.Pounds.Label\",\n    abbreviation: \"DND5E.WeightUnit.Pounds.Abbreviation\",\n    conversion: 1,\n    type: \"imperial\"\n  },\n  tn: {\n    label: \"DND5E.WeightUnit.Tons.Label\",\n    abbreviation: \"DND5E.WeightUnit.Tons.Abbreviation\",\n    conversion: 2000,\n    type: \"imperial\"\n  },\n  kg: {\n    label: \"DND5E.WeightUnit.Kilograms.Label\",\n    abbreviation: \"DND5E.WeightUnit.Kilograms.Abbreviation\",\n    conversion: 2.5,\n    type: \"metric\"\n  },\n  Mg: {\n    label: \"DND5E.WeightUnit.Megagrams.Label\",\n    abbreviation: \"DND5E.WeightUnit.Megagrams.Abbreviation\",\n    conversion: 2500,\n    type: \"metric\"\n  }\n};\npreLocalize(\"weightUnits\", { keys: [\"label\", \"abbreviation\"] });\n\n/* -------------------------------------------- */\n\n/**\n * Encumbrance configuration data.\n *\n * @typedef {object} EncumbranceConfiguration\n * @property {Record<string, number>} currencyPerWeight  Pieces of currency that equal a base weight (lbs or kgs).\n * @property {Record<string, object>} effects            Data used to create encumbrance-related Active Effects.\n * @property {object} threshold                          Amount to multiply strength to get given capacity threshold.\n * @property {Record<string, number>} threshold.encumbered\n * @property {Record<string, number>} threshold.heavilyEncumbered\n * @property {Record<string, number>} threshold.maximum\n * @property {Record<string, {ft: number, m: number}>} speedReduction  Speed reduction caused by encumbered status.\n * @property {Record<string, number>} vehicleWeightMultiplier  Multiplier used to determine vehicle carrying capacity.\n * @property {Record<string, Record<string, string>>} baseUnits  Base units used to calculate carrying weight.\n */\n\n/**\n * Configure aspects of encumbrance calculation so that it could be configured by modules.\n * @type {EncumbranceConfiguration}\n */\nDND5E.encumbrance = {\n  currencyPerWeight: {\n    imperial: 50,\n    metric: 110\n  },\n  effects: {\n    encumbered: {\n      name: \"EFFECT.DND5E.StatusEncumbered\",\n      icon: \"systems/dnd5e/icons/svg/statuses/encumbered.svg\"\n    },\n    heavilyEncumbered: {\n      name: \"EFFECT.DND5E.StatusHeavilyEncumbered\",\n      icon: \"systems/dnd5e/icons/svg/statuses/heavily-encumbered.svg\"\n    },\n    exceedingCarryingCapacity: {\n      name: \"EFFECT.DND5E.StatusExceedingCarryingCapacity\",\n      icon: \"systems/dnd5e/icons/svg/statuses/exceeding-carrying-capacity.svg\"\n    }\n  },\n  threshold: {\n    encumbered: {\n      imperial: 5,\n      metric: 2.5\n    },\n    heavilyEncumbered: {\n      imperial: 10,\n      metric: 5\n    },\n    maximum: {\n      imperial: 15,\n      metric: 7.5\n    }\n  },\n  speedReduction: {\n    encumbered: {\n      ft: 10,\n      m: 3\n    },\n    heavilyEncumbered: {\n      ft: 20,\n      m: 6\n    },\n    exceedingCarryingCapacity: {\n      ft: 5,\n      m: 1.5\n    }\n  },\n  baseUnits: {\n    default: {\n      imperial: \"lb\",\n      metric: \"kg\"\n    },\n    vehicle: {\n      imperial: \"tn\",\n      metric: \"Mg\"\n    }\n  }\n};\npreLocalize(\"encumbrance.effects\", { key: \"name\" });\n\n/* -------------------------------------------- */\n/*  Targeting                                   */\n/* -------------------------------------------- */\n\n/**\n * Targeting types that apply to one or more distinct targets.\n * @enum {string}\n */\nDND5E.individualTargetTypes = {\n  self: \"DND5E.TargetSelf\",\n  ally: \"DND5E.TargetAlly\",\n  enemy: \"DND5E.TargetEnemy\",\n  creature: \"DND5E.TargetCreature\",\n  object: \"DND5E.TargetObject\",\n  space: \"DND5E.TargetSpace\",\n  creatureOrObject: \"DND5E.TargetCreatureOrObject\",\n  any: \"DND5E.TargetAny\",\n  willing: \"DND5E.TargetWilling\"\n};\npreLocalize(\"individualTargetTypes\");\n\n/* -------------------------------------------- */\n\n/**\n * Information needed to represent different area of effect target types.\n *\n * @typedef {object} AreaTargetDefinition\n * @property {string} label        Localized label for this type.\n * @property {string} template     Type of `MeasuredTemplate` create for this target type.\n * @property {string} [reference]  Reference to a rule page describing this area of effect.\n */\n\n/**\n * Targeting types that cover an area.\n * @enum {AreaTargetDefinition}\n */\nDND5E.areaTargetTypes = {\n  radius: {\n    label: \"DND5E.TargetRadius\",\n    template: \"circle\"\n  },\n  sphere: {\n    label: \"DND5E.TargetSphere\",\n    template: \"circle\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.npdEWb2egUPnB5Fa\"\n  },\n  cylinder: {\n    label: \"DND5E.TargetCylinder\",\n    template: \"circle\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.jZFp4R7tXsIqkiG3\"\n  },\n  cone: {\n    label: \"DND5E.TargetCone\",\n    template: \"cone\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.DqqAOr5JnX71OCOw\"\n  },\n  square: {\n    label: \"DND5E.TargetSquare\",\n    template: \"rect\"\n  },\n  cube: {\n    label: \"DND5E.TargetCube\",\n    template: \"rect\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.dRfDIwuaHmUQ06uA\"\n  },\n  line: {\n    label: \"DND5E.TargetLine\",\n    template: \"ray\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.6DOoBgg7okm9gBc6\"\n  },\n  wall: {\n    label: \"DND5E.TargetWall\",\n    template: \"ray\"\n  }\n};\npreLocalize(\"areaTargetTypes\", { key: \"label\", sort: true });\n\n/* -------------------------------------------- */\n\n/**\n * The types of single or area targets which can be applied to abilities.\n * @enum {string}\n */\nDND5E.targetTypes = {\n  ...DND5E.individualTargetTypes,\n  ...Object.fromEntries(Object.entries(DND5E.areaTargetTypes).map(([k, v]) => [k, v.label]))\n};\npreLocalize(\"targetTypes\", { sort: true });\n\n/* -------------------------------------------- */\n\n/**\n * Denominations of hit dice which can apply to classes.\n * @type {string[]}\n */\nDND5E.hitDieTypes = [\"d4\", \"d6\", \"d8\", \"d10\", \"d12\"];\n\n/* -------------------------------------------- */\n\n/**\n * Configuration data for rest types.\n *\n * @typedef {object} RestConfiguration\n * @property {Record<string, number>} duration  Duration of different rest variants in minutes.\n */\n\n/**\n * Types of rests.\n * @enum {RestConfiguration}\n */\nDND5E.restTypes = {\n  short: {\n    duration: {\n      normal: 60,\n      gritty: 480,\n      epic: 1\n    }\n  },\n  long: {\n    duration: {\n      normal: 480,\n      gritty: 10080,\n      epic: 60\n    }\n  }\n};\n\n/* -------------------------------------------- */\n\n/**\n * The set of possible sensory perception types which an Actor may have.\n * @enum {string}\n */\nDND5E.senses = {\n  blindsight: \"DND5E.SenseBlindsight\",\n  darkvision: \"DND5E.SenseDarkvision\",\n  tremorsense: \"DND5E.SenseTremorsense\",\n  truesight: \"DND5E.SenseTruesight\"\n};\npreLocalize(\"senses\", { sort: true });\n\n/* -------------------------------------------- */\n/*  Spellcasting                                */\n/* -------------------------------------------- */\n\n/**\n * Define the standard slot progression by character level.\n * The entries of this array represent the spell slot progression for a full spell-caster.\n * @type {number[][]}\n */\nDND5E.SPELL_SLOT_TABLE = [\n  [2],\n  [3],\n  [4, 2],\n  [4, 3],\n  [4, 3, 2],\n  [4, 3, 3],\n  [4, 3, 3, 1],\n  [4, 3, 3, 2],\n  [4, 3, 3, 3, 1],\n  [4, 3, 3, 3, 2],\n  [4, 3, 3, 3, 2, 1],\n  [4, 3, 3, 3, 2, 1],\n  [4, 3, 3, 3, 2, 1, 1],\n  [4, 3, 3, 3, 2, 1, 1],\n  [4, 3, 3, 3, 2, 1, 1, 1],\n  [4, 3, 3, 3, 2, 1, 1, 1],\n  [4, 3, 3, 3, 2, 1, 1, 1, 1],\n  [4, 3, 3, 3, 3, 1, 1, 1, 1],\n  [4, 3, 3, 3, 3, 2, 1, 1, 1],\n  [4, 3, 3, 3, 3, 2, 2, 1, 1]\n];\n\n/* -------------------------------------------- */\n\n/**\n * Configuration data for pact casting progression.\n *\n * @typedef {object} PactProgressionConfig\n * @property {number} slots  Number of spell slots granted.\n * @property {number} level  Level of spells that can be cast.\n */\n\n/**\n * Define the pact slot & level progression by pact caster level.\n * @enum {PactProgressionConfig}\n */\nDND5E.pactCastingProgression = {\n  1: { slots: 1, level: 1 },\n  2: { slots: 2, level: 1 },\n  3: { slots: 2, level: 2 },\n  5: { slots: 2, level: 3 },\n  7: { slots: 2, level: 4 },\n  9: { slots: 2, level: 5 },\n  11: { slots: 3, level: 5 },\n  17: { slots: 4, level: 5 }\n};\n\n/* -------------------------------------------- */\n\n/**\n * Configuration data for spell preparation modes.\n *\n * @typedef {object} SpellPreparationModeConfiguration\n * @property {string} label           Localized name of this spell preparation type.\n * @property {boolean} [upcast]       Whether this preparation mode allows for upcasting.\n * @property {boolean} [cantrips]     Whether this mode allows for cantrips in a spellbook.\n * @property {number} [order]         The sort order of this mode in a spellbook.\n * @property {boolean} [prepares]     Whether this preparation mode prepares spells.\n */\n\n/**\n * Various different ways a spell can be prepared.\n * @enum {SpellPreparationModeConfiguration}\n */\nDND5E.spellPreparationModes = {\n  prepared: {\n    label: \"DND5E.SpellPrepPrepared\",\n    upcast: true,\n    prepares: true\n  },\n  pact: {\n    label: \"DND5E.PactMagic\",\n    upcast: true,\n    cantrips: true,\n    order: 0.5\n  },\n  always: {\n    label: \"DND5E.SpellPrepAlways\",\n    upcast: true,\n    prepares: true\n  },\n  atwill: {\n    label: \"DND5E.SpellPrepAtWill\",\n    order: -30\n  },\n  innate: {\n    label: \"DND5E.SpellPrepInnate\",\n    order: -20\n  },\n  ritual: {\n    label: \"DND5E.SpellPrepRitual\",\n    order: -10\n  }\n};\npreLocalize(\"spellPreparationModes\", { key: \"label\" });\npatchConfig(\"spellPreparationModes\", \"label\", { since: \"DnD5e 3.1\", until: \"DnD5e 3.3\" });\n\n/* -------------------------------------------- */\n\n/**\n * Subset of `DND5E.spellPreparationModes` that consume spell slots.\n * @deprecated since DnD5e 3.1, available until DnD5e 3.3\n * @type {string[]}\n */\nDND5E.spellUpcastModes = [\"always\", \"pact\", \"prepared\"];\n\n/* -------------------------------------------- */\n\n/**\n * Configuration data for different types of spellcasting supported.\n *\n * @typedef {object} SpellcastingTypeConfiguration\n * @property {string} label                               Localized label.\n * @property {string} img                                 Image used when rendered as a favorite on the sheet.\n * @property {boolean} [shortRest]                        Are these spell slots additionally restored on a short rest?\n * @property {Object<string, SpellcastingProgressionConfiguration>} [progression]  Any progression modes for this type.\n */\n\n/**\n * Configuration data for a spellcasting progression mode.\n *\n * @typedef {object} SpellcastingProgressionConfiguration\n * @property {string} label             Localized label.\n * @property {number} [divisor=1]       Value by which the class levels are divided to determine spellcasting level.\n * @property {boolean} [roundUp=false]  Should fractional values should be rounded up by default?\n */\n\n/**\n * Different spellcasting types and their progression.\n * @type {SpellcastingTypeConfiguration}\n */\nDND5E.spellcastingTypes = {\n  leveled: {\n    label: \"DND5E.SpellProgLeveled\",\n    img: \"systems/dnd5e/icons/spell-tiers/{id}.webp\",\n    progression: {\n      full: {\n        label: \"DND5E.SpellProgFull\",\n        divisor: 1\n      },\n      half: {\n        label: \"DND5E.SpellProgHalf\",\n        divisor: 2\n      },\n      third: {\n        label: \"DND5E.SpellProgThird\",\n        divisor: 3\n      },\n      artificer: {\n        label: \"DND5E.SpellProgArt\",\n        divisor: 2,\n        roundUp: true\n      }\n    }\n  },\n  pact: {\n    label: \"DND5E.SpellProgPact\",\n    img: \"icons/magic/unholy/silhouette-robe-evil-power.webp\",\n    shortRest: true\n  }\n};\npreLocalize(\"spellcastingTypes\", { key: \"label\", sort: true });\npreLocalize(\"spellcastingTypes.leveled.progression\", { key: \"label\" });\n\n/* -------------------------------------------- */\n\n/**\n * Ways in which a class can contribute to spellcasting levels.\n * @enum {string}\n */\nDND5E.spellProgression = {\n  none: \"DND5E.SpellNone\",\n  full: \"DND5E.SpellProgFull\",\n  half: \"DND5E.SpellProgHalf\",\n  third: \"DND5E.SpellProgThird\",\n  pact: \"DND5E.SpellProgPact\",\n  artificer: \"DND5E.SpellProgArt\"\n};\npreLocalize(\"spellProgression\", { key: \"label\" });\n\n/* -------------------------------------------- */\n\n/**\n * Valid spell levels.\n * @enum {string}\n */\nDND5E.spellLevels = {\n  0: \"DND5E.SpellLevel0\",\n  1: \"DND5E.SpellLevel1\",\n  2: \"DND5E.SpellLevel2\",\n  3: \"DND5E.SpellLevel3\",\n  4: \"DND5E.SpellLevel4\",\n  5: \"DND5E.SpellLevel5\",\n  6: \"DND5E.SpellLevel6\",\n  7: \"DND5E.SpellLevel7\",\n  8: \"DND5E.SpellLevel8\",\n  9: \"DND5E.SpellLevel9\"\n};\npreLocalize(\"spellLevels\");\n\n/* -------------------------------------------- */\n\n/**\n * The available choices for how spell damage scaling may be computed.\n * @enum {string}\n */\nDND5E.spellScalingModes = {\n  none: \"DND5E.SpellNone\",\n  cantrip: \"DND5E.SpellCantrip\",\n  level: \"DND5E.SpellLevel\"\n};\npreLocalize(\"spellScalingModes\", { sort: true });\n\n/* -------------------------------------------- */\n\n/**\n * Configuration data for spell components.\n *\n * @typedef {object} SpellComponentConfiguration\n * @property {string} label         Localized label.\n * @property {string} abbr          Localized abbreviation.\n * @property {string} [reference]   Reference to a rule page describing this component.\n */\n\n/**\n * Types of components that can be required when casting a spell.\n * @deprecated since DnD5e 3.0, available until DnD5e 3.3\n * @enum {SpellComponentConfiguration}\n */\nDND5E.spellComponents = {\n  vocal: {\n    label: \"DND5E.ComponentVerbal\",\n    abbr: \"DND5E.ComponentVerbalAbbr\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.6UXTNWMCQ0nSlwwx\"\n  },\n  somatic: {\n    label: \"DND5E.ComponentSomatic\",\n    abbr: \"DND5E.ComponentSomaticAbbr\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.qwUNgUNilEmZkSC9\"\n  },\n  material: {\n    label: \"DND5E.ComponentMaterial\",\n    abbr: \"DND5E.ComponentMaterialAbbr\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.AeH5eDS4YeM9RETC\"\n  }\n};\npreLocalize(\"spellComponents\", { keys: [\"label\", \"abbr\"] });\n\n/* -------------------------------------------- */\n\n/**\n * Configuration data for spell tags.\n *\n * @typedef {object} SpellTagConfiguration\n * @property {string} label         Localized label.\n * @property {string} abbr          Localized abbreviation.\n * @property {string} icon          Icon representing this tag.\n * @property {string} [reference]   Reference to a rule page describing this tag.\n */\n\n/**\n * Supplementary rules keywords that inform a spell's use.\n * @deprecated since DnD5e 3.0, available until DnD5e 3.3\n * @enum {SpellTagConfiguration}\n */\nDND5E.spellTags = {\n  concentration: {\n    label: \"DND5E.Concentration\",\n    abbr: \"DND5E.ConcentrationAbbr\",\n    icon: \"systems/dnd5e/icons/svg/statuses/concentrating.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.ow58p27ctAnr4VPH\"\n  },\n  ritual: {\n    label: \"DND5E.Ritual\",\n    abbr: \"DND5E.RitualAbbr\",\n    icon: \"systems/dnd5e/icons/svg/items/spell.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.FjWqT5iyJ89kohdA\"\n  }\n};\npreLocalize(\"spellTags\", { keys: [\"label\", \"abbr\"] });\n\n/* -------------------------------------------- */\n\n/**\n * Configuration data for spell schools.\n *\n * @typedef {object} SpellSchoolConfiguration\n * @property {string} label        Localized label.\n * @property {string} icon         Spell school icon.\n * @property {string} fullKey      Fully written key used as alternate for enrichers.\n * @property {string} [reference]  Reference to a rule page describing this school.\n */\n\n/**\n * Schools to which a spell can belong.\n * @enum {SpellSchoolConfiguration}\n */\nDND5E.spellSchools = {\n  abj: {\n    label: \"DND5E.SchoolAbj\",\n    icon: \"systems/dnd5e/icons/svg/schools/abjuration.svg\",\n    fullKey: \"abjuration\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.849AYEWw9FHD6JNz\"\n  },\n  con: {\n    label: \"DND5E.SchoolCon\",\n    icon: \"systems/dnd5e/icons/svg/schools/conjuration.svg\",\n    fullKey: \"conjuration\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.TWyKMhZJZGqQ6uls\"\n  },\n  div: {\n    label: \"DND5E.SchoolDiv\",\n    icon: \"systems/dnd5e/icons/svg/schools/divination.svg\",\n    fullKey: \"divination\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.HoD2MwzmVbMqj9se\"\n  },\n  enc: {\n    label: \"DND5E.SchoolEnc\",\n    icon: \"systems/dnd5e/icons/svg/schools/enchantment.svg\",\n    fullKey: \"enchantment\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.SehPXk24ySBVOwCZ\"\n  },\n  evo: {\n    label: \"DND5E.SchoolEvo\",\n    icon: \"systems/dnd5e/icons/svg/schools/evocation.svg\",\n    fullKey: \"evocation\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.kGp1RNuxL2SELLRC\"\n  },\n  ill: {\n    label: \"DND5E.SchoolIll\",\n    icon: \"systems/dnd5e/icons/svg/schools/illusion.svg\",\n    fullKey: \"illusion\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.smEk7kvVyslFozrB\"\n  },\n  nec: {\n    label: \"DND5E.SchoolNec\",\n    icon: \"systems/dnd5e/icons/svg/schools/necromancy.svg\",\n    fullKey: \"necromancy\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.W0eyiV1FBmngb6Qh\"\n  },\n  trs: {\n    label: \"DND5E.SchoolTrs\",\n    icon: \"systems/dnd5e/icons/svg/schools/transmutation.svg\",\n    fullKey: \"transmutation\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.IYWewSailtmv6qEb\"\n  }\n};\npreLocalize(\"spellSchools\", { key: \"label\", sort: true });\n\n/* -------------------------------------------- */\n\n/**\n * Types of spell lists.\n * @enum {string}\n */\nDND5E.spellListTypes = {\n  class: \"ITEM.TypeClass\",\n  subclass: \"ITEM.TypeSubclass\",\n  background: \"ITEM.TypeBackground\",\n  race: \"ITEM.TypeRace\",\n  other: \"JOURNALENTRYPAGE.DND5E.SpellList.Type.Other\"\n};\npreLocalize(\"spellListTypes\");\n\n/* -------------------------------------------- */\n\n/**\n * Spell scroll item ID within the `DND5E.sourcePacks` compendium or a full UUID for each spell level.\n * @enum {string}\n */\nDND5E.spellScrollIds = {\n  0: \"rQ6sO7HDWzqMhSI3\",\n  1: \"9GSfMg0VOA2b4uFN\",\n  2: \"XdDp6CKh9qEvPTuS\",\n  3: \"hqVKZie7x9w3Kqds\",\n  4: \"DM7hzgL836ZyUFB1\",\n  5: \"wa1VF8TXHmkrrR35\",\n  6: \"tI3rWx4bxefNCexS\",\n  7: \"mtyw4NS1s7j2EJaD\",\n  8: \"aOrinPg7yuDZEuWr\",\n  9: \"O4YbkJkLlnsgUszZ\"\n};\n\n/* -------------------------------------------- */\n/*  Weapon Details                              */\n/* -------------------------------------------- */\n\n/**\n * The set of types which a weapon item can take.\n * @enum {string}\n */\nDND5E.weaponTypes = {\n  simpleM: \"DND5E.WeaponSimpleM\",\n  simpleR: \"DND5E.WeaponSimpleR\",\n  martialM: \"DND5E.WeaponMartialM\",\n  martialR: \"DND5E.WeaponMartialR\",\n  natural: \"DND5E.WeaponNatural\",\n  improv: \"DND5E.WeaponImprov\",\n  siege: \"DND5E.WeaponSiege\"\n};\npreLocalize(\"weaponTypes\");\n\n/* -------------------------------------------- */\n\n/**\n * Compendium packs used for localized items.\n * @enum {string}\n */\nDND5E.sourcePacks = {\n  BACKGROUNDS: \"dnd5e.backgrounds\",\n  CLASSES: \"dnd5e.classes\",\n  ITEMS: \"dnd5e.items\",\n  RACES: \"dnd5e.races\"\n};\n\n/* -------------------------------------------- */\n\n/**\n * Settings to configure how actors are merged when polymorphing is applied.\n * @enum {string}\n */\nDND5E.polymorphSettings = {\n  keepPhysical: \"DND5E.PolymorphKeepPhysical\",\n  keepMental: \"DND5E.PolymorphKeepMental\",\n  keepSaves: \"DND5E.PolymorphKeepSaves\",\n  keepSkills: \"DND5E.PolymorphKeepSkills\",\n  mergeSaves: \"DND5E.PolymorphMergeSaves\",\n  mergeSkills: \"DND5E.PolymorphMergeSkills\",\n  keepClass: \"DND5E.PolymorphKeepClass\",\n  keepFeats: \"DND5E.PolymorphKeepFeats\",\n  keepSpells: \"DND5E.PolymorphKeepSpells\",\n  keepItems: \"DND5E.PolymorphKeepItems\",\n  keepBio: \"DND5E.PolymorphKeepBio\",\n  keepVision: \"DND5E.PolymorphKeepVision\",\n  keepSelf: \"DND5E.PolymorphKeepSelf\"\n};\npreLocalize(\"polymorphSettings\", { sort: true });\n\n/**\n * Settings to configure how actors are effects are merged when polymorphing is applied.\n * @enum {string}\n */\nDND5E.polymorphEffectSettings = {\n  keepAE: \"DND5E.PolymorphKeepAE\",\n  keepOtherOriginAE: \"DND5E.PolymorphKeepOtherOriginAE\",\n  keepOriginAE: \"DND5E.PolymorphKeepOriginAE\",\n  keepEquipmentAE: \"DND5E.PolymorphKeepEquipmentAE\",\n  keepFeatAE: \"DND5E.PolymorphKeepFeatureAE\",\n  keepSpellAE: \"DND5E.PolymorphKeepSpellAE\",\n  keepClassAE: \"DND5E.PolymorphKeepClassAE\",\n  keepBackgroundAE: \"DND5E.PolymorphKeepBackgroundAE\"\n};\npreLocalize(\"polymorphEffectSettings\", { sort: true });\n\n/**\n * Settings to configure how actors are merged when preset polymorphing is applied.\n * @enum {object}\n */\nDND5E.transformationPresets = {\n  wildshape: {\n    icon: '<i class=\"fas fa-paw\"></i>',\n    label: \"DND5E.PolymorphWildShape\",\n    options: {\n      keepBio: true,\n      keepClass: true,\n      keepFeats: true,\n      keepMental: true,\n      mergeSaves: true,\n      mergeSkills: true,\n      keepEquipmentAE: false\n    }\n  },\n  polymorph: {\n    icon: '<i class=\"fas fa-pastafarianism\"></i>',\n    label: \"DND5E.Polymorph\",\n    options: {\n      keepEquipmentAE: false,\n      keepClassAE: false,\n      keepFeatAE: false,\n      keepBackgroundAE: false\n    }\n  },\n  polymorphSelf: {\n    icon: '<i class=\"fas fa-eye\"></i>',\n    label: \"DND5E.PolymorphSelf\",\n    options: {\n      keepSelf: true\n    }\n  }\n};\npreLocalize(\"transformationPresets\", { sort: true, keys: [\"label\"] });\n\n/* -------------------------------------------- */\n\n/**\n * Skill, ability, and tool proficiency levels.\n * The key for each level represents its proficiency multiplier.\n * @enum {string}\n */\nDND5E.proficiencyLevels = {\n  0: \"DND5E.NotProficient\",\n  1: \"DND5E.Proficient\",\n  0.5: \"DND5E.HalfProficient\",\n  2: \"DND5E.Expertise\"\n};\npreLocalize(\"proficiencyLevels\");\n\n/* -------------------------------------------- */\n\n/**\n * Weapon and armor item proficiency levels.\n * @enum {string}\n */\nDND5E.weaponAndArmorProficiencyLevels = {\n  0: \"DND5E.NotProficient\",\n  1: \"DND5E.Proficient\"\n};\npreLocalize(\"weaponAndArmorProficiencyLevels\");\n\n/* -------------------------------------------- */\n\n/**\n * The amount of cover provided by an object. In cases where multiple pieces\n * of cover are in play, we take the highest value.\n * @enum {string}\n */\nDND5E.cover = {\n  0: \"DND5E.None\",\n  .5: \"DND5E.CoverHalf\",\n  .75: \"DND5E.CoverThreeQuarters\",\n  1: \"DND5E.CoverTotal\"\n};\npreLocalize(\"cover\");\n\n/* -------------------------------------------- */\n\n/**\n * A selection of actor attributes that can be tracked on token resource bars.\n * @type {string[]}\n * @deprecated since v10\n */\nDND5E.trackableAttributes = [\n  \"attributes.ac.value\", \"attributes.init.bonus\", \"attributes.movement\", \"attributes.senses\", \"attributes.spelldc\",\n  \"attributes.spellLevel\", \"details.cr\", \"details.spellLevel\", \"details.xp.value\", \"skills.*.passive\",\n  \"abilities.*.value\"\n];\n\n/* -------------------------------------------- */\n\n/**\n * A selection of actor and item attributes that are valid targets for item resource consumption.\n * @type {string[]}\n */\nDND5E.consumableResources = [\n  // Configured during init.\n];\n\n/* -------------------------------------------- */\n\n/**\n * @typedef {object} _StatusEffectConfig5e\n * @property {string} icon            Icon used to represent the condition on the token.\n * @property {string} [reference]     UUID of a journal entry with details on this condition.\n * @property {string} [special]       Set this condition as a special status effect under this name.\n * @property {string[]} [riders]      Additional conditions, by id, to apply as part of this condition.\n */\n\n/**\n * Configuration data for system status effects.\n * @typedef {Omit<StatusEffectConfig, \"img\"> & _StatusEffectConfig5e} StatusEffectConfig5e\n */\n\n/**\n * @typedef {object} _ConditionConfiguration\n * @property {string} label        Localized label for the condition.\n * @property {boolean} [pseudo]    Is this a pseudo-condition, i.e. one that does not appear in the conditions appendix\n *                                 but acts as a status effect?\n * @property {number} [levels]     The number of levels of exhaustion an actor can obtain.\n */\n\n/**\n * Configuration data for system conditions.\n * @typedef {Omit<StatusEffectConfig5e, \"name\"> & _ConditionConfiguration} ConditionConfiguration\n */\n\n/**\n * Conditions that can affect an actor.\n * @enum {ConditionConfiguration}\n */\nDND5E.conditionTypes = {\n  bleeding: {\n    label: \"EFFECT.DND5E.StatusBleeding\",\n    icon: \"systems/dnd5e/icons/svg/statuses/bleeding.svg\",\n    pseudo: true\n  },\n  blinded: {\n    label: \"DND5E.ConBlinded\",\n    icon: \"systems/dnd5e/icons/svg/statuses/blinded.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.w7eitkpD7QQTB6j0.JournalEntryPage.0b8N4FymGGfbZGpJ\",\n    special: \"BLIND\"\n  },\n  charmed: {\n    label: \"DND5E.ConCharmed\",\n    icon: \"systems/dnd5e/icons/svg/statuses/charmed.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.w7eitkpD7QQTB6j0.JournalEntryPage.zZaEBrKkr66OWJvD\"\n  },\n  cursed: {\n    label: \"EFFECT.DND5E.StatusCursed\",\n    icon: \"systems/dnd5e/icons/svg/statuses/cursed.svg\",\n    pseudo: true\n  },\n  deafened: {\n    label: \"DND5E.ConDeafened\",\n    icon: \"systems/dnd5e/icons/svg/statuses/deafened.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.w7eitkpD7QQTB6j0.JournalEntryPage.6G8JSjhn701cBITY\"\n  },\n  diseased: {\n    label: \"DND5E.ConDiseased\",\n    icon: \"systems/dnd5e/icons/svg/statuses/diseased.svg\",\n    pseudo: true,\n    reference: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.oNQWvyRZkTOJ8PBq\"\n  },\n  exhaustion: {\n    label: \"DND5E.ConExhaustion\",\n    icon: \"systems/dnd5e/icons/svg/statuses/exhaustion.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.w7eitkpD7QQTB6j0.JournalEntryPage.cspWveykstnu3Zcv\",\n    levels: 6\n  },\n  frightened: {\n    label: \"DND5E.ConFrightened\",\n    icon: \"systems/dnd5e/icons/svg/statuses/frightened.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.w7eitkpD7QQTB6j0.JournalEntryPage.oreoyaFKnvZCrgij\"\n  },\n  grappled: {\n    label: \"DND5E.ConGrappled\",\n    icon: \"systems/dnd5e/icons/svg/statuses/grappled.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.w7eitkpD7QQTB6j0.JournalEntryPage.gYDAhd02ryUmtwZn\"\n  },\n  incapacitated: {\n    label: \"DND5E.ConIncapacitated\",\n    icon: \"systems/dnd5e/icons/svg/statuses/incapacitated.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.w7eitkpD7QQTB6j0.JournalEntryPage.TpkZgLfxCmSndmpb\"\n  },\n  invisible: {\n    label: \"DND5E.ConInvisible\",\n    icon: \"systems/dnd5e/icons/svg/statuses/invisible.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.w7eitkpD7QQTB6j0.JournalEntryPage.3UU5GCTVeRDbZy9u\"\n  },\n  paralyzed: {\n    label: \"DND5E.ConParalyzed\",\n    icon: \"systems/dnd5e/icons/svg/statuses/paralyzed.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.w7eitkpD7QQTB6j0.JournalEntryPage.xnSV5hLJIMaTABXP\",\n    statuses: [\"incapacitated\"]\n  },\n  petrified: {\n    label: \"DND5E.ConPetrified\",\n    icon: \"systems/dnd5e/icons/svg/statuses/petrified.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.w7eitkpD7QQTB6j0.JournalEntryPage.xaNDaW6NwQTgHSmi\",\n    statuses: [\"incapacitated\"]\n  },\n  poisoned: {\n    label: \"DND5E.ConPoisoned\",\n    icon: \"systems/dnd5e/icons/svg/statuses/poisoned.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.w7eitkpD7QQTB6j0.JournalEntryPage.lq3TRI6ZlED8ABMx\"\n  },\n  prone: {\n    label: \"DND5E.ConProne\",\n    icon: \"systems/dnd5e/icons/svg/statuses/prone.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.w7eitkpD7QQTB6j0.JournalEntryPage.y0TkcdyoZlOTmAFT\"\n  },\n  restrained: {\n    label: \"DND5E.ConRestrained\",\n    icon: \"systems/dnd5e/icons/svg/statuses/restrained.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.w7eitkpD7QQTB6j0.JournalEntryPage.cSVcyZyNe2iG1fIc\"\n  },\n  silenced: {\n    label: \"EFFECT.DND5E.StatusSilenced\",\n    icon: \"systems/dnd5e/icons/svg/statuses/silenced.svg\",\n    pseudo: true\n  },\n  stunned: {\n    label: \"DND5E.ConStunned\",\n    icon: \"systems/dnd5e/icons/svg/statuses/stunned.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.w7eitkpD7QQTB6j0.JournalEntryPage.ZyZMUwA2rboh4ObS\",\n    statuses: [\"incapacitated\"]\n  },\n  surprised: {\n    label: \"EFFECT.DND5E.StatusSurprised\",\n    icon: \"systems/dnd5e/icons/svg/statuses/surprised.svg\",\n    pseudo: true\n  },\n  transformed: {\n    label: \"EFFECT.DND5E.StatusTransformed\",\n    icon: \"systems/dnd5e/icons/svg/statuses/transformed.svg\",\n    pseudo: true\n  },\n  unconscious: {\n    label: \"DND5E.ConUnconscious\",\n    icon: \"systems/dnd5e/icons/svg/statuses/unconscious.svg\",\n    reference: \"Compendium.dnd5e.rules.JournalEntry.w7eitkpD7QQTB6j0.JournalEntryPage.UWw13ISmMxDzmwbd\",\n    statuses: [\"incapacitated\"],\n    riders: [\"prone\"]\n  }\n};\npreLocalize(\"conditionTypes\", { key: \"label\", sort: true });\n\n/* -------------------------------------------- */\n\n/**\n * Various effects of conditions and which conditions apply it. Either keys for the conditions,\n * and with a number appended for a level of exhaustion.\n * @enum {object}\n */\nDND5E.conditionEffects = {\n  noMovement: new Set([\"exhaustion-5\", \"grappled\", \"paralyzed\", \"petrified\", \"restrained\", \"stunned\", \"unconscious\"]),\n  halfMovement: new Set([\"exhaustion-2\"]),\n  crawl: new Set([\"prone\", \"exceedingCarryingCapacity\"]),\n  petrification: new Set([\"petrified\"]),\n  halfHealth: new Set([\"exhaustion-4\"])\n};\n\n/* -------------------------------------------- */\n\n/**\n * Extra status effects not specified in `conditionTypes`. If the ID matches a core-provided effect, then this\n * data will be merged into the core data.\n * @enum {Omit<StatusEffectConfig5e, \"img\"> & {icon: string}}\n */\nDND5E.statusEffects = {\n  burrowing: {\n    name: \"EFFECT.DND5E.StatusBurrowing\",\n    icon: \"systems/dnd5e/icons/svg/statuses/burrowing.svg\",\n    special: \"BURROW\"\n  },\n  concentrating: {\n    name: \"EFFECT.DND5E.StatusConcentrating\",\n    icon: \"systems/dnd5e/icons/svg/statuses/concentrating.svg\",\n    special: \"CONCENTRATING\"\n  },\n  dead: {\n    name: \"EFFECT.DND5E.StatusDead\",\n    icon: \"systems/dnd5e/icons/svg/statuses/dead.svg\",\n    special: \"DEFEATED\"\n  },\n  dodging: {\n    name: \"EFFECT.DND5E.StatusDodging\",\n    icon: \"systems/dnd5e/icons/svg/statuses/dodging.svg\"\n  },\n  ethereal: {\n    name: \"EFFECT.DND5E.StatusEthereal\",\n    icon: \"systems/dnd5e/icons/svg/statuses/ethereal.svg\"\n  },\n  flying: {\n    name: \"EFFECT.DND5E.StatusFlying\",\n    icon: \"systems/dnd5e/icons/svg/statuses/flying.svg\",\n    special: \"FLY\"\n  },\n  hiding: {\n    name: \"EFFECT.DND5E.StatusHiding\",\n    icon: \"systems/dnd5e/icons/svg/statuses/hiding.svg\"\n  },\n  hovering: {\n    name: \"EFFECT.DND5E.StatusHovering\",\n    icon: \"systems/dnd5e/icons/svg/statuses/hovering.svg\",\n    special: \"HOVER\"\n  },\n  marked: {\n    name: \"EFFECT.DND5E.StatusMarked\",\n    icon: \"systems/dnd5e/icons/svg/statuses/marked.svg\"\n  },\n  sleeping: {\n    name: \"EFFECT.DND5E.StatusSleeping\",\n    icon: \"systems/dnd5e/icons/svg/statuses/sleeping.svg\",\n    statuses: [\"incapacitated\", \"unconscious\"]\n  },\n  stable: {\n    name: \"EFFECT.DND5E.StatusStable\",\n    icon: \"systems/dnd5e/icons/svg/statuses/stable.svg\"\n  }\n};\n\n/* -------------------------------------------- */\n/*  Languages                                   */\n/* -------------------------------------------- */\n\n/**\n * Languages a character can learn.\n * @enum {string}\n */\nDND5E.languages = {\n  standard: {\n    label: \"DND5E.LanguagesStandard\",\n    children: {\n      common: \"DND5E.LanguagesCommon\",\n      dwarvish: \"DND5E.LanguagesDwarvish\",\n      elvish: \"DND5E.LanguagesElvish\",\n      giant: \"DND5E.LanguagesGiant\",\n      gnomish: \"DND5E.LanguagesGnomish\",\n      goblin: \"DND5E.LanguagesGoblin\",\n      halfling: \"DND5E.LanguagesHalfling\",\n      orc: \"DND5E.LanguagesOrc\"\n    }\n  },\n  exotic: {\n    label: \"DND5E.LanguagesExotic\",\n    children: {\n      aarakocra: \"DND5E.LanguagesAarakocra\",\n      abyssal: \"DND5E.LanguagesAbyssal\",\n      celestial: \"DND5E.LanguagesCelestial\",\n      deep: \"DND5E.LanguagesDeepSpeech\",\n      draconic: \"DND5E.LanguagesDraconic\",\n      gith: \"DND5E.LanguagesGith\",\n      gnoll: \"DND5E.LanguagesGnoll\",\n      infernal: \"DND5E.LanguagesInfernal\",\n      primordial: {\n        label: \"DND5E.LanguagesPrimordial\",\n        children: {\n          aquan: \"DND5E.LanguagesAquan\",\n          auran: \"DND5E.LanguagesAuran\",\n          ignan: \"DND5E.LanguagesIgnan\",\n          terran: \"DND5E.LanguagesTerran\"\n        }\n      },\n      sylvan: \"DND5E.LanguagesSylvan\",\n      undercommon: \"DND5E.LanguagesUndercommon\"\n    }\n  },\n  druidic: \"DND5E.LanguagesDruidic\",\n  cant: \"DND5E.LanguagesThievesCant\"\n};\npreLocalize(\"languages\", { key: \"label\" });\npreLocalize(\"languages.standard.children\", { key: \"label\", sort: true });\npreLocalize(\"languages.exotic.children\", { key: \"label\", sort: true });\npreLocalize(\"languages.exotic.children.primordial.children\", { sort: true });\npatchConfig(\"languages\", \"label\", { since: \"DnD5e 2.4\", until: \"DnD5e 3.1\" });\n\n/* -------------------------------------------- */\n\n/**\n * Maximum allowed character level.\n * @type {number}\n */\nDND5E.maxLevel = 20;\n\n/**\n * Maximum ability score value allowed by default.\n * @type {number}\n */\nDND5E.maxAbilityScore = 20;\n\n/**\n * XP required to achieve each character level.\n * @type {number[]}\n */\nDND5E.CHARACTER_EXP_LEVELS = [\n  0, 300, 900, 2700, 6500, 14000, 23000, 34000, 48000, 64000, 85000, 100000,\n  120000, 140000, 165000, 195000, 225000, 265000, 305000, 355000\n];\n\n/**\n * XP granted for each challenge rating.\n * @type {number[]}\n */\nDND5E.CR_EXP_LEVELS = [\n  10, 200, 450, 700, 1100, 1800, 2300, 2900, 3900, 5000, 5900, 7200, 8400, 10000, 11500, 13000, 15000, 18000,\n  20000, 22000, 25000, 33000, 41000, 50000, 62000, 75000, 90000, 105000, 120000, 135000, 155000\n];\n\n/**\n * @typedef {object} CharacterFlagConfig\n * @property {string} name\n * @property {string} hint\n * @property {string} section\n * @property {typeof boolean|string|number} type\n * @property {string} placeholder\n * @property {string[]} [abilities]\n * @property {Object<string, string>} [choices]\n * @property {string[]} [skills]\n */\n\n/* -------------------------------------------- */\n\n/**\n * Trait configuration information.\n *\n * @typedef {object} TraitConfiguration\n * @property {object} labels\n * @property {string} labels.title         Localization key for the trait name.\n * @property {string} labels.localization  Prefix for a localization key that can be used to generate various\n *                                         plural variants of the trait type.\n * @property {string} icon                 Path to the icon used to represent this trait.\n * @property {string} [actorKeyPath]       If the trait doesn't directly map to an entry as `traits.[key]`, where is\n *                                         this trait's data stored on the actor?\n * @property {string} [configKey]          If the list of trait options doesn't match the name of the trait, where can\n *                                         the options be found within `CONFIG.DND5E`?\n * @property {string} [labelKeyPath]       If config is an enum of objects, where can the label be found?\n * @property {object} [subtypes]           Configuration for traits that take some sort of base item.\n * @property {string} [subtypes.keyPath]   Path to subtype value on base items, should match a category key.\n *                                         Deprecated in favor of the standardized `system.type.value`.\n * @property {string[]} [subtypes.ids]     Key for base item ID objects within `CONFIG.DND5E`.\n * @property {object} [children]           Mapping of category key to an object defining its children.\n * @property {boolean} [sortCategories]    Whether top-level categories should be sorted.\n * @property {boolean} [expertise]         Can an actor receive expertise in this trait?\n */\n\n/**\n * Configurable traits on actors.\n * @enum {TraitConfiguration}\n */\nDND5E.traits = {\n  saves: {\n    labels: {\n      title: \"DND5E.ClassSaves\",\n      localization: \"DND5E.TraitSavesPlural\"\n    },\n    icon: \"systems/dnd5e/icons/svg/trait-saves.svg\",\n    actorKeyPath: \"system.abilities\",\n    configKey: \"abilities\",\n    labelKeyPath: \"label\"\n  },\n  skills: {\n    labels: {\n      title: \"DND5E.Skills\",\n      localization: \"DND5E.TraitSkillsPlural\"\n    },\n    icon: \"systems/dnd5e/icons/svg/trait-skills.svg\",\n    actorKeyPath: \"system.skills\",\n    labelKeyPath: \"label\",\n    expertise: true\n  },\n  languages: {\n    labels: {\n      title: \"DND5E.Languages\",\n      localization: \"DND5E.TraitLanguagesPlural\"\n    },\n    icon: \"systems/dnd5e/icons/svg/trait-languages.svg\"\n  },\n  armor: {\n    labels: {\n      title: \"DND5E.TraitArmorProf\",\n      localization: \"DND5E.TraitArmorPlural\"\n    },\n    icon: \"systems/dnd5e/icons/svg/trait-armor-proficiencies.svg\",\n    actorKeyPath: \"system.traits.armorProf\",\n    configKey: \"armorProficiencies\",\n    subtypes: { keyPath: \"armor.type\", ids: [\"armorIds\", \"shieldIds\"] }\n  },\n  weapon: {\n    labels: {\n      title: \"DND5E.TraitWeaponProf\",\n      localization: \"DND5E.TraitWeaponPlural\"\n    },\n    icon: \"systems/dnd5e/icons/svg/trait-weapon-proficiencies.svg\",\n    actorKeyPath: \"system.traits.weaponProf\",\n    configKey: \"weaponProficiencies\",\n    subtypes: { keyPath: \"weaponType\", ids: [\"weaponIds\"] }\n  },\n  tool: {\n    labels: {\n      title: \"DND5E.TraitToolProf\",\n      localization: \"DND5E.TraitToolPlural\"\n    },\n    icon: \"systems/dnd5e/icons/svg/trait-tool-proficiencies.svg\",\n    actorKeyPath: \"system.tools\",\n    configKey: \"toolProficiencies\",\n    subtypes: { keyPath: \"toolType\", ids: [\"toolIds\"] },\n    children: { vehicle: \"vehicleTypes\" },\n    sortCategories: true,\n    expertise: true\n  },\n  di: {\n    labels: {\n      title: \"DND5E.DamImm\",\n      localization: \"DND5E.TraitDIPlural\"\n    },\n    icon: \"systems/dnd5e/icons/svg/trait-damage-immunities.svg\",\n    configKey: \"damageTypes\"\n  },\n  dr: {\n    labels: {\n      title: \"DND5E.DamRes\",\n      localization: \"DND5E.TraitDRPlural\"\n    },\n    icon: \"systems/dnd5e/icons/svg/trait-damage-resistances.svg\",\n    configKey: \"damageTypes\"\n  },\n  dv: {\n    labels: {\n      title: \"DND5E.DamVuln\",\n      localization: \"DND5E.TraitDVPlural\"\n    },\n    icon: \"systems/dnd5e/icons/svg/trait-damage-vulnerabilities.svg\",\n    configKey: \"damageTypes\"\n  },\n  ci: {\n    labels: {\n      title: \"DND5E.ConImm\",\n      localization: \"DND5E.TraitCIPlural\"\n    },\n    icon: \"systems/dnd5e/icons/svg/trait-condition-immunities.svg\",\n    configKey: \"conditionTypes\"\n  }\n};\npreLocalize(\"traits\", { key: \"labels.title\" });\n\n/* -------------------------------------------- */\n\n/**\n * Modes used within a trait advancement.\n * @enum {object}\n */\nDND5E.traitModes = {\n  default: {\n    label: \"DND5E.AdvancementTraitModeDefaultLabel\",\n    hint: \"DND5E.AdvancementTraitModeDefaultHint\"\n  },\n  expertise: {\n    label: \"DND5E.AdvancementTraitModeExpertiseLabel\",\n    hint: \"DND5E.AdvancementTraitModeExpertiseHint\"\n  },\n  forcedExpertise: {\n    label: \"DND5E.AdvancementTraitModeForceLabel\",\n    hint: \"DND5E.AdvancementTraitModeForceHint\"\n  },\n  upgrade: {\n    label: \"DND5E.AdvancementTraitModeUpgradeLabel\",\n    hint: \"DND5E.AdvancementTraitModeUpgradeHint\"\n  }\n};\npreLocalize(\"traitModes\", { keys: [\"label\", \"hint\"] });\n\n/* -------------------------------------------- */\n\n/**\n * Special character flags.\n * @enum {CharacterFlagConfig}\n */\nDND5E.characterFlags = {\n  diamondSoul: {\n    name: \"DND5E.FlagsDiamondSoul\",\n    hint: \"DND5E.FlagsDiamondSoulHint\",\n    section: \"DND5E.Feats\",\n    type: Boolean\n  },\n  elvenAccuracy: {\n    name: \"DND5E.FlagsElvenAccuracy\",\n    hint: \"DND5E.FlagsElvenAccuracyHint\",\n    section: \"DND5E.RacialTraits\",\n    abilities: [\"dex\", \"int\", \"wis\", \"cha\"],\n    type: Boolean\n  },\n  halflingLucky: {\n    name: \"DND5E.FlagsHalflingLucky\",\n    hint: \"DND5E.FlagsHalflingLuckyHint\",\n    section: \"DND5E.RacialTraits\",\n    type: Boolean\n  },\n  initiativeAdv: {\n    name: \"DND5E.FlagsInitiativeAdv\",\n    hint: \"DND5E.FlagsInitiativeAdvHint\",\n    section: \"DND5E.Feats\",\n    type: Boolean\n  },\n  initiativeAlert: {\n    name: \"DND5E.FlagsAlert\",\n    hint: \"DND5E.FlagsAlertHint\",\n    section: \"DND5E.Feats\",\n    type: Boolean\n  },\n  jackOfAllTrades: {\n    name: \"DND5E.FlagsJOAT\",\n    hint: \"DND5E.FlagsJOATHint\",\n    section: \"DND5E.Feats\",\n    type: Boolean\n  },\n  observantFeat: {\n    name: \"DND5E.FlagsObservant\",\n    hint: \"DND5E.FlagsObservantHint\",\n    skills: [\"prc\", \"inv\"],\n    section: \"DND5E.Feats\",\n    type: Boolean\n  },\n  tavernBrawlerFeat: {\n    name: \"DND5E.FlagsTavernBrawler\",\n    hint: \"DND5E.FlagsTavernBrawlerHint\",\n    section: \"DND5E.Feats\",\n    type: Boolean\n  },\n  powerfulBuild: {\n    name: \"DND5E.FlagsPowerfulBuild\",\n    hint: \"DND5E.FlagsPowerfulBuildHint\",\n    section: \"DND5E.RacialTraits\",\n    type: Boolean\n  },\n  reliableTalent: {\n    name: \"DND5E.FlagsReliableTalent\",\n    hint: \"DND5E.FlagsReliableTalentHint\",\n    section: \"DND5E.Feats\",\n    type: Boolean\n  },\n  remarkableAthlete: {\n    name: \"DND5E.FlagsRemarkableAthlete\",\n    hint: \"DND5E.FlagsRemarkableAthleteHint\",\n    abilities: [\"str\", \"dex\", \"con\"],\n    section: \"DND5E.Feats\",\n    type: Boolean\n  },\n  weaponCriticalThreshold: {\n    name: \"DND5E.FlagsWeaponCritThreshold\",\n    hint: \"DND5E.FlagsWeaponCritThresholdHint\",\n    section: \"DND5E.Feats\",\n    type: Number,\n    placeholder: 20\n  },\n  spellCriticalThreshold: {\n    name: \"DND5E.FlagsSpellCritThreshold\",\n    hint: \"DND5E.FlagsSpellCritThresholdHint\",\n    section: \"DND5E.Feats\",\n    type: Number,\n    placeholder: 20\n  },\n  meleeCriticalDamageDice: {\n    name: \"DND5E.FlagsMeleeCriticalDice\",\n    hint: \"DND5E.FlagsMeleeCriticalDiceHint\",\n    section: \"DND5E.Feats\",\n    type: Number,\n    placeholder: 0\n  }\n};\npreLocalize(\"characterFlags\", { keys: [\"name\", \"hint\", \"section\"] });\n\n/**\n * Flags allowed on actors. Any flags not in the list may be deleted during a migration.\n * @type {string[]}\n */\nDND5E.allowedActorFlags = [\"isPolymorphed\", \"originalActor\"].concat(Object.keys(DND5E.characterFlags));\n\n/* -------------------------------------------- */\n\n/**\n * Different types of actor structures that groups can represent.\n * @enum {object}\n */\nDND5E.groupTypes = {\n  party: \"DND5E.Group.TypeParty\",\n  encounter: \"DND5E.Group.TypeEncounter\"\n};\npreLocalize(\"groupTypes\");\n\n/* -------------------------------------------- */\n\n/**\n * Configuration information for advancement types.\n *\n * @typedef {object} AdvancementTypeConfiguration\n * @property {typeof Advancement} documentClass  The advancement's document class.\n * @property {Set<string>} validItemTypes        What item types this advancement can be used with.\n * @property {boolean} [hidden]                  Should this advancement type be hidden in the selection dialog?\n */\n\nconst _ALL_ITEM_TYPES = [\"background\", \"class\", \"race\", \"subclass\"];\n\n/**\n * Advancement types that can be added to items.\n * @enum {AdvancementTypeConfiguration}\n */\nDND5E.advancementTypes = {\n  AbilityScoreImprovement: {\n    documentClass: advancement.AbilityScoreImprovementAdvancement,\n    validItemTypes: new Set([\"background\", \"class\", \"race\"])\n  },\n  HitPoints: {\n    documentClass: advancement.HitPointsAdvancement,\n    validItemTypes: new Set([\"class\"])\n  },\n  ItemChoice: {\n    documentClass: advancement.ItemChoiceAdvancement,\n    validItemTypes: new Set(_ALL_ITEM_TYPES)\n  },\n  ItemGrant: {\n    documentClass: advancement.ItemGrantAdvancement,\n    validItemTypes: new Set(_ALL_ITEM_TYPES)\n  },\n  ScaleValue: {\n    documentClass: advancement.ScaleValueAdvancement,\n    validItemTypes: new Set(_ALL_ITEM_TYPES)\n  },\n  Size: {\n    documentClass: advancement.SizeAdvancement,\n    validItemTypes: new Set([\"race\"])\n  },\n  Trait: {\n    documentClass: advancement.TraitAdvancement,\n    validItemTypes: new Set(_ALL_ITEM_TYPES)\n  }\n};\n\n/* -------------------------------------------- */\n\n/**\n * Default artwork configuration for each Document type and sub-type.\n * @type {Record<string, Record<string, string>>}\n */\nDND5E.defaultArtwork = {\n  Item: {\n    background: \"systems/dnd5e/icons/svg/items/background.svg\",\n    class: \"systems/dnd5e/icons/svg/items/class.svg\",\n    consumable: \"systems/dnd5e/icons/svg/items/consumable.svg\",\n    container: \"systems/dnd5e/icons/svg/items/container.svg\",\n    equipment: \"systems/dnd5e/icons/svg/items/equipment.svg\",\n    feat: \"systems/dnd5e/icons/svg/items/feature.svg\",\n    loot: \"systems/dnd5e/icons/svg/items/loot.svg\",\n    race: \"systems/dnd5e/icons/svg/items/race.svg\",\n    spell: \"systems/dnd5e/icons/svg/items/spell.svg\",\n    subclass: \"systems/dnd5e/icons/svg/items/subclass.svg\",\n    tool: \"systems/dnd5e/icons/svg/items/tool.svg\",\n    weapon: \"systems/dnd5e/icons/svg/items/weapon.svg\"\n  }\n};\n\n/* -------------------------------------------- */\n/*  Rules                                       */\n/* -------------------------------------------- */\n\n/**\n * Configuration information for rule types.\n *\n * @typedef {object} RuleTypeConfiguration\n * @property {string} label         Localized label for the rule type.\n * @property {string} [references]  Key path for a configuration object that contains reference data.\n */\n\n/**\n * Types of rules that can be used in rule pages and the &Reference enricher.\n * @enum {RuleTypeConfiguration}\n */\nDND5E.ruleTypes = {\n  rule: {\n    label: \"DND5E.Rule.Type.Rule\",\n    references: \"rules\"\n  },\n  ability: {\n    label: \"DND5E.Ability\",\n    references: \"enrichmentLookup.abilities\"\n  },\n  areaOfEffect: {\n    label: \"DND5E.AreaOfEffect\",\n    references: \"areaTargetTypes\"\n  },\n  condition: {\n    label: \"DND5E.Rule.Type.Condition\",\n    references: \"conditionTypes\"\n  },\n  creatureType: {\n    label: \"DND5E.CreatureType\",\n    references: \"creatureTypes\"\n  },\n  damage: {\n    label: \"DND5E.DamageType\",\n    references: \"damageTypes\"\n  },\n  skill: {\n    label: \"DND5E.Skill\",\n    references: \"enrichmentLookup.skills\"\n  },\n  spellComponent: {\n    label: \"DND5E.SpellComponent\",\n    references: \"itemProperties\"\n  },\n  spellSchool: {\n    label: \"DND5E.SpellSchool\",\n    references: \"enrichmentLookup.spellSchools\"\n  },\n  spellTag: {\n    label: \"DND5E.SpellTag\",\n    references: \"itemProperties\"\n  }\n};\npreLocalize(\"ruleTypes\", { key: \"label\" });\n\n/* -------------------------------------------- */\n\n/**\n * List of rules that can be referenced from enrichers.\n * @enum {string}\n */\nDND5E.rules = {\n  inspiration: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.nkEPI89CiQnOaLYh\",\n  carryingcapacity: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.1PnjDBKbQJIVyc2t\",\n  push: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.Hni8DjqLzoqsVjb6\",\n  lift: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.Hni8DjqLzoqsVjb6\",\n  drag: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.Hni8DjqLzoqsVjb6\",\n  encumbrance: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.JwqYf9qb6gJAWZKs\",\n  hiding: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.plHuoNdS0j3umPNS\",\n  passiveperception: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.988C2hQNyvqkdbND\",\n  time: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.eihqNjwpZ3HM4IqY\",\n  speed: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.HhqeIiSj8sE1v1qZ\",\n  travelpace: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.eFAISahBloR2X8MX\",\n  forcedmarch: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.uQWQpRKQ1kWhuvjZ\",\n  difficultterrainpace: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.hFW5BR2yHHwwgurD\",\n  climbing: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.KxUXbMrUCIAhv4AF\",\n  swimming: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.KxUXbMrUCIAhv4AF\",\n  longjump: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.1U0myNrOvIVBUdJV\",\n  highjump: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.raPwIkqKSv60ELmy\",\n  falling: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.kREHL5pgNUOhay9f\",\n  suffocating: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.BIlnr0xYhqt4TGsi\",\n  vision: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.O6hamUbI9kVASN8b\",\n  light: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.O6hamUbI9kVASN8b\",\n  lightlyobscured: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.MAxtfJyvJV7EpzWN\",\n  heavilyobscured: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.wPFjfRruboxhtL4b\",\n  brightlight: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.RnMokVPyKGbbL8vi\",\n  dimlight: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.n1Ocpbyhr6HhgbCG\",\n  darkness: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.4dfREIDjG5N4fvxd\",\n  blindsight: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.sacjsfm9ZXnw4Tqc\",\n  darkvision: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.ldmA1PbnEGVkmE11\",\n  tremorsense: \"Compendium.dnd5e.rules.JournalEntry.eVtpEGXjA2tamEIJ.JournalEntryPage.8AIlZ95v54mL531X\",\n  truesight: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.kNa8rJFbtaTM3Rmk\",\n  food: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.jayo7XVgGnRCpTW0\",\n  water: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.iIEI87J7lr2sqtb5\",\n  resting: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.dpHJXYLigIdEseIb\",\n  shortrest: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.1s2swI3UsjUUgbt2\",\n  longrest: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.6cLtjbHn4KV2R7G9\",\n  surprise: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.YmOt8HderKveA19K\",\n  initiative: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.RcwElV4GAcVXKWxo\",\n  bonusaction: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.2fu2CXsDg8gQmGGw\",\n  reaction: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.2VqLyxMyMxgXe2wC\",\n  difficultterrain: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.6tqz947qO8vPyxvD\",\n  beingprone: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.bV8akkBdVUUG21CO\",\n  droppingprone: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.hwTLpAtSS5OqQsI1\",\n  standingup: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.hwTLpAtSS5OqQsI1\",\n  crawling: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.VWG9qe8PUNtS28Pw\",\n  movingaroundothercreatures: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.9ZWCknaXCOdhyOrX\",\n  flying: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.0B1fxfmw0a48tPsc\",\n  size: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.HWHRQVBVG7K0RVVW\",\n  space: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.WIA5bs3P45PmO3OS\",\n  squeezing: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.wKtOwagDAiNfVoPS\",\n  attack: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.u4GQCzoBig20yRLj\",\n  castaspell: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.GLwN36E4WXn3Cp4Z\",\n  dash: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.Jqn0MEvq6fduYNo6\",\n  disengage: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.ZOPRfI48NyjoloEF\",\n  dodge: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.V1BkwK2HQrtEfa4d\",\n  help: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.KnrD3u2AnQfmtOWj\",\n  hide: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.BXlHhE4ZoiFwiXLK\",\n  ready: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.8xJzZVelP2AmQGfU\",\n  search: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.5cn1ZTLgQq95vfZx\",\n  useanobject: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.ljqhJx8Qxu2ivo69\",\n  attackrolls: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.5wkqEqhbBD5kDeE7\",\n  unseenattackers: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.5ZJNwEPlsGurecg5\",\n  unseentargets: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.5ZJNwEPlsGurecg5\",\n  rangedattacks: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.S9aclVOCbusLE3kC\",\n  range: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.HjKXuB8ndjcqOds7\",\n  rangedattacksinclosecombat: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.qEZvxW0NM7ixSQP5\",\n  meleeattacks: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.GTk6emvzNxl8Oosl\",\n  reach: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.hgZ5ZN4B3y7tmFlt\",\n  unarmedstrike: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.xJjJ4lhymAYXAOvO\",\n  opportunityattacks: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.zeU0NyCyP10lkLg3\",\n  twoweaponfighting: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.FQTS08uH74A6psL2\",\n  grappling: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.Sl4bniSPSbyrakM2\",\n  escapingagrapple: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.2TZKy9YbMN3ZY3h8\",\n  movingagrappledcreature: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.x5bUdhAD7u5Bt2rg\",\n  shoving: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.hrdqMF8hRXJdNzJx\",\n  cover: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.W7f7PcRubNUMIq2S\",\n  halfcover: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.hv0J61IAfofuhy3Q\",\n  threequarterscover: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.zAMStUjUrPV10dFm\",\n  totalcover: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.BKUAxXuPEzxiEOeL\",\n  hitpoints: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.PFbzoMBviI2DD9QP\",\n  damagerolls: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.hd26AqKrCqtcQBWy\",\n  criticalhits: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.gFL1VhSEljL1zvje\",\n  damagetypes: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.jVOgf7DNEhkzYNIe\",\n  damageresistance: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.v0WE18nT5SJO8Ft7\",\n  damagevulnerability: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.v0WE18nT5SJO8Ft7\",\n  healing: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.ICketFqbFslqKiX9\",\n  instantdeath: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.8BG05mA0mEzwmrHU\",\n  deathsavingthrows: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.JL8LePEJQYFdNuLL\",\n  deathsaves: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.JL8LePEJQYFdNuLL\",\n  stabilizing: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.r1CgZXLcqFop6Dlx\",\n  knockingacreatureout: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.uEwjgKGuCRTNADYv\",\n  temporaryhitpoints: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.AW6HpJZHqxfESXaq\",\n  temphp: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.AW6HpJZHqxfESXaq\",\n  mounting: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.MFpyvUIdcBpC9kIE\",\n  dismounting: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.MFpyvUIdcBpC9kIE\",\n  controllingamount: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.khmR2xFk1NxoQUgZ\",\n  underwatercombat: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.6zVOeLyq4iMnrQT4\",\n  spelllevel: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.A6k5fS0kFqPXTW3v\",\n  knownspells: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.oezg742GlxmEwT85\",\n  preparedspells: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.oezg742GlxmEwT85\",\n  spellslots: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.Su6wbb0O9UN4ZDIH\",\n  castingatahigherlevel: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.4H9SLM95OCLfFizz\",\n  upcasting: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.4H9SLM95OCLfFizz\",\n  castinginarmor: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.z4A8vHSK2pb8YA9X\",\n  cantrips: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.jZD5mCTnMPJ9jW67\",\n  rituals: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.FjWqT5iyJ89kohdA\",\n  castingtime: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.zRVW8Tvyk6BECjZD\",\n  bonusactioncasting: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.RP1WL9FXI3aknlxZ\",\n  reactioncasting: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.t62lCfinwU9H7Lji\",\n  longercastingtimes: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.gOAIRFCyPUx42axn\",\n  spellrange: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.RBYPyE5z5hAZSbH6\",\n  components: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.xeHthAF9lxfn2tII\",\n  verbal: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.6UXTNWMCQ0nSlwwx\",\n  spellduration: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.9mp0SRsptjvJcq1e\",\n  instantaneous: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.kdlgZOpRMB6bGCod\",\n  concentrating: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.ow58p27ctAnr4VPH\",\n  spelltargets: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.G80AIQr04sxdVpw4\",\n  areaofeffect: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.wvtCeGHgnUmh0cuj\",\n  pointoforigin: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.8HxbRceQQUAhyWRt\",\n  spellsavingthrows: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.8DajfNll90eeKcmB\",\n  spellattackrolls: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.qAFzmGZKhVvAEUF3\",\n  combiningmagicaleffects: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.TMIN963hG773yZzO\",\n  schoolsofmagic: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.TeF6CKMDRpYpsLd4\",\n  detectingtraps: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.DZ7AhdQ94xggG4bj\",\n  disablingtraps: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.DZ7AhdQ94xggG4bj\",\n  curingmadness: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.6Icem7G3CICdNOkM\",\n  damagethreshold: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.9LJZhqvCburpags3\",\n  poisontypes: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.I6OMMWUaYCWR9xip\",\n  contactpoison: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.kXnCEqqGUWRZeZDj\",\n  ingestedpoison: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.Y0vsJYSWeQcFpJ27\",\n  inhaledpoison: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.KUyN4eK1xTBzXsjP\",\n  injurypoison: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.LUL48OUq6SJeMGc7\",\n  attunement: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.UQ65OwIyGK65eiOK\",\n  wearingitems: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.iPB8mGKuQx3X0Z2J\",\n  wieldingitems: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.iPB8mGKuQx3X0Z2J\",\n  multipleitemsofthesamekind: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.rLJdvz4Mde8GkEYQ\",\n  paireditems: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.rd9pCH8yFraSGN34\",\n  commandword: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.HiXixxLYesv6Ff3t\",\n  consumables: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.UEPAcZFzQ5x196zE\",\n  itemspells: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.DABoaeeF6w31UCsj\",\n  charges: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.NLRXcgrpRCfsA5mO\",\n  spellscroll: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.gi8IKhtOlBVhMJrN\",\n  creaturetags: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.9jV1fFF163dr68vd\",\n  telepathy: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.geTidcFIYWuUvD2L\",\n  legendaryactions: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.C1awOyZh78pq1xmY\",\n  lairactions: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.07PtjpMxiRIhkBEp\",\n  regionaleffects: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.uj8W27NKFyzygPUd\",\n  disease: \"Compendium.dnd5e.rules.JournalEntry.NizgRXLNUqtdlC1s.JournalEntryPage.oNQWvyRZkTOJ8PBq\"\n};\n\n/* -------------------------------------------- */\n/*  Token Rings Framework                       */\n/* -------------------------------------------- */\n\n/**\n * Token Rings configuration data\n *\n * @typedef {object} TokenRingsConfiguration\n * @property {Record<string, string>} effects        Localized names of the configurable ring effects.\n * @property {string} spriteSheet                    The sprite sheet json source.\n * @property {typeof BaseSamplerShader} shaderClass  The shader class definition associated with the token ring.\n */\n\n/**\n * @type {TokenRingsConfiguration}\n */\nDND5E.tokenRings = {\n  effects: {\n    RING_PULSE: \"DND5E.TokenRings.Effects.RingPulse\",\n    RING_GRADIENT: \"DND5E.TokenRings.Effects.RingGradient\",\n    BKG_WAVE: \"DND5E.TokenRings.Effects.BackgroundWave\"\n  },\n  spriteSheet: \"systems/dnd5e/tokens/composite/token-rings.json\",\n  shaderClass: null\n};\npreLocalize(\"tokenRings.effects\");\n\n/* -------------------------------------------- */\n/*  Sources                                     */\n/* -------------------------------------------- */\n\n/**\n * List of books available as sources.\n * @enum {string}\n */\nDND5E.sourceBooks = {\n  \"SRD 5.1\": \"SOURCE.BOOK.SRD\"\n};\npreLocalize(\"sourceBooks\", { sort: true });\n\n/* -------------------------------------------- */\n/*  Themes                                      */\n/* -------------------------------------------- */\n\n/**\n * Themes that can be set for the system or on sheets.\n * @enum {string}\n */\nDND5E.themes = {\n  light: \"SHEETS.DND5E.THEME.Light\",\n  dark: \"SHEETS.DND5E.THEME.Dark\"\n};\npreLocalize(\"themes\");\n\n/* -------------------------------------------- */\n/*  Enrichment                                  */\n/* -------------------------------------------- */\n\nlet _enrichmentLookup;\nObject.defineProperty(DND5E, \"enrichmentLookup\", {\n  get() {\n    const slugify = value => value?.slugify().replaceAll(\"-\", \"\");\n    if ( !_enrichmentLookup ) {\n      _enrichmentLookup = {\n        abilities: foundry.utils.deepClone(DND5E.abilities),\n        skills: foundry.utils.deepClone(DND5E.skills),\n        spellSchools: foundry.utils.deepClone(DND5E.spellSchools),\n        tools: foundry.utils.deepClone(DND5E.toolIds)\n      };\n      const addFullKeys = key => Object.entries(DND5E[key]).forEach(([k, v]) =>\n        _enrichmentLookup[key][slugify(v.fullKey)] = { ...v, key: k }\n      );\n      addFullKeys(\"abilities\");\n      addFullKeys(\"skills\");\n      addFullKeys(\"spellSchools\");\n    }\n    return _enrichmentLookup;\n  },\n  enumerable: true\n});\n\n/* -------------------------------------------- */\n\n/**\n * Patch an existing config enum to allow conversion from string values to object values without\n * breaking existing modules that are expecting strings.\n * @param {string} key          Key within DND5E that has been replaced with an enum of objects.\n * @param {string} fallbackKey  Key within the new config object from which to get the fallback value.\n * @param {object} [options]    Additional options passed through to logCompatibilityWarning.\n */\nfunction patchConfig(key, fallbackKey, options) {\n  /** @override */\n  function toString() {\n    const message = `The value of CONFIG.DND5E.${key} has been changed to an object.`\n      +` The former value can be acccessed from .${fallbackKey}.`;\n    foundry.utils.logCompatibilityWarning(message, options);\n    return this[fallbackKey];\n  }\n\n  Object.values(DND5E[key]).forEach(o => {\n    if ( foundry.utils.getType(o) !== \"Object\" ) return;\n    Object.defineProperty(o, \"toString\", {value: toString});\n  });\n}\n\n/* -------------------------------------------- */\n\nexport default DND5E;\n","/**\n * @typedef {object} ModuleArtInfo\n * @property {string} actor         The path to the actor's portrait image.\n * @property {string|object} token  The path to the token image, or a richer object specifying additional token\n *                                  adjustments.\n */\n\n/**\n * A class responsible for managing module-provided art in compendia.\n */\nexport class ModuleArt {\n  constructor() {\n    /**\n     * The stored map of actor UUIDs to their art information.\n     * @type {Map<string, ModuleArtInfo>}\n     */\n    Object.defineProperty(this, \"map\", {value: new Map(), writable: false});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Set to true to temporarily prevent actors from loading module art.\n   * @type {boolean}\n   */\n  suppressArt = false;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Register any art mapping information included in active modules.\n   * @returns {Promise<void>}\n   */\n  async registerModuleArt() {\n    this.map.clear();\n    // Load art modules in reverse order so that higher-priority modules overwrite lower-priority ones.\n    for ( const { id, mapping, credit } of this.constructor.getArtModules().reverse() ) {\n      try {\n        const json = await foundry.utils.fetchJsonWithTimeout(mapping);\n        await this.#parseArtMapping(id, json, credit);\n      } catch(e) {\n        console.error(e);\n      }\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Parse a provided module art mapping and store it for reference later.\n   * @param {string} moduleId  The module ID.\n   * @param {object} mapping   A mapping containing pack names, a list of actor IDs, and paths to the art provided by\n   *                           the module for them.\n   * @param {string} [credit]  An optional credit line to attach to the Actor's biography.\n   * @returns {Promise<void>}\n   */\n  async #parseArtMapping(moduleId, mapping, credit) {\n    let settings = game.settings.get(\"dnd5e\", \"moduleArtConfiguration\")?.[moduleId];\n    settings ??= {portraits: true, tokens: true};\n    for ( const [packName, actors] of Object.entries(mapping) ) {\n      const pack = game.packs.get(packName);\n      if ( !pack ) continue;\n      for ( let [actorId, info] of Object.entries(actors) ) {\n        const entry = pack.index.get(actorId);\n        if ( !entry || !(settings.portraits || settings.tokens) ) continue;\n        if ( settings.portraits ) entry.img = info.actor;\n        else delete info.actor;\n        if ( !settings.tokens ) delete info.token;\n        if ( credit ) info.credit = credit;\n        const uuid = `Compendium.${packName}.${actorId}`;\n        info = foundry.utils.mergeObject(this.map.get(uuid) ?? {}, info, {inplace: false});\n        this.map.set(`Compendium.${packName}.${actorId}`, info);\n      }\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Apply module portrait art to a freshly generated compendium index.\n   * @param {Collection} index  Index generated by `CompendiumCollection#getIndex`.\n   * @returns {Collection}\n   */\n  apply(index) {\n    for ( const entry of index ) {\n      entry.img ??= this.map.get(entry.uuid)?.actor ?? this.map.get(entry.uuid.replace(\"Actor.\", \"\"))?.actor;\n    }\n    return index;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * If a module provides art, return the path to is JSON mapping.\n   * @param {Module} module  The module.\n   * @returns {string|null}\n   */\n  static getModuleArtPath(module) {\n    const flags = module.flags?.[module.id];\n    const artPath = flags?.[\"dnd5e-art\"];\n    if ( !artPath || !module.active ) return null;\n    return artPath;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * @typedef {object} ModuleArtDescriptor\n   * @property {string} id        The module ID.\n   * @property {string} label     The module title.\n   * @property {string} mapping   The path to the art mapping file.\n   * @property {string} [credit]  An optional credit line to attack to the Actor's biography.\n   * @property {number} priority  The module's user-configured priority.\n   */\n\n  /**\n   * Returns all currently configured art modules in priority order.\n   * @returns {ModuleArtDescriptor[]}\n   */\n  static getArtModules() {\n    const settings = game.settings.get(\"dnd5e\", \"moduleArtConfiguration\");\n    const unsorted = [];\n    const configs = [{\n      id: game.system.id,\n      label: game.system.title,\n      mapping: \"systems/dnd5e/json/fa-token-mapping.json\",\n      priority: settings.dnd5e?.priority ?? CONST.SORT_INTEGER_DENSITY,\n      credit: `\n        <em>\n          Token artwork by\n          <a href=\"https://www.forgotten-adventures.net/\" target=\"_blank\" rel=\"noopener\">Forgotten Adventures</a>.\n        </em>      \n      `\n    }];\n\n    for ( const module of game.modules ) {\n      const flags = module.flags?.[module.id];\n      const mapping = this.getModuleArtPath(module);\n      if ( !mapping ) continue;\n      const config = { id: module.id, label: module.title, credit: flags?.[\"dnd5e-art-credit\"], mapping };\n      configs.push(config);\n      const priority = settings[module.id]?.priority;\n      if ( priority === undefined ) unsorted.push(config);\n      else config.priority = priority;\n    }\n\n    const maxPriority = Math.max(...configs.map(({ priority }) => priority ?? -Infinity));\n    unsorted.forEach((config, i) => config.priority = maxPriority + ((i + 1) * CONST.SORT_INTEGER_DENSITY));\n    configs.sort((a, b) => a.priority - b.priority);\n    return configs;\n  }\n}\n\n/**\n * A class responsible for allowing GMs to configure art provided by installed modules.\n */\nexport class ModuleArtConfig extends FormApplication {\n  /** @inheritdoc */\n  constructor(object={}, options={}) {\n    object = foundry.utils.mergeObject(game.settings.get(\"dnd5e\", \"moduleArtConfiguration\"), object, {inplace: false});\n    super(object, options);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      title: game.i18n.localize(\"DND5E.ModuleArtConfigL\"),\n      id: \"module-art-config\",\n      template: \"systems/dnd5e/templates/apps/module-art-config.hbs\",\n      popOut: true,\n      width: 600,\n      height: \"auto\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  getData(options={}) {\n    const context = super.getData(options);\n    context.config = [];\n    for ( const config of ModuleArt.getArtModules() ) {\n      const settings = this.object[config.id] ?? { portraits: true, tokens: true };\n      context.config.push({ ...config, ...settings });\n    }\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    html.find(\"[data-action]\").on(\"click\", this._onAction.bind(this));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle priority increase or decrease actions.\n   * @param {PointerEvent} event  The triggering event.\n   * @protected\n   */\n  _onAction(event) {\n    const action = event.currentTarget.dataset.action;\n    const item = event.currentTarget.closest(\"[data-id]\");\n    const id = item.dataset.id;\n    const configs = [];\n    for ( const element of this.form.elements ) {\n      const [id, key] = element.name.split(\".\");\n      if ( key === \"priority\" ) configs.push({ id, priority: Number(element.value) });\n    }\n    const idx = configs.findIndex(config => config.id === id);\n    if ( idx < 0 ) return;\n    if ( (action === \"increase\") && (idx === 0) ) return;\n    if ( (action === \"decrease\") && (idx === configs.length - 1) ) return;\n    const sortBefore = action === \"increase\";\n    const config = configs[idx];\n    const target = configs[sortBefore ? idx - 1 : idx + 1];\n    configs.splice(idx, 1);\n    const updates = SortingHelpers.performIntegerSort(config, {\n      target, sortBefore,\n      siblings: configs,\n      sortKey: \"priority\"\n    });\n    updates.forEach(({ target, update }) => this.form.elements[`${target.id}.priority`].value = update.priority);\n    if ( action === \"increase\" ) item.previousElementSibling.insertAdjacentElement(\"beforebegin\", item);\n    else item.nextElementSibling.insertAdjacentElement(\"afterend\", item);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _updateObject(event, formData) {\n    await game.settings.set(\"dnd5e\", \"moduleArtConfiguration\", foundry.utils.expandObject(formData));\n    return SettingsConfig.reloadConfirm({world: true});\n  }\n}\n","import { ModuleArtConfig } from \"./module-art.mjs\";\n\n/**\n * Register all of the system's settings.\n */\nexport function registerSystemSettings() {\n  // Internal System Migration Version\n  game.settings.register(\"dnd5e\", \"systemMigrationVersion\", {\n    name: \"System Migration Version\",\n    scope: \"world\",\n    config: false,\n    type: String,\n    default: \"\"\n  });\n\n  // Challenge visibility\n  game.settings.register(\"dnd5e\", \"challengeVisibility\", {\n    name: \"SETTINGS.5eChallengeVisibility.Name\",\n    hint: \"SETTINGS.5eChallengeVisibility.Hint\",\n    scope: \"world\",\n    config: true,\n    default: \"player\",\n    type: String,\n    choices: {\n      all: \"SETTINGS.5eChallengeVisibility.All\",\n      player: \"SETTINGS.5eChallengeVisibility.Player\",\n      none: \"SETTINGS.5eChallengeVisibility.None\"\n    }\n  });\n\n  game.settings.register(\"dnd5e\", \"attackRollVisibility\", {\n    name: \"SETTINGS.5eAttackRollVisibility.Name\",\n    hint: \"SETTINGS.5eAttackRollVisibility.Hint\",\n    scope: \"world\",\n    config: true,\n    default: \"none\",\n    type: String,\n    choices: {\n      all: \"SETTINGS.5eAttackRollVisibility.All\",\n      hideAC: \"SETTINGS.5eAttackRollVisibility.HideAC\",\n      none: \"SETTINGS.5eAttackRollVisibility.None\"\n    }\n  });\n\n  // Encumbrance tracking\n  game.settings.register(\"dnd5e\", \"encumbrance\", {\n    name: \"SETTINGS.5eEncumbrance.Name\",\n    hint: \"SETTINGS.5eEncumbrance.Hint\",\n    scope: \"world\",\n    config: true,\n    default: \"none\",\n    type: String,\n    choices: {\n      none: \"SETTINGS.5eEncumbrance.None\",\n      normal: \"SETTINGS.5eEncumbrance.Normal\",\n      variant: \"SETTINGS.5eEncumbrance.Variant\"\n    }\n  });\n\n  // Rest Recovery Rules\n  game.settings.register(\"dnd5e\", \"restVariant\", {\n    name: \"SETTINGS.5eRestN\",\n    hint: \"SETTINGS.5eRestL\",\n    scope: \"world\",\n    config: true,\n    default: \"normal\",\n    type: String,\n    choices: {\n      normal: \"SETTINGS.5eRestPHB\",\n      gritty: \"SETTINGS.5eRestGritty\",\n      epic: \"SETTINGS.5eRestEpic\"\n    }\n  });\n\n  // Diagonal Movement Rule\n  if ( game.release.generation < 12 ) {\n    game.settings.register(\"dnd5e\", \"diagonalMovement\", {\n      name: \"SETTINGS.5eDiagN\",\n      hint: \"SETTINGS.5eDiagL\",\n      scope: \"world\",\n      config: true,\n      default: \"555\",\n      type: String,\n      choices: {\n        555: \"SETTINGS.5eDiagPHB\",\n        5105: \"SETTINGS.5eDiagDMG\",\n        EUCL: \"SETTINGS.5eDiagEuclidean\"\n      },\n      onChange: rule => canvas.grid.diagonalRule = rule\n    });\n  }\n\n  // Allow rotating square templates\n  game.settings.register(\"dnd5e\", \"gridAlignedSquareTemplates\", {\n    name: \"SETTINGS.5eGridAlignedSquareTemplatesN\",\n    hint: \"SETTINGS.5eGridAlignedSquareTemplatesL\",\n    scope: \"world\",\n    config: true,\n    default: true,\n    type: Boolean\n  });\n\n  // Proficiency modifier type\n  game.settings.register(\"dnd5e\", \"proficiencyModifier\", {\n    name: \"SETTINGS.5eProfN\",\n    hint: \"SETTINGS.5eProfL\",\n    scope: \"world\",\n    config: true,\n    default: \"bonus\",\n    type: String,\n    choices: {\n      bonus: \"SETTINGS.5eProfBonus\",\n      dice: \"SETTINGS.5eProfDice\"\n    }\n  });\n\n  // Allow feats during Ability Score Improvements\n  game.settings.register(\"dnd5e\", \"allowFeats\", {\n    name: \"SETTINGS.5eFeatsN\",\n    hint: \"SETTINGS.5eFeatsL\",\n    scope: \"world\",\n    config: true,\n    default: true,\n    type: Boolean\n  });\n\n  // Use Honor ability score\n  game.settings.register(\"dnd5e\", \"honorScore\", {\n    name: \"SETTINGS.5eHonorN\",\n    hint: \"SETTINGS.5eHonorL\",\n    scope: \"world\",\n    config: true,\n    default: false,\n    type: Boolean,\n    requiresReload: true\n  });\n\n  // Use Sanity ability score\n  game.settings.register(\"dnd5e\", \"sanityScore\", {\n    name: \"SETTINGS.5eSanityN\",\n    hint: \"SETTINGS.5eSanityL\",\n    scope: \"world\",\n    config: true,\n    default: false,\n    type: Boolean,\n    requiresReload: true\n  });\n\n  // Apply Dexterity as Initiative Tiebreaker\n  game.settings.register(\"dnd5e\", \"initiativeDexTiebreaker\", {\n    name: \"SETTINGS.5eInitTBN\",\n    hint: \"SETTINGS.5eInitTBL\",\n    scope: \"world\",\n    config: true,\n    default: false,\n    type: Boolean\n  });\n\n  // Record Currency Weight\n  game.settings.register(\"dnd5e\", \"currencyWeight\", {\n    name: \"SETTINGS.5eCurWtN\",\n    hint: \"SETTINGS.5eCurWtL\",\n    scope: \"world\",\n    config: true,\n    default: true,\n    type: Boolean\n  });\n\n  // Disable Experience Tracking\n  game.settings.register(\"dnd5e\", \"disableExperienceTracking\", {\n    name: \"SETTINGS.5eNoExpN\",\n    hint: \"SETTINGS.5eNoExpL\",\n    scope: \"world\",\n    config: true,\n    default: false,\n    type: Boolean\n  });\n\n  // Disable Advancements\n  game.settings.register(\"dnd5e\", \"disableAdvancements\", {\n    name: \"SETTINGS.5eNoAdvancementsN\",\n    hint: \"SETTINGS.5eNoAdvancementsL\",\n    scope: \"world\",\n    config: true,\n    default: false,\n    type: Boolean\n  });\n\n  // Disable Concentration Tracking\n  game.settings.register(\"dnd5e\", \"disableConcentration\", {\n    name: \"SETTINGS.5eNoConcentrationN\",\n    hint: \"SETTINGS.5eNoConcentrationL\",\n    scope: \"world\",\n    config: true,\n    default: false,\n    type: Boolean\n  });\n\n  // Collapse Item Cards (by default)\n  game.settings.register(\"dnd5e\", \"autoCollapseItemCards\", {\n    name: \"SETTINGS.5eAutoCollapseCardN\",\n    hint: \"SETTINGS.5eAutoCollapseCardL\",\n    scope: \"client\",\n    config: true,\n    default: false,\n    type: Boolean,\n    onChange: s => {\n      ui.chat.render();\n    }\n  });\n\n  // Collapse Chat Card Trays\n  game.settings.register(\"dnd5e\", \"autoCollapseChatTrays\", {\n    name: \"SETTINGS.DND5E.COLLAPSETRAYS.Name\",\n    hint: \"SETTINGS.DND5E.COLLAPSETRAYS.Hint\",\n    scope: \"client\",\n    config: true,\n    default: \"older\",\n    type: String,\n    choices: {\n      never: \"SETTINGS.DND5E.COLLAPSETRAYS.Never\",\n      older: \"SETTINGS.DND5E.COLLAPSETRAYS.Older\",\n      always: \"SETTINGS.DND5E.COLLAPSETRAYS.Always\"\n    }\n  });\n\n  // Allow Polymorphing\n  game.settings.register(\"dnd5e\", \"allowPolymorphing\", {\n    name: \"SETTINGS.5eAllowPolymorphingN\",\n    hint: \"SETTINGS.5eAllowPolymorphingL\",\n    scope: \"world\",\n    config: true,\n    default: false,\n    type: Boolean\n  });\n\n  // Polymorph Settings\n  game.settings.register(\"dnd5e\", \"polymorphSettings\", {\n    scope: \"client\",\n    default: {\n      keepPhysical: false,\n      keepMental: false,\n      keepSaves: false,\n      keepSkills: false,\n      mergeSaves: false,\n      mergeSkills: false,\n      keepClass: false,\n      keepFeats: false,\n      keepSpells: false,\n      keepItems: false,\n      keepBio: false,\n      keepVision: true,\n      keepSelf: false,\n      keepAE: false,\n      keepOriginAE: true,\n      keepOtherOriginAE: true,\n      keepFeatAE: true,\n      keepSpellAE: true,\n      keepEquipmentAE: true,\n      keepClassAE: true,\n      keepBackgroundAE: true,\n      transformTokens: true\n    }\n  });\n\n  // Allow Summoning\n  game.settings.register(\"dnd5e\", \"allowSummoning\", {\n    name: \"SETTINGS.DND5E.ALLOWSUMMONING.Name\",\n    hint: \"SETTINGS.DND5E.ALLOWSUMMONING.Hint\",\n    scope: \"world\",\n    config: true,\n    default: false,\n    type: Boolean\n  });\n\n  // Metric Unit Weights\n  game.settings.register(\"dnd5e\", \"metricWeightUnits\", {\n    name: \"SETTINGS.5eMetricN\",\n    hint: \"SETTINGS.5eMetricL\",\n    scope: \"world\",\n    config: true,\n    type: Boolean,\n    default: false\n  });\n\n  // Critical Damage Modifiers\n  game.settings.register(\"dnd5e\", \"criticalDamageModifiers\", {\n    name: \"SETTINGS.5eCriticalModifiersN\",\n    hint: \"SETTINGS.5eCriticalModifiersL\",\n    scope: \"world\",\n    config: true,\n    type: Boolean,\n    default: false\n  });\n\n  // Critical Damage Maximize\n  game.settings.register(\"dnd5e\", \"criticalDamageMaxDice\", {\n    name: \"SETTINGS.5eCriticalMaxDiceN\",\n    hint: \"SETTINGS.5eCriticalMaxDiceL\",\n    scope: \"world\",\n    config: true,\n    type: Boolean,\n    default: false\n  });\n\n  // Strict validation\n  game.settings.register(\"dnd5e\", \"strictValidation\", {\n    scope: \"world\",\n    config: false,\n    type: Boolean,\n    default: true\n  });\n\n  // Dynamic art.\n  game.settings.registerMenu(\"dnd5e\", \"moduleArtConfiguration\", {\n    name: \"DND5E.ModuleArtConfigN\",\n    label: \"DND5E.ModuleArtConfigL\",\n    hint: \"DND5E.ModuleArtConfigH\",\n    icon: \"fa-solid fa-palette\",\n    type: ModuleArtConfig,\n    restricted: true\n  });\n\n  game.settings.register(\"dnd5e\", \"moduleArtConfiguration\", {\n    name: \"Module Art Configuration\",\n    scope: \"world\",\n    config: false,\n    type: Object,\n    default: {\n      dnd5e: {\n        portraits: true,\n        tokens: true\n      }\n    }\n  });\n\n  // Primary Group\n  game.settings.register(\"dnd5e\", \"primaryParty\", {\n    name: \"Primary Party\",\n    scope: \"world\",\n    config: false,\n    default: null,\n    type: PrimaryPartyData,\n    onChange: s => ui.actors.render()\n  });\n\n  // Control hints\n  game.settings.register(\"dnd5e\", \"controlHints\", {\n    name: \"DND5E.Controls.Name\",\n    hint: \"DND5E.Controls.Hint\",\n    scope: \"client\",\n    config: true,\n    type: Boolean,\n    default: true\n  });\n}\n\n/**\n * Data model for tracking information on the primary party.\n *\n * @property {Actor5e} actor  Group actor representing the primary party.\n */\nclass PrimaryPartyData extends foundry.abstract.DataModel {\n  static defineSchema() {\n    return { actor: new foundry.data.fields.ForeignDocumentField(foundry.documents.BaseActor) };\n  }\n}\n\n/* -------------------------------------------- */\n\n/**\n * Register additional settings after modules have had a chance to initialize to give them a chance to modify choices.\n */\nexport function registerDeferredSettings() {\n  game.settings.register(\"dnd5e\", \"theme\", {\n    name: \"SETTINGS.DND5E.THEME.Name\",\n    hint: \"SETTINGS.DND5E.THEME.Hint\",\n    scope: \"client\",\n    config: game.release.generation < 12,\n    default: \"\",\n    type: String,\n    choices: {\n      \"\": \"SHEETS.DND5E.THEME.Automatic\",\n      ...CONFIG.DND5E.themes\n    },\n    onChange: s => setTheme(document.body, s)\n  });\n\n  matchMedia(\"(prefers-color-scheme: dark)\").addEventListener(\"change\", () => {\n    setTheme(document.body, game.settings.get(\"dnd5e\", \"theme\"));\n  });\n  matchMedia(\"(prefers-contrast: more)\").addEventListener(\"change\", () => {\n    setTheme(document.body, game.settings.get(\"dnd5e\", \"theme\"));\n  });\n\n  // Hook into core color scheme setting.\n  if ( game.release.generation > 11 ) {\n    const setting = game.settings.settings.get(\"core.colorScheme\");\n    const { onChange } = setting ?? {};\n    if ( onChange ) setting.onChange = s => {\n      onChange();\n      setTheme(document.body, s);\n    };\n    setTheme(document.body, game.settings.get(\"core\", \"colorScheme\"));\n  }\n  else setTheme(document.body, game.settings.get(\"dnd5e\", \"theme\"));\n}\n\n/* -------------------------------------------- */\n\n/**\n * Set the theme on an element, removing the previous theme class in the process.\n * @param {HTMLElement} element  Body or sheet element on which to set the theme data.\n * @param {string} [theme=\"\"]    Theme key to set.\n * @param {string[]} [flags=[]]  Additional theming flags to set.\n */\nexport function setTheme(element, theme=\"\", flags=new Set()) {\n  element.className = element.className.replace(/\\bdnd5e-(theme|flag)-[\\w-]+\\b/g, \"\");\n\n  // Primary Theme\n  if ( !theme && (element === document.body) ) {\n    if ( matchMedia(\"(prefers-color-scheme: dark)\").matches ) theme = \"dark\";\n    if ( matchMedia(\"(prefers-color-scheme: light)\").matches ) theme = \"light\";\n  }\n  if ( theme ) {\n    element.classList.add(`dnd5e-theme-${theme.slugify()}`);\n    element.dataset.theme = theme;\n  }\n  else delete element.dataset.theme;\n\n  // Additional Flags\n  if ( (element === document.body) && matchMedia(\"(prefers-contrast: more)\").matches ) flags.add(\"high-contrast\");\n  for ( const flag of flags ) element.classList.add(`dnd5e-flag-${flag.slugify()}`);\n  element.dataset.themeFlags = Array.from(flags).join(\" \");\n}\n","import { setTheme } from \"../settings.mjs\";\n\n/**\n * A specialized subclass of ContextMenu that places the menu in a fixed position.\n * @extends {ContextMenu}\n */\nexport default class ContextMenu5e extends ContextMenu {\n  /** @override */\n  _setPosition([html], [target]) {\n    document.body.appendChild(html);\n    const { clientWidth, clientHeight } = document.documentElement;\n    const { width, height } = html.getBoundingClientRect();\n\n    // TODO: Improve core ContextMenu class to provide this event rather than using the global event.\n    const { clientX, clientY } = window.event;\n    const left = Math.min(clientX, clientWidth - width);\n    this._expandUp = clientY + height > clientHeight;\n    html.classList.add(\"dnd5e2\");\n    html.classList.toggle(\"expand-up\", this._expandUp);\n    html.classList.toggle(\"expand-down\", !this._expandUp);\n    html.style.visibility = \"\";\n    html.style.left = `${left}px`;\n    if ( this._expandUp ) html.style.bottom = `${clientHeight - clientY}px`;\n    else html.style.top = `${clientY}px`;\n    target.classList.add(\"context\");\n    const theme = target.closest(\"[data-theme]\")?.dataset.theme ?? \"\";\n    setTheme(html, theme);\n  }\n}\n","import Actor5e from \"../../documents/actor/actor.mjs\";\nimport {staticID} from \"../../utils.mjs\";\nimport ContextMenu5e from \"../context-menu.mjs\";\n\n/**\n * Custom element that handles displaying active effects lists.\n */\nexport default class EffectsElement extends HTMLElement {\n  connectedCallback() {\n    this.#app = ui.windows[this.closest(\".app\")?.dataset.appid];\n\n    for ( const control of this.querySelectorAll(\"[data-action]\") ) {\n      control.addEventListener(\"click\", event => {\n        this._onAction(event.currentTarget, event.currentTarget.dataset.action);\n      });\n    }\n\n    for ( const source of this.querySelectorAll(\".effect-source a\") ) {\n      source.addEventListener(\"click\", this._onClickEffectSource.bind(this));\n    }\n\n    for ( const control of this.querySelectorAll(\"[data-context-menu]\") ) {\n      control.addEventListener(\"click\", event => {\n        event.preventDefault();\n        event.stopPropagation();\n        const { clientX, clientY } = event;\n        event.currentTarget.closest(\"[data-effect-id]\").dispatchEvent(new PointerEvent(\"contextmenu\", {\n          view: window, bubbles: true, cancelable: true, clientX, clientY\n        }));\n      });\n    }\n\n    const MenuCls = this.hasAttribute(\"v2\") ? ContextMenu5e : ContextMenu;\n    new MenuCls(this, \"[data-effect-id]\", [], {onOpen: element => {\n      const effect = this.getEffect(element.dataset);\n      if ( !effect ) return;\n      ui.context.menuItems = this._getContextOptions(effect);\n      Hooks.call(\"dnd5e.getActiveEffectContextOptions\", effect, ui.context.menuItems);\n    }});\n  }\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * Reference to the application that contains this component.\n   * @type {Application}\n   */\n  #app;\n\n  /**\n   * Reference to the application that contains this component.\n   * @type {Application}\n   * @protected\n   */\n  get _app() { return this.#app; }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Document whose effects are represented.\n   * @type {Actor5e|Item5e}\n   */\n  get document() {\n    return this._app.document;\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Preparation                            */\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare the data structure for Active Effects which are currently applied to an Actor or Item.\n   * @param {ActiveEffect5e[]} effects         The array of Active Effect instances for which to prepare sheet data.\n   * @param {object} [options={}]\n   * @param {Actor5e|Item5e} [options.parent]  Document that owns these active effects.\n   * @returns {object}                  Data for rendering.\n   */\n  static prepareCategories(effects, { parent }={}) {\n    // Define effect header categories\n    const categories = {\n      enchantment: {\n        type: \"enchantment\",\n        label: game.i18n.localize(\"DND5E.Enchantment.Category.General\"),\n        effects: [],\n        isEnchantment: true\n      },\n      temporary: {\n        type: \"temporary\",\n        label: game.i18n.localize(\"DND5E.EffectTemporary\"),\n        effects: []\n      },\n      enchantmentActive: {\n        type: \"activeEnchantment\",\n        label: game.i18n.localize(\"DND5E.Enchantment.Category.Active\"),\n        effects: [],\n        isEnchantment: true\n      },\n      passive: {\n        type: \"passive\",\n        label: game.i18n.localize(\"DND5E.EffectPassive\"),\n        effects: []\n      },\n      enchantmentInactive: {\n        type: \"inactiveEnchantment\",\n        label: game.i18n.localize(\"DND5E.Enchantment.Category.Inactive\"),\n        effects: [],\n        isEnchantment: true\n      },\n      inactive: {\n        type: \"inactive\",\n        label: game.i18n.localize(\"DND5E.EffectInactive\"),\n        effects: []\n      },\n      suppressed: {\n        type: \"suppressed\",\n        label: game.i18n.localize(\"DND5E.EffectUnavailable\"),\n        effects: [],\n        disabled: true,\n        info: [game.i18n.localize(\"DND5E.EffectUnavailableInfo\")]\n      }\n    };\n\n    // Iterate over active effects, classifying them into categories\n    for ( const e of effects ) {\n      if ( (e.parent.system?.identified === false) && !game.user.isGM ) continue;\n      if ( e.isAppliedEnchantment ) {\n        if ( e.disabled ) categories.enchantmentInactive.effects.push(e);\n        else categories.enchantmentActive.effects.push(e);\n      }\n      else if ( e.getFlag(\"dnd5e\", \"type\") === \"enchantment\" ) categories.enchantment.effects.push(e);\n      else if ( e.isSuppressed ) categories.suppressed.effects.push(e);\n      else if ( e.disabled ) categories.inactive.effects.push(e);\n      else if ( e.isTemporary ) categories.temporary.effects.push(e);\n      else categories.passive.effects.push(e);\n    }\n    categories.enchantment.hidden = !parent?.system.isEnchantment;\n    categories.enchantmentActive.hidden = !categories.enchantmentActive.effects.length;\n    categories.enchantmentInactive.hidden = !categories.enchantmentInactive.effects.length;\n    categories.suppressed.hidden = !categories.suppressed.effects.length;\n\n    for ( const category of Object.values(categories) ) {\n      category.localizationPrefix = category.isEnchantment ? \"DND5E.Enchantment.Action.\" : \"DND5E.Effect\";\n    }\n\n    return categories;\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Handlers                              */\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare an array of context menu options which are available for owned ActiveEffect documents.\n   * @param {ActiveEffect5e} effect  The ActiveEffect for which the context menu is activated.\n   * @returns {ContextMenuEntry[]}   An array of context menu options offered for the ActiveEffect.\n   * @protected\n   */\n  _getContextOptions(effect) {\n    const isConcentrationEffect = (this.document instanceof Actor5e) && this._app._concentration?.effects.has(effect);\n    const options = [\n      {\n        name: \"DND5E.ContextMenuActionEdit\",\n        icon: \"<i class='fas fa-edit fa-fw'></i>\",\n        condition: () => effect.isOwner,\n        callback: li => this._onAction(li[0], \"edit\")\n      },\n      {\n        name: \"DND5E.ContextMenuActionDuplicate\",\n        icon: \"<i class='fas fa-copy fa-fw'></i>\",\n        condition: () => effect.isOwner,\n        callback: li => this._onAction(li[0], \"duplicate\")\n      },\n      {\n        name: \"DND5E.ContextMenuActionDelete\",\n        icon: \"<i class='fas fa-trash fa-fw'></i>\",\n        condition: () => effect.isOwner && !isConcentrationEffect,\n        callback: li => this._onAction(li[0], \"delete\")\n      },\n      {\n        name: effect.disabled ? \"DND5E.ContextMenuActionEnable\" : \"DND5E.ContextMenuActionDisable\",\n        icon: effect.disabled ? \"<i class='fas fa-check fa-fw'></i>\" : \"<i class='fas fa-times fa-fw'></i>\",\n        group: \"state\",\n        condition: () => effect.isOwner && !isConcentrationEffect,\n        callback: li => this._onAction(li[0], \"toggle\")\n      },\n      {\n        name: \"DND5E.ConcentrationBreak\",\n        icon: '<dnd5e-icon src=\"systems/dnd5e/icons/svg/break-concentration.svg\"></dnd5e-icon>',\n        condition: () => isConcentrationEffect,\n        callback: () => this.document.endConcentration(effect),\n        group: \"state\"\n      }\n    ];\n\n    // Toggle Favorite State\n    if ( (this.document instanceof Actor5e) && (\"favorites\" in this.document.system) ) {\n      const uuid = effect.getRelativeUUID(this.document);\n      const isFavorited = this.document.system.hasFavorite(uuid);\n      options.push({\n        name: isFavorited ? \"DND5E.FavoriteRemove\" : \"DND5E.Favorite\",\n        icon: \"<i class='fas fa-star fa-fw'></i>\",\n        condition: () => effect.isOwner,\n        callback: li => this._onAction(li[0], isFavorited ? \"unfavorite\" : \"favorite\"),\n        group: \"state\"\n      });\n    }\n\n    return options;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle effects actions.\n   * @param {Element} target  Button or context menu entry that triggered this action.\n   * @param {string} action   Action being triggered.\n   * @returns {Promise}\n   * @protected\n   */\n  async _onAction(target, action) {\n    const event = new CustomEvent(\"effect\", {\n      bubbles: true,\n      cancelable: true,\n      detail: action\n    });\n    if ( target.dispatchEvent(event) === false ) return;\n\n    if ( action === \"toggleCondition\" ) {\n      return this._onToggleCondition(target.closest(\"[data-condition-id]\")?.dataset.conditionId);\n    }\n\n    const dataset = target.closest(\"[data-effect-id]\")?.dataset;\n    const effect = this.getEffect(dataset);\n    if ( (action !== \"create\") && !effect ) return;\n\n    switch ( action ) {\n      case \"create\":\n        return this._onCreate(target);\n      case \"delete\":\n        return effect.deleteDialog();\n      case \"duplicate\":\n        return effect.clone({name: game.i18n.format(\"DOCUMENT.CopyOf\", {name: effect.name})}, {save: true});\n      case \"edit\":\n        return effect.sheet.render(true);\n      case \"favorite\":\n        return this.document.system.addFavorite({type: \"effect\", id: effect.getRelativeUUID(this.document)});\n      case \"toggle\":\n        return effect.update({disabled: !effect.disabled});\n      case \"unfavorite\":\n        return this.document.system.removeFavorite(effect.getRelativeUUID(this.document));\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle toggling a condition.\n   * @param {string} conditionId  The condition identifier.\n   * @returns {Promise}\n   * @protected\n   */\n  async _onToggleCondition(conditionId) {\n    const existing = this.document.effects.get(staticID(`dnd5e${conditionId}`));\n    if ( existing ) return existing.delete();\n    const effect = await ActiveEffect.implementation.fromStatusEffect(conditionId);\n    return ActiveEffect.implementation.create(effect, { parent: this.document, keepId: true });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create a new effect.\n   * @param {HTMLElement} target  Button that triggered this action.\n   * @returns {Promise<ActiveEffect5e>}\n   */\n  async _onCreate(target) {\n    const li = target.closest(\"li\");\n    const isActor = this.document instanceof Actor;\n    const isEnchantment = li.dataset.effectType.startsWith(\"enchantment\");\n    return this.document.createEmbeddedDocuments(\"ActiveEffect\", [{\n      name: isActor ? game.i18n.localize(\"DND5E.EffectNew\") : this.document.name,\n      icon: isActor ? \"icons/svg/aura.svg\" : this.document.img,\n      origin: isEnchantment ? undefined : this.document.uuid,\n      \"duration.rounds\": li.dataset.effectType === \"temporary\" ? 1 : undefined,\n      disabled: [\"inactive\", \"enchantmentInactive\"].includes(li.dataset.effectType),\n      \"flags.dnd5e.type\": isEnchantment ? \"enchantment\" : undefined\n    }]);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle clicking an effect's source.\n   * @param {PointerEvent} event  The triggering event.\n   * @protected\n   */\n  async _onClickEffectSource(event) {\n    const { uuid } = event.currentTarget.dataset;\n    const doc = await fromUuid(uuid);\n    if ( !doc ) return;\n    if ( !doc.testUserPermission(game.user, \"LIMITED\") ) {\n      ui.notifications.warn(\"DND5E.DocumentViewWarn\", { localize: true });\n      return;\n    }\n    doc.sheet.render(true);\n  }\n\n  /* -------------------------------------------- */\n  /*  Helpers                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Fetch an effect from this document, or any embedded items if this document is an actor.\n   * @param {object} data\n   * @param {string} data.effectId    ID of the effect to fetch.\n   * @param {string} [data.parentId]  ID of the parent item containing the effect.\n   * @returns {ActiveEffect5e}\n   */\n  getEffect({ effectId, parentId }={}) {\n    if ( !parentId ) return this.document.effects.get(effectId);\n    return this.document.items.get(parentId).effects.get(effectId);\n  }\n}\n","import ActiveEffect5e from \"../../documents/active-effect.mjs\";\n\n/**\n * An abstract class containing common functionality between actor sheet configuration apps.\n * @extends {DocumentSheet}\n * @abstract\n */\nexport default class BaseConfigSheet extends DocumentSheet {\n\n  /** @inheritDoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      sheetConfig: false\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    if ( this.isEditable ) {\n      for ( const override of this._getActorOverrides() ) {\n        html.find(`input[name=\"${override}\"],select[name=\"${override}\"]`).each((i, el) => {\n          el.disabled = true;\n          el.dataset.tooltip = \"DND5E.ActiveEffectOverrideWarning\";\n        });\n      }\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Retrieve the list of fields that are currently modified by Active Effects on the Actor.\n   * @returns {string[]}\n   * @protected\n   */\n  _getActorOverrides() {\n    return Object.keys(foundry.utils.flattenObject(this.object.overrides || {}));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Helper method to add choices that have been overridden.\n   * @param {string} prefix       The initial form prefix under which the choices are grouped.\n   * @param {string} path         Path in actor data.\n   * @param {string[]} overrides  The list of fields that are currently modified by Active Effects. *Will be mutated.*\n   * @internal\n   */\n  _addOverriddenChoices(prefix, path, overrides) {\n    ActiveEffect5e.addOverriddenChoices(this.document, prefix, path, overrides);\n  }\n}\n","import BaseConfigSheet from \"./base-config.mjs\";\n\n/**\n * A simple form to set save throw configuration for a given ability score.\n *\n * @param {Actor5e} actor               The Actor instance being displayed within the sheet.\n * @param {ApplicationOptions} options  Additional application configuration options.\n * @param {string} abilityId            The ability key as defined in CONFIG.DND5E.abilities.\n */\nexport default class ActorAbilityConfig extends BaseConfigSheet {\n  constructor(actor, options, abilityId) {\n    super(actor, options);\n    this._abilityId = abilityId;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\"],\n      template: \"systems/dnd5e/templates/apps/ability-config.hbs\",\n      width: 500,\n      height: \"auto\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  get title() {\n    return `${game.i18n.format(\"DND5E.AbilityConfigureTitle\", {\n      ability: CONFIG.DND5E.abilities[this._abilityId].label})}: ${this.document.name}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  getData(options) {\n    const src = this.document.toObject();\n    const ability = CONFIG.DND5E.abilities[this._abilityId].label;\n    return {\n      ability: src.system.abilities[this._abilityId] ?? this.document.system.abilities[this._abilityId] ?? {},\n      labelSaves: game.i18n.format(\"DND5E.AbilitySaveConfigure\", {ability}),\n      labelChecks: game.i18n.format(\"DND5E.AbilityCheckConfigure\", {ability}),\n      abilityId: this._abilityId,\n      proficiencyLevels: {\n        0: CONFIG.DND5E.proficiencyLevels[0],\n        1: CONFIG.DND5E.proficiencyLevels[1]\n      },\n      bonusGlobalSave: src.system.bonuses?.abilities?.save,\n      bonusGlobalCheck: src.system.bonuses?.abilities?.check\n    };\n  }\n}\n","import BaseConfigSheet from \"./base-config.mjs\";\n\n/**\n * Interface for managing a character's armor calculation.\n */\nexport default class ActorArmorConfig extends BaseConfigSheet {\n  constructor(...args) {\n    super(...args);\n\n    /**\n     * Cloned copy of the actor for previewing changes.\n     * @type {Actor5e}\n     */\n    this.clone = this.document.clone();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\", \"actor-armor-config\"],\n      template: \"systems/dnd5e/templates/apps/actor-armor.hbs\",\n      width: 320,\n      height: \"auto\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get title() {\n    return `${game.i18n.localize(\"DND5E.ArmorConfig\")}: ${this.document.name}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async getData() {\n    const ac = this.clone.system.attributes.ac;\n    const isFlat = [\"flat\", \"natural\"].includes(ac.calc);\n\n    // Get configuration data for the calculation mode, reset to flat if configuration is unavailable\n    let cfg = CONFIG.DND5E.armorClasses[ac.calc];\n    if ( !cfg ) {\n      ac.calc = \"flat\";\n      cfg = CONFIG.DND5E.armorClasses.flat;\n      this.clone.updateSource({ \"system.attributes.ac.calc\": \"flat\" });\n    }\n\n    return {\n      ac, isFlat,\n      calculations: CONFIG.DND5E.armorClasses,\n      valueDisabled: !isFlat,\n      formula: ac.calc === \"custom\" ? ac.formula : cfg.formula,\n      formulaDisabled: ac.calc !== \"custom\"\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _getActorOverrides() {\n    return Object.keys(foundry.utils.flattenObject(this.object.overrides?.system?.attributes || {}));\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _updateObject(event, formData) {\n    const ac = foundry.utils.expandObject(formData).ac;\n    return this.document.update({\"system.attributes.ac\": ac});\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Listeners and Handlers                */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _onChangeInput(event) {\n    await super._onChangeInput(event);\n\n    // Update clone with new data & re-render\n    this.clone.updateSource({ [`system.attributes.${event.currentTarget.name}`]: event.currentTarget.value });\n    this.render();\n  }\n}\n","import BaseConfigSheet from \"./base-config.mjs\";\n\n/**\n * A sub-application of the ActorSheet used to configure concentration saving throws.\n * @extends {BaseConfigSheet}\n */\nexport default class ActorConcentrationConfig extends BaseConfigSheet {\n  /** @inheritDoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\"],\n      template: \"systems/dnd5e/templates/apps/concentration-config.hbs\",\n      width: 500,\n      height: \"auto\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  get title() {\n    return `${game.i18n.format(\"DND5E.AbilityConfigure\", {\n      ability: game.i18n.localize(\"DND5E.Concentration\") })\n    }: ${this.document.name}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  getData(options={}) {\n    const src = this.document.toObject();\n    const { ability, bonuses, limit, roll } = src.system.attributes.concentration;\n    return {\n      ability, limit,\n      abilities: CONFIG.DND5E.abilities,\n      bonus: bonuses.save,\n      mode: roll.mode,\n      modes: {\n        \"-1\": \"DND5E.Disadvantage\",\n        0: \"DND5E.Normal\",\n        1: \"DND5E.Advantage\"\n      },\n      bonusGlobalSave: src.system.bonuses?.abilities?.save\n    };\n  }\n}\n","import BaseConfigSheet from \"./base-config.mjs\";\n\n/**\n * A simple form to set actor hit dice amounts.\n */\nexport default class ActorHitDiceConfig extends BaseConfigSheet {\n\n  /** @inheritDoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\", \"hd-config\", \"dialog\"],\n      template: \"systems/dnd5e/templates/apps/hit-dice-config.hbs\",\n      width: 360,\n      height: \"auto\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  get title() {\n    return `${game.i18n.localize(\"DND5E.HitDiceConfig\")}: ${this.object.name}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  getData(options) {\n    const classes = this.object.system.attributes.hd.classes;\n    return {\n      classes: Array.from(classes).map(item => {\n        return {\n          classItemId: item.id,\n          name: item.name,\n          diceDenom: item.system.hitDice,\n          currentHitDice: item.system.levels - item.system.hitDiceUsed,\n          maxHitDice: item.system.levels,\n          canRoll: (item.system.levels - item.system.hitDiceUsed) > 0\n        };\n      }).sort((a, b) => parseInt(b.diceDenom.slice(1)) - parseInt(a.diceDenom.slice(1)))\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n\n    // Hook up -/+ buttons to adjust the current value in the form\n    html.find(\"button.increment, button.decrement\").click(event => {\n      const button = event.currentTarget;\n      const current = button.parentElement.querySelector(\".current\");\n      const max = button.parentElement.querySelector(\".max\");\n      const direction = button.classList.contains(\"increment\") ? 1 : -1;\n      current.value = Math.clamp(parseInt(current.value) + direction, 0, parseInt(max.value));\n    });\n\n    html.find(\"button.roll-hd\").click(this._onRollHitDie.bind(this));\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _updateObject(event, formData) {\n    const actorItems = this.object.items;\n    const classUpdates = Object.entries(formData).map(([id, hd]) => ({\n      _id: id,\n      \"system.hitDiceUsed\": actorItems.get(id).system.levels - hd\n    }));\n    return this.object.updateEmbeddedDocuments(\"Item\", classUpdates);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Rolls the hit die corresponding with the class row containing the event's target button.\n   * @param {MouseEvent} event  Triggering click event.\n   * @protected\n   */\n  async _onRollHitDie(event) {\n    event.preventDefault();\n    const button = event.currentTarget;\n    await this.object.rollHitDie(button.dataset.hdDenom);\n\n    // Re-render dialog to reflect changed hit dice quantities\n    this.render();\n  }\n}\n","import BaseConfigSheet from \"./base-config.mjs\";\n\n/**\n * A form for configuring actor hit points and bonuses.\n */\nexport default class ActorHitPointsConfig extends BaseConfigSheet {\n  constructor(...args) {\n    super(...args);\n\n    /**\n     * Cloned copy of the actor for previewing changes.\n     * @type {Actor5e}\n     */\n    this.clone = this.object.clone();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\", \"actor-hit-points-config\"],\n      template: \"systems/dnd5e/templates/apps/hit-points-config.hbs\",\n      width: 320,\n      height: \"auto\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get title() {\n    return `${game.i18n.localize(\"DND5E.HitPointsConfig\")}: ${this.document.name}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  getData(options) {\n    return {\n      hp: this.clone.system.attributes.hp,\n      source: this.clone.toObject().system.attributes.hp,\n      isCharacter: this.document.type === \"character\"\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _getActorOverrides() {\n    return Object.keys(foundry.utils.flattenObject(this.object.overrides?.system?.attributes || {}));\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _updateObject(event, formData) {\n    const hp = foundry.utils.expandObject(formData).hp;\n    this.clone.updateSource({\"system.attributes.hp\": hp});\n    const maxDelta = this.clone.system.attributes.hp.max - this.document.system.attributes.hp.max;\n    hp.value = Math.max(this.document.system.attributes.hp.value + maxDelta, 0);\n    return this.document.update({\"system.attributes.hp\": hp});\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Listeners and Handlers                */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    html.find(\".roll-hit-points\").click(this._onRollHPFormula.bind(this));\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _onChangeInput(event) {\n    await super._onChangeInput(event);\n    const t = event.currentTarget;\n\n    // Update clone with new data & re-render\n    this.clone.updateSource({ [`system.attributes.${t.name}`]: t.value || null });\n    if ( t.name !== \"hp.formula\" ) this.render();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle rolling NPC health values using the provided formula.\n   * @param {Event} event  The original click event.\n   * @protected\n   */\n  async _onRollHPFormula(event) {\n    event.preventDefault();\n    try {\n      const roll = await this.clone.rollNPCHitPoints();\n      this.clone.updateSource({\"system.attributes.hp.max\": roll.total});\n      this.render();\n    } catch(error) {\n      ui.notifications.error(\"DND5E.HPFormulaError\", {localize: true});\n      throw error;\n    }\n  }\n}\n","import BaseConfigSheet from \"./base-config.mjs\";\n\n/**\n * A simple sub-application of the ActorSheet which is used to configure properties related to initiative.\n */\nexport default class ActorInitiativeConfig extends BaseConfigSheet {\n\n  /** @override */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\"],\n      template: \"systems/dnd5e/templates/apps/initiative-config.hbs\",\n      width: 360,\n      height: \"auto\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  get title() {\n    return `${game.i18n.localize(\"DND5E.InitiativeConfig\")}: ${this.document.name}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  getData(options={}) {\n    const source = this.document.toObject();\n    const init = source.system.attributes.init || {};\n    const flags = source.flags.dnd5e || {};\n    return {\n      ability: init.ability,\n      abilities: CONFIG.DND5E.abilities,\n      bonus: init.bonus,\n      initiativeAlert: flags.initiativeAlert,\n      initiativeAdv: flags.initiativeAdv\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _getSubmitData(updateData={}) {\n    const formData = super._getSubmitData(updateData);\n    formData.flags = {dnd5e: {}};\n    for ( const flag of [\"initiativeAlert\", \"initiativeAdv\"] ) {\n      const k = `flags.dnd5e.${flag}`;\n      if ( formData[k] ) formData.flags.dnd5e[flag] = true;\n      else formData.flags.dnd5e[`-=${flag}`] = null;\n      delete formData[k];\n    }\n    return formData;\n  }\n}\n","import BaseConfigSheet from \"./base-config.mjs\";\n\n/**\n * A simple form to set actor movement speeds.\n */\nexport default class ActorMovementConfig extends BaseConfigSheet {\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\"],\n      template: \"systems/dnd5e/templates/apps/movement-config.hbs\",\n      width: 300,\n      height: \"auto\",\n      keyPath: \"system.attributes.movement\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get title() {\n    return `${game.i18n.localize(\"DND5E.MovementConfig\")}: ${this.document.name}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  getData(options={}) {\n    const source = this.document.toObject();\n    const movement = foundry.utils.getProperty(source, this.options.keyPath) ?? {};\n    const raceData = this.document.system.details?.race?.system?.movement ?? {};\n\n    // Allowed speeds\n    const speeds = source.type === \"group\" ? {\n      land: \"DND5E.MovementLand\",\n      water: \"DND5E.MovementWater\",\n      air: \"DND5E.MovementAir\"\n    } : {\n      walk: \"DND5E.MovementWalk\",\n      burrow: \"DND5E.MovementBurrow\",\n      climb: \"DND5E.MovementClimb\",\n      fly: \"DND5E.MovementFly\",\n      swim: \"DND5E.MovementSwim\"\n    };\n\n    return {\n      movement,\n      movements: Object.entries(speeds).reduce((obj, [k, label]) => {\n        obj[k] = { label, value: movement[k], placeholder: raceData[k] ?? 0 };\n        return obj;\n      }, {}),\n      selectUnits: Object.hasOwn(movement, \"units\"),\n      canHover: Object.hasOwn(movement, \"hover\"),\n      units: CONFIG.DND5E.movementUnits,\n      unitsPlaceholder: game.i18n.format(\"DND5E.AutomaticValue\", {\n        value: CONFIG.DND5E.movementUnits[raceData.units ?? Object.keys(CONFIG.DND5E.movementUnits)[0]]?.toLowerCase()\n      }),\n      keyPath: this.options.keyPath\n    };\n  }\n}\n","import BaseConfigSheet from \"./base-config.mjs\";\n\n/**\n * A simple form to configure Actor senses.\n */\nexport default class ActorSensesConfig extends BaseConfigSheet {\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\"],\n      template: \"systems/dnd5e/templates/apps/senses-config.hbs\",\n      width: 300,\n      height: \"auto\",\n      keyPath: \"system.attributes.senses\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get title() {\n    return `${game.i18n.localize(\"DND5E.SensesConfig\")}: ${this.document.name}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  getData(options) {\n    const source = this.document.toObject();\n    const senses = foundry.utils.getProperty(source, this.options.keyPath) ?? {};\n    const raceData = this.document.system.details?.race?.system?.senses ?? {};\n    return foundry.utils.mergeObject(super.getData(options), {\n      senses: Object.entries(CONFIG.DND5E.senses).reduce((obj, [k, label]) => {\n        obj[k] = { label, value: senses[k], placeholder: raceData[k] ?? 0 };\n        return obj;\n      }, {}),\n      special: senses.special ?? \"\",\n      units: senses.units, movementUnits: CONFIG.DND5E.movementUnits,\n      unitsPlaceholder: game.i18n.format(\"DND5E.AutomaticValue\", {\n        value: CONFIG.DND5E.movementUnits[raceData.units ?? Object.keys(CONFIG.DND5E.movementUnits)[0]]?.toLowerCase()\n      }),\n      keyPath: this.options.keyPath\n    });\n  }\n}\n","import BaseConfigSheet from \"./base-config.mjs\";\n\n/**\n * An application class which provides advanced configuration for special character flags which modify an Actor.\n */\nexport default class ActorSheetFlags extends BaseConfigSheet {\n\n  /** @inheritDoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      id: \"actor-flags\",\n      classes: [\"dnd5e\"],\n      template: \"systems/dnd5e/templates/apps/actor-flags.hbs\",\n      width: 500,\n      closeOnSubmit: true\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  get title() {\n    return `${game.i18n.localize(\"DND5E.FlagsTitle\")}: ${this.object.name}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  getData() {\n    const data = {};\n    data.actor = this.object;\n    data.classes = this._getClasses();\n    data.flags = this._getFlags();\n    data.bonuses = this._getBonuses();\n    return data;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare an object of sorted classes.\n   * @returns {object}\n   * @private\n   */\n  _getClasses() {\n    const classes = this.object.items.filter(i => i.type === \"class\");\n    return classes.sort((a, b) => a.name.localeCompare(b.name, game.i18n.lang)).reduce((obj, i) => {\n      obj[i.id] = i.name;\n      return obj;\n    }, {});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare an object of flags data which groups flags by section\n   * Add some additional data for rendering\n   * @returns {object}\n   * @private\n   */\n  _getFlags() {\n    const flags = {};\n    const baseData = this.document.toJSON();\n    for ( let [k, v] of Object.entries(CONFIG.DND5E.characterFlags) ) {\n      if ( !flags.hasOwnProperty(v.section) ) flags[v.section] = {};\n      let flag = foundry.utils.deepClone(v);\n      flag.type = v.type.name;\n      flag.isCheckbox = v.type === Boolean;\n      flag.isSelect = v.hasOwnProperty(\"choices\");\n      flag.value = foundry.utils.getProperty(baseData.flags, `dnd5e.${k}`);\n      flags[v.section][`flags.dnd5e.${k}`] = flag;\n    }\n    return flags;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get the bonuses fields and their localization strings\n   * @returns {Array<object>}\n   * @private\n   */\n  _getBonuses() {\n    const src = this.object.toObject();\n    const bonuses = [\n      {name: \"system.bonuses.mwak.attack\", label: \"DND5E.BonusMWAttack\"},\n      {name: \"system.bonuses.mwak.damage\", label: \"DND5E.BonusMWDamage\"},\n      {name: \"system.bonuses.rwak.attack\", label: \"DND5E.BonusRWAttack\"},\n      {name: \"system.bonuses.rwak.damage\", label: \"DND5E.BonusRWDamage\"},\n      {name: \"system.bonuses.msak.attack\", label: \"DND5E.BonusMSAttack\"},\n      {name: \"system.bonuses.msak.damage\", label: \"DND5E.BonusMSDamage\"},\n      {name: \"system.bonuses.rsak.attack\", label: \"DND5E.BonusRSAttack\"},\n      {name: \"system.bonuses.rsak.damage\", label: \"DND5E.BonusRSDamage\"},\n      {name: \"system.bonuses.abilities.check\", label: \"DND5E.BonusAbilityCheck\"},\n      {name: \"system.bonuses.abilities.save\", label: \"DND5E.BonusAbilitySave\"},\n      {name: \"system.bonuses.abilities.skill\", label: \"DND5E.BonusAbilitySkill\"},\n      {name: \"system.bonuses.spell.dc\", label: \"DND5E.BonusSpellDC\"}\n    ];\n    for ( let b of bonuses ) {\n      b.value = foundry.utils.getProperty(src, b.name) || \"\";\n    }\n    return bonuses;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _updateObject(event, formData) {\n    const actor = this.object;\n    let updateData = foundry.utils.expandObject(formData);\n    const src = actor.toObject();\n\n    // Unset any flags which are \"false\"\n    const flags = updateData.flags.dnd5e;\n    for ( let [k, v] of Object.entries(flags) ) {\n      if ( [undefined, null, \"\", false, 0].includes(v) ) {\n        delete flags[k];\n        if ( foundry.utils.hasProperty(src.flags, `dnd5e.${k}`) ) flags[`-=${k}`] = null;\n      }\n    }\n\n    // Clear any bonuses which are whitespace only\n    for ( let b of Object.values(updateData.system.bonuses ) ) {\n      for ( let [k, v] of Object.entries(b) ) {\n        b[k] = v.trim();\n      }\n    }\n\n    // Diff the data against any applied overrides and apply\n    await actor.update(updateData, {diff: false});\n  }\n}\n","import Actor5e from \"../../documents/actor/actor.mjs\";\n\n/**\n * A specialized form used to select from a checklist of attributes, traits, or properties\n */\nexport default class ActorTypeConfig extends DocumentSheet {\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\", \"actor-type\", \"trait-selector\"],\n      template: \"systems/dnd5e/templates/apps/actor-type.hbs\",\n      width: 280,\n      height: \"auto\",\n      choices: {},\n      allowCustom: true,\n      minimum: 0,\n      maximum: null,\n      sheetConfig: false,\n      keyPath: \"system.details.type\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get title() {\n    return `${game.i18n.localize(\"DND5E.CreatureTypeTitle\")}: ${this.object.name}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get id() {\n    return `actor-type-${this.object.id}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Return a reference to the Actor. Either the NPCs themselves if they are being edited, otherwise the parent Actor\n   * if a race Item is being edited.\n   * @returns {Actor5e}\n   */\n  get actor() {\n    return this.object.actor ?? this.object;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  getData(options={}) {\n    // Get current value or new default\n    let attr = foundry.utils.getProperty(this.object, this.options.keyPath);\n    if ( foundry.utils.getType(attr) !== \"Object\" ) attr = {\n      value: (attr in CONFIG.DND5E.creatureTypes) ? attr : \"humanoid\",\n      subtype: \"\",\n      swarm: \"\",\n      custom: \"\"\n    };\n\n    // Populate choices\n    const types = {};\n    for ( let [k, v] of Object.entries(CONFIG.DND5E.creatureTypes) ) {\n      types[k] = {\n        label: game.i18n.localize(v.label),\n        chosen: attr.value === k\n      };\n    }\n\n    // Return data for rendering\n    return {\n      types: types,\n      custom: {\n        value: attr.custom,\n        label: game.i18n.localize(\"DND5E.CreatureTypeSelectorCustom\"),\n        chosen: attr.value === \"custom\"\n      },\n      showCustom: Object.hasOwn(attr, \"custom\"),\n      showSwarm: Object.hasOwn(attr, \"swarm\"),\n      subtype: attr.subtype,\n      swarm: attr.swarm,\n      sizes: Array.from(Object.entries(CONFIG.DND5E.actorSizes)).reverse().reduce((obj, [key, { label }]) => {\n        obj[key] = label;\n        return obj;\n      }, {}),\n      preview: Actor5e.formatCreatureType(attr) || \"\"\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  async _updateObject(event, formData) {\n    const typeObject = foundry.utils.expandObject(formData);\n    return this.object.update({[this.options.keyPath]: typeObject});\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Listeners and Handlers                */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    html.find(\"input[name='custom']\").focusin(this._onCustomFieldFocused.bind(this));\n\n    const overrides = Object.keys(foundry.utils.flattenObject(this.actor.overrides || {}));\n    if ( overrides.some(k => k.startsWith(\"system.details.type.\")) ) {\n      // Disable editing any type field if one of them is overridden by an Active Effect.\n      html.find(\"input, select\").each((i, el) => {\n        el.disabled = true;\n        el.dataset.tooltip = \"DND5E.ActiveEffectOverrideWarning\";\n      });\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _onChangeInput(event) {\n    super._onChangeInput(event);\n    const typeObject = foundry.utils.expandObject(this._getSubmitData());\n    this.form.preview.value = Actor5e.formatCreatureType(typeObject) || \"\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Select the custom radio button when the custom text field is focused.\n   * @param {FocusEvent} event      The original focusin event\n   * @private\n   */\n  _onCustomFieldFocused(event) {\n    this.form.querySelector(\"input[name='value'][value='custom']\").checked = true;\n    this._onChangeInput(event);\n  }\n}\n","import { filteredKeys } from \"../../utils.mjs\";\nimport BaseConfig from \"./base-config.mjs\";\n\n/**\n * Configuration app for damage modification.\n */\nexport default class DamageModificationConfig extends BaseConfig {\n\n  /** @inheritDoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\", \"damage-modification\", \"trait-selector\", \"subconfig\"],\n      template: \"systems/dnd5e/templates/apps/damage-modification-config.hbs\",\n      width: 320,\n      height: \"auto\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  get title() {\n    return game.i18n.localize(\"DND5E.DamageModification.Label\");\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async getData(options={}) {\n    const context = await super.getData(options);\n    const data = foundry.utils.getProperty(this.document, \"system.traits.dm\");\n    context.bypasses = Object.entries(CONFIG.DND5E.itemProperties).reduce((obj, [k, v]) => {\n      if ( v.isPhysical ) obj[k] = { ...v, chosen: data.bypasses.has(k) };\n      return obj;\n    }, {});\n    context.modifications = Object.entries(CONFIG.DND5E.damageTypes).reduce((obj, [k, v]) => {\n      obj[k] = {\n        ...v,\n        value: data.amount[k]\n      };\n      return obj;\n    }, {});\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _getActorOverrides() {\n    const overrides = super._getActorOverrides();\n    this._addOverriddenChoices(\"system.traits.dm.bypasses\", \"system.traits.dm.bypasses\", overrides);\n    return overrides;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _getSubmitData(updateData) {\n    const data = foundry.utils.expandObject(super._getSubmitData(updateData));\n    const formData = {};\n    for ( const [type, formula] of Object.entries(foundry.utils.getProperty(data, \"system.traits.dm.amount\")) ) {\n      if ( formula ) formData[`system.traits.dm.amount.${type}`] = formula;\n      else formData[`system.traits.dm.amount.-=${type}`] = \"\";\n    }\n    formData[\"system.traits.dm.bypasses\"] = filteredKeys(\n      foundry.utils.getProperty(data, \"system.traits.dm.bypasses\") ?? {}\n    );\n    return formData;\n  }\n}\n","/**\n * Application for configuring the source data on actors and items.\n */\nexport default class SourceConfig extends DocumentSheet {\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\", \"source-config\", \"dialog\"],\n      template: \"systems/dnd5e/templates/apps/source-config.hbs\",\n      width: 400,\n      height: \"auto\",\n      sheetConfig: false,\n      keyPath: \"system.details.source\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  get title() {\n    return `${game.i18n.localize(\"DND5E.SourceConfig\")}: ${this.document.name}`;\n  }\n\n  /* -------------------------------------------- */\n  /*  Rendering                                   */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async getData(options) {\n    const context = super.getData(options);\n    context.appId = this.id;\n    context.CONFIG = CONFIG.DND5E;\n    context.source = foundry.utils.getProperty(this.document, this.options.keyPath);\n    context.sourceUuid = this.document._stats.compendiumSource\n      ?? foundry.utils.getProperty(this.document, \"flags.core.sourceId\");\n    context.hasSourceId = !!(await fromUuid(context.sourceUuid));\n    return context;\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Handlers                              */\n  /* -------------------------------------------- */\n\n  /** @override */\n  async _updateObject(event, formData) {\n    const source = foundry.utils.expandObject(formData).source;\n    return this.document.update({[this.options.keyPath]: source});\n  }\n}\n","import * as Trait from \"../../documents/actor/trait.mjs\";\nimport BaseConfigSheet from \"./base-config.mjs\";\n\n/**\n * A specialized application used to modify actor traits.\n *\n * @param {Actor5e} actor                       Actor for whose traits are being edited.\n * @param {string} trait                        Trait key as defined in CONFIG.traits.\n * @param {object} [options={}]\n * @param {boolean} [options.allowCustom=true]  Support user custom trait entries.\n */\nexport default class TraitSelector extends BaseConfigSheet {\n  constructor(actor, trait, options={}) {\n    if ( !CONFIG.DND5E.traits[trait] ) throw new Error(\n      `Cannot instantiate TraitSelector with a trait not defined in CONFIG.DND5E.traits: ${trait}.`\n    );\n    if ( [\"saves\", \"skills\"].includes(trait) ) throw new Error(\n      `TraitSelector does not support selection of ${trait}. That should be handled through `\n      + \"that type's more specialized configuration application.\"\n    );\n\n    super(actor, options);\n\n    /**\n     * Trait key as defined in CONFIG.traits.\n     * @type {string}\n     */\n    this.trait = trait;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      id: \"trait-selector\",\n      classes: [\"dnd5e\", \"trait-selector\", \"subconfig\"],\n      template: \"systems/dnd5e/templates/apps/trait-selector.hbs\",\n      width: 320,\n      height: \"auto\",\n      allowCustom: true\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get id() {\n    return `${this.constructor.name}-${this.trait}-Actor-${this.document.id}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get title() {\n    return `${this.document.name}: ${Trait.traitLabel(this.trait)}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async getData() {\n    const path = Trait.actorKeyPath(this.trait);\n    const data = foundry.utils.getProperty(this.document, path);\n    if ( !data ) return super.getData();\n\n    return {\n      ...super.getData(),\n      choices: await Trait.choices(this.trait, { chosen: data.value }),\n      custom: data.custom,\n      customPath: \"custom\" in data ? `${path}.custom` : null,\n      bypasses: \"bypasses\" in data ? Object.entries(CONFIG.DND5E.itemProperties).reduce((obj, [k, v]) => {\n        if ( v.isPhysical ) obj[k] = { label: v.label, chosen: data.bypasses.has(k) };\n        return obj;\n      }, {}) : null,\n      bypassesPath: \"bypasses\" in data ? `${path}.bypasses` : null\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n\n    for ( const checkbox of html[0].querySelectorAll(\"input[type='checkbox']\") ) {\n      if ( checkbox.checked ) this._onToggleCategory(checkbox);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _getActorOverrides() {\n    const overrides = super._getActorOverrides();\n    const path = Trait.actorKeyPath(this.trait);\n    this._addOverriddenChoices(\"choices\", Trait.changeKeyPath(this.trait), overrides);\n    this._addOverriddenChoices(\"bypasses\", `${path}.bypasses`, overrides);\n    const pathCustom = `${path}.custom`;\n    const sourceCustom = foundry.utils.getProperty(this.document._source, pathCustom);\n    const currentCustom = foundry.utils.getProperty(this.document, pathCustom);\n    if ( sourceCustom !== currentCustom ) overrides.push(pathCustom);\n    return overrides;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _onChangeInput(event) {\n    super._onChangeInput(event);\n\n    if ( event.target.name?.startsWith(\"choices\") ) this._onToggleCategory(event.target);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Enable/disable all children when a category is checked.\n   * @param {HTMLElement} checkbox  Checkbox that was changed.\n   * @protected\n   */\n  _onToggleCategory(checkbox) {\n    const children = checkbox.closest(\"li\")?.querySelector(\"ol\");\n    if ( !children ) return;\n\n    for ( const child of children.querySelectorAll(\"input[type='checkbox']\") ) {\n      child.checked = child.disabled = checkbox.checked;\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Filter a list of choices that begin with the provided key for update.\n   * @param {string} prefix    The initial form prefix under which the choices are grouped.\n   * @param {string} path      Path in actor data where the final choices will be saved.\n   * @param {object} formData  Form data being prepared. *Will be mutated.*\n   * @protected\n   */\n  _prepareChoices(prefix, path, formData) {\n    const chosen = new Set();\n    for ( const key of Object.keys(formData).filter(k => k.startsWith(`${prefix}.`)) ) {\n      if ( formData[key] ) chosen.add(key.replace(`${prefix}.`, \"\"));\n      delete formData[key];\n    }\n\n    // Add choices from the source that have been removed by an override: if we didn't, the override would be persisted\n    const source = new Set(foundry.utils.getProperty(this.document._source, path));\n    const current = foundry.utils.getProperty(this.document, path);\n    for ( const choice of source.difference(current) ) chosen.add(choice);\n\n    formData[path] = Array.from(chosen).sort((a, b) => a.localeCompare(b, \"en\"));\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  async _updateObject(event, formData) {\n    const path = Trait.actorKeyPath(this.trait);\n    const data = foundry.utils.getProperty(this.document, path);\n\n    this._prepareChoices(\"choices\", Trait.changeKeyPath(this.trait), formData);\n    if ( \"bypasses\" in data ) this._prepareChoices(\"bypasses\", `${path}.bypasses`, formData);\n\n    return this.object.update(formData);\n  }\n}\n","import BaseConfigSheet from \"./base-config.mjs\";\nimport * as Trait from \"../../documents/actor/trait.mjs\";\n\n/**\n * @typedef {FormApplicationOptions} ProficiencyConfigOptions\n * @property {string} key       The ID of the skill or tool being configured.\n * @property {string} property  The property on the actor being configured, either 'skills', or 'tools'.\n */\n\n/**\n * An application responsible for configuring proficiencies and bonuses in tools and skills.\n *\n * @param {Actor5e} actor                     The Actor being configured.\n * @param {ProficiencyConfigOptions} options  Additional configuration options.\n */\nexport default class ProficiencyConfig extends BaseConfigSheet {\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\"],\n      template: \"systems/dnd5e/templates/apps/proficiency-config.hbs\",\n      width: 500,\n      height: \"auto\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Are we configuring a tool?\n   * @returns {boolean}\n   */\n  get isTool() {\n    return this.options.property === \"tools\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Are we configuring a skill?\n   * @returns {boolean}\n   */\n  get isSkill() {\n    return this.options.property === \"skills\";\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get title() {\n    const label = this.isSkill ? CONFIG.DND5E.skills[this.options.key].label\n      : Trait.keyLabel(this.options.key, { trait: \"tool\" });\n    return `${game.i18n.format(\"DND5E.ProficiencyConfigureTitle\", {label})}: ${this.document.name}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get id() {\n    return `ProficiencyConfig-${this.document.documentName}-${this.document.id}-${this.options.key}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  getData(options={}) {\n    return {\n      abilities: CONFIG.DND5E.abilities,\n      proficiencyLevels: CONFIG.DND5E.proficiencyLevels,\n      entry: this.document.system[this.options.property]?.[this.options.key],\n      isTool: this.isTool,\n      isSkill: this.isSkill,\n      key: this.options.key,\n      property: this.options.property,\n      system: this.document.system\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _updateObject(event, formData) {\n    if ( this.isTool ) return super._updateObject(event, formData);\n    const passive = formData[`system.skills.${this.options.key}.bonuses.passive`];\n    const passiveRoll = new Roll(passive);\n    if ( !passiveRoll.isDeterministic ) {\n      const message = game.i18n.format(\"DND5E.FormulaCannotContainDiceError\", {\n        name: game.i18n.localize(\"DND5E.SkillBonusPassive\")\n      });\n      ui.notifications.error(message);\n      throw new Error(message);\n    }\n    return super._updateObject(event, formData);\n  }\n}\n","import TraitSelector from \"./trait-selector.mjs\";\nimport * as Trait from \"../../documents/actor/trait.mjs\";\n\n/**\n * A specialized version of the TraitSelector used for selecting tool and vehicle proficiencies.\n * @extends {TraitSelector}\n */\nexport default class ToolSelector extends TraitSelector {\n  /** @inheritdoc */\n  async getData() {\n    return {\n      ...super.getData(),\n      choices: await Trait.choices(this.trait, { chosen: new Set(Object.keys(this.document.system.tools)) })\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _getActorOverrides() {\n    return Object.keys(foundry.utils.flattenObject(this.document.overrides));\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _updateObject(event, formData) {\n    return this.document.update(Object.entries(formData).reduce((obj, [k, v]) => {\n      const [, key] = k.split(\".\");\n      const tool = this.document.system.tools[key];\n      if ( tool && !v ) obj[`system.tools.-=${key}`] = null;\n      else if ( !tool && v ) obj[`system.tools.${key}`] = {value: 1};\n      return obj;\n    }, {}));\n  }\n}\n","import { parseInputDelta } from \"../../utils.mjs\";\n\n/**\n * Mixin method for common uses between all actor sheets.\n * @param {typeof Application} Base   Application class being extended.\n * @returns {class}\n * @mixin\n */\nexport default Base => class extends Base {\n  /**\n   * Handle input changes to numeric form fields, allowing them to accept delta-typed inputs.\n   * @param {Event} event  Triggering event.\n   * @protected\n   */\n  _onChangeInputDelta(event) {\n    const input = event.target;\n    const target = this.actor.items.get(input.closest(\"[data-item-id]\")?.dataset.itemId) ?? this.actor;\n    const result = parseInputDelta(input, target);\n    if ( result !== undefined ) target.update({ [input.dataset.name]: result });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Stack identical consumables when a new one is dropped rather than creating a duplicate item.\n   * @param {object} itemData         The item data requested for creation.\n   * @returns {Promise<Item5e>|null}  If a duplicate was found, returns the adjusted item stack.\n   */\n  _onDropStackConsumables(itemData) {\n    const droppedSourceId = itemData._stats?.compendiumSource ?? itemData.flags.core?.sourceId;\n    if ( itemData.type !== \"consumable\" || !droppedSourceId ) return null;\n    const similarItem = this.actor.items.find(i => {\n      const sourceId = i.getFlag(\"core\", \"sourceId\");\n      return sourceId && (sourceId === droppedSourceId) && (i.type === \"consumable\") && (i.name === itemData.name);\n    });\n    if ( !similarItem ) return null;\n    return similarItem.update({\n      \"system.quantity\": similarItem.system.quantity + Math.max(itemData.system.quantity, 1)\n    });\n  }\n};\n","import DialogMixin from \"../dialog-mixin.mjs\";\n\nexport default class ActorSpellSlotsConfig extends DialogMixin(DocumentSheet) {\n  /** @override */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e2\", \"dialog\"],\n      template: \"systems/dnd5e/templates/apps/spell-slots-config.hbs\",\n      width: 450,\n      height: \"auto\",\n      sheetConfig: false,\n      submitOnClose: true,\n      submitOnChange: true,\n      closeOnSubmit: false\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  get title() {\n    return `${game.i18n.localize(\"DND5E.SpellSlotsConfig\")}: ${this.document.name}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  getData(options={}) {\n    const source = this.document._source.system.spells;\n    const { spells } = this.document.system;\n    const overrides = Array.fromRange(Object.keys(CONFIG.DND5E.spellLevels).length - 1, 1).map(level => ({\n      value: source[`spell${level}`]?.override,\n      label: CONFIG.DND5E.spellLevels[level],\n      name: `system.spells.spell${level}.override`,\n      placeholder: spells[`spell${level}`]?.max ?? 0\n    }));\n\n    for ( const k of Object.keys(CONFIG.DND5E.spellcastingTypes) ) {\n      const hasSpell = this.document.items.some(i => i.type === \"spell\" && i.system.preparation.mode === k);\n      if ( parseInt(spells[k]?.level) || hasSpell ) overrides.push({\n        label: CONFIG.DND5E.spellPreparationModes[k].label,\n        value: source[k]?.override,\n        name: `system.spells.${k}.override`,\n        placeholder: spells[k]?.max ?? 0\n      });\n    }\n\n    return { overrides };\n  }\n}\n","import * as Trait from \"../../documents/actor/trait.mjs\";\nimport Item5e from \"../../documents/item.mjs\";\nimport EffectsElement from \"../components/effects.mjs\";\n\nimport ActorAbilityConfig from \"./ability-config.mjs\";\nimport ActorArmorConfig from \"./armor-config.mjs\";\nimport ActorConcentrationConfig from \"./concentration-config.mjs\";\nimport ActorHitDiceConfig from \"./hit-dice-config.mjs\";\nimport ActorHitPointsConfig from \"./hit-points-config.mjs\";\nimport ActorInitiativeConfig from \"./initiative-config.mjs\";\nimport ActorMovementConfig from \"./movement-config.mjs\";\nimport ActorSensesConfig from \"./senses-config.mjs\";\nimport ActorSheetFlags from \"./sheet-flags.mjs\";\nimport ActorTypeConfig from \"./type-config.mjs\";\nimport DamageModificationConfig from \"./damage-modification-config.mjs\";\nimport SourceConfig from \"../source-config.mjs\";\n\nimport AdvancementConfirmationDialog from \"../advancement/advancement-confirmation-dialog.mjs\";\nimport AdvancementManager from \"../advancement/advancement-manager.mjs\";\n\nimport TraitSelector from \"./trait-selector.mjs\";\nimport ProficiencyConfig from \"./proficiency-config.mjs\";\nimport ToolSelector from \"./tool-selector.mjs\";\nimport ActorSheetMixin from \"./sheet-mixin.mjs\";\nimport ActorSpellSlotsConfig from \"./spell-slots-config.mjs\";\n\n/**\n * Extend the basic ActorSheet class to suppose system-specific logic and functionality.\n * @abstract\n */\nexport default class ActorSheet5e extends ActorSheetMixin(ActorSheet) {\n\n  /**\n   * @typedef {object} FilterState5e\n   * @property {string} name             Filtering by name.\n   * @property {Set<string>} properties  Filtering by some property.\n   */\n\n  /**\n   * Track the set of item filters which are applied\n   * @type {Object<string, FilterState5e>}\n   * @protected\n   */\n  _filters = {\n    inventory: { name: \"\", properties: new Set() },\n    spellbook: { name: \"\", properties: new Set() },\n    features: { name: \"\", properties: new Set() },\n    effects: { name: \"\", properties: new Set() }\n  };\n\n  /* -------------------------------------------- */\n\n  /**\n   * Track the most recent drag event.\n   * @type {DragEvent}\n   * @protected\n   */\n  _event = null;\n\n  /* -------------------------------------------- */\n\n  /**\n   * IDs for items on the sheet that have been expanded.\n   * @type {Set<string>}\n   * @protected\n   */\n  _expanded = new Set();\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      scrollY: [\n        \"dnd5e-inventory .inventory-list\",\n        \"dnd5e-effects .effects-list\",\n        \".center-pane\"\n      ],\n      tabs: [{navSelector: \".tabs\", contentSelector: \".sheet-body\", initial: \"description\"}],\n      width: 720,\n      height: Math.max(680, Math.max(\n        237 + (Object.keys(CONFIG.DND5E.abilities).length * 70),\n        240 + (Object.keys(CONFIG.DND5E.skills).length * 24)\n      )),\n      elements: {\n        effects: \"dnd5e-effects\",\n        inventory: \"dnd5e-inventory\"\n      }\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * A set of item types that should be prevented from being dropped on this type of actor sheet.\n   * @type {Set<string>}\n   */\n  static unsupportedItemTypes = new Set();\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  get template() {\n    if ( !game.user.isGM && this.actor.limited ) return \"systems/dnd5e/templates/actors/limited-sheet.hbs\";\n    return `systems/dnd5e/templates/actors/${this.actor.type}-sheet.hbs`;\n  }\n\n  /* -------------------------------------------- */\n  /*  Context Preparation                         */\n  /* -------------------------------------------- */\n\n  /** @override */\n  async getData(options) {\n\n    // The Actor's data\n    const source = this.actor.toObject();\n\n    // Basic data\n    const context = {\n      actor: this.actor,\n      source: source.system,\n      system: this.actor.system,\n      items: Array.from(this.actor.items),\n      itemContext: {},\n      abilities: foundry.utils.deepClone(this.actor.system.abilities),\n      skills: foundry.utils.deepClone(this.actor.system.skills ?? {}),\n      tools: foundry.utils.deepClone(this.actor.system.tools ?? {}),\n      labels: this._getLabels(),\n      movement: this._getMovementSpeed(this.actor.system),\n      senses: this._getSenses(this.actor.system),\n      effects: EffectsElement.prepareCategories(this.actor.allApplicableEffects()),\n      warnings: foundry.utils.deepClone(this.actor._preparationWarnings),\n      filters: this._filters,\n      owner: this.actor.isOwner,\n      limited: this.actor.limited,\n      options: this.options,\n      editable: this.isEditable,\n      cssClass: this.actor.isOwner ? \"editable\" : \"locked\",\n      isCharacter: this.actor.type === \"character\",\n      isNPC: this.actor.type === \"npc\",\n      isVehicle: this.actor.type === \"vehicle\",\n      config: CONFIG.DND5E,\n      rollableClass: this.isEditable ? \"rollable\" : \"\",\n      rollData: this.actor.getRollData(),\n      overrides: {\n        attunement: foundry.utils.hasProperty(this.actor.overrides, \"system.attributes.attunement.max\")\n      },\n      elements: this.options.elements\n    };\n\n    // Remove items in containers & sort remaining\n    context.items = context.items\n      .filter(i => !this.actor.items.has(i.system.container))\n      .sort((a, b) => (a.sort || 0) - (b.sort || 0));\n\n    // Temporary HP\n    const hp = {...context.system.attributes.hp};\n    if ( hp.temp === 0 ) delete hp.temp;\n    if ( hp.tempmax === 0 ) delete hp.tempmax;\n    context.hp = hp;\n\n    // Ability Scores\n    for ( const [a, abl] of Object.entries(context.abilities) ) {\n      abl.icon = this._getProficiencyIcon(abl.proficient);\n      abl.hover = CONFIG.DND5E.proficiencyLevels[abl.proficient];\n      abl.label = CONFIG.DND5E.abilities[a]?.label;\n      abl.baseProf = source.system.abilities[a]?.proficient ?? 0;\n      abl.key = a;\n    }\n\n    // Skills & tools.\n    const baseAbility = (prop, key) => {\n      let src = source.system[prop]?.[key]?.ability;\n      if ( src ) return src;\n      if ( prop === \"skills\" ) src = CONFIG.DND5E.skills[key]?.ability;\n      return src ?? \"int\";\n    };\n    [\"skills\", \"tools\"].forEach(prop => {\n      for ( const [key, entry] of Object.entries(context[prop]) ) {\n        entry.abbreviation = CONFIG.DND5E.abilities[entry.ability]?.abbreviation;\n        entry.icon = this._getProficiencyIcon(entry.value);\n        entry.hover = CONFIG.DND5E.proficiencyLevels[entry.value];\n        entry.label = (prop === \"skills\") ? CONFIG.DND5E.skills[key]?.label : Trait.keyLabel(key, {trait: \"tool\"});\n        entry.baseValue = source.system[prop]?.[key]?.value ?? 0;\n        entry.baseAbility = baseAbility(prop, key);\n      }\n    });\n\n    // Update traits\n    context.traits = this._prepareTraits(context.system);\n\n    // Prepare owned items\n    this._prepareItems(context);\n    context.expandedData = {};\n    for ( const id of this._expanded ) {\n      const item = this.actor.items.get(id);\n      if ( item ) {\n        context.expandedData[id] = await item.getChatData({secrets: this.actor.isOwner});\n        if ( context.itemContext[id] ) context.itemContext[id].expanded = context.expandedData[id];\n      }\n    }\n\n    // Biography HTML enrichment\n    context.biographyHTML = await TextEditor.enrichHTML(context.system.details.biography.value, {\n      secrets: this.actor.isOwner,\n      rollData: context.rollData,\n      async: true,\n      relativeTo: this.actor\n    });\n\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare labels object for the context.\n   * @returns {object}           Object containing various labels.\n   * @protected\n   */\n  _getLabels() {\n    const labels = {...this.actor.labels};\n\n    // Currency Labels\n    labels.currencies = Object.entries(CONFIG.DND5E.currencies).reduce((obj, [k, c]) => {\n      obj[k] = c.label;\n      return obj;\n    }, {});\n\n    // Proficiency\n    labels.proficiency = game.settings.get(\"dnd5e\", \"proficiencyModifier\") === \"dice\"\n      ? `d${this.actor.system.attributes.prof * 2}`\n      : `+${this.actor.system.attributes.prof}`;\n\n    return labels;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare the display of movement speed data for the Actor.\n   * @param {object} systemData               System data for the Actor being prepared.\n   * @param {boolean} [largestPrimary=false]  Show the largest movement speed as \"primary\", otherwise show \"walk\".\n   * @returns {{primary: string, special: string}}\n   * @protected\n   */\n  _getMovementSpeed(systemData, largestPrimary=false) {\n    const movement = systemData.attributes.movement ?? {};\n\n    // Prepare an array of available movement speeds\n    let speeds = [\n      [movement.burrow, `${game.i18n.localize(\"DND5E.MovementBurrow\")} ${movement.burrow}`],\n      [movement.climb, `${game.i18n.localize(\"DND5E.MovementClimb\")} ${movement.climb}`],\n      [movement.fly, `${game.i18n.localize(\"DND5E.MovementFly\")} ${movement.fly}${movement.hover ? ` (${game.i18n.localize(\"DND5E.MovementHover\")})` : \"\"}`],\n      [movement.swim, `${game.i18n.localize(\"DND5E.MovementSwim\")} ${movement.swim}`]\n    ];\n    if ( largestPrimary ) {\n      speeds.push([movement.walk, `${game.i18n.localize(\"DND5E.MovementWalk\")} ${movement.walk}`]);\n    }\n\n    // Filter and sort speeds on their values\n    speeds = speeds.filter(s => s[0]).sort((a, b) => b[0] - a[0]);\n\n    // Case 1: Largest as primary\n    if ( largestPrimary ) {\n      let primary = speeds.shift();\n      return {\n        primary: `${primary ? primary[1] : \"0\"} ${movement.units || Object.keys(CONFIG.DND5E.movementUnits)[0]}`,\n        special: speeds.map(s => s[1]).join(\", \")\n      };\n    }\n\n    // Case 2: Walk as primary\n    else {\n      return {\n        primary: `${movement.walk || 0} ${movement.units || Object.keys(CONFIG.DND5E.movementUnits)[0]}`,\n        special: speeds.length ? speeds.map(s => s[1]).join(\", \") : \"\"\n      };\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare senses object for display.\n   * @param {object} systemData  System data for the Actor being prepared.\n   * @returns {object}           Senses grouped by key with localized and formatted string.\n   * @protected\n   */\n  _getSenses(systemData) {\n    const senses = systemData.attributes.senses ?? {};\n    const tags = {};\n    for ( let [k, label] of Object.entries(CONFIG.DND5E.senses) ) {\n      const v = senses[k] ?? 0;\n      if ( v === 0 ) continue;\n      tags[k] = `${game.i18n.localize(label)} ${v} ${senses.units ?? Object.keys(CONFIG.DND5E.movementUnits)[0]}`;\n    }\n    if ( senses.special ) senses.special.split(\";\").forEach((c, i) => tags[`custom${i+1}`] = c.trim());\n    return tags;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async activateEditor(name, options={}, initialContent=\"\") {\n    options.relativeLinks = true;\n    return super.activateEditor(name, options, initialContent);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare the data structure for traits data like languages, resistances & vulnerabilities, and proficiencies.\n   * @param {object} systemData  System data for the Actor being prepared.\n   * @returns {object}           Prepared trait data.\n   * @protected\n   */\n  _prepareTraits(systemData) {\n    const traits = {};\n    for ( const [trait, traitConfig] of Object.entries(CONFIG.DND5E.traits) ) {\n      const key = traitConfig.actorKeyPath?.replace(\"system.\", \"\") ?? `traits.${trait}`;\n      const data = foundry.utils.deepClone(foundry.utils.getProperty(systemData, key));\n      if ( !data ) continue;\n      foundry.utils.setProperty(traits, key, data);\n      let values = data.value;\n      if ( !values ) values = [];\n      else if ( values instanceof Set ) values = Array.from(values);\n      else if ( !Array.isArray(values) ) values = [values];\n\n      // Split physical damage types from others if bypasses is set\n      const physical = [];\n      if ( data.bypasses?.size ) {\n        values = values.filter(t => {\n          if ( !CONFIG.DND5E.damageTypes[t]?.isPhysical ) return true;\n          physical.push(t);\n          return false;\n        });\n      }\n\n      data.selected = values.reduce((obj, key) => {\n        obj[key] = Trait.keyLabel(key, { trait }) ?? key;\n        return obj;\n      }, {});\n\n      // Display bypassed damage types\n      if ( physical.length ) {\n        const damageTypesFormatter = new Intl.ListFormat(game.i18n.lang, { style: \"long\", type: \"conjunction\" });\n        const bypassFormatter = new Intl.ListFormat(game.i18n.lang, { style: \"long\", type: \"disjunction\" });\n        data.selected.physical = game.i18n.format(\"DND5E.DamagePhysicalBypasses\", {\n          damageTypes: damageTypesFormatter.format(physical.map(t => Trait.keyLabel(t, { trait }))),\n          bypassTypes: bypassFormatter.format(data.bypasses.reduce((acc, t) => {\n            const v = CONFIG.DND5E.itemProperties[t];\n            if ( v && v.isPhysical ) acc.push(v.label);\n            return acc;\n          }, []))\n        });\n      }\n\n      // Add custom entries\n      if ( data.custom ) data.custom.split(\";\").forEach((c, i) => data.selected[`custom${i+1}`] = c.trim());\n      data.cssClass = !foundry.utils.isEmpty(data.selected) ? \"\" : \"inactive\";\n\n      // If petrified, display \"All Damage\" instead of all damage types separately\n      if ( (trait === \"dr\") && this.document.hasConditionEffect(\"petrification\") ) {\n        data.selected = { custom1: game.i18n.localize(\"DND5E.DamageAll\") };\n        data.cssClass = \"\";\n      }\n    }\n    return traits;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare the data structure for items which appear on the actor sheet.\n   * Each subclass overrides this method to implement type-specific logic.\n   * @protected\n   */\n  _prepareItems() {}\n\n  /* -------------------------------------------- */\n\n  /**\n   * Insert a spell into the spellbook object when rendering the character sheet.\n   * @param {object} context    Sheet rendering context data being prepared for render.\n   * @param {object[]} spells   Spells to be included in the spellbook.\n   * @returns {object[]}        Spellbook sections in the proper order.\n   * @protected\n   */\n  _prepareSpellbook(context, spells) {\n    const owner = this.actor.isOwner;\n    const levels = context.actor.system.spells;\n    const spellbook = {};\n\n    // Define section and label mappings\n    const sections = Object.entries(CONFIG.DND5E.spellPreparationModes).reduce((acc, [k, {order}]) => {\n      if ( Number.isNumeric(order) ) acc[k] = Number(order);\n      return acc;\n    }, {});\n    const useLabels = {\"-30\": \"-\", \"-20\": \"-\", \"-10\": \"-\", 0: \"&infin;\"};\n\n    // Format a spellbook entry for a certain indexed level\n    const registerSection = (sl, i, label, {prepMode=\"prepared\", value, max, override, config}={}) => {\n      const aeOverride = foundry.utils.hasProperty(this.actor.overrides, `system.spells.spell${i}.override`);\n      spellbook[i] = {\n        order: i,\n        label: label,\n        usesSlots: i > 0,\n        canCreate: owner,\n        canPrepare: ((context.actor.type === \"character\") && (i >= 1)) || config?.prepares,\n        spells: [],\n        uses: useLabels[i] || value || 0,\n        slots: useLabels[i] || max || 0,\n        override: override || 0,\n        dataset: {type: \"spell\", level: prepMode in sections ? 1 : i, preparationMode: prepMode},\n        prop: sl,\n        editable: context.editable && !aeOverride\n      };\n    };\n\n    // Determine the maximum spell level which has a slot\n    const maxLevel = Array.fromRange(Object.keys(CONFIG.DND5E.spellLevels).length - 1, 1).reduce((max, i) => {\n      const level = levels[`spell${i}`];\n      if ( level && (level.max || level.override ) && ( i > max ) ) max = i;\n      return max;\n    }, 0);\n\n    // Level-based spellcasters have cantrips and leveled slots\n    if ( maxLevel > 0 ) {\n      registerSection(\"spell0\", 0, CONFIG.DND5E.spellLevels[0]);\n      for (let lvl = 1; lvl <= maxLevel; lvl++) {\n        const sl = `spell${lvl}`;\n        registerSection(sl, lvl, CONFIG.DND5E.spellLevels[lvl], levels[sl]);\n      }\n    }\n\n    // Create spellbook sections for all alternative spell preparation modes that have spell slots.\n    for ( const [k, v] of Object.entries(CONFIG.DND5E.spellPreparationModes) ) {\n      if ( !(k in levels) || !v.upcast || !levels[k].max ) continue;\n\n      if ( !spellbook[\"0\"] && v.cantrips ) registerSection(\"spell0\", 0, CONFIG.DND5E.spellLevels[0]);\n      const l = levels[k];\n      const level = game.i18n.localize(`DND5E.SpellLevel${l.level}`);\n      const label = `${v.label}  ${level}`;\n      registerSection(k, sections[k], label, {\n        prepMode: k,\n        value: l.value,\n        max: l.max,\n        override: l.override,\n        config: v\n      });\n    }\n\n    // Iterate over every spell item, adding spells to the spellbook by section\n    spells.forEach(spell => {\n      const mode = spell.system.preparation.mode || \"prepared\";\n      let s = spell.system.level || 0;\n      const sl = `spell${s}`;\n\n      // Specialized spellcasting modes (if they exist)\n      if ( mode in sections ) {\n        s = sections[mode];\n        if ( !spellbook[s] ) {\n          const l = levels[mode] || {};\n          const config = CONFIG.DND5E.spellPreparationModes[mode];\n          registerSection(mode, s, config.label, {\n            prepMode: mode,\n            value: l.value,\n            max: l.max,\n            override: l.override,\n            config: config\n          });\n        }\n      }\n\n      // Sections for higher-level spells which the caster \"should not\" have, but spell items exist for\n      else if ( !spellbook[s] ) {\n        registerSection(sl, s, CONFIG.DND5E.spellLevels[s], {levels: levels[sl]});\n      }\n\n      // Add the spell to the relevant heading\n      spellbook[s].spells.push(spell);\n    });\n\n    // Sort the spellbook by section level\n    const sorted = Object.values(spellbook);\n    sorted.sort((a, b) => a.order - b.order);\n    return sorted;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Filter child embedded Documents based on the current set of filters.\n   * @param {string} collection    The embedded collection name.\n   * @param {Set<string>} filters  Filters to apply to the children.\n   * @returns {Document[]}\n   * @protected\n   */\n  _filterChildren(collection, filters) {\n    switch ( collection ) {\n      case \"items\": return this._filterItems(this.actor.items, filters);\n      case \"effects\": return this._filterEffects(Array.from(this.actor.allApplicableEffects()), filters);\n    }\n    return [];\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Filter Active Effects based on the current set of filters.\n   * @param {ActiveEffect5e[]} effects  The effects to filter.\n   * @param {Set<string>} filters       Filters to apply to the effects.\n   * @returns {ActiveEffect5e[]}\n   * @protected\n   */\n  _filterEffects(effects, filters) {\n    return effects;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Filter items based on the current set of filters.\n   * @param {Item5e[]} items       Copies of item data to be filtered.\n   * @param {Set<string>} filters  Filters applied to the item list.\n   * @returns {Item5e[]}           Subset of input items limited by the provided filters.\n   * @protected\n   */\n  _filterItems(items, filters) {\n    const spellSchools = new Set(Object.keys(CONFIG.DND5E.spellSchools));\n    return items.filter(item => {\n\n      // Subclass-specific logic.\n      const filtered = this._filterItem(item);\n      if ( filtered !== undefined ) return filtered;\n\n      // Action usage\n      for ( let f of [\"action\", \"bonus\", \"reaction\"] ) {\n        if ( filters.has(f) && (item.system.activation?.type !== f) ) return false;\n      }\n\n      // Spell-specific filters\n      if ( filters.has(\"ritual\") && !item.system.properties?.has(\"ritual\") ) return false;\n      if ( filters.has(\"concentration\") && !item.system.properties?.has(\"concentration\") ) return false;\n      const schoolFilter = spellSchools.intersection(filters);\n      if ( schoolFilter.size && !schoolFilter.has(item.system.school) ) return false;\n      if ( filters.has(\"prepared\") ) {\n        if ( [\"innate\", \"always\"].includes(item.system.preparation?.mode) ) return true;\n        if ( this.actor.type === \"npc\" ) return true;\n        return item.system.preparation?.prepared;\n      }\n\n      // Equipment-specific filters\n      if ( filters.has(\"equipped\") && (item.system.equipped !== true) ) return false;\n      if ( filters.has(\"mgc\") && !item.system.properties?.has(\"mgc\") ) return false;\n\n      // Feature-specific filters\n      if ( filters.has(\"lr\") && (item.system.uses?.per !== \"lr\") ) return false;\n      if ( filters.has(\"sr\") && (item.system.uses?.per !== \"sr\") ) return false;\n\n      return true;\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Determine whether an Item will be shown based on the current set of filters.\n   * @param {Item5e} item  The item.\n   * @returns {boolean|void}\n   * @protected\n   */\n  _filterItem(item) {}\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get the font-awesome icon used to display a certain level of skill proficiency.\n   * @param {number} level  A proficiency mode defined in `CONFIG.DND5E.proficiencyLevels`.\n   * @returns {string}      HTML string for the chosen icon.\n   * @private\n   */\n  _getProficiencyIcon(level) {\n    const icons = {\n      0: '<i class=\"far fa-circle\"></i>',\n      0.5: '<i class=\"fas fa-adjust\"></i>',\n      1: '<i class=\"fas fa-check\"></i>',\n      2: '<i class=\"fas fa-check-double\"></i>'\n    };\n    return icons[level] || icons[0];\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Listeners and Handlers                */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  activateListeners(html) {\n    // Property attributions\n    this.form.querySelectorAll(\"[data-attribution], .attributable\").forEach(this._applyAttributionTooltips.bind(this));\n\n    // Preparation Warnings\n    html.find(\".warnings\").click(this._onWarningLink.bind(this));\n\n    // Editable Only Listeners\n    if ( this.isEditable ) {\n      // Input focus and update\n      const inputs = html.find(\"input\");\n      inputs.focus(ev => ev.currentTarget.select());\n      inputs.addBack().find('[type=\"text\"][data-dtype=\"Number\"]').change(this._onChangeInputDelta.bind(this));\n\n      // Ability Proficiency\n      html.find(\".ability-proficiency\").click(this._onToggleAbilityProficiency.bind(this));\n\n      // Toggle Skill Proficiency\n      html.find(\".skill-proficiency\").on(\"click contextmenu\", event => this._onCycleProficiency(event, \"skill\"));\n\n      // Toggle Tool Proficiency\n      html.find(\".tool-proficiency\").on(\"click contextmenu\", event => this._onCycleProficiency(event, \"tool\"));\n\n      // Trait Selector\n      html.find(\".trait-selector\").click(this._onTraitSelector.bind(this));\n\n      // Configure Special Flags\n      html.find(\".config-button\").click(this._onConfigMenu.bind(this));\n\n      // Changing Level\n      html.find(\".level-selector\").change(this._onLevelChange.bind(this));\n\n      // Owned Item management\n      html.find(\".slot-max-override\").click(this._onSpellSlotOverride.bind(this));\n      html.find(\".attunement-max-override\").click(this._onAttunementOverride.bind(this));\n\n      this._disableOverriddenFields(html);\n    }\n\n    // Owner Only Listeners, for non-compendium actors.\n    if ( this.actor.isOwner && !this.actor.compendium ) {\n      // Ability Checks\n      html.find(\".ability-name\").click(this._onRollAbilityTest.bind(this));\n\n      // Roll Skill Checks\n      html.find(\".skill-name\").click(this._onRollSkillCheck.bind(this));\n\n      // Roll Tool Checks.\n      html.find(\".tool-name\").on(\"click\", this._onRollToolCheck.bind(this));\n    }\n\n    // Handle default listeners last so system listeners are triggered first\n    super.activateListeners(html);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Disable any fields that are overridden by active effects and display an informative tooltip.\n   * @param {jQuery} html  The sheet's rendered HTML.\n   * @protected\n   */\n  _disableOverriddenFields(html) {\n    const proficiencyToggles = {\n      ability: /system\\.abilities\\.([^.]+)\\.proficient/,\n      skill: /system\\.skills\\.([^.]+)\\.value/,\n      tool: /system\\.tools\\.([^.]+)\\.value/\n    };\n\n    for ( const override of Object.keys(foundry.utils.flattenObject(this.actor.overrides)) ) {\n      html.find(`input[name=\"${override}\"],select[name=\"${override}\"]`).each((i, el) => {\n        el.disabled = true;\n        el.dataset.tooltip = \"DND5E.ActiveEffectOverrideWarning\";\n      });\n\n      for ( const [key, regex] of Object.entries(proficiencyToggles) ) {\n        const [, match] = override.match(regex) || [];\n        if ( match ) {\n          const toggle = html.find(`li[data-${key}=\"${match}\"] .proficiency-toggle`);\n          toggle.addClass(\"disabled\");\n          toggle.attr(\"data-tooltip\", \"DND5E.ActiveEffectOverrideWarning\");\n        }\n      }\n\n      const [, spell] = override.match(/system\\.spells\\.(spell\\d)\\.override/) || [];\n      if ( spell ) {\n        html.find(`.spell-max[data-level=\"${spell}\"]`).attr(\"data-tooltip\", \"DND5E.ActiveEffectOverrideWarning\");\n      }\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Respond to a new level being selected from the level selector.\n   * @param {Event} event                           The originating change.\n   * @returns {Promise<AdvancementManager|Item5e>}  Manager if advancements needed, otherwise updated class item.\n   * @private\n   */\n  async _onLevelChange(event) {\n    event.preventDefault();\n    const delta = Number(event.target.value);\n    const classId = event.target.closest(\"[data-item-id]\")?.dataset.itemId;\n    if ( !delta || !classId ) return;\n    const classItem = this.actor.items.get(classId);\n    if ( !game.settings.get(\"dnd5e\", \"disableAdvancements\") ) {\n      const manager = AdvancementManager.forLevelChange(this.actor, classId, delta);\n      if ( manager.steps.length ) {\n        if ( delta > 0 ) return manager.render(true);\n        try {\n          const shouldRemoveAdvancements = await AdvancementConfirmationDialog.forLevelDown(classItem);\n          if ( shouldRemoveAdvancements ) return manager.render(true);\n        }\n        catch(err) {\n          return;\n        }\n      }\n    }\n    return classItem.update({\"system.levels\": classItem.system.levels + delta});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle spawning the TraitSelector application which allows a checkbox of multiple trait options.\n   * @param {Event} event   The click event which originated the selection.\n   * @protected\n   */\n  _onConfigMenu(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    const button = event.currentTarget;\n    let app;\n    switch ( button.dataset.action ) {\n      case \"armor\":\n        app = new ActorArmorConfig(this.actor);\n        break;\n      case \"hitDice\":\n        app = new ActorHitDiceConfig(this.actor);\n        break;\n      case \"hitPoints\":\n        app = new ActorHitPointsConfig(this.actor);\n        break;\n      case \"initiative\":\n        app = new ActorInitiativeConfig(this.actor);\n        break;\n      case \"movement\":\n        app = new ActorMovementConfig(this.actor);\n        break;\n      case \"flags\":\n        app = new ActorSheetFlags(this.actor);\n        break;\n      case \"senses\":\n        app = new ActorSensesConfig(this.actor);\n        break;\n      case \"source\":\n        app = new SourceConfig(this.actor);\n        break;\n      case \"type\":\n        app = new ActorTypeConfig(this.actor);\n        break;\n      case \"ability\":\n        const ability = event.currentTarget.closest(\"[data-ability]\").dataset.ability;\n        if ( ability === \"concentration\" ) app = new ActorConcentrationConfig(this.actor);\n        else app = new ActorAbilityConfig(this.actor, null, ability);\n        break;\n      case \"skill\":\n        const skill = event.currentTarget.closest(\"[data-key]\").dataset.key;\n        app = new ProficiencyConfig(this.actor, {property: \"skills\", key: skill});\n        break;\n      case \"skills\":\n        app = new dnd5e.applications.actor.ActorSkillsConfig(this.actor);\n        break;\n      case \"spellSlots\":\n        app = new ActorSpellSlotsConfig(this.actor);\n        break;\n      case \"tool\":\n        const tool = event.currentTarget.closest(\"[data-key]\").dataset.key;\n        app = new ProficiencyConfig(this.actor, {property: \"tools\", key: tool});\n        break;\n    }\n    app?.render(true);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle cycling proficiency in a skill or tool.\n   * @param {Event} event     A click or contextmenu event which triggered this action.\n   * @returns {Promise|void}  Updated data for this actor after changes are applied.\n   * @protected\n   */\n  _onCycleProficiency(event) {\n    if ( event.currentTarget.classList.contains(\"disabled\") ) return;\n    event.preventDefault();\n    const parent = event.currentTarget.closest(\".proficiency-row\");\n    const field = parent.querySelector('[name$=\".value\"]');\n    const {property, key} = parent.dataset;\n    const value = this.actor._source.system[property]?.[key]?.value ?? 0;\n\n    // Cycle to the next or previous skill level.\n    const levels = [0, 1, .5, 2];\n    const idx = levels.indexOf(value);\n    const next = idx + (event.type === \"contextmenu\" ? 3 : 1);\n    field.value = levels[next % levels.length];\n\n    // Update the field value and save the form.\n    return this._onSubmit(event);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _onDragStart(event) {\n    const li = event.currentTarget;\n    if ( event.target.classList.contains(\"content-link\") ) return;\n\n    if ( li.dataset.effectId && li.dataset.parentId ) {\n      const effect = this.actor.items.get(li.dataset.parentId)?.effects.get(li.dataset.effectId);\n      if ( effect ) event.dataTransfer.setData(\"text/plain\", JSON.stringify(effect.toDragData()));\n      return;\n    }\n\n    super._onDragStart(event);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  async _onDropActor(event, data) {\n    const canPolymorph = game.user.isGM || (this.actor.isOwner && game.settings.get(\"dnd5e\", \"allowPolymorphing\"));\n    if ( !canPolymorph ) return false;\n\n    // Get the target actor\n    const cls = getDocumentClass(\"Actor\");\n    const sourceActor = await cls.fromDropData(data);\n    if ( !sourceActor ) return;\n\n    // Define a function to record polymorph settings for future use\n    const rememberOptions = html => {\n      const options = {};\n      html.find(\"input\").each((i, el) => {\n        options[el.name] = el.checked;\n      });\n      const settings = foundry.utils.mergeObject(game.settings.get(\"dnd5e\", \"polymorphSettings\") ?? {}, options);\n      game.settings.set(\"dnd5e\", \"polymorphSettings\", settings);\n      return settings;\n    };\n\n    // Create and render the Dialog\n    return new Dialog({\n      title: game.i18n.localize(\"DND5E.PolymorphPromptTitle\"),\n      content: {\n        options: game.settings.get(\"dnd5e\", \"polymorphSettings\"),\n        settings: CONFIG.DND5E.polymorphSettings,\n        effectSettings: CONFIG.DND5E.polymorphEffectSettings,\n        isToken: this.actor.isToken\n      },\n      default: \"accept\",\n      buttons: {\n        accept: {\n          icon: '<i class=\"fas fa-check\"></i>',\n          label: game.i18n.localize(\"DND5E.PolymorphAcceptSettings\"),\n          callback: html => this.actor.transformInto(sourceActor, rememberOptions(html))\n        },\n        wildshape: {\n          icon: CONFIG.DND5E.transformationPresets.wildshape.icon,\n          label: CONFIG.DND5E.transformationPresets.wildshape.label,\n          callback: html => this.actor.transformInto(sourceActor, foundry.utils.mergeObject(\n            CONFIG.DND5E.transformationPresets.wildshape.options,\n            { transformTokens: rememberOptions(html).transformTokens }\n          ))\n        },\n        polymorph: {\n          icon: CONFIG.DND5E.transformationPresets.polymorph.icon,\n          label: CONFIG.DND5E.transformationPresets.polymorph.label,\n          callback: html => this.actor.transformInto(sourceActor, foundry.utils.mergeObject(\n            CONFIG.DND5E.transformationPresets.polymorph.options,\n            { transformTokens: rememberOptions(html).transformTokens }\n          ))\n        },\n        self: {\n          icon: CONFIG.DND5E.transformationPresets.polymorphSelf.icon,\n          label: CONFIG.DND5E.transformationPresets.polymorphSelf.label,\n          callback: html => this.actor.transformInto(sourceActor, foundry.utils.mergeObject(\n            CONFIG.DND5E.transformationPresets.polymorphSelf.options,\n            { transformTokens: rememberOptions(html).transformTokens }\n          ))\n        },\n        cancel: {\n          icon: '<i class=\"fas fa-times\"></i>',\n          label: game.i18n.localize(\"Cancel\")\n        }\n      }\n    }, {\n      classes: [\"dialog\", \"dnd5e\", \"polymorph\"],\n      width: 900,\n      template: \"systems/dnd5e/templates/apps/polymorph-prompt.hbs\"\n    }).render(true);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  async _onDrop(event) {\n    this._event = event;\n    return super._onDrop(event);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _onDropActiveEffect(event, data) {\n    const effect = await ActiveEffect.implementation.fromDropData(data);\n    if ( effect?.target === this.actor ) return false;\n    return super._onDropActiveEffect(event, data);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  async _onDropItem(event, data) {\n    if ( !this.actor.isOwner ) return false;\n    const item = await Item.implementation.fromDropData(data);\n\n    // Handle moving out of container & item sorting\n    if ( this.actor.uuid === item.parent?.uuid ) {\n      if ( item.system.container !== null ) await item.update({\"system.container\": null});\n      return this._onSortItem(event, item.toObject());\n    }\n\n    return this._onDropItemCreate(item);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  async _onDropFolder(event, data) {\n    if ( !this.actor.isOwner ) return [];\n    const folder = await Folder.implementation.fromDropData(data);\n    if ( folder.type !== \"Item\" ) return [];\n    const droppedItemData = await Promise.all(folder.contents.map(async item => {\n      if ( !(item instanceof Item) ) item = await fromUuid(item.uuid);\n      return item;\n    }));\n    return this._onDropItemCreate(droppedItemData);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle the final creation of dropped Item data on the Actor.\n   * @param {Item5e[]|Item5e} itemData     The item or items requested for creation\n   * @returns {Promise<Item5e[]>}\n   * @protected\n   */\n  async _onDropItemCreate(itemData) {\n    let items = itemData instanceof Array ? itemData : [itemData];\n    const itemsWithoutAdvancement = items.filter(i => !i.system.advancement?.length);\n    const multipleAdvancements = (items.length - itemsWithoutAdvancement.length) > 1;\n    if ( multipleAdvancements && !game.settings.get(\"dnd5e\", \"disableAdvancements\") ) {\n      ui.notifications.warn(game.i18n.format(\"DND5E.WarnCantAddMultipleAdvancements\"));\n      items = itemsWithoutAdvancement;\n    }\n\n    // Filter out items already in containers to avoid creating duplicates\n    const containers = new Set(items.filter(i => i.type === \"container\").map(i => i._id));\n    items = items.filter(i => !containers.has(i.system.container));\n\n    // Create the owned items & contents as normal\n    const toCreate = await Item5e.createWithContents(items, {\n      transformFirst: item => this._onDropSingleItem(item.toObject())\n    });\n    return Item5e.createDocuments(toCreate, {pack: this.actor.pack, parent: this.actor, keepId: true});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handles dropping of a single item onto this character sheet.\n   * @param {object} itemData            The item data to create.\n   * @returns {Promise<object|boolean>}  The item data to create after processing, or false if the item should not be\n   *                                     created or creation has been otherwise handled.\n   * @protected\n   */\n  async _onDropSingleItem(itemData) {\n    // Check to make sure items of this type are allowed on this actor\n    if ( this.constructor.unsupportedItemTypes.has(itemData.type) ) {\n      ui.notifications.warn(game.i18n.format(\"DND5E.ActorWarningInvalidItem\", {\n        itemType: game.i18n.localize(CONFIG.Item.typeLabels[itemData.type]),\n        actorType: game.i18n.localize(CONFIG.Actor.typeLabels[this.actor.type])\n      }));\n      return false;\n    }\n\n    // Create a Consumable spell scroll on the Inventory tab\n    if ( (itemData.type === \"spell\")\n      && (this._tabs[0].active === \"inventory\" || this.actor.type === \"vehicle\") ) {\n      const scroll = await Item5e.createScrollFromSpell(itemData);\n      return scroll?.toObject?.();\n    }\n\n    // Clean up data\n    this._onDropResetData(itemData);\n\n    // Stack identical consumables\n    const stacked = this._onDropStackConsumables(itemData);\n    if ( stacked ) return false;\n\n    // Bypass normal creation flow for any items with advancement\n    if ( this.actor.system.metadata?.supportsAdvancement && itemData.system.advancement?.length\n        && !game.settings.get(\"dnd5e\", \"disableAdvancements\") ) {\n      // Ensure that this item isn't violating the singleton rule\n      const dataModel = CONFIG.Item.dataModels[itemData.type];\n      const singleton = dataModel?.metadata.singleton ?? false;\n      if ( singleton && this.actor.itemTypes[itemData.type].length ) {\n        ui.notifications.error(game.i18n.format(\"DND5E.ActorWarningSingleton\", {\n          itemType: game.i18n.localize(CONFIG.Item.typeLabels[itemData.type]),\n          actorType: game.i18n.localize(CONFIG.Actor.typeLabels[this.actor.type])\n        }));\n        return false;\n      }\n\n      const manager = AdvancementManager.forNewItem(this.actor, itemData);\n      if ( manager.steps.length ) {\n        manager.render(true);\n        return false;\n      }\n    }\n\n    // Adjust the preparation mode of a leveled spell depending on the section on which it is dropped.\n    if ( itemData.type === \"spell\" ) this._onDropSpell(itemData);\n\n    return itemData;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Reset certain pieces of data stored on items when they are dropped onto the actor.\n   * @param {object} itemData    The item data requested for creation. **Will be mutated.**\n   */\n  _onDropResetData(itemData) {\n    if ( !itemData.system ) return;\n    [\"attuned\", \"equipped\", \"proficient\", \"prepared\"].forEach(k => delete itemData.system[k]);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Adjust the preparation mode of a dropped spell depending on the drop location on the sheet.\n   * @param {object} itemData    The item data requested for creation. **Will be mutated.**\n   */\n  _onDropSpell(itemData) {\n    if ( ![\"npc\", \"character\"].includes(this.document.type) ) return;\n\n    // Determine the section it is dropped on, if any.\n    let header = this._event.target.closest(\".items-header\"); // Dropped directly on the header.\n    if ( !header ) {\n      const list = this._event.target.closest(\".item-list\"); // Dropped inside an existing list.\n      header = list?.previousElementSibling;\n    }\n    const { level, preparationMode } = header?.closest(\"[data-level]\")?.dataset ?? {};\n\n    // Determine the actor's spell slot progressions, if any.\n    const spellcastKeys = Object.keys(CONFIG.DND5E.spellcastingTypes);\n    const progs = Object.values(this.document.classes).reduce((acc, cls) => {\n      const type = cls.spellcasting?.type;\n      if ( spellcastKeys.includes(type) ) acc.add(type);\n      return acc;\n    }, new Set());\n\n    const prep = itemData.system.preparation;\n\n    // Case 1: Drop a cantrip.\n    if ( itemData.system.level === 0 ) {\n      const modes = CONFIG.DND5E.spellPreparationModes;\n      if ( modes[preparationMode]?.cantrips ) {\n        prep.mode = \"prepared\";\n      } else if ( !preparationMode ) {\n        const isCaster = this.document.system.details.spellLevel || progs.size;\n        prep.mode = isCaster ? \"prepared\" : \"innate\";\n      } else {\n        prep.mode = preparationMode;\n      }\n      if ( modes[prep.mode]?.prepares ) prep.prepared = true;\n    }\n\n    // Case 2: Drop a leveled spell in a section without a mode.\n    else if ( (level === \"0\") || !preparationMode ) {\n      if ( this.document.type === \"npc\" ) {\n        prep.mode = this.document.system.details.spellLevel ? \"prepared\" : \"innate\";\n      } else {\n        const m = progs.has(\"leveled\") ? \"prepared\" : (progs.first() ?? \"innate\");\n        prep.mode = progs.has(prep.mode) ? prep.mode : m;\n      }\n    }\n\n    // Case 3: Drop a leveled spell in a specific section.\n    else prep.mode = preparationMode;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle enabling editing for a spell slot override value.\n   * @param {MouseEvent} event    The originating click event.\n   * @protected\n   */\n  async _onSpellSlotOverride(event) {\n    const span = event.currentTarget.parentElement;\n    const level = span.dataset.level;\n    const override = this.actor.system.spells[level].override || span.dataset.slots;\n    const input = document.createElement(\"INPUT\");\n    input.type = \"text\";\n    input.name = `system.spells.${level}.override`;\n    input.value = override;\n    input.placeholder = span.dataset.slots;\n    input.dataset.dtype = \"Number\";\n    input.addEventListener(\"focus\", event => event.currentTarget.select());\n\n    // Replace the HTML\n    const parent = span.parentElement;\n    parent.removeChild(span);\n    parent.appendChild(input);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle enabling editing for attunement maximum.\n   * @param {MouseEvent} event    The originating click event.\n   * @private\n   */\n  async _onAttunementOverride(event) {\n    const span = event.currentTarget.parentElement;\n    const input = document.createElement(\"INPUT\");\n    input.type = \"text\";\n    input.name = \"system.attributes.attunement.max\";\n    input.value = this.actor.system.attributes.attunement.max;\n    input.placeholder = 3;\n    input.dataset.dtype = \"Number\";\n    input.addEventListener(\"focus\", event => event.currentTarget.select());\n\n    // Replace the HTML\n    const parent = span.parentElement;\n    parent.removeChild(span);\n    parent.appendChild(input);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Initialize attribution tooltips on an element.\n   * @param {HTMLElement} element  The tooltipped element.\n   * @protected\n   */\n  _applyAttributionTooltips(element) {\n    if ( \"tooltip\" in element.dataset ) return;\n    element.dataset.tooltip = `\n      <section class=\"loading\" data-uuid=\"${this.actor.uuid}\"><i class=\"fas fa-spinner fa-spin-pulse\"></i></section>\n    `;\n    element.dataset.tooltipClass = \"property-attribution\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle rolling an Ability test or saving throw.\n   * @param {Event} event      The originating click event.\n   * @private\n   */\n  _onRollAbilityTest(event) {\n    event.preventDefault();\n    let ability = event.currentTarget.parentElement.dataset.ability;\n    this.actor.rollAbility(ability, {event: event});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle rolling a Skill check.\n   * @param {Event} event      The originating click event.\n   * @returns {Promise<Roll>}  The resulting roll.\n   * @private\n   */\n  _onRollSkillCheck(event) {\n    event.preventDefault();\n    const skill = event.currentTarget.closest(\"[data-key]\").dataset.key;\n    return this.actor.rollSkill(skill, {event: event});\n  }\n\n  /* -------------------------------------------- */\n\n  _onRollToolCheck(event) {\n    event.preventDefault();\n    const tool = event.currentTarget.closest(\"[data-key]\").dataset.key;\n    return this.actor.rollToolCheck(tool, {event});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle toggling Ability score proficiency level.\n   * @param {Event} event              The originating click event.\n   * @returns {Promise<Actor5e>|void}  Updated actor instance.\n   * @private\n   */\n  _onToggleAbilityProficiency(event) {\n    if ( event.currentTarget.classList.contains(\"disabled\") ) return;\n    event.preventDefault();\n    const field = event.currentTarget.previousElementSibling;\n    return this.actor.update({[field.name]: 1 - parseInt(field.value)});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle spawning the TraitSelector application which allows a checkbox of multiple trait options.\n   * @param {Event} event      The click event which originated the selection.\n   * @returns {TraitSelector}  Newly displayed application.\n   * @private\n   */\n  _onTraitSelector(event) {\n    event.preventDefault();\n    const trait = event.currentTarget.dataset.trait;\n    if ( trait === \"tool\" ) return new ToolSelector(this.actor, trait).render(true);\n    else if ( trait === \"dm\" ) return new DamageModificationConfig(this.actor).render(true);\n    return new TraitSelector(this.actor, trait).render(true);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle links within preparation warnings.\n   * @param {Event} event  The click event on the warning.\n   * @protected\n   */\n  async _onWarningLink(event) {\n    event.preventDefault();\n    const a = event.target;\n    if ( !a || !a.dataset.target ) return;\n    switch ( a.dataset.target ) {\n      case \"armor\":\n        (new ActorArmorConfig(this.actor)).render(true);\n        return;\n      default:\n        const item = await fromUuid(a.dataset.target);\n        item?.sheet.render(true);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  _getHeaderButtons() {\n    let buttons = super._getHeaderButtons();\n    if ( this.actor.isPolymorphed ) {\n      buttons.unshift({\n        label: \"DND5E.PolymorphRestoreTransformation\",\n        class: \"restore-transformation\",\n        icon: \"fas fa-backward\",\n        onclick: () => this.actor.revertOriginalForm()\n      });\n    }\n    return buttons;\n  }\n}\n","import ActorSheet5e from \"./base-sheet.mjs\";\nimport ActorTypeConfig from \"./type-config.mjs\";\nimport AdvancementManager from \"../advancement/advancement-manager.mjs\";\n\n/**\n * An Actor sheet for player character type actors.\n */\nexport default class ActorSheet5eCharacter extends ActorSheet5e {\n\n  /** @inheritDoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\", \"sheet\", \"actor\", \"character\"]\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Context Preparation                         */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async getData(options={}) {\n    const context = await super.getData(options);\n\n    // Resources\n    context.resources = [\"primary\", \"secondary\", \"tertiary\"].reduce((arr, r) => {\n      const res = foundry.utils.mergeObject(context.actor.system.resources[r] || {}, {\n        name: r,\n        placeholder: game.i18n.localize(`DND5E.Resource${r.titleCase()}`)\n      }, {inplace: false});\n      if ( res.value === 0 ) delete res.value;\n      if ( res.max === 0 ) delete res.max;\n      return arr.concat([res]);\n    }, []);\n\n    const classes = this.actor.itemTypes.class;\n    return foundry.utils.mergeObject(context, {\n      disableExperience: game.settings.get(\"dnd5e\", \"disableExperienceTracking\"),\n      classLabels: classes.map(c => c.name).join(\", \"),\n      labels: {\n        type: context.system.details.type.label\n      },\n      multiclassLabels: classes.map(c => [c.subclass?.name ?? \"\", c.name, c.system.levels].filterJoin(\" \")).join(\", \"),\n      weightUnit: game.i18n.localize(`DND5E.Abbreviation${\n        game.settings.get(\"dnd5e\", \"metricWeightUnits\") ? \"Kg\" : \"Lbs\"}`),\n      encumbrance: context.system.attributes.encumbrance\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  _prepareItems(context) {\n\n    // Categorize items as inventory, spellbook, features, and classes\n    const inventory = {};\n    const inventoryTypes = Object.entries(CONFIG.Item.dataModels)\n      .filter(([, model]) => model.metadata?.inventoryItem)\n      .sort(([, lhs], [, rhs]) => (lhs.metadata.inventoryOrder - rhs.metadata.inventoryOrder));\n    for ( const [type] of inventoryTypes ) {\n      inventory[type] = {label: `${CONFIG.Item.typeLabels[type]}Pl`, items: [], dataset: {type}};\n    }\n\n    // Partition items by category\n    let {items, spells, feats, races, backgrounds, classes, subclasses} = context.items.reduce((obj, item) => {\n      const {quantity, uses} = item.system;\n\n      // Item details\n      const ctx = context.itemContext[item.id] ??= {};\n      ctx.isStack = Number.isNumeric(quantity) && (quantity !== 1);\n      if ( item.system.attunement ) ctx.attunement = item.system.attuned ? {\n        icon: \"fa-sun\",\n        cls: \"attuned\",\n        title: \"DND5E.AttunementAttuned\"\n      } : {\n        icon: \"fa-sun\",\n        cls: \"not-attuned\",\n        title: CONFIG.DND5E.attunementTypes[item.system.attunement]\n      };\n\n      // Prepare data needed to display expanded sections\n      ctx.isExpanded = this._expanded.has(item.id);\n\n      // Item usage\n      ctx.hasUses = item.hasLimitedUses;\n      ctx.hasTarget = item.hasAreaTarget || item.hasIndividualTarget;\n\n      // Unidentified items\n      ctx.concealDetails = !game.user.isGM && (item.system.identified === false);\n\n      // Item grouping\n      ctx.ungroup = \"passive\";\n      const [originId] = item.getFlag(\"dnd5e\", \"advancementOrigin\")?.split(\".\") ?? [];\n      const group = this.actor.items.get(originId);\n      switch ( group?.type ) {\n        case \"race\": ctx.group = \"race\"; break;\n        case \"background\": ctx.group = \"background\"; break;\n        case \"class\": ctx.group = group.identifier; break;\n        case \"subclass\": ctx.group = group.class?.identifier ?? \"other\"; break;\n        default: ctx.group = \"other\";\n      }\n\n      // Individual item preparation\n      this._prepareItem(item, ctx);\n\n      // Classify items into types\n      if ( item.type === \"spell\" ) obj.spells.push(item);\n      else if ( item.type === \"feat\" ) obj.feats.push(item);\n      else if ( item.type === \"race\" ) obj.races.push(item);\n      else if ( item.type === \"background\" ) obj.backgrounds.push(item);\n      else if ( item.type === \"class\" ) obj.classes.push(item);\n      else if ( item.type === \"subclass\" ) obj.subclasses.push(item);\n      else if ( Object.keys(inventory).includes(item.type) ) obj.items.push(item);\n      return obj;\n    }, { items: [], spells: [], feats: [], races: [], backgrounds: [], classes: [], subclasses: [] });\n\n    // Organize items\n    for ( let i of items ) {\n      const ctx = context.itemContext[i.id] ??= {};\n      ctx.totalWeight = i.system.totalWeight?.toNearest(0.1);\n      inventory[i.type].items.push(i);\n    }\n\n    // Organize Spellbook and count the number of prepared spells (excluding always, at will, etc...)\n    const spellbook = this._prepareSpellbook(context, spells);\n    const nPrepared = spells.filter(spell => {\n      const prep = spell.system.preparation;\n      return (spell.system.level > 0) && (prep.mode === \"prepared\") && prep.prepared;\n    }).length;\n\n    // Sort classes and interleave matching subclasses, put unmatched subclasses into features so they don't disappear\n    classes.sort((a, b) => b.system.levels - a.system.levels);\n    const maxLevelDelta = CONFIG.DND5E.maxLevel - this.actor.system.details.level;\n    classes = classes.reduce((arr, cls) => {\n      const ctx = context.itemContext[cls.id] ??= {};\n      ctx.availableLevels = Array.fromRange(CONFIG.DND5E.maxLevel + 1).slice(1).map(level => {\n        const delta = level - cls.system.levels;\n        return { level, delta, disabled: delta > maxLevelDelta };\n      });\n      ctx.prefixedImage = cls.img ? foundry.utils.getRoute(cls.img) : null;\n      arr.push(cls);\n      const identifier = cls.system.identifier || cls.name.slugify({strict: true});\n      const subclass = subclasses.findSplice(s => s.system.classIdentifier === identifier);\n      if ( subclass ) arr.push(subclass);\n      return arr;\n    }, []);\n    for ( const subclass of subclasses ) {\n      feats.push(subclass);\n      const message = game.i18n.format(\"DND5E.SubclassMismatchWarn\", {\n        name: subclass.name, class: subclass.system.classIdentifier\n      });\n      context.warnings.push({ message, type: \"warning\" });\n    }\n\n    // Organize Features\n    const features = {\n      race: {\n        label: CONFIG.Item.typeLabels.race, items: races,\n        hasActions: false, dataset: {type: \"race\"} },\n      background: {\n        label: CONFIG.Item.typeLabels.background, items: backgrounds,\n        hasActions: false, dataset: {type: \"background\"} },\n      classes: {\n        label: `${CONFIG.Item.typeLabels.class}Pl`, items: classes,\n        hasActions: false, dataset: {type: \"class\"}, isClass: true },\n      active: {\n        label: \"DND5E.FeatureActive\", items: [],\n        hasActions: true, dataset: {type: \"feat\", \"activation.type\": \"action\"} },\n      passive: {\n        label: \"DND5E.FeaturePassive\", items: [],\n        hasActions: false, dataset: {type: \"feat\"} }\n    };\n    for ( const feat of feats ) {\n      if ( feat.system.activation?.type ) {\n        features.active.items.push(feat);\n        context.itemContext[feat.id].ungroup = \"active\";\n      }\n      else features.passive.items.push(feat);\n    }\n\n    // Assign and return\n    context.inventoryFilters = true;\n    context.inventory = Object.values(inventory);\n    context.spellbook = spellbook;\n    context.preparedSpells = nPrepared;\n    context.features = Object.values(features);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * A helper method to establish the displayed preparation state for an item.\n   * @param {Item5e} item     Item being prepared for display.\n   * @param {object} context  Context data for display.\n   * @protected\n   */\n  _prepareItem(item, context) {\n    if ( item.type === \"spell\" ) {\n      const prep = item.system.preparation || {};\n      const isAlways = prep.mode === \"always\";\n      const isPrepared = !!prep.prepared;\n      context.toggleClass = isPrepared ? \"active\" : \"\";\n      if ( isAlways ) context.toggleClass = \"fixed\";\n      if ( isAlways ) context.toggleTitle = CONFIG.DND5E.spellPreparationModes.always.label;\n      else if ( isPrepared ) context.toggleTitle = CONFIG.DND5E.spellPreparationModes.prepared.label;\n      else context.toggleTitle = game.i18n.localize(\"DND5E.SpellUnprepared\");\n    }\n    else {\n      const isActive = !!item.system.equipped;\n      context.toggleClass = isActive ? \"active\" : \"\";\n      context.toggleTitle = game.i18n.localize(isActive ? \"DND5E.Equipped\" : \"DND5E.Unequipped\");\n      context.canToggle = \"equipped\" in item.system;\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Listeners and Handlers\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    if ( !this.isEditable ) return;\n    html.find(\".short-rest\").click(this._onShortRest.bind(this));\n    html.find(\".long-rest\").click(this._onLongRest.bind(this));\n    html.find(\".rollable[data-action]\").click(this._onSheetAction.bind(this));\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _onConfigMenu(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    if ( (event.currentTarget.dataset.action === \"type\") && (this.actor.system.details.race?.id) ) {\n      new ActorTypeConfig(this.actor.system.details.race, { keyPath: \"system.type\" }).render(true);\n    } else if ( event.currentTarget.dataset.action !== \"type\" ) {\n      return super._onConfigMenu(event);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle mouse click events for character sheet actions.\n   * @param {MouseEvent} event  The originating click event.\n   * @returns {Promise}         Dialog or roll result.\n   * @protected\n   */\n  _onSheetAction(event) {\n    event.preventDefault();\n    const button = event.currentTarget;\n    switch ( button.dataset.action ) {\n      case \"convertCurrency\":\n        return Dialog.confirm({\n          title: `${game.i18n.localize(\"DND5E.CurrencyConvert\")}`,\n          content: `<p>${game.i18n.localize(\"DND5E.CurrencyConvertHint\")}</p>`,\n          yes: () => this.actor.convertCurrency()\n        });\n      case \"rollDeathSave\":\n        return this.actor.rollDeathSave({event: event});\n      case \"rollInitiative\":\n        return this.actor.rollInitiativeDialog({event});\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Take a short rest, calling the relevant function on the Actor instance.\n   * @param {Event} event             The triggering click event.\n   * @returns {Promise<RestResult>}  Result of the rest action.\n   * @private\n   */\n  async _onShortRest(event) {\n    event.preventDefault();\n    await this._onSubmit(event);\n    return this.actor.shortRest();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Take a long rest, calling the relevant function on the Actor instance.\n   * @param {Event} event             The triggering click event.\n   * @returns {Promise<RestResult>}  Result of the rest action.\n   * @private\n   */\n  async _onLongRest(event) {\n    event.preventDefault();\n    await this._onSubmit(event);\n    return this.actor.longRest();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  async _onDropSingleItem(itemData) {\n\n    // Increment the number of class levels a character instead of creating a new item\n    if ( itemData.type === \"class\" ) {\n      const charLevel = this.actor.system.details.level;\n      itemData.system.levels = Math.min(itemData.system.levels, CONFIG.DND5E.maxLevel - charLevel);\n      if ( itemData.system.levels <= 0 ) {\n        const err = game.i18n.format(\"DND5E.MaxCharacterLevelExceededWarn\", { max: CONFIG.DND5E.maxLevel });\n        ui.notifications.error(err);\n        return false;\n      }\n\n      const cls = this.actor.itemTypes.class.find(c => c.identifier === itemData.system.identifier);\n      if ( cls ) {\n        const priorLevel = cls.system.levels;\n        if ( !game.settings.get(\"dnd5e\", \"disableAdvancements\") ) {\n          const manager = AdvancementManager.forLevelChange(this.actor, cls.id, itemData.system.levels);\n          if ( manager.steps.length ) {\n            manager.render(true);\n            return false;\n          }\n        }\n        cls.update({\"system.levels\": priorLevel + itemData.system.levels});\n        return false;\n      }\n    }\n\n    // If a subclass is dropped, ensure it doesn't match another subclass with the same identifier\n    else if ( itemData.type === \"subclass\" ) {\n      const other = this.actor.itemTypes.subclass.find(i => i.identifier === itemData.system.identifier);\n      if ( other ) {\n        const err = game.i18n.format(\"DND5E.SubclassDuplicateError\", {identifier: other.identifier});\n        ui.notifications.error(err);\n        return false;\n      }\n      const cls = this.actor.itemTypes.class.find(i => i.identifier === itemData.system.classIdentifier);\n      if ( cls && cls.subclass ) {\n        const err = game.i18n.format(\"DND5E.SubclassAssignmentError\", {class: cls.name, subclass: cls.subclass.name});\n        ui.notifications.error(err);\n        return false;\n      }\n    }\n    return super._onDropSingleItem(itemData);\n  }\n}\n","/**\n * Object describing the hit dice for an actor.\n */\nexport default class HitDice {\n  /**\n   * Object describing the hit dice for an actor.\n   * @param {Actor5e} actor     The actor whose hit dice this document describes.\n   */\n  constructor(actor) {\n    this.actor = actor;\n\n    for ( const item of Object.values(actor.classes) ) {\n      if ( /^d\\d+$/.test(item.system.hitDice) ) {\n        this.classes.add(item);\n        this.value += item.system.levels - item.system.hitDiceUsed;\n        this.max += item.system.levels;\n        this.sizes.add(parseInt(item.system.hitDice.slice(1)));\n      }\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Store a reference to the actor.\n   * @type {Actor5e}\n   */\n  actor = null;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Remaining hit dice.\n   * @type {number}\n   */\n  value = 0;\n\n  /* -------------------------------------------- */\n\n  /**\n   * The actor's total amount of hit dice.\n   * @type {number}\n   */\n  max = 0;\n\n  /* -------------------------------------------- */\n\n  /**\n   * All valid die sizes derived from all classes.\n   * @type {Set<number>}\n   */\n  sizes = new Set();\n\n  /* -------------------------------------------- */\n\n  /**\n   * Store valid class items.\n   * @type {Set<Item5e>}\n   */\n  classes = new Set();\n\n  /* -------------------------------------------- */\n\n  /**\n   * The smallest denomination.\n   * @type {string}\n   */\n  get smallest() {\n    return `d${this.smallestFace}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The smallest die size.\n   * @type {number}\n   */\n  get smallestFace() {\n    return this.sizes.size ? Math.min(...this.sizes) : 0;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The largest denomination.\n   * @type {string}\n   */\n  get largest() {\n    return `d${this.largestFace}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The largest die size.\n   * @type {number}\n   */\n  get largestFace() {\n    return this.sizes.size ? Math.max(...this.sizes) : 0;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The percentage of remaining hit dice.\n   * @type {number}\n   */\n  get pct() {\n    return Math.clamp(this.max ? (this.value / this.max) * 100 : 0, 0, 100);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Return an object of remaining hit dice categorized by size.\n   * @returns {object}\n   */\n  get bySize() {\n    const hd = {};\n    this.classes.forEach(cls => {\n      const d = cls.system.hitDice;\n      const remaining = cls.system.levels - cls.system.hitDiceUsed;\n      hd[d] = (hd[d] ?? 0) + remaining;\n    });\n    return hd;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Override the default `toString` method for backwards compatibility.\n   * @returns {number}    Remaining hit dice.\n   */\n  toString() {\n    return this.value;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create item updates for recovering hit dice during a rest.\n   * @param {object} [options]\n   * @param {number} [options.maxHitDice]                       Maximum number of hit dice to recover.\n   * @param {boolean} [options.largest]                         Whether to restore the largest hit dice first.\n   * @returns {{updates: object[], hitDiceRecovered: number}}   Array of item updates and number of hit dice recovered.\n   */\n  createHitDiceUpdates({ maxHitDice, largest=true }={}) {\n    if ( !Number.isInteger(maxHitDice) ) maxHitDice = Math.max(Math.floor(this.max / 2), 1);\n    const classes = Array.from(this.classes).sort((a, b) => {\n      a = parseInt(a.system.hitDice.slice(1));\n      b = parseInt(b.system.hitDice.slice(1));\n      return largest ? (b - a) : (a - b);\n    });\n    const updates = [];\n    let recovered = 0;\n    for ( const item of classes ) {\n      const used = item.system.hitDiceUsed;\n      if ( (recovered < maxHitDice) && (used > 0) ) {\n        const delta = Math.min(used, maxHitDice - recovered);\n        recovered += delta;\n        updates.push({ _id: item.id, \"system.hitDiceUsed\": used - delta });\n      }\n    }\n    return { updates, hitDiceRecovered: recovered };\n  }\n}\n","/**\n * Field for storing creature type data.\n */\nexport default class CreatureTypeField extends foundry.data.fields.SchemaField {\n  constructor(fields={}, options={}) {\n    fields = {\n      value: new foundry.data.fields.StringField({blank: true, label: \"DND5E.CreatureType\"}),\n      subtype: new foundry.data.fields.StringField({label: \"DND5E.CreatureTypeSelectorSubtype\"}),\n      swarm: new foundry.data.fields.StringField({blank: true, label: \"DND5E.CreatureSwarmSize\"}),\n      custom: new foundry.data.fields.StringField({label: \"DND5E.CreatureTypeSelectorCustom\"}),\n      ...fields\n    };\n    Object.entries(fields).forEach(([k, v]) => !v ? delete fields[k] : null);\n    super(fields, { label: \"DND5E.CreatureType\", ...options });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  initialize(value, model, options={}) {\n    const obj = super.initialize(value, model, options);\n\n    Object.defineProperty(obj, \"label\", {\n      get() {\n        return dnd5e.documents.Actor5e.formatCreatureType(this);\n      },\n      enumerable: false\n    });\n    Object.defineProperty(obj, \"config\", {\n      get() {\n        return CONFIG.DND5E.creatureTypes[this.value];\n      },\n      enumerable: false\n    });\n\n    return obj;\n  }\n}\n","const { StringField, NumberField, SchemaField } = foundry.data.fields;\n\n/**\n * Field for storing data for a specific type of roll.\n */\nexport default class RollConfigField extends foundry.data.fields.SchemaField {\n  constructor({roll={}, ability=\"\", ...fields}={}, options={}) {\n    const opts = { initial: null, nullable: true, min: 1, max: 20, integer: true };\n    fields = {\n      ability: new StringField({required: true, initial: ability, label: \"DND5E.AbilityModifier\"}),\n      roll: new SchemaField({\n        min: new NumberField({...opts, label: \"DND5E.Minimum\"}),\n        max: new NumberField({...opts, label: \"DND5E.Maximum\"}),\n        mode: new NumberField({choices: [-1, 0, 1], initial: 0, label: \"DND5E.AdvantageMode\"}),\n        ...roll\n      }),\n      ...fields\n    };\n    super(fields, options);\n  }\n}\n","/**\n * Field for storing movement data.\n */\nexport default class MovementField extends foundry.data.fields.SchemaField {\n  constructor(fields={}, options={}) {\n    const numberConfig = { required: true, nullable: true, min: 0, step: 0.1, initial: null };\n    fields = {\n      burrow: new foundry.data.fields.NumberField({ ...numberConfig, label: \"DND5E.MovementBurrow\" }),\n      climb: new foundry.data.fields.NumberField({ ...numberConfig, label: \"DND5E.MovementClimb\" }),\n      fly: new foundry.data.fields.NumberField({ ...numberConfig, label: \"DND5E.MovementFly\" }),\n      swim: new foundry.data.fields.NumberField({ ...numberConfig, label: \"DND5E.MovementSwim\" }),\n      walk: new foundry.data.fields.NumberField({ ...numberConfig, label: \"DND5E.MovementWalk\" }),\n      units: new foundry.data.fields.StringField({\n        required: true, nullable: true, blank: false, initial: null, label: \"DND5E.MovementUnits\"\n      }),\n      hover: new foundry.data.fields.BooleanField({required: true, label: \"DND5E.MovementHover\"}),\n      ...fields\n    };\n    Object.entries(fields).forEach(([k, v]) => !v ? delete fields[k] : null);\n    super(fields, { label: \"DND5E.Movement\", ...options });\n  }\n}\n","/**\n * Field for storing senses data.\n */\nexport default class SensesField extends foundry.data.fields.SchemaField {\n  constructor(fields={}, options={}) {\n    const numberConfig = { required: true, nullable: true, integer: true, min: 0, initial: null };\n    fields = {\n      darkvision: new foundry.data.fields.NumberField({ ...numberConfig, label: \"DND5E.SenseDarkvision\" }),\n      blindsight: new foundry.data.fields.NumberField({ ...numberConfig, label: \"DND5E.SenseBlindsight\" }),\n      tremorsense: new foundry.data.fields.NumberField({ ...numberConfig, label: \"DND5E.SenseTremorsense\" }),\n      truesight: new foundry.data.fields.NumberField({ ...numberConfig, label: \"DND5E.SenseTruesight\" }),\n      units: new foundry.data.fields.StringField({\n        required: true, nullable: true, blank: false, initial: null, label: \"DND5E.SenseUnits\"\n      }),\n      special: new foundry.data.fields.StringField({required: true, label: \"DND5E.SenseSpecial\"}),\n      ...fields\n    };\n    Object.entries(fields).forEach(([k, v]) => !v ? delete fields[k] : null);\n    super(fields, { label: \"DND5E.Senses\", ...options });\n  }\n}\n","import { FormulaField } from \"../../fields.mjs\";\nimport MovementField from \"../../shared/movement-field.mjs\";\nimport SensesField from \"../../shared/senses-field.mjs\";\nimport ActiveEffect5e from \"../../../documents/active-effect.mjs\";\nimport RollConfigField from \"../../shared/roll-config-field.mjs\";\nimport { convertWeight, simplifyBonus } from \"../../../utils.mjs\";\n\n/**\n * Shared contents of the attributes schema between various actor types.\n */\nexport default class AttributesFields {\n  /**\n   * Fields shared between characters, NPCs, and vehicles.\n   *\n   * @type {object}\n   * @property {object} init\n   * @property {string} init.ability     The ability used for initiative rolls.\n   * @property {string} init.bonus       The bonus provided to initiative rolls.\n   * @property {object} movement\n   * @property {number} movement.burrow  Actor burrowing speed.\n   * @property {number} movement.climb   Actor climbing speed.\n   * @property {number} movement.fly     Actor flying speed.\n   * @property {number} movement.swim    Actor swimming speed.\n   * @property {number} movement.walk    Actor walking speed.\n   * @property {string} movement.units   Movement used to measure the various speeds.\n   * @property {boolean} movement.hover  Is this flying creature able to hover in place.\n   */\n  static get common() {\n    return {\n      init: new RollConfigField({\n        ability: \"\",\n        bonus: new FormulaField({required: true, label: \"DND5E.InitiativeBonus\"})\n      }, { label: \"DND5E.Initiative\" }),\n      movement: new MovementField()\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Fields shared between characters and NPCs.\n   *\n   * @type {object}\n   * @property {object} attunement\n   * @property {number} attunement.max          Maximum number of attuned items.\n   * @property {object} senses\n   * @property {number} senses.darkvision       Creature's darkvision range.\n   * @property {number} senses.blindsight       Creature's blindsight range.\n   * @property {number} senses.tremorsense      Creature's tremorsense range.\n   * @property {number} senses.truesight        Creature's truesight range.\n   * @property {string} senses.units            Distance units used to measure senses.\n   * @property {string} senses.special          Description of any special senses or restrictions.\n   * @property {string} spellcasting            Primary spellcasting ability.\n   * @property {number} exhaustion              Creature's exhaustion level.\n   * @property {object} concentration\n   * @property {string} concentration.ability   The ability used for concentration saving throws.\n   * @property {string} concentration.bonus     The bonus provided to concentration saving throws.\n   * @property {number} concentration.limit     The amount of items this actor can concentrate on.\n   * @property {object} concentration.roll\n   * @property {number} concentration.roll.min  The minimum the d20 can roll.\n   * @property {number} concentration.roll.max  The maximum the d20 can roll.\n   * @property {number} concentration.roll.mode The default advantage mode for this actor's concentration saving throws.\n   */\n  static get creature() {\n    return {\n      attunement: new foundry.data.fields.SchemaField({\n        max: new foundry.data.fields.NumberField({\n          required: true, nullable: false, integer: true, min: 0, initial: 3, label: \"DND5E.AttunementMax\"\n        })\n      }, {label: \"DND5E.Attunement\"}),\n      senses: new SensesField(),\n      spellcasting: new foundry.data.fields.StringField({\n        required: true, blank: true, initial: \"int\", label: \"DND5E.SpellAbility\"\n      }),\n      exhaustion: new foundry.data.fields.NumberField({\n        required: true, nullable: false, integer: true, min: 0, initial: 0, label: \"DND5E.Exhaustion\"\n      }),\n      concentration: new RollConfigField({\n        ability: \"\",\n        bonuses: new foundry.data.fields.SchemaField({\n          save: new FormulaField({required: true, label: \"DND5E.SaveBonus\"})\n        }),\n        limit: new foundry.data.fields.NumberField({integer: true, min: 0, initial: 1, label: \"DND5E.AttrConcentration.Limit\"})\n      }, {label: \"DND5E.Concentration\"})\n    };\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Migration                              */\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate the old init.value and incorporate it into init.bonus.\n   * @param {object} source  The source attributes object.\n   * @internal\n   */\n  static _migrateInitiative(source) {\n    const init = source?.init;\n    if ( !init?.value || (typeof init?.bonus === \"string\") ) return;\n    if ( init.bonus ) init.bonus += init.value < 0 ? ` - ${init.value * -1}` : ` + ${init.value}`;\n    else init.bonus = `${init.value}`;\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Preparation                            */\n  /* -------------------------------------------- */\n\n  /**\n   * Initialize derived AC fields for Active Effects to target.\n   * @this {CharacterData|NPCData|VehicleData}\n   */\n  static prepareBaseArmorClass() {\n    const ac = this.attributes.ac;\n    ac.armor = 10;\n    ac.shield = ac.cover = 0;\n    ac.bonus = \"\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Initialize base encumbrance fields to be targeted by active effects.\n   * @this {CharacterData|NPCData|VehicleData}\n   */\n  static prepareBaseEncumbrance() {\n    const encumbrance = this.attributes.encumbrance ??= {};\n    encumbrance.multipliers = {\n      encumbered: \"1\", heavilyEncumbered: \"1\", maximum: \"1\", overall: \"1\"\n    };\n    encumbrance.bonuses = {\n      encumbered: \"\", heavilyEncumbered: \"\", maximum: \"\", overall: \"\"\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare concentration data for an Actor.\n   * @this {CharacterData|NPCData}\n   * @param {object} rollData  The Actor's roll data.\n   */\n  static prepareConcentration(rollData) {\n    const { concentration } = this.attributes;\n    const abilityId = concentration.ability || CONFIG.DND5E.defaultAbilities.concentration;\n    const ability = this.abilities?.[abilityId] || {};\n    const bonus = simplifyBonus(concentration.bonuses.save, rollData);\n    concentration.save = (ability.save ?? 0) + bonus;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Calculate encumbrance details for an Actor.\n   * @this {CharacterData|NPCData|VehicleData}\n   * @param {object} rollData  The Actor's roll data.\n   * @param {object} [options]\n   * @param {Function} [options.validateItem]  Determine whether an item's weight should count toward encumbrance.\n   */\n  static prepareEncumbrance(rollData, { validateItem }={}) {\n    const config = CONFIG.DND5E.encumbrance;\n    const encumbrance = this.attributes.encumbrance ??= {};\n    const baseUnits = CONFIG.DND5E.encumbrance.baseUnits[this.parent.type]\n      ?? CONFIG.DND5E.encumbrance.baseUnits.default;\n    const unitSystem = game.settings.get(\"dnd5e\", \"metricWeightUnits\") ? \"metric\" : \"imperial\";\n\n    // Get the total weight from items\n    let weight = this.parent.items\n      .filter(item => !item.container && (validateItem?.(item) ?? true))\n      .reduce((weight, item) => weight + (item.system.totalWeightIn?.(baseUnits[unitSystem]) ?? 0), 0);\n\n    // [Optional] add Currency Weight (for non-transformed actors)\n    const currency = this.currency;\n    if ( game.settings.get(\"dnd5e\", \"currencyWeight\") && currency ) {\n      const numCoins = Object.values(currency).reduce((val, denom) => val + Math.max(denom, 0), 0);\n      const currencyPerWeight = config.currencyPerWeight[unitSystem];\n      weight += convertWeight(\n        numCoins / currencyPerWeight,\n        config.baseUnits.default[unitSystem],\n        baseUnits[unitSystem]\n      );\n    }\n\n    // Determine the Encumbrance size class\n    const keys = Object.keys(CONFIG.DND5E.actorSizes);\n    const index = keys.findIndex(k => k === this.traits.size);\n    const sizeConfig = CONFIG.DND5E.actorSizes[\n      keys[this.parent.flags.dnd5e?.powerfulBuild ? Math.min(index + 1, keys.length - 1) : index]\n    ];\n    const sizeMod = sizeConfig?.capacityMultiplier ?? sizeConfig?.token ?? 1;\n    let maximumMultiplier;\n\n    const calculateThreshold = threshold => {\n      let base = this.abilities.str?.value ?? 10;\n      const bonus = simplifyBonus(encumbrance.bonuses?.[threshold], rollData)\n        + simplifyBonus(encumbrance.bonuses?.overall, rollData);\n      let multiplier = simplifyBonus(encumbrance.multipliers[threshold], rollData)\n        * simplifyBonus(encumbrance.multipliers.overall, rollData);\n      if ( threshold === \"maximum\" ) maximumMultiplier = multiplier;\n      if ( this.parent.type === \"vehicle\" ) base = this.attributes.capacity.cargo;\n      else multiplier *= (config.threshold[threshold]?.[unitSystem] ?? 1) * sizeMod;\n      return (base * multiplier).toNearest(0.1) + bonus;\n    };\n\n    // Populate final Encumbrance values\n    encumbrance.value = weight.toNearest(0.1);\n    encumbrance.thresholds = {\n      encumbered: calculateThreshold(\"encumbered\"),\n      heavilyEncumbered: calculateThreshold(\"heavilyEncumbered\"),\n      maximum: calculateThreshold(\"maximum\")\n    };\n    encumbrance.max = encumbrance.thresholds.maximum;\n    encumbrance.mod = (sizeMod * maximumMultiplier).toNearest(0.1);\n    encumbrance.stops = {\n      encumbered: Math.clamp((encumbrance.thresholds.encumbered * 100) / encumbrance.max, 0, 100),\n      heavilyEncumbered: Math.clamp((encumbrance.thresholds.heavilyEncumbered * 100) / encumbrance.max, 0, 100)\n    };\n    encumbrance.pct = Math.clamp((encumbrance.value * 100) / encumbrance.max, 0, 100);\n    encumbrance.encumbered = encumbrance.value > encumbrance.heavilyEncumbered;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Adjust exhaustion level based on Active Effects.\n   * @this {CharacterData|NPCData}\n   */\n  static prepareExhaustionLevel() {\n    const exhaustion = this.parent.effects.get(ActiveEffect5e.ID.EXHAUSTION);\n    const level = exhaustion?.getFlag(\"dnd5e\", \"exhaustionLevel\");\n    this.attributes.exhaustion = Number.isFinite(level) ? level : 0;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Calculate maximum hit points, taking an provided advancement into consideration.\n   * @param {object} hp                 HP object to calculate.\n   * @param {object} [options={}]\n   * @param {HitPointsAdvancement[]} [options.advancement=[]]  Advancement items from which to get hit points per-level.\n   * @param {number} [options.bonus=0]  Additional bonus to add atop the calculated value.\n   * @param {number} [options.mod=0]    Modifier for the ability to add to hit points from advancement.\n   * @this {ActorDataModel}\n   */\n  static prepareHitPoints(hp, { advancement=[], mod=0, bonus=0 }={}) {\n    const base = advancement.reduce((total, advancement) => total + advancement.getAdjustedTotal(mod), 0);\n    hp.max = (hp.max ?? 0) + base + bonus;\n    if ( this.parent.hasConditionEffect(\"halfHealth\") ) hp.max = Math.floor(hp.max * 0.5);\n\n    hp.effectiveMax = hp.max + (hp.tempmax ?? 0);\n    hp.value = Math.min(hp.value, hp.effectiveMax);\n    hp.damage = hp.effectiveMax - hp.value;\n    hp.pct = Math.clamp(hp.effectiveMax ? (hp.value / hp.effectiveMax) * 100 : 0, 0, 100);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Modify movement speeds taking exhaustion and any other conditions into account.\n   * @this {CharacterData|NPCData}\n   */\n  static prepareMovement() {\n    const statuses = this.parent.statuses;\n    const noMovement = this.parent.hasConditionEffect(\"noMovement\");\n    const halfMovement = this.parent.hasConditionEffect(\"halfMovement\");\n    const encumbered = statuses.has(\"encumbered\");\n    const heavilyEncumbered = statuses.has(\"heavilyEncumbered\");\n    const exceedingCarryingCapacity = statuses.has(\"exceedingCarryingCapacity\");\n    const crawl = this.parent.hasConditionEffect(\"crawl\");\n    const units = this.attributes.movement.units;\n    for ( const type in CONFIG.DND5E.movementTypes ) {\n      let speed = this.attributes.movement[type];\n      if ( noMovement || (crawl && (type !== \"walk\")) ) speed = 0;\n      else {\n        if ( halfMovement ) speed *= 0.5;\n        if ( heavilyEncumbered ) {\n          speed = Math.max(0, speed - (CONFIG.DND5E.encumbrance.speedReduction.heavilyEncumbered[units] ?? 0));\n        } else if ( encumbered ) {\n          speed = Math.max(0, speed - (CONFIG.DND5E.encumbrance.speedReduction.encumbered[units] ?? 0));\n        }\n        if ( exceedingCarryingCapacity ) {\n          speed = Math.min(speed, CONFIG.DND5E.encumbrance.speedReduction.exceedingCarryingCapacity[units] ?? 0);\n        }\n      }\n      this.attributes.movement[type] = speed;\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Apply movement and sense changes based on a race item. This method should be called during\n   * the `prepareEmbeddedData` step of data preparation.\n   * @param {Item5e} race                    Race item from which to get the stats.\n   * @param {object} [options={}]\n   * @param {boolean} [options.force=false]  Override any values on the actor.\n   * @this {CharacterData|NPCData}\n   */\n  static prepareRace(race, { force=false }={}) {\n    for ( const key of Object.keys(CONFIG.DND5E.movementTypes) ) {\n      if ( !race.system.movement[key] || (!force && (this.attributes.movement[key] !== null)) ) continue;\n      this.attributes.movement[key] = race.system.movement[key];\n    }\n    if ( race.system.movement.hover ) this.attributes.movement.hover = true;\n    if ( force && race.system.movement.units ) this.attributes.movement.units = race.system.movement.units;\n    else this.attributes.movement.units ??= race.system.movement.units;\n\n    for ( const key of Object.keys(CONFIG.DND5E.senses) ) {\n      if ( !race.system.senses[key] || (!force && (this.attributes.senses[key] !== null)) ) continue;\n      this.attributes.senses[key] = race.system.senses[key];\n    }\n    this.attributes.senses.special = [this.attributes.senses.special, race.system.senses.special].filterJoin(\";\");\n    if ( force && race.system.senses.units ) this.attributes.senses.units = race.system.senses.units;\n    else this.attributes.senses.units ??= race.system.senses.units;\n  }\n}\n","import Proficiency from \"../../../documents/actor/proficiency.mjs\";\nimport { simplifyBonus } from \"../../../utils.mjs\";\nimport { ActorDataModel } from \"../../abstract.mjs\";\nimport { FormulaField, MappingField } from \"../../fields.mjs\";\nimport CurrencyTemplate from \"../../shared/currency.mjs\";\n\n/**\n * @typedef {object} AbilityData\n * @property {number} value          Ability score.\n * @property {number} proficient     Proficiency value for saves.\n * @property {number} max            Maximum possible score for the ability.\n * @property {object} bonuses        Bonuses that modify ability checks and saves.\n * @property {string} bonuses.check  Numeric or dice bonus to ability checks.\n * @property {string} bonuses.save   Numeric or dice bonus to ability saving throws.\n */\n\n/**\n * A template for all actors that share the common template.\n *\n * @property {Object<string, AbilityData>} abilities  Actor's abilities.\n * @mixin\n */\nexport default class CommonTemplate extends ActorDataModel.mixin(CurrencyTemplate) {\n\n  /** @inheritdoc */\n  static defineSchema() {\n    return this.mergeSchema(super.defineSchema(), {\n      abilities: new MappingField(new foundry.data.fields.SchemaField({\n        value: new foundry.data.fields.NumberField({\n          required: true, nullable: false, integer: true, min: 0, initial: 10, label: \"DND5E.AbilityScore\"\n        }),\n        proficient: new foundry.data.fields.NumberField({\n          required: true, integer: true, min: 0, max: 1, initial: 0, label: \"DND5E.ProficiencyLevel\"\n        }),\n        max: new foundry.data.fields.NumberField({\n          required: true, integer: true, nullable: true, min: 0, initial: null, label: \"DND5E.AbilityScoreMax\"\n        }),\n        bonuses: new foundry.data.fields.SchemaField({\n          check: new FormulaField({required: true, label: \"DND5E.AbilityCheckBonus\"}),\n          save: new FormulaField({required: true, label: \"DND5E.SaveBonus\"})\n        }, {label: \"DND5E.AbilityBonuses\"})\n      }), {\n        initialKeys: CONFIG.DND5E.abilities, initialValue: this._initialAbilityValue.bind(this),\n        initialKeysOnly: true, label: \"DND5E.Abilities\"\n      })\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Populate the proper initial value for abilities.\n   * @param {string} key       Key for which the initial data will be created.\n   * @param {object} initial   The initial skill object created by SkillData.\n   * @param {object} existing  Any existing mapping data.\n   * @returns {object}         Initial ability object.\n   * @private\n   */\n  static _initialAbilityValue(key, initial, existing) {\n    const config = CONFIG.DND5E.abilities[key];\n    if ( config ) {\n      let defaultValue = config.defaults?.[this._systemType] ?? initial.value;\n      if ( typeof defaultValue === \"string\" ) defaultValue = existing?.[defaultValue]?.value ?? initial.value;\n      initial.value = defaultValue;\n    }\n    return initial;\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Migration                              */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _migrateData(source) {\n    super._migrateData(source);\n    CommonTemplate.#migrateACData(source);\n    CommonTemplate.#migrateMovementData(source);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate the actor ac.value to new ac.flat override field.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateACData(source) {\n    if ( !source.attributes?.ac ) return;\n    const ac = source.attributes.ac;\n\n    // If the actor has a numeric ac.value, then their AC has not been migrated to the auto-calculation schema yet.\n    if ( Number.isNumeric(ac.value) ) {\n      ac.flat = parseInt(ac.value);\n      ac.calc = this._systemType === \"npc\" ? \"natural\" : \"flat\";\n      return;\n    }\n\n    // Migrate ac.base in custom formulas to ac.armor\n    if ( (typeof ac.formula === \"string\") && ac.formula.includes(\"@attributes.ac.base\") ) {\n      ac.formula = ac.formula.replaceAll(\"@attributes.ac.base\", \"@attributes.ac.armor\");\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate the actor speed string to movement object.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateMovementData(source) {\n    const original = source.attributes?.speed?.value ?? source.attributes?.speed;\n    if ( (typeof original !== \"string\") || (source.attributes.movement?.walk !== undefined) ) return;\n    source.attributes.movement ??= {};\n    const s = original.split(\" \");\n    if ( s.length > 0 ) source.attributes.movement.walk = Number.isNumeric(s[0]) ? parseInt(s[0]) : 0;\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Preparation                            */\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare modifiers and other values for abilities.\n   * @param {object} [options={}]\n   * @param {object} [options.rollData={}]    Roll data used to calculate bonuses.\n   * @param {object} [options.originalSaves]  Original ability data for transformed actors.\n   */\n  prepareAbilities({ rollData={}, originalSaves }={}) {\n    const flags = this.parent.flags.dnd5e ?? {};\n    const prof = this.attributes?.prof ?? 0;\n    const checkBonus = simplifyBonus(this.bonuses?.abilities?.check, rollData);\n    const saveBonus = simplifyBonus(this.bonuses?.abilities?.save, rollData);\n    const dcBonus = simplifyBonus(this.bonuses?.spell?.dc, rollData);\n    for ( const [id, abl] of Object.entries(this.abilities) ) {\n      if ( flags.diamondSoul ) abl.proficient = 1;  // Diamond Soul is proficient in all saves\n      abl.mod = Math.floor((abl.value - 10) / 2);\n\n      const isRA = this.parent._isRemarkableAthlete(id);\n      abl.checkProf = new Proficiency(prof, (isRA || flags.jackOfAllTrades) ? 0.5 : 0, !isRA);\n      const saveBonusAbl = simplifyBonus(abl.bonuses?.save, rollData);\n      abl.saveBonus = saveBonusAbl + saveBonus;\n\n      abl.saveProf = new Proficiency(prof, abl.proficient);\n      const checkBonusAbl = simplifyBonus(abl.bonuses?.check, rollData);\n      abl.checkBonus = checkBonusAbl + checkBonus;\n\n      abl.save = abl.mod + abl.saveBonus;\n      if ( Number.isNumeric(abl.saveProf.term) ) abl.save += abl.saveProf.flat;\n      abl.dc = 8 + abl.mod + prof + dcBonus;\n\n      if ( !Number.isFinite(abl.max) ) abl.max = CONFIG.DND5E.maxAbilityScore;\n\n      // If we merged saves when transforming, take the highest bonus here.\n      if ( originalSaves && abl.proficient ) abl.save = Math.max(abl.save, originalSaves[id].save);\n    }\n  }\n}\n","import { FormulaField, MappingField } from \"../../fields.mjs\";\nimport RollConfigField from \"../../shared/roll-config-field.mjs\";\nimport CommonTemplate from \"./common.mjs\";\n\n/**\n * @typedef {object} SkillData\n * @property {number} value            Proficiency level creature has in this skill.\n * @property {string} ability          Default ability used for this skill.\n * @property {object} bonuses          Bonuses for this skill.\n * @property {string} bonuses.check    Numeric or dice bonus to skill's check.\n * @property {string} bonuses.passive  Numeric bonus to skill's passive check.\n */\n\n/**\n * A template for all actors that are creatures\n *\n * @property {object} bonuses\n * @property {AttackBonusesData} bonuses.mwak        Bonuses to melee weapon attacks.\n * @property {AttackBonusesData} bonuses.rwak        Bonuses to ranged weapon attacks.\n * @property {AttackBonusesData} bonuses.msak        Bonuses to melee spell attacks.\n * @property {AttackBonusesData} bonuses.rsak        Bonuses to ranged spell attacks.\n * @property {object} bonuses.abilities              Bonuses to ability scores.\n * @property {string} bonuses.abilities.check        Numeric or dice bonus to ability checks.\n * @property {string} bonuses.abilities.save         Numeric or dice bonus to ability saves.\n * @property {string} bonuses.abilities.skill        Numeric or dice bonus to skill checks.\n * @property {object} bonuses.spell                  Bonuses to spells.\n * @property {string} bonuses.spell.dc               Numeric bonus to spellcasting DC.\n * @property {Object<string, SkillData>} skills      Actor's skills.\n * @property {Object<string, SpellSlotData>} spells  Actor's spell slots.\n */\nexport default class CreatureTemplate extends CommonTemplate {\n  static defineSchema() {\n    return this.mergeSchema(super.defineSchema(), {\n      bonuses: new foundry.data.fields.SchemaField({\n        mwak: makeAttackBonuses({label: \"DND5E.BonusMWAttack\"}),\n        rwak: makeAttackBonuses({label: \"DND5E.BonusRWAttack\"}),\n        msak: makeAttackBonuses({label: \"DND5E.BonusMSAttack\"}),\n        rsak: makeAttackBonuses({label: \"DND5E.BonusRSAttack\"}),\n        abilities: new foundry.data.fields.SchemaField({\n          check: new FormulaField({required: true, label: \"DND5E.BonusAbilityCheck\"}),\n          save: new FormulaField({required: true, label: \"DND5E.BonusAbilitySave\"}),\n          skill: new FormulaField({required: true, label: \"DND5E.BonusAbilitySkill\"})\n        }, {label: \"DND5E.BonusAbility\"}),\n        spell: new foundry.data.fields.SchemaField({\n          dc: new FormulaField({required: true, deterministic: true, label: \"DND5E.BonusSpellDC\"})\n        }, {label: \"DND5E.BonusSpell\"})\n      }, {label: \"DND5E.Bonuses\"}),\n      skills: new MappingField(new RollConfigField({\n        value: new foundry.data.fields.NumberField({\n          required: true, nullable: false, min: 0, max: 2, step: 0.5, initial: 0, label: \"DND5E.ProficiencyLevel\"\n        }),\n        ability: \"dex\",\n        bonuses: new foundry.data.fields.SchemaField({\n          check: new FormulaField({required: true, label: \"DND5E.SkillBonusCheck\"}),\n          passive: new FormulaField({required: true, label: \"DND5E.SkillBonusPassive\"})\n        }, {label: \"DND5E.SkillBonuses\"})\n      }), {\n        initialKeys: CONFIG.DND5E.skills, initialValue: this._initialSkillValue,\n        initialKeysOnly: true, label: \"DND5E.Skills\"\n      }),\n      tools: new MappingField(new RollConfigField({\n        value: new foundry.data.fields.NumberField({\n          required: true, nullable: false, min: 0, max: 2, step: 0.5, initial: 1, label: \"DND5E.ProficiencyLevel\"\n        }),\n        ability: \"int\",\n        bonuses: new foundry.data.fields.SchemaField({\n          check: new FormulaField({required: true, label: \"DND5E.CheckBonus\"})\n        }, {label: \"DND5E.ToolBonuses\"})\n      })),\n      spells: new MappingField(new foundry.data.fields.SchemaField({\n        value: new foundry.data.fields.NumberField({\n          nullable: false, integer: true, min: 0, initial: 0, label: \"DND5E.SpellProgAvailable\"\n        }),\n        override: new foundry.data.fields.NumberField({\n          integer: true, min: 0, label: \"DND5E.SpellProgOverride\"\n        })\n      }), {initialKeys: this._spellLevels, label: \"DND5E.SpellLevels\"})\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Populate the proper initial abilities for the skills.\n   * @param {string} key      Key for which the initial data will be created.\n   * @param {object} initial  The initial skill object created by SkillData.\n   * @returns {object}        Initial skills object with the ability defined.\n   * @private\n   */\n  static _initialSkillValue(key, initial) {\n    if ( CONFIG.DND5E.skills[key]?.ability ) initial.ability = CONFIG.DND5E.skills[key].ability;\n    return initial;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Helper for building the default list of spell levels.\n   * @type {string[]}\n   * @private\n   */\n  static get _spellLevels() {\n    const levels = Object.keys(CONFIG.DND5E.spellLevels).filter(a => a !== \"0\").map(l => `spell${l}`);\n    return [...levels, \"pact\"];\n  }\n\n  /* -------------------------------------------- */\n  /*  Migrations                                  */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _migrateData(source) {\n    super._migrateData(source);\n    CreatureTemplate.#migrateSensesData(source);\n    CreatureTemplate.#migrateToolData(source);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate the actor traits.senses string to attributes.senses object.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateSensesData(source) {\n    const original = source.traits?.senses;\n    if ( (original === undefined) || (typeof original !== \"string\") ) return;\n    source.attributes ??= {};\n    source.attributes.senses ??= {};\n\n    // Try to match old senses with the format like \"Darkvision 60 ft, Blindsight 30 ft\"\n    const pattern = /([A-z]+)\\s?([0-9]+)\\s?([A-z]+)?/;\n    let wasMatched = false;\n\n    // Match each comma-separated term\n    for ( let s of original.split(\",\") ) {\n      s = s.trim();\n      const match = s.match(pattern);\n      if ( !match ) continue;\n      const type = match[1].toLowerCase();\n      if ( (type in CONFIG.DND5E.senses) && !(type in source.attributes.senses) ) {\n        source.attributes.senses[type] = Number(match[2]).toNearest(0.5);\n        wasMatched = true;\n      }\n    }\n\n    // If nothing was matched, but there was an old string - put the whole thing in \"special\"\n    if ( !wasMatched && original ) source.attributes.senses.special = original;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate traits.toolProf to the tools field.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateToolData(source) {\n    const original = source.traits?.toolProf;\n    if ( !original || foundry.utils.isEmpty(original.value) ) return;\n    source.tools ??= {};\n    for ( const prof of original.value ) {\n      const validProf = (prof in CONFIG.DND5E.toolProficiencies) || (prof in CONFIG.DND5E.toolIds);\n      if ( !validProf || (prof in source.tools) ) continue;\n      source.tools[prof] = {\n        value: 1,\n        ability: \"int\",\n        bonuses: {check: \"\"}\n      };\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Helpers                                     */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  getRollData({ deterministic=false }={}) {\n    const data = super.getRollData({ deterministic });\n    data.classes = {};\n    for ( const [identifier, cls] of Object.entries(this.parent.classes) ) {\n      data.classes[identifier] = {...cls.system};\n      if ( cls.subclass ) data.classes[identifier].subclass = cls.subclass.system;\n    }\n    return data;\n  }\n}\n\n/* -------------------------------------------- */\n\n/**\n * Data on configuration of a specific spell slot.\n *\n * @typedef {object} SpellSlotData\n * @property {number} value     Currently available spell slots.\n * @property {number} override  Number to replace auto-calculated max slots.\n */\n\n/* -------------------------------------------- */\n\n/**\n * Data structure for actor's attack bonuses.\n *\n * @typedef {object} AttackBonusesData\n * @property {string} attack  Numeric or dice bonus to attack rolls.\n * @property {string} damage  Numeric or dice bonus to damage rolls.\n */\n\n/**\n * Produce the schema field for a simple trait.\n * @param {object} schemaOptions  Options passed to the outer schema.\n * @returns {AttackBonusesData}\n */\nfunction makeAttackBonuses(schemaOptions={}) {\n  return new foundry.data.fields.SchemaField({\n    attack: new FormulaField({required: true, label: \"DND5E.BonusAttack\"}),\n    damage: new FormulaField({required: true, label: \"DND5E.BonusDamage\"})\n  }, schemaOptions);\n}\n","import { LocalDocumentField } from \"../../fields.mjs\";\nconst { HTMLField, SchemaField, StringField } = foundry.data.fields;\n\n/**\n * Shared contents of the details schema between various actor types.\n */\nexport default class DetailsField {\n  /**\n   * Fields shared between characters, NPCs, and vehicles.\n   *\n   * @type {object}\n   * @property {object} biography         Actor's biography data.\n   * @property {string} biography.value   Full HTML biography information.\n   * @property {string} biography.public  Biography that will be displayed to players with observer privileges.\n   */\n  static get common() {\n    return {\n      biography: new SchemaField({\n        value: new HTMLField({label: \"DND5E.Biography\"}),\n        public: new HTMLField({label: \"DND5E.BiographyPublic\"})\n      }, {label: \"DND5E.Biography\"})\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Fields shared between characters and NPCs.\n   *\n   * @type {object}\n   * @property {string} alignment    Creature's alignment.\n   * @property {Item5e|string} race  Creature's race item or name.\n   */\n  static get creature() {\n    return {\n      alignment: new StringField({required: true, label: \"DND5E.Alignment\"}),\n      ideal: new StringField({required: true, label: \"DND5E.Ideals\"}),\n      bond: new StringField({required: true, label: \"DND5E.Bonds\"}),\n      flaw: new StringField({required: true, label: \"DND5E.Flaws\"}),\n      race: new LocalDocumentField(foundry.documents.BaseItem, {\n        required: true, fallback: true, label: \"DND5E.Race\"\n      })\n    };\n  }\n}\n","import { FormulaField, MappingField } from \"../../fields.mjs\";\n\nconst { SchemaField, SetField, StringField } = foundry.data.fields;\n\n/**\n * Shared contents of the traits schema between various actor types.\n */\nexport default class TraitsField {\n  /**\n   * Data structure for a standard actor trait.\n   *\n   * @typedef {object} SimpleTraitData\n   * @property {Set<string>} value  Keys for currently selected traits.\n   * @property {string} custom      Semicolon-separated list of custom traits.\n   */\n\n  /**\n   * Data structure for a damage actor trait.\n   *\n   * @typedef {object} DamageTraitData\n   * @property {Set<string>} value     Keys for currently selected traits.\n   * @property {Set<string>} bypasses  Keys for physical weapon properties that cause resistances to be bypassed.\n   * @property {string} custom         Semicolon-separated list of custom traits.\n   */\n\n  /**\n   * Data structure for a damage actor trait.\n   *\n   * @typedef {object} DamageModificationData\n   * @property {{[key: string]: string}} amount  Damage boost or reduction by damage type.\n   * @property {Set<string>} bypasses            Keys for physical properties that cause modification to be bypassed.\n   */\n\n  /* -------------------------------------------- */\n\n  /**\n   * Fields shared between characters, NPCs, and vehicles.\n   *\n   * @type {object}\n   * @property {string} size                Actor's size.\n   * @property {DamageTraitData} di         Damage immunities.\n   * @property {DamageTraitData} dr         Damage resistances.\n   * @property {DamageTraitData} dv         Damage vulnerabilities.\n   * @property {DamageModificationData} dm  Damage modification.\n   * @property {SimpleTraitData} ci         Condition immunities.\n   */\n  static get common() {\n    return {\n      size: new StringField({required: true, initial: \"med\", label: \"DND5E.Size\"}),\n      di: this.makeDamageTrait({label: \"DND5E.DamImm\"}),\n      dr: this.makeDamageTrait({label: \"DND5E.DamRes\"}),\n      dv: this.makeDamageTrait({label: \"DND5E.DamVuln\"}),\n      dm: new SchemaField({\n        amount: new MappingField(new FormulaField({deterministic: true}), {label: \"DND5E.DamMod\"}),\n        bypasses: new SetField(new StringField(), {\n          label: \"DND5E.DamagePhysicalBypass\", hint: \"DND5E.DamagePhysicalBypassHint\"\n        })\n      }),\n      ci: this.makeSimpleTrait({label: \"DND5E.ConImm\"})\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Fields shared between characters and NPCs.\n   *\n   * @type {object}\n   * @property {SimpleTraitData} languages  Languages known by this creature.\n   */\n  static get creature() {\n    return {\n      languages: this.makeSimpleTrait({label: \"DND5E.Languages\"})\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Produce the schema field for a simple trait.\n   * @param {object} [schemaOptions={}]          Options passed to the outer schema.\n   * @param {object} [options={}]\n   * @param {string[]} [options.initial={}]      The initial value for the value set.\n   * @param {object} [options.extraFields={}]    Additional fields added to schema.\n   * @returns {SchemaField}\n   */\n  static makeSimpleTrait(schemaOptions={}, {initial=[], extraFields={}}={}) {\n    return new SchemaField({\n      ...extraFields,\n      value: new SetField(\n        new StringField(), {label: \"DND5E.TraitsChosen\", initial}\n      ),\n      custom: new StringField({required: true, label: \"DND5E.Special\"})\n    }, schemaOptions);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Produce the schema field for a damage trait.\n   * @param {object} [schemaOptions={}]          Options passed to the outer schema.\n   * @param {object} [options={}]\n   * @param {string[]} [options.initial={}]      The initial value for the value set.\n   * @param {object} [options.extraFields={}]    Additional fields added to schema.\n   * @returns {SchemaField}\n   */\n  static makeDamageTrait(schemaOptions={}, {initial=[], initialBypasses=[], extraFields={}}={}) {\n    return this.makeSimpleTrait(schemaOptions, {initial, extraFields: {\n      ...extraFields,\n      bypasses: new SetField(new StringField(), {\n        label: \"DND5E.DamagePhysicalBypass\", hint: \"DND5E.DamagePhysicalBypassHint\", initial: initialBypasses\n      })\n    }});\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Preparation                            */\n  /* -------------------------------------------- */\n\n  /**\n   * Modify resistances and immunities for the petrified condition.\n   * @this {CharacterData|NPCData}\n   */\n  static prepareResistImmune() {\n    if ( this.parent.hasConditionEffect(\"petrification\") ) {\n      this.traits.dr.custom = game.i18n.localize(\"DND5E.DamageAll\");\n      Object.keys(CONFIG.DND5E.damageTypes).forEach(type => this.traits.dr.value.add(type));\n      this.traits.dr.bypasses.clear();\n      this.traits.di.value.add(\"poison\");\n      this.traits.ci.value.add(\"poisoned\");\n      this.traits.ci.value.add(\"diseased\");\n    }\n  }\n}\n","import HitDice from \"../../documents/actor/hit-dice.mjs\";\nimport Proficiency from \"../../documents/actor/proficiency.mjs\";\nimport { simplifyBonus } from \"../../utils.mjs\";\nimport { FormulaField, LocalDocumentField } from \"../fields.mjs\";\nimport CreatureTypeField from \"../shared/creature-type-field.mjs\";\nimport RollConfigField from \"../shared/roll-config-field.mjs\";\nimport AttributesFields from \"./templates/attributes.mjs\";\nimport CreatureTemplate from \"./templates/creature.mjs\";\nimport DetailsFields from \"./templates/details.mjs\";\nimport TraitsFields from \"./templates/traits.mjs\";\n\nconst { SchemaField, NumberField, StringField, BooleanField, ArrayField, IntegerSortField } = foundry.data.fields;\n\n/**\n * @typedef {object} ActorFavorites5e\n * @property {\"effect\"|\"item\"|\"skill\"|\"slots\"|\"tool\"} type  The favorite type.\n * @property {string} id                                    The Document UUID, skill or tool identifier, or spell slot\n *                                                          level identifier.\n * @property {number} sort                                  The sort value.\n */\n\n/**\n * System data definition for Characters.\n *\n * @property {object} attributes\n * @property {object} attributes.ac\n * @property {number} attributes.ac.flat                  Flat value used for flat or natural armor calculation.\n * @property {string} attributes.ac.calc                  Name of one of the built-in formulas to use.\n * @property {string} attributes.ac.formula               Custom formula to use.\n * @property {object} attributes.hp\n * @property {number} attributes.hp.value                 Current hit points.\n * @property {number} attributes.hp.max                   Override for maximum HP.\n * @property {number} attributes.hp.temp                  Temporary HP applied on top of value.\n * @property {number} attributes.hp.tempmax               Temporary change to the maximum HP.\n * @property {object} attributes.hp.bonuses\n * @property {string} attributes.hp.bonuses.level         Bonus formula applied for each class level.\n * @property {string} attributes.hp.bonuses.overall       Bonus formula applied to total HP.\n * @property {object} attributes.death\n * @property {number} attributes.death.success            Number of successful death saves.\n * @property {number} attributes.death.failure            Number of failed death saves.\n * @property {number} attributes.exhaustion               Number of levels of exhaustion.\n * @property {number} attributes.inspiration              Does this character have inspiration?\n * @property {object} details\n * @property {Item5e|string} details.background           Character's background item or name.\n * @property {string} details.originalClass               ID of first class taken by character.\n * @property {XPData} details.xp                          Experience points gained.\n * @property {number} details.xp.value                    Total experience points earned.\n * @property {string} details.appearance                  Description of character's appearance.\n * @property {string} details.trait                       Character's personality traits.\n * @property {string} details.ideal                       Character's ideals.\n * @property {string} details.bond                        Character's bonds.\n * @property {string} details.flaw                        Character's flaws.\n * @property {object} traits\n * @property {SimpleTraitData} traits.weaponProf          Character's weapon proficiencies.\n * @property {SimpleTraitData} traits.armorProf           Character's armor proficiencies.\n * @property {object} resources\n * @property {CharacterResourceData} resources.primary    Resource number one.\n * @property {CharacterResourceData} resources.secondary  Resource number two.\n * @property {CharacterResourceData} resources.tertiary   Resource number three.\n * @property {ActorFavorites5e[]} favorites               The character's favorites.\n */\nexport default class CharacterData extends CreatureTemplate {\n\n  /** @inheritdoc */\n  static metadata = Object.freeze(foundry.utils.mergeObject(super.metadata, {\n    supportsAdvancement: true\n  }, {inplace: false}));\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _systemType = \"character\";\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static defineSchema() {\n    return this.mergeSchema(super.defineSchema(), {\n      attributes: new foundry.data.fields.SchemaField({\n        ...AttributesFields.common,\n        ...AttributesFields.creature,\n        ac: new SchemaField({\n          flat: new NumberField({integer: true, min: 0, label: \"DND5E.ArmorClassFlat\"}),\n          calc: new StringField({initial: \"default\", label: \"DND5E.ArmorClassCalculation\"}),\n          formula: new FormulaField({deterministic: true, label: \"DND5E.ArmorClassFormula\"})\n        }, {label: \"DND5E.ArmorClass\"}),\n        hp: new SchemaField({\n          value: new NumberField({\n            nullable: false, integer: true, min: 0, initial: 0, label: \"DND5E.HitPointsCurrent\"\n          }),\n          max: new NumberField({\n            nullable: true, integer: true, min: 0, initial: null, label: \"DND5E.HitPointsOverride\"\n          }),\n          temp: new NumberField({integer: true, initial: 0, min: 0, label: \"DND5E.HitPointsTemp\"}),\n          tempmax: new NumberField({integer: true, initial: 0, label: \"DND5E.HitPointsTempMax\"}),\n          bonuses: new SchemaField({\n            level: new FormulaField({deterministic: true, label: \"DND5E.HitPointsBonusLevel\"}),\n            overall: new FormulaField({deterministic: true, label: \"DND5E.HitPointsBonusOverall\"})\n          })\n        }, {label: \"DND5E.HitPoints\"}),\n        death: new RollConfigField({\n          success: new NumberField({\n            required: true, nullable: false, integer: true, min: 0, initial: 0, label: \"DND5E.DeathSaveSuccesses\"\n          }),\n          failure: new NumberField({\n            required: true, nullable: false, integer: true, min: 0, initial: 0, label: \"DND5E.DeathSaveFailures\"\n          })\n        }, {label: \"DND5E.DeathSave\"}),\n        inspiration: new BooleanField({required: true, label: \"DND5E.Inspiration\"})\n      }, {label: \"DND5E.Attributes\"}),\n      details: new SchemaField({\n        ...DetailsFields.common,\n        ...DetailsFields.creature,\n        background: new LocalDocumentField(foundry.documents.BaseItem, {\n          required: true, fallback: true, label: \"DND5E.Background\"\n        }),\n        originalClass: new StringField({required: true, label: \"DND5E.ClassOriginal\"}),\n        xp: new SchemaField({\n          value: new NumberField({\n            required: true, nullable: false, integer: true, min: 0, initial: 0, label: \"DND5E.ExperiencePointsCurrent\"\n          })\n        }, {label: \"DND5E.ExperiencePoints\"}),\n        appearance: new StringField({required: true, label: \"DND5E.Appearance\"}),\n        trait: new StringField({required: true, label: \"DND5E.PersonalityTraits\"}),\n        gender: new StringField({ label: \"DND5E.Gender\" }),\n        eyes: new StringField({ label: \"DND5E.Eyes\" }),\n        height: new StringField({ label: \"DND5E.Height\" }),\n        faith: new StringField({ label: \"DND5E.Faith\" }),\n        hair: new StringField({ label: \"DND5E.Hair\" }),\n        skin: new StringField({ label: \"DND5E.Skin\" }),\n        age: new StringField({ label: \"DND5E.Age\" }),\n        weight: new StringField({ label: \"DND5E.Weight\" })\n      }, {label: \"DND5E.Details\"}),\n      traits: new SchemaField({\n        ...TraitsFields.common,\n        ...TraitsFields.creature,\n        weaponProf: TraitsFields.makeSimpleTrait({label: \"DND5E.TraitWeaponProf\"}),\n        armorProf: TraitsFields.makeSimpleTrait({label: \"DND5E.TraitArmorProf\"})\n      }, {label: \"DND5E.Traits\"}),\n      resources: new SchemaField({\n        primary: makeResourceField({label: \"DND5E.ResourcePrimary\"}),\n        secondary: makeResourceField({label: \"DND5E.ResourceSecondary\"}),\n        tertiary: makeResourceField({label: \"DND5E.ResourceTertiary\"})\n      }, {label: \"DND5E.Resources\"}),\n      favorites: new ArrayField(new SchemaField({\n        type: new StringField({ required: true, blank: false }),\n        id: new StringField({ required: true, blank: false }),\n        sort: new IntegerSortField()\n      }), { label: \"DND5E.Favorites\" })\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Migration                              */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _migrateData(source) {\n    super._migrateData(source);\n    AttributesFields._migrateInitiative(source.attributes);\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Preparation                            */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  prepareBaseData() {\n    this.attributes.hd = new HitDice(this.parent);\n    this.details.level = this.attributes.hd.max;\n    this.attributes.attunement.value = 0;\n\n    for ( const item of this.parent.items ) {\n      if ( item.system.attuned ) this.attributes.attunement.value += 1;\n    }\n\n    // Character proficiency bonus\n    this.attributes.prof = Proficiency.calculateMod(this.details.level);\n\n    // Experience required for next level\n    const { xp, level } = this.details;\n    xp.max = this.parent.getLevelExp(level || 1);\n    xp.min = level ? this.parent.getLevelExp(level - 1) : 0;\n    if ( level >= CONFIG.DND5E.CHARACTER_EXP_LEVELS.length ) xp.pct = 100;\n    else {\n      const required = xp.max - xp.min;\n      const pct = Math.round((xp.value - xp.min) * 100 / required);\n      xp.pct = Math.clamp(pct, 0, 100);\n    }\n\n    AttributesFields.prepareBaseArmorClass.call(this);\n    AttributesFields.prepareBaseEncumbrance.call(this);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare movement & senses values derived from race item.\n   */\n  prepareEmbeddedData() {\n    if ( this.details.race instanceof Item ) {\n      AttributesFields.prepareRace.call(this, this.details.race);\n      this.details.type = this.details.race.system.type;\n    } else {\n      this.details.type = new CreatureTypeField({ swarm: false }).initialize({ value: \"humanoid\" }, this);\n    }\n    for ( const key of Object.keys(CONFIG.DND5E.movementTypes) ) this.attributes.movement[key] ??= 0;\n    for ( const key of Object.keys(CONFIG.DND5E.senses) ) this.attributes.senses[key] ??= 0;\n    this.attributes.movement.units ??= Object.keys(CONFIG.DND5E.movementUnits)[0];\n    this.attributes.senses.units ??= Object.keys(CONFIG.DND5E.movementUnits)[0];\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare remaining character data.\n   */\n  prepareDerivedData() {\n    const rollData = this.parent.getRollData({ deterministic: true });\n    const { originalSaves } = this.parent.getOriginalStats();\n\n    this.prepareAbilities({ rollData, originalSaves });\n    AttributesFields.prepareEncumbrance.call(this, rollData);\n    AttributesFields.prepareExhaustionLevel.call(this);\n    AttributesFields.prepareMovement.call(this);\n    AttributesFields.prepareConcentration.call(this, rollData);\n    TraitsFields.prepareResistImmune.call(this);\n\n    // Hit Points\n    const hpOptions = {};\n    if ( this.attributes.hp.max === null ) {\n      hpOptions.advancement = Object.values(this.parent.classes)\n        .map(c => c.advancement.byType.HitPoints?.[0]).filter(a => a);\n      hpOptions.bonus = (simplifyBonus(this.attributes.hp.bonuses.level, rollData) * this.details.level)\n        + simplifyBonus(this.attributes.hp.bonuses.overall, rollData);\n      hpOptions.mod = this.abilities[CONFIG.DND5E.defaultAbilities.hitPoints ?? \"con\"]?.mod ?? 0;\n    }\n    AttributesFields.prepareHitPoints.call(this, this.attributes.hp, hpOptions);\n  }\n\n  /* -------------------------------------------- */\n  /*  Helpers                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Checks whether the item with the given relative UUID has been favorited\n   * @param {string} favoriteId  The relative UUID of the item to check.\n   * @returns {boolean}\n   */\n  hasFavorite(favoriteId) {\n    return !!this.favorites.find(f => f.id === favoriteId);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Add a favorite item to this actor.\n   * If the given item is already favorite, this method has no effect.\n   * @param {ActorFavorites5e} favorite  The favorite to add.\n   * @returns {Promise<Actor5e>}\n   * @throws If the item intended to be favorited does not belong to this actor.\n   */\n  addFavorite(favorite) {\n    if ( this.hasFavorite(favorite.id) ) return Promise.resolve(this.parent);\n\n    if ( favorite.id.startsWith(\".\") && fromUuidSync(favorite.id, { relative: this.parent }) === null ) {\n      // Assume that an ID starting with a \".\" is a relative ID.\n      throw new Error(`The item with id ${favorite.id} is not owned by actor ${this.parent.id}`);\n    }\n\n    let maxSort = 0;\n    const favorites = this.favorites.map(f => {\n      if ( f.sort > maxSort ) maxSort = f.sort;\n      return { ...f };\n    });\n    favorites.push({ ...favorite, sort: maxSort + CONST.SORT_INTEGER_DENSITY });\n    return this.parent.update({ \"system.favorites\": favorites });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Removes the favorite with the given relative UUID or resource ID\n   * @param {string} favoriteId  The relative UUID or resource ID of the favorite to remove.\n   * @returns {Promise<Actor5e>}\n   */\n  removeFavorite(favoriteId) {\n    if ( favoriteId.startsWith(\"resources.\") ) return this.parent.update({ [`system.${favoriteId}.max`]: 0 });\n    const favorites = this.favorites.filter(f => f.id !== favoriteId);\n    return this.parent.update({ \"system.favorites\": favorites });\n  }\n}\n\n/* -------------------------------------------- */\n\n/**\n * Data structure for character's resources.\n *\n * @typedef {object} ResourceData\n * @property {number} value  Available uses of this resource.\n * @property {number} max    Maximum allowed uses of this resource.\n * @property {boolean} sr    Does this resource recover on a short rest?\n * @property {boolean} lr    Does this resource recover on a long rest?\n * @property {string} label  Displayed name.\n */\n\n/**\n * Produce the schema field for a simple trait.\n * @param {object} schemaOptions  Options passed to the outer schema.\n * @returns {ResourceData}\n */\nfunction makeResourceField(schemaOptions={}) {\n  return new SchemaField({\n    value: new NumberField({required: true, integer: true, initial: 0, labels: \"DND5E.ResourceValue\"}),\n    max: new NumberField({required: true, integer: true, initial: 0, labels: \"DND5E.ResourceMax\"}),\n    sr: new BooleanField({required: true, labels: \"DND5E.ShortRestRecovery\"}),\n    lr: new BooleanField({required: true, labels: \"DND5E.LongRestRecovery\"}),\n    label: new StringField({required: true, labels: \"DND5E.ResourceLabel\"})\n  }, schemaOptions);\n}\n","import { setTheme } from \"../settings.mjs\";\n\n/**\n * Sheet config with extra options.\n */\nexport default class SheetConfig5e extends DocumentSheetConfig {\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      template: \"systems/dnd5e/templates/shared/sheet-config.hbs\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  getData(options) {\n    const context = super.getData(options);\n    context.CONFIG = CONFIG.DND5E;\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  async _updateObject(event, formData) {\n    super._updateObject(event, formData);\n    delete formData.sheetClass;\n    delete formData.defaultClass;\n    this.object.update(formData);\n\n    if ( \"flags.dnd5e.theme\" in formData ) {\n      const sheet = this.object.sheet.element?.[0];\n      if ( sheet ) setTheme(sheet, formData[\"flags.dnd5e.theme\"]);\n    }\n  }\n}\n","/**\n * A specialized subclass of Tabs that handles tabs which exist outside an Application's inner HTML.\n * @extends {Tabs}\n */\nexport default class Tabs5e extends Tabs {\n  /** @override */\n  bind(html) {\n    if ( !this._nav ) {\n      this._nav = html.closest(\".app\")?.querySelector(this._navSelector);\n      this._nav?.addEventListener(\"click\", this._onClickNav.bind(this));\n    }\n    if ( !this._nav ) return;\n    if ( !this._contentSelector ) this._content = null;\n    else if ( html.matches(this._contentSelector) ) this._content = html;\n    else this._content = html.querySelector(this._contentSelector);\n    this.activate(this.active);\n  }\n}\n","import * as Trait from \"../../documents/actor/trait.mjs\";\nimport { formatNumber, simplifyBonus, staticID } from \"../../utils.mjs\";\nimport Tabs5e from \"../tabs.mjs\";\n\n/**\n * Adds common V2 sheet functionality.\n * @param {typeof ActorSheet5e} Base  The base class being mixed.\n * @returns {typeof ActorSheetV2}\n */\nexport default function ActorSheetV2Mixin(Base) {\n  return class ActorSheetV2 extends Base {\n    constructor(object, options={}) {\n      const key = `${object.type}${object.limited ? \":limited\" : \"\"}`;\n      const { width, height } = game.user.getFlag(\"dnd5e\", `sheetPrefs.${key}`) ?? {};\n      if ( width && !(\"width\" in options) ) options.width = width;\n      if ( height && !(\"height\" in options) ) options.height = height;\n      super(object, options);\n    }\n\n    /**\n     * @typedef {object} SheetTabDescriptor5e\n     * @property {string} tab     The tab key.\n     * @property {string} label   The tab label's localization key.\n     * @property {string} [icon]  A font-awesome icon.\n     * @property {string} [svg]   An SVG icon.\n     */\n\n    /**\n     * Sheet tabs.\n     * @type {SheetTabDescriptor5e[]}\n     */\n    static TABS = [];\n\n    /**\n     * Available sheet modes.\n     * @enum {number}\n     */\n    static MODES = {\n      PLAY: 1,\n      EDIT: 2\n    };\n\n    /**\n     * The mode the sheet is currently in.\n     * @type {ActorSheetV2.MODES}\n     * @protected\n     */\n    _mode = this.constructor.MODES.PLAY;\n\n    /**\n     * The cached concentration information for the character.\n     * @type {{items: Set<Item5e>, effects: Set<ActiveEffect5e>}}\n     * @internal\n     */\n    _concentration;\n\n    /* -------------------------------------------- */\n    /*  Rendering                                   */\n    /* -------------------------------------------- */\n\n    /** @inheritDoc */\n    async _renderOuter() {\n      const html = await super._renderOuter();\n      const header = html[0].querySelector(\".window-header\");\n\n      // Adjust header buttons.\n      header.querySelectorAll(\".header-button\").forEach(btn => {\n        const label = btn.querySelector(\":scope > i\").nextSibling;\n        btn.dataset.tooltip = label.textContent;\n        btn.setAttribute(\"aria-label\", label.textContent);\n        label.remove();\n      });\n\n      if ( !game.user.isGM && this.actor.limited ) {\n        html[0].classList.add(\"limited\");\n        return html;\n      }\n\n      // Add edit <-> play slide toggle.\n      if ( this.isEditable ) {\n        const toggle = document.createElement(\"slide-toggle\");\n        toggle.checked = this._mode === this.constructor.MODES.EDIT;\n        toggle.classList.add(\"mode-slider\");\n        toggle.dataset.tooltip = \"DND5E.SheetModeEdit\";\n        toggle.setAttribute(\"aria-label\", game.i18n.localize(\"DND5E.SheetModeEdit\"));\n        toggle.addEventListener(\"change\", this._onChangeSheetMode.bind(this));\n        toggle.addEventListener(\"dblclick\", event => event.stopPropagation());\n        header.insertAdjacentElement(\"afterbegin\", toggle);\n      }\n\n      // Document UUID link.\n      const firstButton = header.querySelector(\".header-button\");\n      const idLink = header.querySelector(\".document-id-link\");\n      if ( idLink ) {\n        firstButton?.insertAdjacentElement(\"beforebegin\", idLink);\n        idLink.classList.add(\"header-button\");\n        idLink.dataset.tooltipDirection = \"DOWN\";\n      }\n\n      // Preparation warnings.\n      const warnings = document.createElement(\"a\");\n      warnings.classList.add(\"header-button\", \"preparation-warnings\");\n      warnings.dataset.tooltip = \"Warnings\";\n      warnings.setAttribute(\"aria-label\", game.i18n.localize(\"Warnings\"));\n      warnings.innerHTML = '<i class=\"fas fa-triangle-exclamation\"></i>';\n      warnings.addEventListener(\"click\", this._onOpenWarnings.bind(this));\n      firstButton?.insertAdjacentElement(\"beforebegin\", warnings);\n\n      // Render tabs.\n      const nav = document.createElement(\"nav\");\n      nav.classList.add(\"tabs\", \"tabs-right\");\n      nav.dataset.group = \"primary\";\n      nav.append(...this.constructor.TABS.map(({ tab, label, icon, svg }) => {\n        const item = document.createElement(\"a\");\n        item.classList.add(\"item\", \"control\");\n        item.dataset.group = \"primary\";\n        item.dataset.tab = tab;\n        item.dataset.tooltip = label;\n        item.setAttribute(\"aria-label\", label);\n        if ( icon ) item.innerHTML = `<i class=\"${icon}\"></i>`;\n        else if ( svg ) item.innerHTML = `<dnd5e-icon src=\"systems/dnd5e/icons/svg/${svg}.svg\"></dnd5e-icon>`;\n        return item;\n      }));\n      html[0].insertAdjacentElement(\"afterbegin\", nav);\n      this._tabs = this.options.tabs.map(t => {\n        t.callback = this._onChangeTab.bind(this);\n        if ( this._tabs?.[0]?.active !== t.initial ) t.initial = this._tabs?.[0]?.active ?? t.initial;\n        return new Tabs5e(t);\n      });\n\n      return html;\n    }\n\n    /* -------------------------------------------- */\n\n    /** @inheritDoc */\n    async _render(force=false, options={}) {\n      await super._render(force, options);\n      const [warnings] = this.element.find(\".header-button.preparation-warnings\");\n      warnings?.toggleAttribute(\"hidden\", !this.actor._preparationWarnings?.length);\n    }\n\n    /* -------------------------------------------- */\n\n    /** @inheritDoc */\n    async getData(options) {\n      this._concentration = this.actor.concentration; // Cache concentration so it's not called for every item.\n      const context = await super.getData(options);\n      context.editable = this.isEditable && (this._mode === this.constructor.MODES.EDIT);\n      context.cssClass = context.editable ? \"editable\" : this.isEditable ? \"interactable\" : \"locked\";\n      const activeTab = (game.user.isGM || !this.actor.limited)\n        ? this._tabs?.[0]?.active ?? this.options.tabs[0].initial\n        : \"biography\";\n      const sheetPrefs = `sheetPrefs.${this.actor.type}.tabs.${activeTab}`;\n      context.cssClass += ` tab-${activeTab}`;\n      context.sidebarCollapsed = !!game.user.getFlag(\"dnd5e\", `${sheetPrefs}.collapseSidebar`);\n      if ( context.sidebarCollapsed ) context.cssClass += \" collapsed\";\n      const { attributes } = this.actor.system;\n\n      // Portrait\n      const showTokenPortrait = this.actor.getFlag(\"dnd5e\", \"showTokenPortrait\") === true;\n      const token = this.actor.isToken ? this.actor.token : this.actor.prototypeToken;\n      const defaultArtwork = Actor.implementation.getDefaultArtwork(context.source)?.img;\n      context.portrait = {\n        token: showTokenPortrait,\n        src: showTokenPortrait ? token.texture.src : this.actor.img ?? defaultArtwork,\n        // TODO: Not sure the best way to update the parent texture from this sheet if this is a token actor.\n        path: showTokenPortrait ? this.actor.isToken ? \"\" : \"prototypeToken.texture.src\" : \"img\"\n      };\n\n      // Death Saves\n      const plurals = new Intl.PluralRules(game.i18n.lang, { type: \"ordinal\" });\n      context.death = {};\n      [\"success\", \"failure\"].forEach(deathSave => {\n        context.death[deathSave] = [];\n        for ( let i = 1; i < 4; i++ ) {\n          const n = deathSave === \"failure\" ? i : 4 - i;\n          const i18nKey = `DND5E.DeathSave${deathSave.titleCase()}Label`;\n          const filled = attributes.death[deathSave] >= n;\n          const classes = [\"pip\"];\n          if ( filled ) classes.push(\"filled\");\n          if ( deathSave === \"failure\" ) classes.push(\"failure\");\n          context.death[deathSave].push({\n            n, filled,\n            tooltip: i18nKey,\n            label: game.i18n.localize(`${i18nKey}N.${plurals.select(n)}`),\n            classes: classes.join(\" \")\n          });\n        }\n      });\n\n      // Senses\n      context.senses = Object.entries(CONFIG.DND5E.senses).reduce((obj, [k, label]) => {\n        const value = attributes.senses[k];\n        if ( value ) obj[k] = { label, value };\n        return obj;\n      }, {});\n\n      if ( attributes.senses.special ) attributes.senses.special.split(\";\").forEach((v, i) => {\n        context.senses[`custom${i + 1}`] = { label: v.trim() };\n      });\n\n      // Containers\n      for ( const container of context.containers ?? [] ) {\n        const ctx = context.itemContext[container.id];\n        ctx.capacity = await container.system.computeCapacity();\n        ctx.capacity.maxLabel = Number.isFinite(ctx.capacity.max) ? ctx.capacity.max : \"&infin;\";\n      }\n\n      // Effects & Conditions\n      const conditionIds = new Set();\n      context.conditions = Object.entries(CONFIG.DND5E.conditionTypes).reduce((arr, [k, c]) => {\n        if ( c.pseudo ) return arr; // Filter out pseudo-conditions.\n        const { label: name, icon, reference } = c;\n        const id = staticID(`dnd5e${k}`);\n        conditionIds.add(id);\n        const existing = this.actor.effects.get(id);\n        const { disabled, img } = existing ?? {};\n        arr.push({\n          name, reference,\n          id: k,\n          icon: img ?? icon,\n          disabled: existing ? disabled : true\n        });\n        return arr;\n      }, []);\n\n      for ( const category of Object.values(context.effects) ) {\n        category.effects = await category.effects.reduce(async (arr, effect) => {\n          effect.updateDuration();\n          if ( conditionIds.has(effect.id) && !effect.duration.remaining ) return arr;\n          const { id, name, img, disabled, duration } = effect;\n          const toggleable = !this._concentration?.effects.has(effect);\n          let source = await effect.getSource();\n          // If the source is an ActiveEffect from another Actor, note the source as that Actor instead.\n          if ( (source instanceof dnd5e.documents.ActiveEffect5e) && (source.target !== this.object) ) {\n            source = source.target;\n          }\n          arr = await arr;\n          arr.push({\n            id, name, img, disabled, duration, source, toggleable,\n            parentId: effect.target === effect.parent ? null : effect.parent.id,\n            durationParts: duration.remaining ? duration.label.split(\", \") : [],\n            hasTooltip: source instanceof dnd5e.documents.Item5e\n          });\n          return arr;\n        }, []);\n      }\n\n      context.effects.suppressed.info = context.effects.suppressed.info[0];\n\n      return context;\n    }\n\n    /* -------------------------------------------- */\n\n    /** @override */\n    _prepareTraits() {\n      const traits = {};\n      for ( const [trait, config] of Object.entries(CONFIG.DND5E.traits) ) {\n        const key = config.actorKeyPath ?? `system.traits.${trait}`;\n        const data = foundry.utils.deepClone(foundry.utils.getProperty(this.actor, key));\n        if ( !data ) continue;\n        let values = data.value;\n        if ( !values ) values = [];\n        else if ( values instanceof Set ) values = Array.from(values);\n        else if ( !Array.isArray(values) ) values = [values];\n        values = values.map(key => {\n          const value = { label: Trait.keyLabel(key, { trait }) ?? key };\n          const icons = value.icons = [];\n          if ( data.bypasses?.size && CONFIG.DND5E.damageTypes[key]?.isPhysical ) icons.push(...data.bypasses.map(p => {\n            const type = CONFIG.DND5E.itemProperties[p]?.label;\n            return { icon: p, label: game.i18n.format(\"DND5E.DamagePhysicalBypassesShort\", { type }) };\n          }));\n          return value;\n        });\n        if ( data.custom ) data.custom.split(\";\").forEach(v => values.push({ label: v.trim() }));\n        if ( values.length ) traits[trait] = values;\n      }\n\n      // If petrified, display \"All Damage\" instead of all damage types separately\n      if ( this.document.hasConditionEffect(\"petrification\") ) {\n        traits.dr = [{ label: game.i18n.localize(\"DND5E.DamageAll\") }];\n      }\n\n      // Combine damage & condition immunities in play mode.\n      if ( (this._mode === this.constructor.MODES.PLAY) && traits.ci ) {\n        traits.di ??= [];\n        traits.di.push(...traits.ci);\n        delete traits.ci;\n      }\n\n      // Prepare damage modifications\n      const dm = this.actor.system.traits?.dm;\n      if ( dm ) {\n        const rollData = this.actor.getRollData({ deterministic: true });\n        const values = Object.entries(dm.amount).map(([k, v]) => {\n          const total = simplifyBonus(v, rollData);\n          if ( !total ) return null;\n          const value = {\n            label: `${CONFIG.DND5E.damageTypes[k]?.label ?? k} ${formatNumber(total, { signDisplay: \"always\" })}`,\n            color: total > 0 ? \"maroon\" : \"green\"\n          };\n          const icons = value.icons = [];\n          if ( dm.bypasses.size && CONFIG.DND5E.damageTypes[k]?.isPhysical ) icons.push(...dm.bypasses.map(p => {\n            const type = CONFIG.DND5E.itemProperties[p]?.label;\n            return { icon: p, label: game.i18n.format(\"DND5E.DamagePhysicalBypassesShort\", { type }) };\n          }));\n          return value;\n        }).filter(f => f);\n        if ( values.length ) traits.dm = values;\n      }\n\n      return traits;\n    }\n\n    /* -------------------------------------------- */\n\n    /** @inheritDoc */\n    _prepareItems(context) {\n      super._prepareItems(context);\n\n      // Spell slots\n      const plurals = new Intl.PluralRules(game.i18n.lang, { type: \"ordinal\" });\n      context.spellbook.forEach(section => {\n        if ( !section.usesSlots ) return;\n        const spells = foundry.utils.getProperty(this.actor.system.spells, section.prop);\n        const max = spells.override ?? spells.max ?? 0;\n        section.pips = Array.fromRange(max, 1).map(n => {\n          const filled = spells.value >= n;\n          const label = filled\n            ? game.i18n.format(`DND5E.SpellSlotN.${plurals.select(n)}`, { n })\n            : game.i18n.localize(\"DND5E.SpellSlotExpended\");\n          const classes = [\"pip\"];\n          if ( filled ) classes.push(\"filled\");\n          return { n, label, filled, tooltip: label, classes: classes.join(\" \") };\n        });\n      });\n    }\n\n    /* -------------------------------------------- */\n\n    /** @override */\n    _prepareItem(item, ctx) {\n      const { system } = item;\n\n      // Spells\n      if ( item.type === \"spell\" ) {\n\n        // Activation\n        const cost = system.activation?.cost;\n        const abbr = {\n          action: \"DND5E.ActionAbbr\",\n          bonus: \"DND5E.BonusActionAbbr\",\n          reaction: \"DND5E.ReactionAbbr\",\n          minute: \"DND5E.TimeMinuteAbbr\",\n          hour: \"DND5E.TimeHourAbbr\",\n          day: \"DND5E.TimeDayAbbr\"\n        }[system.activation.type];\n        ctx.activation = cost && abbr ? `${cost}${game.i18n.localize(abbr)}` : item.labels.activation;\n\n        // Range\n        const units = system.range?.units;\n        if ( units && (units !== \"none\") ) {\n          if ( units in CONFIG.DND5E.movementUnits ) {\n            ctx.range = {\n              distance: true,\n              value: system.range.value,\n              unit: game.i18n.localize(`DND5E.Dist${units.capitalize()}Abbr`)\n            };\n          }\n          else ctx.range = { distance: false };\n        }\n\n        // Prepared\n        const mode = system.preparation?.mode;\n        const config = CONFIG.DND5E.spellPreparationModes[mode] ?? {};\n        if ( config.prepares ) {\n          const isAlways = mode === \"always\";\n          const prepared = isAlways || system.preparation.prepared;\n          ctx.preparation = {\n            applicable: true,\n            disabled: !item.isOwner || isAlways,\n            cls: prepared ? \"active\" : \"\",\n            icon: `<i class=\"fa-${prepared ? \"solid\" : \"regular\"} fa-${isAlways ? \"certificate\" : \"sun\"}\"></i>`,\n            title: isAlways\n              ? CONFIG.DND5E.spellPreparationModes.always.label\n              : prepared\n                ? CONFIG.DND5E.spellPreparationModes.prepared.label\n                : game.i18n.localize(\"DND5E.SpellUnprepared\")\n          };\n        }\n        else ctx.preparation = { applicable: false };\n      }\n\n      // Gear\n      else {\n\n        // Attuned\n        if ( ctx.attunement ) {\n          ctx.attunement.applicable = true;\n          ctx.attunement.disabled = !item.isOwner;\n          ctx.attunement.cls = ctx.attunement.cls === \"attuned\" ? \"active\" : \"\";\n        }\n        else ctx.attunement = { applicable: false };\n\n        // Equipped\n        if ( \"equipped\" in system ) {\n          ctx.equip = {\n            applicable: true,\n            cls: system.equipped ? \"active\" : \"\",\n            title: `DND5E.${system.equipped ? \"Equipped\" : \"Unequipped\"}`,\n            disabled: !item.isOwner\n          };\n        }\n        else ctx.equip = { applicable: false };\n\n        // Subtitles\n        ctx.subtitle = [system.type?.label, item.isActive ? item.labels.activation : null].filterJoin(\" &bull; \");\n      }\n\n      // Concentration\n      if ( this._concentration.items.has(item) ) ctx.concentration = true;\n\n      // To Hit\n      const toHit = parseInt(item.labels.modifier);\n      ctx.toHit = item.hasAttack && !isNaN(toHit) ? toHit : null;\n    }\n\n    /* -------------------------------------------- */\n\n    /** @inheritDoc */\n    _getLabels() {\n      const labels = super._getLabels();\n      labels.damageAndHealing = { ...CONFIG.DND5E.damageTypes, ...CONFIG.DND5E.healingTypes };\n      return labels;\n    }\n\n    /* -------------------------------------------- */\n    /*  Event Listeners & Handlers                  */\n    /* -------------------------------------------- */\n\n    /** @inheritDoc */\n    activateListeners(html) {\n      super.activateListeners(html);\n      html.find(\".pips[data-prop]\").on(\"click\", this._onTogglePip.bind(this));\n      html.find(\"proficiency-cycle\").on(\"change\", this._onChangeInput.bind(this));\n      html.find(\".rollable:is(.saving-throw, .ability-check)\").on(\"click\", this._onRollAbility.bind(this));\n      html.find(\".sidebar-collapser\").on(\"click\", this._onToggleSidebar.bind(this));\n      html.find(\"[data-item-id][data-action]\").on(\"click\", this._onItemAction.bind(this));\n      html.find(\"[data-toggle-description]\").on(\"click\", this._onToggleDescription.bind(this));\n      html.find(\"dialog.warnings\").on(\"click\", this._onCloseWarnings.bind(this));\n      this.form.querySelectorAll(\".item-tooltip\").forEach(this._applyItemTooltips.bind(this));\n      this.form.querySelectorAll(\"[data-reference-tooltip]\").forEach(this._applyReferenceTooltips.bind(this));\n\n      // Prevent default middle-click scrolling when locking a tooltip.\n      this.form.addEventListener(\"pointerdown\", event => {\n        if ( (event.button === 1) && document.getElementById(\"tooltip\")?.classList.contains(\"active\") ) {\n          event.preventDefault();\n        }\n      });\n\n      if ( this.isEditable ) {\n        html.find(\".meter > .hit-points\").on(\"click\", event => this._toggleEditHP(event, true));\n        html.find(\".meter > .hit-points > input\").on(\"blur\", event => this._toggleEditHP(event, false));\n        html.find(\".create-child\").on(\"click\", this._onCreateChild.bind(this));\n      }\n\n      // Play mode only.\n      if ( this._mode === this.constructor.MODES.PLAY ) {\n        html.find(\".portrait\").on(\"click\", this._onShowPortrait.bind(this));\n      }\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Handle the user toggling the sheet mode.\n     * @param {Event} event  The triggering event.\n     * @protected\n     */\n    async _onChangeSheetMode(event) {\n      const { MODES } = this.constructor;\n      const toggle = event.currentTarget;\n      const label = game.i18n.localize(`DND5E.SheetMode${toggle.checked ? \"Play\" : \"Edit\"}`);\n      toggle.dataset.tooltip = label;\n      toggle.setAttribute(\"aria-label\", label);\n      this._mode = toggle.checked ? MODES.EDIT : MODES.PLAY;\n      await this.submit();\n      this.render();\n    }\n\n    /* -------------------------------------------- */\n\n    /** @inheritDoc */\n    _onChangeTab(event, tabs, active) {\n      super._onChangeTab(event, tabs, active);\n      this.form.className = this.form.className.replace(/tab-\\w+/g, \"\");\n      this.form.classList.add(`tab-${active}`);\n      const sheetPrefs = `sheetPrefs.${this.actor.type}.tabs.${active}`;\n      const sidebarCollapsed = game.user.getFlag(\"dnd5e\", `${sheetPrefs}.collapseSidebar`);\n      if ( sidebarCollapsed !== undefined ) this._toggleSidebar(sidebarCollapsed);\n      const createChild = this.form.querySelector(\".create-child\");\n      createChild.setAttribute(\"aria-label\", game.i18n.format(\"SIDEBAR.Create\", {\n        type: game.i18n.localize(`DOCUMENT.${active === \"effects\" ? \"ActiveEffect\" : \"Item\"}`)\n      }));\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Handle closing the warnings dialog.\n     * @param {PointerEvent} event  The triggering event.\n     * @protected\n     */\n    _onCloseWarnings(event) {\n      if ( event.target instanceof HTMLDialogElement ) event.target.close();\n      if ( event.target instanceof HTMLAnchorElement ) event.target.closest(\"dialog\")?.close();\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Handle creating a new embedded child.\n     * @returns {ActiveEffect5e|Item5e|void}\n     * @protected\n     */\n    _onCreateChild() {\n      const activeTab = this._tabs?.[0]?.active ?? this.options.tabs[0].initial;\n\n      if ( activeTab === \"effects\" ) return ActiveEffect.implementation.create({\n        name: game.i18n.localize(\"DND5E.EffectNew\"),\n        icon: \"icons/svg/aura.svg\"\n      }, { parent: this.actor, renderSheet: true });\n\n      if ( activeTab === \"spells\" ) return Item.implementation.create({\n        name: game.i18n.format(\"DOCUMENT.New\", { type: game.i18n.format(CONFIG.Item.typeLabels.spell) }),\n        type: \"spell\",\n        img: Item.implementation.getDefaultArtwork({ type: \"spell\" })?.img ?? Item.implementation.DEFAULT_ICON\n      }, { parent: this.actor, renderSheet: true });\n\n      const features = [\"feat\", \"race\", \"background\", \"class\", \"subclass\"];\n      if ( this.actor.type === \"npc\" ) features.push(\"weapon\");\n\n      let types = {\n        features,\n        inventory: [\"weapon\", \"equipment\", \"consumable\", \"tool\", \"container\", \"loot\"]\n      }[activeTab] ?? [];\n\n      types = types.filter(type => {\n        const model = CONFIG.Item.dataModels[type];\n        return !model.metadata?.singleton || !this.actor.itemTypes[type].length;\n      });\n\n      if ( types.length ) return Item.implementation.createDialog({}, {\n        parent: this.actor, pack: this.actor.pack, types\n      });\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Handle performing some action on an owned Item.\n     * @param {PointerEvent} event  The triggering event.\n     * @protected\n     */\n    _onItemAction(event) {\n      if ( event.target.closest(\"select\") ) return;\n      event.preventDefault();\n      event.stopPropagation();\n      const itemId = event.currentTarget.closest(\"[data-item-id]\")?.dataset.itemId;\n      const action = event.currentTarget.dataset.action;\n      const item = this.actor.items.get(itemId);\n\n      switch ( action ) {\n        case \"edit\": item?.sheet.render(true); break;\n        case \"delete\": item?.deleteDialog(); break;\n      }\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Handle opening the warnings dialog.\n     * @param {PointerEvent} event  The triggering event.\n     * @protected\n     */\n    _onOpenWarnings(event) {\n      event.stopImmediatePropagation();\n      const { top, left, height } = event.target.getBoundingClientRect();\n      const { clientWidth } = document.documentElement;\n      const dialog = this.form.querySelector(\"dialog.warnings\");\n      Object.assign(dialog.style, { top: `${top + height}px`, left: `${Math.min(left - 16, clientWidth - 300)}px` });\n      dialog.showModal();\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Toggle editing hit points.\n     * @param {PointerEvent} event  The triggering event.\n     * @param {boolean} edit        Whether to toggle to the edit state.\n     * @protected\n     */\n    _toggleEditHP(event, edit) {\n      const target = event.currentTarget.closest(\".hit-points\");\n      const label = target.querySelector(\":scope > .label\");\n      const input = target.querySelector(\":scope > input\");\n      label.hidden = edit;\n      input.hidden = !edit;\n      if ( edit ) input.focus();\n    }\n\n    /* -------------------------------------------- */\n\n    /** @inheritDoc */\n    _onResize(event) {\n      super._onResize(event);\n      const { width, height } = this.position;\n      const key = `${this.actor.type}${this.actor.limited ? \":limited\": \"\"}`;\n      game.user.setFlag(\"dnd5e\", `sheetPrefs.${key}`, { width, height });\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Handle showing the character's portrait or token art.\n     * @protected\n     */\n    _onShowPortrait() {\n      const showTokenPortrait = this.actor.getFlag(\"dnd5e\", \"showTokenPortrait\") === true;\n      const token = this.actor.isToken ? this.actor.token : this.actor.prototypeToken;\n      const img = showTokenPortrait ? token.texture.src : this.actor.img;\n      new ImagePopout(img, { title: this.actor.name, uuid: this.actor.uuid }).render(true);\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Handle toggling an Item's description.\n     * @param {MouseEvent} event  The triggering event.\n     * @protected\n     */\n    async _onToggleDescription(event) {\n      const target = event.currentTarget;\n      const icon = target.querySelector(\":scope > i\");\n      const row = target.closest(\"[data-item-id]\");\n      const summary = row.querySelector(\":scope > .item-description > .wrapper\");\n      const { itemId } = row.dataset;\n      const expanded = this._expanded.has(itemId);\n      const item = this.actor.items.get(itemId);\n      if ( !item ) return;\n\n      if ( expanded ) {\n        summary.addEventListener(\"transitionend\", () => {\n          if ( row.classList.contains(\"collapsed\") ) summary.replaceChildren();\n        }, { once: true });\n        this._expanded.delete(itemId);\n      } else {\n        const context = await item.getChatData({ secrets: item.isOwner });\n        summary.innerHTML = await renderTemplate(\"systems/dnd5e/templates/items/parts/item-summary.hbs\", context);\n        await new Promise(resolve => requestAnimationFrame(resolve));\n        this._expanded.add(itemId);\n      }\n\n      row.classList.toggle(\"collapsed\", expanded);\n      icon.classList.toggle(\"fa-compress\", !expanded);\n      icon.classList.toggle(\"fa-expand\", expanded);\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Handle toggling a pip on the character sheet.\n     * @param {PointerEvent} event  The triggering event.\n     * @returns {Promise<Actor5e>|void}\n     * @protected\n     */\n    _onTogglePip(event) {\n      const n = Number(event.target.closest(\"[data-n]\")?.dataset.n);\n      if ( !n || isNaN(n) ) return;\n      const prop = event.currentTarget.dataset.prop;\n      let value = foundry.utils.getProperty(this.actor, prop);\n      if ( value === n ) value--;\n      else value = n;\n      return this.actor.update({ [prop]: value });\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Handle the user toggling the sidebar collapsed state.\n     * @protected\n     */\n    _onToggleSidebar() {\n      const collapsed = this._toggleSidebar();\n      const activeTab = this._tabs?.[0]?.active ?? \"details\";\n      game.user.setFlag(\"dnd5e\", `sheetPrefs.${this.actor.type}.tabs.${activeTab}.collapseSidebar`, collapsed);\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Toggle the sidebar collapsed state.\n     * @param {boolean} [collapsed]  Force a particular collapsed state.\n     * @returns {boolean}            The new collapsed state.\n     * @protected\n     */\n    _toggleSidebar(collapsed) {\n      this.form.classList.toggle(\"collapsed\", collapsed);\n      collapsed = this.form.classList.contains(\"collapsed\");\n      const collapser = this.form.querySelector(\".sidebar-collapser\");\n      const icon = collapser.querySelector(\"i\");\n      collapser.dataset.tooltip = `JOURNAL.View${collapsed ? \"Expand\" : \"Collapse\"}`;\n      collapser.setAttribute(\"aria-label\", game.i18n.localize(collapser.dataset.tooltip));\n      icon.classList.remove(\"fa-caret-left\", \"fa-caret-right\");\n      icon.classList.add(`fa-caret-${collapsed ? \"right\" : \"left\"}`);\n      return collapsed;\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Handle rolling an ability check or saving throw.\n     * @param {PointerEvent} event  The triggering event.\n     * @protected\n     */\n    _onRollAbility(event) {\n      const abilityId = event.currentTarget.closest(\"[data-ability]\").dataset.ability;\n      const isSavingThrow = event.currentTarget.classList.contains(\"saving-throw\");\n      if ( abilityId === \"concentration\" ) this.actor.rollConcentration({ event });\n      else if ( isSavingThrow ) this.actor.rollAbilitySave(abilityId, { event });\n      else this.actor.rollAbilityTest(abilityId, { event });\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Initialize item tooltips on an element.\n     * @param {HTMLElement} element  The tooltipped element.\n     * @protected\n     */\n    _applyItemTooltips(element) {\n      if ( \"tooltip\" in element.dataset ) return;\n      const target = element.closest(\"[data-item-id], [data-effect-id], [data-uuid]\");\n      let uuid = target.dataset.uuid;\n      if ( !uuid && target.dataset.itemId ) {\n        const item = this.actor.items.get(target.dataset.itemId);\n        uuid = item?.uuid;\n      } else if ( !uuid && target.dataset.effectId ) {\n        const { effectId, parentId } = target.dataset;\n        const collection = parentId ? this.actor.items.get(parentId).effects : this.actor.effects;\n        uuid = collection.get(effectId)?.uuid;\n      }\n      if ( !uuid ) return;\n      element.dataset.tooltip = `\n        <section class=\"loading\" data-uuid=\"${uuid}\"><i class=\"fas fa-spinner fa-spin-pulse\"></i></section>\n      `;\n      element.dataset.tooltipClass = \"dnd5e2 dnd5e-tooltip item-tooltip\";\n      element.dataset.tooltipDirection ??= \"LEFT\";\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Initialize a rule tooltip on an element.\n     * @param {HTMLElement} element  The tooltipped element.\n     * @protected\n     */\n    _applyReferenceTooltips(element) {\n      if ( \"tooltip\" in element.dataset ) return;\n      const uuid = element.dataset.referenceTooltip;\n      element.dataset.tooltip = `\n        <section class=\"loading\" data-uuid=\"${uuid}\"><i class=\"fas fa-spinner fa-spin-pulse\"></i></section>\n      `;\n    }\n\n    /* -------------------------------------------- */\n    /*  Helpers                                     */\n    /* -------------------------------------------- */\n\n    /**\n     * Can an item be expanded on the sheet?\n     * @param {Item5e} item  Item on the sheet.\n     * @returns {boolean}\n     */\n    canExpand(item) {\n      return ![\"class\", \"subclass\"].includes(item.type);\n    }\n  };\n}\n","import CharacterData from \"../../data/actor/character.mjs\";\nimport * as Trait from \"../../documents/actor/trait.mjs\";\nimport { simplifyBonus } from \"../../utils.mjs\";\nimport CompendiumBrowser from \"../compendium-browser.mjs\";\nimport ContextMenu5e from \"../context-menu.mjs\";\nimport SheetConfig5e from \"../sheet-config.mjs\";\nimport ActorSheet5eCharacter from \"./character-sheet.mjs\";\nimport ActorSheetV2Mixin from \"./sheet-v2-mixin.mjs\";\n\n/**\n * An Actor sheet for player character type actors.\n * @mixes ActorSheetV2\n */\nexport default class ActorSheet5eCharacter2 extends ActorSheetV2Mixin(ActorSheet5eCharacter) {\n  /** @inheritDoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e2\", \"sheet\", \"actor\", \"character\", \"vertical-tabs\"],\n      tabs: [{ navSelector: \".tabs\", contentSelector: \".tab-body\", initial: \"details\" }],\n      dragDrop: [\n        { dragSelector: \".item-list .item\", dropSelector: null },\n        { dragSelector: \".containers .container\", dropSelector: null },\n        { dragSelector: \".favorites :is([data-item-id], [data-effect-id])\", dropSelector: null },\n        { dragSelector: \":is(.race, .background)[data-item-id]\", dropSelector: null },\n        { dragSelector: \".classes .gold-icon[data-item-id]\", dropSelector: null },\n        { dragSelector: \"[data-key] .skill-name, [data-key] .tool-name\", dropSelector: null },\n        { dragSelector: \".spells-list .spell-header, .slots[data-favorite-id]\", dropSelector: null }\n      ],\n      scrollY: [\".main-content\"],\n      width: 800,\n      height: 1000,\n      resizable: true\n    });\n  }\n\n  /**\n   * Proficiency class names.\n   * @enum {string}\n   */\n  static PROFICIENCY_CLASSES = {\n    0: \"none\",\n    0.5: \"half\",\n    1: \"full\",\n    2: \"double\"\n  };\n\n  /** @override */\n  static TABS = [\n    { tab: \"details\", label: \"DND5E.Details\", icon: \"fas fa-cog\" },\n    { tab: \"inventory\", label: \"DND5E.Inventory\", svg: \"backpack\" },\n    { tab: \"features\", label: \"DND5E.Features\", icon: \"fas fa-list\" },\n    { tab: \"spells\", label: \"TYPES.Item.spellPl\", icon: \"fas fa-book\" },\n    { tab: \"effects\", label: \"DND5E.Effects\", icon: \"fas fa-bolt\" },\n    { tab: \"biography\", label: \"DND5E.Biography\", icon: \"fas fa-feather\" }\n  ];\n\n  /**\n   * Whether the user has manually opened the death save tray.\n   * @type {boolean}\n   * @protected\n   */\n  _deathTrayOpen = false;\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  get template() {\n    if ( !game.user.isGM && this.actor.limited ) return \"systems/dnd5e/templates/actors/limited-sheet-2.hbs\";\n    return \"systems/dnd5e/templates/actors/character-sheet-2.hbs\";\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _render(force=false, options={}) {\n    await super._render(force, options);\n    if ( !this.rendered ) return;\n    const context = options.renderContext ?? options.action;\n    const data = options.renderData ?? options.data;\n    const isUpdate = (context === \"update\") || (context === \"updateActor\");\n    const hp = foundry.utils.getProperty(data ?? {}, \"system.attributes.hp.value\");\n    if ( isUpdate && (hp === 0) ) this._toggleDeathTray(true);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async getData(options) {\n    const context = await super.getData(options);\n    const { attributes, details, traits } = this.actor.system;\n\n    // Class\n    context.labels.class = Object.values(this.actor.classes).sort((a, b) => {\n      return b.system.levels - a.system.levels;\n    }).map(c => `${c.name} ${c.system.levels}`).join(\" / \");\n\n    // Exhaustion\n    const max = CONFIG.DND5E.conditionTypes.exhaustion.levels;\n    context.exhaustion = Array.fromRange(max, 1).reduce((acc, n) => {\n      const label = game.i18n.format(\"DND5E.ExhaustionLevel\", { n });\n      const classes = [\"pip\"];\n      const filled = attributes.exhaustion >= n;\n      if ( filled ) classes.push(\"filled\");\n      if ( n === max ) classes.push(\"death\");\n      const pip = { n, label, filled, tooltip: label, classes: classes.join(\" \") };\n\n      if ( n <= max / 2 ) acc.left.push(pip);\n      else acc.right.push(pip);\n      return acc;\n    }, { left: [], right: [] });\n\n    // Speed\n    context.speed = Object.entries(CONFIG.DND5E.movementTypes).reduce((obj, [k, label]) => {\n      const value = attributes.movement[k];\n      if ( value > obj.value ) Object.assign(obj, { value, label });\n      return obj;\n    }, { value: 0, label: CONFIG.DND5E.movementTypes.walk });\n\n    // Death Saves\n    context.death.open = this._deathTrayOpen;\n\n    // Ability Scores\n    context.abilityRows = Object.entries(context.abilities).reduce((obj, [k, ability]) => {\n      ability.key = k;\n      ability.abbr = CONFIG.DND5E.abilities[k]?.abbreviation ?? \"\";\n      ability.baseValue = context.source.abilities[k]?.value ?? 0;\n      if ( obj.bottom.length > 5 ) obj.top.push(ability);\n      else obj.bottom.push(ability);\n      return obj;\n    }, { top: [], bottom: [] });\n    context.abilityRows.optional = Object.keys(CONFIG.DND5E.abilities).length - 6;\n\n    // Saving Throws\n    context.saves = {};\n    for ( let ability of Object.values(context.abilities) ) {\n      ability = context.saves[ability.key] = { ...ability };\n      ability.class = this.constructor.PROFICIENCY_CLASSES[context.editable ? ability.baseProf : ability.proficient];\n      ability.hover = CONFIG.DND5E.proficiencyLevels[ability.proficient];\n    }\n\n    if ( this.actor.statuses.has(CONFIG.specialStatusEffects.CONCENTRATING) || context.editable ) {\n      context.saves.concentration = {\n        isConcentration: true,\n        class: \"colspan concentration\",\n        label: game.i18n.localize(\"DND5E.Concentration\"),\n        abbr: game.i18n.localize(\"DND5E.Concentration\"),\n        save: attributes.concentration.save\n      };\n    }\n\n    // Size\n    context.size = {\n      label: CONFIG.DND5E.actorSizes[traits.size]?.label ?? traits.size,\n      abbr: CONFIG.DND5E.actorSizes[traits.size]?.abbreviation ?? \"\",\n      mod: attributes.encumbrance.mod\n    };\n\n    // Skills & Tools\n    for ( const [key, entry] of Object.entries(context.skills).concat(Object.entries(context.tools)) ) {\n      entry.class = this.constructor.PROFICIENCY_CLASSES[context.editable ? entry.baseValue : entry.value];\n      if ( key in CONFIG.DND5E.skills ) entry.reference = CONFIG.DND5E.skills[key].reference;\n      else if ( key in CONFIG.DND5E.toolIds ) entry.reference = Trait.getBaseItemUUID(CONFIG.DND5E.toolIds[key]);\n    }\n\n    // Character Background\n    context.creatureType = {\n      class: details.type.value === \"custom\" ? \"none\" : \"\",\n      icon: CONFIG.DND5E.creatureTypes[details.type.value]?.icon ?? \"icons/svg/mystery-man.svg\",\n      title: details.type.value === \"custom\"\n        ? details.type.custom\n        : CONFIG.DND5E.creatureTypes[details.type.value]?.label,\n      reference: CONFIG.DND5E.creatureTypes[details.type.value]?.reference,\n      subtitle: details.type.subtype\n    };\n\n    if ( details.race instanceof dnd5e.documents.Item5e ) context.race = details.race;\n    if ( details.background instanceof dnd5e.documents.Item5e ) context.background = details.background;\n\n    // Senses\n    if ( foundry.utils.isEmpty(context.senses) ) delete context.senses;\n\n    // Spellcasting\n    context.spellcasting = [];\n    const msak = simplifyBonus(this.actor.system.bonuses.msak.attack, context.rollData);\n    const rsak = simplifyBonus(this.actor.system.bonuses.rsak.attack, context.rollData);\n\n    for ( const item of Object.values(this.actor.classes).sort((a, b) => b.system.levels - a.system.levels) ) {\n      const sc = item.spellcasting;\n      if ( !sc?.progression || (sc.progression === \"none\") ) continue;\n      const ability = this.actor.system.abilities[sc.ability];\n      const mod = ability?.mod ?? 0;\n      const attackBonus = msak === rsak ? msak : 0;\n      const name = item.system.spellcasting.progression === sc.progression ? item.name : item.subclass?.name;\n      context.spellcasting.push({\n        label: game.i18n.format(\"DND5E.SpellcastingClass\", { class: name }),\n        ability: { mod, ability: sc.ability },\n        attack: mod + this.actor.system.attributes.prof + attackBonus,\n        primary: this.actor.system.attributes.spellcasting === sc.ability,\n        save: ability?.dc ?? 0\n      });\n    }\n\n    // Characteristics\n    context.characteristics = [\n      \"alignment\", \"eyes\", \"height\", \"faith\", \"hair\", \"weight\", \"gender\", \"skin\", \"age\"\n    ].map(k => {\n      const fields = CharacterData.schema.fields.details.fields;\n      const field = fields[k];\n      const name = `system.details.${k}`;\n      return { name, label: field.label, value: foundry.utils.getProperty(this.actor, name) ?? \"\" };\n    });\n\n    // Favorites\n    context.favorites = await this._prepareFavorites();\n    context.favorites.sort((a, b) => a.sort - b.sort);\n\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _prepareItems(context) {\n    super._prepareItems(context);\n    context.containers = context.inventory\n      .findSplice(entry => entry.dataset.type === \"container\")\n      ?.items?.sort((a, b) => a.sort - b.sort);\n    context.inventory = context.inventory.filter(entry => entry.items.length);\n    context.inventory.push({ label: \"DND5E.Contents\", items: [], dataset: { type: \"all\" } });\n\n    // Remove races & background as they are shown on the details tab instead.\n    const features = context.features.filter(f => (f.dataset.type !== \"background\") && (f.dataset.type !== \"race\"));\n    features.forEach(f => {\n      if ( f.hasActions ) f.dataset.type = \"active\";\n      else f.dataset.type = \"passive\";\n    });\n\n    // Add extra categories for features grouping.\n    Object.values(this.actor.classes ?? {}).sort((a, b) => b.system.levels - a.system.levels).forEach(cls => {\n      features.push({\n        label: game.i18n.format(\"DND5E.FeaturesClass\", { class: cls.name }),\n        items: [],\n        dataset: { type: cls.identifier }\n      });\n    });\n\n    if ( this.actor.system.details.race instanceof dnd5e.documents.Item5e ) {\n      features.push({ label: \"DND5E.FeaturesRace\", items: [], dataset: { type: \"race\" } });\n    }\n\n    if ( this.actor.system.details.background instanceof dnd5e.documents.Item5e ) {\n      features.push({ label: \"DND5E.FeaturesBackground\", items: [], dataset: { type: \"background\" } });\n    }\n\n    features.push({ label: \"DND5E.FeaturesOther\", items: [], dataset: { type: \"other\" } });\n    context.classes = features.findSplice(f => f.isClass)?.items;\n\n    context.features = {\n      sections: features,\n      filters: [\n        { key: \"action\", label: \"DND5E.Action\" },\n        { key: \"bonus\", label: \"DND5E.BonusAction\" },\n        { key: \"reaction\", label: \"DND5E.Reaction\" },\n        { key: \"sr\", label: \"DND5E.ShortRest\" },\n        { key: \"lr\", label: \"DND5E.LongRest\" },\n        { key: \"concentration\", label: \"DND5E.Concentration\" },\n        { key: \"mgc\", label: \"DND5E.Item.Property.Magical\" }\n      ]\n    };\n\n    // TODO: Customise this per-section.\n    features.forEach(section => {\n      section.categories = [\n        { classes: \"item-uses\", label: \"DND5E.Uses\", partial: \"dnd5e.column-uses\" },\n        { classes: \"item-recovery\", label: \"DND5E.Recovery\", partial: \"dnd5e.column-recovery\" },\n        { classes: \"item-controls\", partial: \"dnd5e.column-feature-controls\" }\n      ];\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    html.find(\".death-tab\").on(\"click\", () => this._toggleDeathTray());\n    html.find(\"[data-action]\").on(\"click\", this._onAction.bind(this));\n\n    // Apply special context menus for items outside inventory elements\n    const featuresElement = html[0].querySelector(`[data-tab=\"features\"] ${this.options.elements.inventory}`);\n    if ( featuresElement ) new ContextMenu5e(html, \".pills-lg [data-item-id]\", [], {\n      onOpen: (...args) => featuresElement._onOpenContextMenu(...args)\n    });\n\n    // Edit mode only.\n    if ( this._mode === this.constructor.MODES.EDIT ) {\n      html.find(\".tab.details .item-action\").on(\"click\", this._onItemAction.bind(this));\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  _disableOverriddenFields(html) {\n    // When in edit mode, field values will be the base value, rather than the derived value, so it should not be\n    // necessary to disable them anymore.\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  _getSubmitData(updateData={}) {\n    // Skip over ActorSheet#_getSubmitData to allow for editing overridden values.\n    return FormApplication.prototype._getSubmitData.call(this, updateData);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _disableFields(form) {\n    super._disableFields(form);\n    form.querySelectorAll(\".interface-only\").forEach(input => input.disabled = false);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async activateEditor(name, options={}, initialContent=\"\") {\n    options.relativeLinks = true;\n    options.plugins = {\n      menu: ProseMirror.ProseMirrorMenu.build(ProseMirror.defaultSchema, {\n        compact: true,\n        destroyOnSave: false,\n        onSave: () => this.saveEditor(name, { remove: false })\n      })\n    };\n    return super.activateEditor(name, options, initialContent);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _onDragStart(event) {\n    // Add another deferred deactivation to catch the second pointerenter event that seems to be fired on Firefox.\n    requestAnimationFrame(() => game.tooltip.deactivate());\n    game.tooltip.deactivate();\n\n    const modes = CONFIG.DND5E.spellPreparationModes;\n\n    const { key } = event.target.closest(\"[data-key]\")?.dataset ?? {};\n    const { level, preparationMode } = event.target.closest(\"[data-level]\")?.dataset ?? {};\n    const isSlots = event.target.closest(\"[data-favorite-id]\") || event.target.classList.contains(\"spell-header\");\n    let type;\n    if ( key in CONFIG.DND5E.skills ) type = \"skill\";\n    else if ( key in CONFIG.DND5E.toolIds ) type = \"tool\";\n    else if ( modes[preparationMode]?.upcast && (level !== \"0\") && isSlots ) type = \"slots\";\n    if ( !type ) return super._onDragStart(event);\n    const dragData = { dnd5e: { action: \"favorite\", type } };\n    if ( type === \"slots\" ) dragData.dnd5e.id = (preparationMode === \"prepared\") ? `spell${level}` : preparationMode;\n    else dragData.dnd5e.id = key;\n    event.dataTransfer.setData(\"application/json\", JSON.stringify(dragData));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Toggle the death save tray.\n   * @param {boolean} [open]  Force a particular open state.\n   * @protected\n   */\n  _toggleDeathTray(open) {\n    const tray = this.form.querySelector(\".death-tray\");\n    const tab = tray.querySelector(\".death-tab\");\n    tray.classList.toggle(\"open\", open);\n    this._deathTrayOpen = tray.classList.contains(\"open\");\n    tab.dataset.tooltip = `DND5E.DeathSave${this._deathTrayOpen ? \"Hide\" : \"Show\"}`;\n    tab.setAttribute(\"aria-label\", game.i18n.localize(tab.dataset.tooltip));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle the user performing some sheet action.\n   * @param {PointerEvent} event  The triggering event.\n   * @protected\n   */\n  _onAction(event) {\n    const target = event.currentTarget;\n    switch ( target.dataset.action ) {\n      case \"findItem\": this._onFindItem(target.dataset.itemType); break;\n      case \"removeFavorite\": this._onRemoveFavorite(event); break;\n      case \"spellcasting\": this._onToggleSpellcasting(event); break;\n      case \"toggleInspiration\": this._onToggleInspiration(); break;\n      case \"useFavorite\": this._onUseFavorite(event); break;\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _onChangeInput(event) {\n    const { name } = event.target.dataset;\n    const { itemId } = event.target.closest(\"[data-item-id]\")?.dataset ?? {};\n    const item = this.actor.items.get(itemId);\n    if ( event.target.closest(\".favorites\") && name && item ) return item.update({ [name]: event.target.value });\n    return super._onChangeInput(event);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  _onConfigureSheet(event) {\n    event.preventDefault();\n    new SheetConfig5e(this.document, {\n      top: this.position.top + 40,\n      left: this.position.left + ((this.position.width - DocumentSheet.defaultOptions.width) / 2)\n    }).render(true);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Show available items of a given type.\n   * @param {string} type  The item type.\n   * @protected\n   */\n  async _onFindItem(type) {\n    if ( game.release.generation < 12 ) {\n      switch ( type ) {\n        case \"class\": game.packs.get(CONFIG.DND5E.sourcePacks.CLASSES)?.render(true); break;\n        case \"race\": game.packs.get(CONFIG.DND5E.sourcePacks.RACES)?.render(true); break;\n        case \"background\": game.packs.get(CONFIG.DND5E.sourcePacks.BACKGROUNDS)?.render(true); break;\n      }\n    } else {\n      new CompendiumBrowser({ filters: { locked: { types: new Set([type]) } } }).render(true);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle toggling inspiration.\n   * @protected\n   */\n  _onToggleInspiration() {\n    this.actor.update({ \"system.attributes.inspiration\": !this.actor.system.attributes.inspiration });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle toggling the character's primary spellcasting ability.\n   * @param {PointerEvent} event  The triggering event.\n   * @protected\n   */\n  _onToggleSpellcasting(event) {\n    const ability = event.currentTarget.closest(\"[data-ability]\")?.dataset.ability;\n    this.actor.update({ \"system.attributes.spellcasting\": ability });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _filterItem(item) {\n    if ( item.type === \"container\" ) return true;\n  }\n\n  /* -------------------------------------------- */\n  /*  Favorites                                   */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _onDrop(event) {\n    if ( !event.target.closest(\".favorites\") ) return super._onDrop(event);\n    const dragData = event.dataTransfer.getData(\"application/json\");\n    if ( !dragData ) return super._onDrop(event);\n    let data;\n    try {\n      data = JSON.parse(dragData);\n    } catch(e) {\n      console.error(e);\n      return;\n    }\n    const { action, type, id } = data.dnd5e ?? {};\n    if ( action === \"favorite\" ) return this._onDropFavorite(event, { type, id });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _onDropItem(event, data) {\n    if ( !event.target.closest(\".favorites\") ) return super._onDropItem(event, data);\n    const item = await Item.implementation.fromDropData(data);\n    if ( item?.parent !== this.actor ) return super._onDropItem(event, data);\n    const uuid = item.getRelativeUUID(this.actor);\n    return this._onDropFavorite(event, { type: \"item\", id: uuid });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _onDropActiveEffect(event, data) {\n    if ( !event.target.closest(\".favorites\") ) return super._onDropActiveEffect(event, data);\n    const effect = await ActiveEffect.implementation.fromDropData(data);\n    if ( effect.target !== this.actor ) return super._onDropActiveEffect(event, data);\n    const uuid = effect.getRelativeUUID(this.actor);\n    return this._onDropFavorite(event, { type: \"effect\", id: uuid });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle an owned item or effect being dropped in the favorites area.\n   * @param {PointerEvent} event         The triggering event.\n   * @param {ActorFavorites5e} favorite  The favorite that was dropped.\n   * @returns {Promise<Actor5e>|void}\n   * @protected\n   */\n  _onDropFavorite(event, favorite) {\n    if ( this.actor.system.hasFavorite(favorite.id) ) return this._onSortFavorites(event, favorite.id);\n    return this.actor.system.addFavorite(favorite);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle removing a favorite.\n   * @param {PointerEvent} event  The triggering event.\n   * @returns {Promise<Actor5e>|void}\n   * @protected\n   */\n  _onRemoveFavorite(event) {\n    const { favoriteId } = event.currentTarget.closest(\"[data-favorite-id]\")?.dataset ?? {};\n    if ( !favoriteId ) return;\n    return this.actor.system.removeFavorite(favoriteId);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle re-ordering the favorites list.\n   * @param {DragEvent} event  The drop event.\n   * @param {string} srcId     The identifier of the dropped favorite.\n   * @returns {Promise<Actor5e>|void}\n   * @protected\n   */\n  _onSortFavorites(event, srcId) {\n    const dropTarget = event.target.closest(\"[data-favorite-id]\");\n    if ( !dropTarget ) return;\n    let source;\n    let target;\n    const targetId = dropTarget.dataset.favoriteId;\n    if ( srcId === targetId ) return;\n    const siblings = this.actor.system.favorites.filter(f => {\n      if ( f.id === targetId ) target = f;\n      else if ( f.id === srcId ) source = f;\n      return f.id !== srcId;\n    });\n    const updates = SortingHelpers.performIntegerSort(source, { target, siblings });\n    const favorites = this.actor.system.favorites.reduce((map, f) => map.set(f.id, { ...f }), new Map());\n    for ( const { target, update } of updates ) {\n      const favorite = favorites.get(target.id);\n      foundry.utils.mergeObject(favorite, update);\n    }\n    return this.actor.update({ \"system.favorites\": Array.from(favorites.values()) });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle using a favorited item.\n   * @param {PointerEvent} event  The triggering event.\n   * @returns {Promise|void}\n   * @protected\n   */\n  async _onUseFavorite(event) {\n    if ( !this.isEditable ) return;\n    const { favoriteId } = event.currentTarget.closest(\"[data-favorite-id]\").dataset;\n    const favorite = await fromUuid(favoriteId, { relative: this.actor });\n    if ( favorite instanceof dnd5e.documents.Item5e ) return favorite.use({}, { event });\n    if ( favorite instanceof dnd5e.documents.ActiveEffect5e ) return favorite.update({ disabled: !favorite.disabled });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare favorites for display.\n   * @returns {Promise<object>}\n   * @protected\n   */\n  async _prepareFavorites() {\n    // Legacy resources\n    const resources = Object.entries(this.actor.system.resources).reduce((arr, [k, r]) => {\n      const { value, max, sr, lr, label } = r;\n      const source = this.actor._source.system.resources[k];\n      if ( label && max ) arr.push({\n        id: `resources.${k}`,\n        type: \"resource\",\n        img: \"icons/svg/upgrade.svg\",\n        resource: { value, max, source },\n        css: \"uses\",\n        title: label,\n        subtitle: [\n          sr ? game.i18n.localize(\"DND5E.AbbreviationSR\") : null,\n          lr ? game.i18n.localize(\"DND5E.AbbreviationLR\") : null\n        ].filterJoin(\" &bull; \")\n      });\n      return arr;\n    }, []);\n\n    return resources.concat(await this.actor.system.favorites.reduce(async (arr, f) => {\n      const { id, type, sort } = f;\n      const favorite = await fromUuid(id, { relative: this.actor });\n      if ( !favorite && ((type === \"item\") || (type === \"effect\")) ) return arr;\n      arr = await arr;\n\n      let data;\n      if ( type === \"item\" ) data = await favorite.system.getFavoriteData();\n      else if ( type === \"effect\" ) data = await favorite.getFavoriteData();\n      else data = await this._getFavoriteData(type, id);\n      if ( !data ) return arr;\n      let {\n        img, title, subtitle, value, uses, quantity, modifier, passive,\n        save, range, reference, toggle, suppressed, level\n      } = data;\n\n      const css = [];\n      if ( uses ) {\n        css.push(\"uses\");\n        uses.value = Math.round(uses.value);\n      }\n      else if ( modifier !== undefined ) css.push(\"modifier\");\n      else if ( save?.dc ) css.push(\"save\");\n      else if ( value !== undefined ) css.push(\"value\");\n\n      if ( toggle === false ) css.push(\"disabled\");\n      if ( uses?.max > 100 ) css.push(\"uses-sm\");\n      if ( modifier !== undefined ) {\n        const value = Number(modifier.replace?.(/\\s+/g, \"\") ?? modifier);\n        if ( !isNaN(value) ) modifier = value;\n      }\n\n      const rollableClass = [];\n      if ( this.isEditable && (type !== \"slots\") ) rollableClass.push(\"rollable\");\n      if ( type === \"skill\" ) rollableClass.push(\"skill-name\");\n      else if ( type === \"tool\" ) rollableClass.push(\"tool-name\");\n\n      if ( suppressed ) subtitle = game.i18n.localize(\"DND5E.Suppressed\");\n      arr.push({\n        id, img, type, title, value, uses, sort, save, modifier, passive, range, reference, suppressed, level,\n        itemId: type === \"item\" ? favorite.id : null,\n        effectId: type === \"effect\" ? favorite.id : null,\n        parentId: (type === \"effect\") && (favorite.parent !== favorite.target) ? favorite.parent.id: null,\n        preparationMode: (type === \"slots\") ? (/spell\\d+/.test(id) ? \"prepared\" : id) : null,\n        key: (type === \"skill\") || (type === \"tool\") ? id : null,\n        toggle: toggle === undefined ? null : { applicable: true, value: toggle },\n        quantity: quantity > 1 ? quantity : \"\",\n        rollableClass: rollableClass.filterJoin(\" \"),\n        css: css.filterJoin(\" \"),\n        bareName: type === \"slots\",\n        subtitle: Array.isArray(subtitle) ? subtitle.filterJoin(\" &bull; \") : subtitle\n      });\n      return arr;\n    }, []));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare data for a favorited entry.\n   * @param {\"skill\"|\"tool\"|\"slots\"} type  The type of favorite.\n   * @param {string} id                    The favorite's identifier.\n   * @returns {Promise<FavoriteData5e|void>}\n   * @protected\n   */\n  async _getFavoriteData(type, id) {\n    // Spell slots\n    if ( type === \"slots\" ) {\n      const { value, max, level } = this.actor.system.spells[id] ?? {};\n      const uses = { value, max, name: `system.spells.${id}.value` };\n      if ( !/spell\\d+/.test(id) ) return {\n        uses, level,\n        title: game.i18n.localize(`DND5E.SpellSlots${id.capitalize()}`),\n        subtitle: [\n          game.i18n.localize(`DND5E.SpellLevel${level}`),\n          game.i18n.localize(`DND5E.Abbreviation${CONFIG.DND5E.spellcastingTypes[id]?.shortRest ? \"SR\" : \"LR\"}`)\n        ],\n        img: CONFIG.DND5E.spellcastingTypes[id]?.img || CONFIG.DND5E.spellcastingTypes.pact.img\n      };\n\n      const plurals = new Intl.PluralRules(game.i18n.lang, { type: \"ordinal\" });\n      const isSR = CONFIG.DND5E.spellcastingTypes.leveled.shortRest;\n      return {\n        uses, level,\n        title: game.i18n.format(`DND5E.SpellSlotsN.${plurals.select(level)}`, { n: level }),\n        subtitle: game.i18n.localize(`DND5E.Abbreviation${isSR ? \"SR\" : \"LR\"}`),\n        img: CONFIG.DND5E.spellcastingTypes.leveled.img.replace(\"{id}\", id)\n      };\n    }\n\n    // Skills & Tools\n    else {\n      const data = this.actor.system[`${type}s`]?.[id];\n      if ( !data ) return;\n      const { total, ability, passive } = data ?? {};\n      const subtitle = game.i18n.format(\"DND5E.AbilityPromptTitle\", {\n        ability: CONFIG.DND5E.abilities[ability].label\n      });\n      let img;\n      let title;\n      let reference;\n      if ( type === \"tool\" ) {\n        reference = Trait.getBaseItemUUID(CONFIG.DND5E.toolIds[id]);\n        ({ img, name: title } = Trait.getBaseItem(reference, { indexOnly: true }));\n      }\n      else if ( type === \"skill\" ) ({ icon: img, label: title, reference } = CONFIG.DND5E.skills[id]);\n      return { img, title, subtitle, modifier: total, passive, reference };\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Helpers                                     */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  canExpand(item) {\n    return ![\"background\", \"race\"].includes(item.type) && super.canExpand(item);\n  }\n}\n","import ActorSheet5e from \"./base-sheet.mjs\";\nimport ActorTypeConfig from \"./type-config.mjs\";\n\n/**\n * An Actor sheet for NPC type characters.\n */\nexport default class ActorSheet5eNPC extends ActorSheet5e {\n\n  /** @inheritDoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\", \"sheet\", \"actor\", \"npc\"],\n      width: 600\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Context Preparation                         */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async getData(options) {\n    const context = await super.getData(options);\n\n    // Challenge Rating\n    const cr = parseFloat(context.system.details.cr ?? 0);\n    const crLabels = {0: \"0\", 0.125: \"1/8\", 0.25: \"1/4\", 0.5: \"1/2\"};\n\n    // Class Spellcasting\n    context.classSpellcasting = Object.values(this.actor.classes).some(c => c.spellcasting?.levels);\n\n    return foundry.utils.mergeObject(context, {\n      labels: {\n        cr: cr >= 1 ? String(cr) : crLabels[cr] ?? 1,\n        type: context.system.details.type.label,\n        armorType: this.getArmorLabel()\n      }\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  _prepareItems(context) {\n\n    // Categorize Items as Features and Spells\n    const features = {\n      weapons: { label: game.i18n.localize(\"DND5E.AttackPl\"), items: [], hasActions: true,\n        dataset: {type: \"weapon\", \"weapon-type\": \"natural\"} },\n      actions: { label: game.i18n.localize(\"DND5E.ActionPl\"), items: [], hasActions: true,\n        dataset: {type: \"feat\", \"activation.type\": \"action\"} },\n      passive: { label: game.i18n.localize(\"DND5E.Features\"), items: [], dataset: {type: \"feat\"} },\n      equipment: { label: game.i18n.localize(\"DND5E.Inventory\"), items: [], dataset: {type: \"loot\"}}\n    };\n\n    // Start by classifying items into groups for rendering\n    const maxLevelDelta = CONFIG.DND5E.maxLevel - (this.actor.system.details.level ?? 0);\n    const [spells, other] = context.items.reduce((arr, item) => {\n      const {quantity, uses, target} = item.system;\n      const ctx = context.itemContext[item.id] ??= {};\n      ctx.isStack = Number.isNumeric(quantity) && (quantity !== 1);\n      ctx.isExpanded = this._expanded.has(item.id);\n      ctx.hasUses = uses && (uses.max > 0);\n      ctx.hasTarget = !!target && !([\"none\", \"\"].includes(target.type));\n      ctx.canToggle = false;\n      ctx.totalWeight = item.system.totalWeight?.toNearest(0.1);\n      // Item grouping\n      ctx.group = item.system.activation?.type || \"passive\";\n      ctx.ungroup = \"feat\";\n      if ( item.type === \"weapon\" ) ctx.ungroup = \"weapon\";\n      if ( ctx.group === \"passive\" ) ctx.ungroup = \"passive\";\n      // Individual item preparation\n      this._prepareItem(item, ctx);\n      if ( item.type === \"class\" ) ctx.availableLevels = Array.fromRange(CONFIG.DND5E.maxLevel, 1).map(level => ({\n        level, delta: level - item.system.levels, disabled: (level - item.system.levels) > maxLevelDelta\n      }));\n      if ( item.type === \"spell\" ) arr[0].push(item);\n      else arr[1].push(item);\n      return arr;\n    }, [[], []]);\n\n    // Organize Spellbook\n    const spellbook = this._prepareSpellbook(context, spells);\n\n    // Organize Features\n    for ( let item of other ) {\n      if ( item.type === \"weapon\" ) features.weapons.items.push(item);\n      else if ( [\"background\", \"class\", \"feat\", \"race\", \"subclass\"].includes(item.type) ) {\n        if ( item.system.activation?.type ) features.actions.items.push(item);\n        else features.passive.items.push(item);\n      }\n      else features.equipment.items.push(item);\n    }\n\n    // Assign and return\n    context.inventoryFilters = true;\n    context.features = Object.values(features);\n    context.spellbook = spellbook;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Format NPC armor information into a localized string.\n   * @returns {string}  Formatted armor label.\n   */\n  getArmorLabel() {\n    const ac = this.actor.system.attributes.ac;\n    const label = [];\n    if ( ac.calc === \"default\" ) label.push(this.actor.armor?.name || game.i18n.localize(\"DND5E.ArmorClassUnarmored\"));\n    else label.push(game.i18n.localize(CONFIG.DND5E.armorClasses[ac.calc].label));\n    if ( this.actor.shield ) label.push(this.actor.shield.name);\n    return label.filterJoin(\", \");\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * A helper method to establish the displayed preparation state for an item.\n   * @param {Item5e} item     Item being prepared for display.\n   * @param {object} context  Context data for display.\n   * @protected\n   */\n  _prepareItem(item, context) {}\n\n  /* -------------------------------------------- */\n  /*  Event Listeners and Handlers\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    if ( !this.isEditable ) return;\n    html.find(\".rollable[data-action]\").click(this._onSheetAction.bind(this));\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _onConfigMenu(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    if ( (event.currentTarget.dataset.action === \"type\") && (this.actor.system.details.race?.id) ) {\n      new ActorTypeConfig(this.actor.system.details.race, { keyPath: \"system.type\" }).render(true);\n    }\n    else return super._onConfigMenu(event);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle mouse click events for NPC sheet actions.\n   * @param {MouseEvent} event  The originating click event.\n   * @returns {Promise|void}\n   * @private\n   */\n  _onSheetAction(event) {\n    event.preventDefault();\n    const button = event.currentTarget;\n    switch ( button.dataset.action ) {\n      case \"editDescription\":\n        const { target } = button.closest(\"[data-target]\").dataset;\n        const editor = this.editors[target];\n        editor.initial = foundry.utils.getProperty(this.actor, target);\n        return this.activateEditor(name, {}, editor.initial);\n\n      case \"rollDeathSave\":\n        return this.actor.rollDeathSave({ event });\n\n      case \"rollInitiative\":\n        event.stopPropagation();\n        return this.actor.rollInitiativeDialog({ event });\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Object Updates                              */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _updateObject(event, formData) {\n\n    // Format NPC Challenge Rating\n    const crs = {\"1/8\": 0.125, \"1/4\": 0.25, \"1/2\": 0.5};\n    let crv = \"system.details.cr\";\n    let cr = formData[crv];\n    cr = crs[cr] || parseFloat(cr);\n    if ( cr ) formData[crv] = cr < 1 ? cr : parseInt(cr);\n\n    // Parent ActorSheet update steps\n    return super._updateObject(event, formData);\n  }\n}\n","import ActorSheet5eNPC from \"./npc-sheet.mjs\";\nimport ActorSheetV2Mixin from \"./sheet-v2-mixin.mjs\";\nimport { simplifyBonus } from \"../../utils.mjs\";\n\n/**\n * An Actor sheet for NPCs.\n * @mixes ActorSheetV2\n */\nexport default class ActorSheet5eNPC2 extends ActorSheetV2Mixin(ActorSheet5eNPC) {\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e2\", \"sheet\", \"actor\", \"npc\", \"vertical-tabs\"],\n      width: 700,\n      height: 700,\n      resizable: true,\n      scrollY: [\".sheet-body\"],\n      tabs: [{ navSelector: \".tabs\", contentSelector: \".tab-body\", initial: \"features\" }]\n    });\n  }\n\n  /** @override */\n  static TABS = [\n    { tab: \"features\", label: \"DND5E.Features\", icon: \"fas fa-list\" },\n    { tab: \"inventory\", label: \"DND5E.Inventory\", svg: \"backpack\" },\n    { tab: \"spells\", label: \"TYPES.Item.spellPl\", icon: \"fas fa-book\" },\n    { tab: \"effects\", label: \"DND5E.Effects\", icon: \"fas fa-bolt\" },\n    { tab: \"biography\", label: \"DND5E.Biography\", icon: \"fas fa-feather\" }\n  ];\n\n  /**\n   * The description currently being edited.\n   * @type {string|null}\n   */\n  editingDescriptionTarget = null;\n\n  /* -------------------------------------------- */\n\n  get template() {\n    if ( !game.user.isGM && this.actor.limited ) return \"systems/dnd5e/templates/actors/limited-sheet-2.hbs\";\n    return \"systems/dnd5e/templates/actors/npc-sheet-2.hbs\";\n  }\n\n  /* -------------------------------------------- */\n  /*  Rendering                                   */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _renderOuter() {\n    const html = await super._renderOuter();\n    const elements = document.createElement(\"div\");\n    elements.classList.add(\"header-elements\");\n    elements.innerHTML = `\n      <div class=\"source-book\">\n        <a class=\"config-button\" data-action=\"source\" data-tooltip=\"DND5E.SourceConfig\"\n           aria-label=\"${game.i18n.localize(\"DND5E.SourceConfig\")}\">\n          <i class=\"fas fa-cog\"></i>\n        </a>\n        <span></span>\n      </div>\n      <div class=\"cr-xp\"></div>\n    `;\n    html[0].querySelector(\".window-title\")?.insertAdjacentElement(\"afterend\", elements);\n    elements.querySelector(\".config-button\").addEventListener(\"click\", this._onConfigMenu.bind(this));\n    return html;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _render(force=false, options={}) {\n    await super._render(force, options);\n    const [elements] = this.element.find(\".header-elements\");\n    if ( !elements ) return;\n    const { details } = this.actor.system;\n    const editable = this.isEditable && (this._mode === this.constructor.MODES.EDIT);\n    const sourceLabel = details.source.label;\n    elements.querySelector(\".config-button\")?.toggleAttribute(\"hidden\", !editable);\n    elements.querySelector(\".source-book > span\").innerText = editable\n      ? (sourceLabel || game.i18n.localize(\"DND5E.Source\"))\n      : sourceLabel;\n    elements.querySelector(\".cr-xp\").innerText = game.i18n.format(\"DND5E.ExperiencePointsFormat\", {\n      value: new Intl.NumberFormat(game.i18n.lang).format(details.xp.value)\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async getData(options) {\n    const context = await super.getData(options);\n    const { attributes, resources } = this.actor.system;\n    context.encumbrance = attributes.encumbrance;\n\n    // Ability Scores\n    Object.entries(context.abilities).forEach(([k, ability]) => {\n      ability.key = k;\n      ability.abbr = CONFIG.DND5E.abilities[k]?.abbreviation ?? \"\";\n      ability.baseValue = context.source.abilities[k]?.value ?? 0;\n      ability.icon = CONFIG.DND5E.abilities[k]?.icon;\n    });\n\n    // Show Death Saves\n    context.showDeathSaves = !foundry.utils.isEmpty(this.actor.classes)\n      || this.actor.getFlag(\"dnd5e\", \"showDeathSaves\");\n\n    // Speed\n    context.speed = Object.entries(CONFIG.DND5E.movementTypes).reduce((obj, [k, label]) => {\n      const value = attributes.movement[k];\n      if ( value ) {\n        obj[k] = { label, value };\n        if ( (k === \"fly\") && attributes.movement.hover ) obj.fly.icons = [{\n          icon: \"fas fa-cloud\", label: game.i18n.localize(\"DND5E.MovementHover\")\n        }];\n      }\n      return obj;\n    }, {});\n\n    // Skills & Tools\n    context.skills = Object.fromEntries(Object.entries(context.skills).filter(([, v]) => v.value));\n\n    // Senses\n    context.senses.passivePerception = {\n      label: game.i18n.localize(\"DND5E.PassivePerception\"), value: this.actor.system.skills.prc.passive\n    };\n\n    // Legendary Actions & Resistances\n    const plurals = new Intl.PluralRules(game.i18n.lang, { type: \"ordinal\" });\n    [\"legact\", \"legres\"].forEach(res => {\n      const { max, value } = resources[res];\n      context[res] = Array.fromRange(max, 1).map(n => {\n        const i18n = res === \"legact\" ? \"LegAct\" : \"LegRes\";\n        const filled = value >= n;\n        const classes = [\"pip\"];\n        if ( filled ) classes.push(\"filled\");\n        return {\n          n, filled,\n          tooltip: `DND5E.${i18n}`,\n          label: game.i18n.format(`DND5E.${i18n}N.${plurals.select(n)}`, { n }),\n          classes: classes.join(\" \")\n        };\n      });\n    });\n    context.hasLegendaries = resources.legact.max || resources.legres.max || resources.lair.initiative;\n\n    // Spellcasting\n    this._prepareSpellcasting(context);\n\n    // Biographies\n    const enrichmentOptions = {\n      secrets: this.actor.isOwner, async: true, relativeTo: this.actor, rollData: context.rollData\n    };\n\n    context.enriched = {\n      public: await TextEditor.enrichHTML(this.actor.system.details.biography.public, enrichmentOptions),\n      value: context.biographyHTML\n    };\n\n    if ( this.editingDescriptionTarget ) {\n      context.editingDescriptionTarget = this.editingDescriptionTarget;\n      context.enriched.editing = this.editingDescriptionTarget.endsWith(\"public\")\n        ? context.enriched.public\n        : context.enriched.value;\n    }\n\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _prepareItems(context) {\n    super._prepareItems(context);\n    const classes = [];\n    const inventory = {};\n    const inventoryTypes = Object.entries(CONFIG.Item.dataModels)\n      .filter(([, model]) => model.metadata?.inventoryItem)\n      .sort(([, lhs], [, rhs]) => (lhs.metadata.inventoryOrder - rhs.metadata.inventoryOrder));\n    for ( const [type] of inventoryTypes ) {\n      inventory[type] = { label: `${CONFIG.Item.typeLabels[type]}Pl`, items: [], dataset: { type } };\n      if ( type === \"container\" ) context.containers = inventory.container.items;\n    }\n    const features = context.features.filter(section => {\n      if ( section.dataset.type === \"loot\" ) {\n        section.items.forEach(i => inventory[i.type]?.items.push(i));\n        return false;\n      }\n      if ( (section.dataset.type === \"feat\") ) {\n        if ( !(\"activation.type\" in section.dataset) ) section.dataset.type = \"passive\";\n        for ( let i = section.items.length; i--; ) {\n          const item = section.items[i];\n          if ( (item.type === \"class\") || (item.type === \"subclass\") ) {\n            classes.push(item);\n            section.items.splice(i, 1);\n            context.itemContext[item.id].prefixedImage = item.img ? foundry.utils.getRoute(item.img) : null;\n          }\n        }\n      }\n      if ( section.dataset.type === \"weapon\" ) inventory.weapon.items = section.items;\n      return true;\n    });\n    // TODO: These labels should be pluralised.\n    Object.entries(CONFIG.DND5E.abilityActivationTypes).forEach(([type, label]) => features.push({\n      label, items: [], hasActions: true, dataset: { type }\n    }));\n    context.features = {\n      sections: features,\n      filters: [\n        { key: \"action\", label: \"DND5E.Action\" },\n        { key: \"bonus\", label: \"DND5E.BonusAction\" },\n        { key: \"reaction\", label: \"DND5E.Reaction\" },\n        { key: \"legendary\", label: \"DND5E.LegendaryActionLabel\" },\n        { key: \"lair\", label: \"DND5E.LairActionLabel\" }\n      ]\n    };\n    features.forEach(section => {\n      section.categories = [\n        { classes: \"item-uses\", label: \"DND5E.Uses\", partial: \"dnd5e.column-uses\" },\n        { classes: \"item-roll\", label: \"DND5E.SpellHeader.Roll\", partial: \"dnd5e.column-roll\" },\n        { classes: \"item-formula\", label: \"DND5E.SpellHeader.Formula\", partial: \"dnd5e.column-formula\" },\n        { classes: \"item-controls\", partial: \"dnd5e.column-feature-controls\" }\n      ];\n    });\n    context.inventory = Object.values(inventory);\n    context.inventory.push({ label: \"DND5E.Contents\", items: [], dataset: { type: \"all\" } });\n    context.classes = classes;\n    context.hasClasses = classes.length;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare spellcasting data for display.\n   * @param {object} context  The display context.\n   * @protected\n   */\n  _prepareSpellcasting(context) {\n    const { abilities, attributes, bonuses, details } = this.actor.system;\n    context.spellcasting = [];\n    const msak = simplifyBonus(bonuses.msak.attack, context.rollData);\n    const rsak = simplifyBonus(bonuses.rsak.attack, context.rollData);\n    // TODO: Consider if we want to handle multiclassing for NPC spellcasters.\n    const spellcaster = Object.values(this.actor.classes).find(cls => cls.system.spellcasting.progression !== \"none\");\n    const ability = spellcaster?.spellcasting.ability ?? attributes.spellcasting;\n    const spellAbility = abilities[ability];\n    const mod = spellAbility?.mod ?? 0;\n    const attackBonus = msak === rsak ? msak : 0;\n    context.spellcasting.push({\n      label: game.i18n.format(\"DND5E.SpellcastingClass\", { class: spellcaster?.name ?? game.i18n.format(\"DND5E.NPC\") }),\n      level: spellcaster?.system.levels ?? details.spellLevel,\n      ability: {\n        ability, mod,\n        label: CONFIG.DND5E.abilities[ability]?.abbreviation\n      },\n      attack: mod + attributes.prof + attackBonus,\n      save: spellAbility?.dc ?? 0,\n      noSpellcaster: !spellcaster,\n      concentration: {\n        mod: attributes.concentration.save,\n        tooltip: game.i18n.format(\"DND5E.AbilityConfigure\", { ability: game.i18n.localize(\"DND5E.Concentration\") })\n      }\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Listeners & Handlers                  */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    html.find(\".short-rest\").on(\"click\", this._onShortRest.bind(this));\n    html.find(\".long-rest\").on(\"click\", this._onLongRest.bind(this));\n\n    if ( this.isEditable ) {\n      html.find(\".editor-edit\").on(\"click\", this._onEditBiography.bind(this));\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Take a short rest, calling the relevant function on the Actor instance.\n   * @param {Event} event             The triggering click event.\n   * @returns {Promise<RestResult>}  Result of the rest action.\n   * @protected\n   */\n  async _onShortRest(event) {\n    event.preventDefault();\n    await this._onSubmit(event);\n    return this.actor.shortRest();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Take a long rest, calling the relevant function on the Actor instance.\n   * @param {Event} event             The triggering click event.\n   * @returns {Promise<RestResult>}  Result of the rest action.\n   * @protected\n   */\n  async _onLongRest(event) {\n    event.preventDefault();\n    await this._onSubmit(event);\n    return this.actor.longRest();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async activateEditor(name, options={}, initialContent=\"\") {\n    options.relativeLinks = true;\n    options.plugins = {\n      menu: ProseMirror.ProseMirrorMenu.build(ProseMirror.defaultSchema, {\n        compact: true,\n        destroyOnSave: true,\n        onSave: () => {\n          this.saveEditor(name, { remove: true });\n          this.editingDescriptionTarget = null;\n        }\n      })\n    };\n    return super.activateEditor(name, options, initialContent);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle editing a biography section.\n   * @param {PointerEvent} event  The triggering event.\n   * @protected\n   */\n  _onEditBiography(event) {\n    const { target } = event.currentTarget.closest(\"[data-target]\").dataset;\n    this.editingDescriptionTarget = target;\n    this.render();\n  }\n}\n","import ActorSheet5e from \"./base-sheet.mjs\";\n\n/**\n * An Actor sheet for Vehicle type actors.\n */\nexport default class ActorSheet5eVehicle extends ActorSheet5e {\n\n  /** @inheritDoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\", \"sheet\", \"actor\", \"vehicle\"]\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static unsupportedItemTypes = new Set([\"background\", \"class\", \"race\", \"subclass\"]);\n\n  /* -------------------------------------------- */\n\n  /**\n   * Creates a new cargo entry for a vehicle Actor.\n   * @type {object}\n   */\n  static get newCargo() {\n    return {name: \"\", quantity: 1};\n  }\n\n  /* -------------------------------------------- */\n  /*  Context Preparation                         */\n  /* -------------------------------------------- */\n\n  /** @override */\n  _getMovementSpeed(actorData, largestPrimary=true) {\n    return super._getMovementSpeed(actorData, largestPrimary);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare items that are mounted to a vehicle and require one or more crew to operate.\n   * @param {object} item     Copy of the item data being prepared for display.\n   * @param {object} context  Display context for the item.\n   * @protected\n   */\n  _prepareCrewedItem(item, context) {\n\n    // Determine crewed status\n    const isCrewed = item.system.crewed;\n    context.toggleClass = isCrewed ? \"active\" : \"\";\n    context.toggleTitle = game.i18n.localize(`DND5E.${isCrewed ? \"Crewed\" : \"Uncrewed\"}`);\n\n    // Handle crew actions\n    if ( item.type === \"feat\" && item.system.activation.type === \"crew\" ) {\n      context.cover = game.i18n.localize(`DND5E.${item.system.cover ? \"CoverTotal\" : \"None\"}`);\n      if ( item.system.cover === .5 ) context.cover = \"\";\n      else if ( item.system.cover === .75 ) context.cover = \"\";\n      else if ( item.system.cover === null ) context.cover = \"\";\n    }\n\n    // Prepare vehicle weapons\n    if ( (item.type === \"equipment\") || (item.type === \"weapon\") ) {\n      context.threshold = item.system.hp.dt ? item.system.hp.dt : \"\";\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  _prepareItems(context) {\n    const cargoColumns = [{\n      label: game.i18n.localize(\"DND5E.Quantity\"),\n      css: \"item-qty\",\n      property: \"quantity\",\n      editable: \"Number\"\n    }];\n\n    const equipmentColumns = [{\n      label: game.i18n.localize(\"DND5E.Quantity\"),\n      css: \"item-qty\",\n      property: \"system.quantity\",\n      editable: \"Number\"\n    }, {\n      label: game.i18n.localize(\"DND5E.AC\"),\n      css: \"item-ac\",\n      property: \"system.armor.value\"\n    }, {\n      label: game.i18n.localize(\"DND5E.HP\"),\n      css: \"item-hp\",\n      property: \"system.hp.value\",\n      maxProperty: \"system.hp.max\",\n      editable: \"Number\"\n    }, {\n      label: game.i18n.localize(\"DND5E.Threshold\"),\n      css: \"item-threshold\",\n      property: \"threshold\"\n    }];\n\n    const features = {\n      actions: {\n        label: game.i18n.localize(\"DND5E.ActionPl\"),\n        items: [],\n        hasActions: true,\n        crewable: true,\n        dataset: {type: \"feat\", \"activation.type\": \"crew\"},\n        columns: [{\n          label: game.i18n.localize(\"DND5E.Cover\"),\n          css: \"item-cover\",\n          property: \"cover\"\n        }]\n      },\n      equipment: {\n        label: game.i18n.localize(CONFIG.Item.typeLabels.equipment),\n        items: [],\n        crewable: true,\n        dataset: {type: \"equipment\", \"type.value\": \"vehicle\"},\n        columns: equipmentColumns\n      },\n      passive: {\n        label: game.i18n.localize(\"DND5E.Features\"),\n        items: [],\n        dataset: {type: \"feat\"}\n      },\n      reactions: {\n        label: game.i18n.localize(\"DND5E.ReactionPl\"),\n        items: [],\n        dataset: {type: \"feat\", \"activation.type\": \"reaction\"}\n      },\n      weapons: {\n        label: game.i18n.localize(`${CONFIG.Item.typeLabels.weapon}Pl`),\n        items: [],\n        crewable: true,\n        dataset: {type: \"weapon\", \"weapon-type\": \"siege\"},\n        columns: equipmentColumns\n      }\n    };\n\n    context.items.forEach(item => {\n      const {uses} = item.system;\n      const ctx = context.itemContext[item.id] ??= {};\n      ctx.canToggle = false;\n      ctx.isExpanded = this._expanded.has(item.id);\n      ctx.hasUses = uses && (uses.max > 0);\n    });\n\n    const cargo = {\n      crew: {\n        label: game.i18n.localize(\"DND5E.VehicleCrew\"),\n        items: context.actor.system.cargo.crew,\n        css: \"cargo-row crew\",\n        editableName: true,\n        dataset: {type: \"crew\"},\n        columns: cargoColumns\n      },\n      passengers: {\n        label: game.i18n.localize(\"DND5E.VehiclePassengers\"),\n        items: context.actor.system.cargo.passengers,\n        css: \"cargo-row passengers\",\n        editableName: true,\n        dataset: {type: \"passengers\"},\n        columns: cargoColumns\n      },\n      cargo: {\n        label: game.i18n.localize(\"DND5E.VehicleCargo\"),\n        items: [],\n        dataset: {type: \"loot\"},\n        columns: [{\n          label: game.i18n.localize(\"DND5E.Quantity\"),\n          css: \"item-qty\",\n          property: \"system.quantity\",\n          editable: \"Number\"\n        }, {\n          label: game.i18n.localize(\"DND5E.Price\"),\n          css: \"item-price\",\n          property: \"system.price.value\",\n          editable: \"Number\"\n        }, {\n          label: game.i18n.localize(\"DND5E.Weight\"),\n          css: \"item-weight\",\n          property: \"system.weight.value\",\n          editable: \"Number\"\n        }]\n      }\n    };\n\n    // Classify items owned by the vehicle and compute total cargo weight\n    for ( const item of context.items ) {\n      const ctx = context.itemContext[item.id] ??= {};\n      this._prepareCrewedItem(item, ctx);\n\n      // Handle cargo explicitly\n      const isCargo = item.flags.dnd5e?.vehicleCargo === true;\n      if ( isCargo ) {\n        cargo.cargo.items.push(item);\n        continue;\n      }\n\n      // Handle non-cargo item types\n      switch ( item.type ) {\n        case \"weapon\":\n          features.weapons.items.push(item);\n          break;\n        case \"equipment\":\n          features.equipment.items.push(item);\n          break;\n        case \"feat\":\n          const act = item.system.activation;\n          if ( !act.type || (act.type === \"none\") ) features.passive.items.push(item);\n          else if (act.type === \"reaction\") features.reactions.items.push(item);\n          else features.actions.items.push(item);\n          break;\n        default:\n          cargo.cargo.items.push(item);\n      }\n    }\n\n    // Update the rendering context data\n    context.inventoryFilters = false;\n    context.features = Object.values(features);\n    context.cargo = Object.values(cargo);\n    context.encumbrance = context.system.attributes.encumbrance;\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Listeners and Handlers                */\n  /* -------------------------------------------- */\n\n  /** @override */\n  activateListeners(html) {\n    super.activateListeners(html);\n    if ( !this.isEditable ) return;\n\n    html[0].querySelector('[data-tab=\"cargo\"] dnd5e-inventory')\n      .addEventListener(\"inventory\", this._onInventoryEvent.bind(this));\n\n    html.find(\".cargo-row input\")\n      .click(evt => evt.target.select())\n      .change(this._onCargoRowChange.bind(this));\n\n    if (this.actor.system.attributes.actions.stations) {\n      html.find(\".counter.actions, .counter.action-thresholds\").hide();\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle saving a cargo row (i.e. crew or passenger) in-sheet.\n   * @param {Event} event              Triggering event.\n   * @returns {Promise<Actor5e>|null}  Actor after update if any changes were made.\n   * @private\n   */\n  _onCargoRowChange(event) {\n    event.preventDefault();\n    const target = event.currentTarget;\n    const row = target.closest(\".item\");\n    const idx = Number(row.dataset.itemIndex);\n    const property = row.classList.contains(\"crew\") ? \"crew\" : \"passengers\";\n\n    // Get the cargo entry\n    const cargo = foundry.utils.deepClone(this.actor.system.cargo[property]);\n    const entry = cargo[idx];\n    if ( !entry ) return null;\n\n    // Update the cargo value\n    const key = target.dataset.name ?? \"name\";\n    const type = target.dataset.dtype;\n    let value = target.value;\n    if (type === \"Number\") value = Number(value);\n    entry[key] = value;\n\n    // Perform the Actor update\n    return this.actor.update({[`system.cargo.${property}`]: cargo});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle creating and deleting crew and passenger rows.\n   * @param {CustomEvent} event   Triggering inventory event.\n   * @returns {Promise}\n   */\n  async _onInventoryEvent(event) {\n    if ( event.detail === \"create\" ) {\n      const type = event.target.dataset.type;\n      if ( ![\"crew\", \"passengers\"].includes(type) ) return;\n      event.preventDefault();\n      const cargoCollection = foundry.utils.deepClone(this.actor.system.cargo[type]);\n      cargoCollection.push(this.constructor.newCargo);\n      return this.actor.update({[`system.cargo.${type}`]: cargoCollection});\n    }\n\n    else if ( event.detail === \"delete\" ) {\n      const row = event.target.closest(\".item\");\n      if ( !row.classList.contains(\"cargo-row\") ) return;\n      event.preventDefault();\n      const idx = Number(row.dataset.itemIndex);\n      const type = row.classList.contains(\"crew\") ? \"crew\" : \"passengers\";\n      const cargoCollection = foundry.utils.deepClone(this.actor.system.cargo[type]).filter((_, i) => i !== idx);\n      return this.actor.update({[`system.cargo.${type}`]: cargoCollection});\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  async _onDropSingleItem(itemData) {\n    const cargoTypes = [\"weapon\", \"equipment\", \"consumable\", \"tool\", \"loot\", \"container\"];\n    const isCargo = cargoTypes.includes(itemData.type) && (this._tabs[0].active === \"cargo\");\n    foundry.utils.setProperty(itemData, \"flags.dnd5e.vehicleCargo\", isCargo);\n    return super._onDropSingleItem(itemData);\n  }\n}\n","import Item5e from \"../../documents/item.mjs\";\nimport { formatCR, formatNumber } from \"../../utils.mjs\";\nimport Award from \"../award.mjs\";\nimport ActorMovementConfig from \"./movement-config.mjs\";\nimport ActorSheetMixin from \"./sheet-mixin.mjs\";\n\n/**\n * A character sheet for group-type Actors.\n * The functionality of this sheet is sufficiently different from other Actor types that we extend the base\n * Foundry VTT ActorSheet instead of the ActorSheet5e abstraction used for character, npc, and vehicle types.\n */\nexport default class GroupActorSheet extends ActorSheetMixin(ActorSheet) {\n\n  /**\n   * IDs for items on the sheet that have been expanded.\n   * @type {Set<string>}\n   * @protected\n   */\n  _expanded = new Set();\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\", \"sheet\", \"actor\", \"group\"],\n      template: \"systems/dnd5e/templates/actors/group-sheet.hbs\",\n      tabs: [{navSelector: \".tabs\", contentSelector: \".sheet-body\", initial: \"members\"}],\n      scrollY: [\"dnd5e-inventory .inventory-list\"],\n      width: 620,\n      height: 620,\n      elements: {\n        inventory: \"dnd5e-inventory\"\n      }\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * A set of item types that should be prevented from being dropped on this type of actor sheet.\n   * @type {Set<string>}\n   */\n  static unsupportedItemTypes = new Set([\"background\", \"race\", \"class\", \"subclass\", \"feat\"]);\n\n  /* -------------------------------------------- */\n  /*  Context Preparation                         */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async getData(options={}) {\n    const context = super.getData(options);\n    context.system = this.actor.system;\n    context.items = Array.from(this.actor.items);\n    context.config = CONFIG.DND5E;\n    context.isGM = game.user.isGM;\n\n    // Membership\n    const {sections, stats} = this.#prepareMembers();\n    Object.assign(context, stats);\n    context.sections = sections;\n\n    // Movement\n    context.movement = this.#prepareMovementSpeed();\n\n    // XP\n    if ( !game.settings.get(\"dnd5e\", \"disableExperienceTracking\") ) context.xp = context.system.details.xp;\n\n    // Inventory\n    context.itemContext = {};\n    context.inventory = this.#prepareInventory(context);\n    context.elements = this.options.elements;\n    context.expandedData = {};\n    for ( const id of this._expanded ) {\n      const item = this.actor.items.get(id);\n      if ( item ) context.expandedData[id] = await item.getChatData({secrets: this.actor.isOwner});\n    }\n    context.inventoryFilters = false;\n    context.rollableClass = this.isEditable ? \"rollable\" : \"\";\n\n    // Biography HTML\n    context.descriptionFull = await TextEditor.enrichHTML(this.actor.system.description.full, {\n      secrets: this.actor.isOwner,\n      rollData: context.rollData,\n      async: true,\n      relativeTo: this.actor\n    });\n\n    // Summary tag\n    context.summary = this.#getSummary(stats);\n\n    // Text labels\n    context.labels = {\n      currencies: Object.entries(CONFIG.DND5E.currencies).reduce((obj, [k, c]) => {\n        obj[k] = c.label;\n        return obj;\n      }, {})\n    };\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare a localized summary of group membership.\n   * @param {{nMembers: number, nVehicles: number}} stats     The number of members in the group\n   * @returns {string}                                        The formatted summary string\n   */\n  #getSummary(stats) {\n    const formatter = game.i18n.getListFormatter({ style: \"long\", type: \"conjunction\" });\n    const rule = new Intl.PluralRules(game.i18n.lang);\n    const members = [];\n    if ( stats.nMembers ) {\n      members.push(`${stats.nMembers} ${game.i18n.localize(`DND5E.Group.Member.${rule.select(stats.nMembers)}`)}`);\n    }\n    if ( stats.nVehicles ) {\n      members.push(`${stats.nVehicles} ${game.i18n.localize(`DND5E.Group.Vehicle.${rule.select(stats.nVehicles)}`)}`);\n    }\n    if ( !members.length ) return game.i18n.localize(\"DND5E.GroupSummaryEmpty\");\n    return game.i18n.format(\"DND5E.GroupSummary\", {members: formatter.format(members)});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare membership data for the sheet.\n   * @returns {{sections: object, stats: object}}\n   */\n  #prepareMembers() {\n    const stats = {\n      currentHP: 0,\n      maxHP: 0,\n      nMembers: 0,\n      nVehicles: 0\n    };\n    const sections = {\n      character: {label: `${CONFIG.Actor.typeLabels.character}Pl`, members: []},\n      npc: {label: `${CONFIG.Actor.typeLabels.npc}Pl`, members: []},\n      vehicle: {label: `${CONFIG.Actor.typeLabels.vehicle}Pl`, members: []}\n    };\n    const type = this.actor.system.type.value;\n    const displayXP = !game.settings.get(\"dnd5e\", \"disableExperienceTracking\");\n    for ( const [index, memberData] of this.object.system.members.entries() ) {\n      const member = memberData.actor;\n      const multiplier = type === \"encounter\" ? (memberData.quantity.value ?? 1) : 1;\n\n      const m = {\n        index,\n        ...memberData,\n        actor: member,\n        id: member.id,\n        name: member.name,\n        img: member.img,\n        hp: {},\n        displayHPValues: member.testUserPermission(game.user, \"OBSERVER\")\n      };\n\n      // HP bar\n      const hp = member.system.attributes.hp;\n      m.hp.current = hp.value + (hp.temp || 0);\n      m.hp.max = Math.max(0, hp.effectiveMax);\n      m.hp.pct = Math.clamp((m.hp.current / m.hp.max) * 100, 0, 100).toFixed(2);\n      m.hp.color = dnd5e.documents.Actor5e.getHPColor(m.hp.current, m.hp.max).css;\n      stats.currentHP += (m.hp.current * multiplier);\n      stats.maxHP += (m.hp.max * multiplier);\n\n      // Challenge\n      if ( member.type === \"npc\" ) {\n        m.cr = formatCR(member.system.details.cr);\n        if ( displayXP ) m.xp = formatNumber(member.system.details.xp.value * multiplier);\n      }\n\n      if ( member.type === \"vehicle\" ) stats.nVehicles += multiplier;\n      else stats.nMembers += multiplier;\n      sections[member.type].members.push(m);\n    }\n    for ( const [k, section] of Object.entries(sections) ) {\n      if ( !section.members.length ) delete sections[k];\n      else {\n        section.displayHPColumn = type !== \"encounter\";\n        section.displayQuantityColumn = type === \"encounter\";\n        section.displayChallengeColumn = (type === \"encounter\") && (k === \"npc\");\n      }\n    }\n    return {sections, stats};\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare movement speed data for rendering on the sheet.\n   * @returns {{secondary: string, primary: string}}\n   */\n  #prepareMovementSpeed() {\n    const movement = this.object.system.attributes.movement;\n    let speeds = [\n      [movement.land, `${game.i18n.localize(\"DND5E.MovementLand\")} ${movement.land}`],\n      [movement.water, `${game.i18n.localize(\"DND5E.MovementWater\")} ${movement.water}`],\n      [movement.air, `${game.i18n.localize(\"DND5E.MovementAir\")} ${movement.air}`]\n    ];\n    speeds = speeds.filter(s => s[0]).sort((a, b) => b[0] - a[0]);\n    const primary = speeds.shift();\n    return {\n      primary: `${primary ? primary[1] : \"0\"}`,\n      secondary: speeds.map(s => s[1]).join(\", \")\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare inventory items for rendering on the sheet.\n   * @param {object} context  Prepared rendering context.\n   * @returns {Object<string,object>}\n   */\n  #prepareInventory(context) {\n\n    // Categorize as weapons, equipment, containers, and loot\n    const sections = {};\n    for ( const type of [\"weapon\", \"equipment\", \"consumable\", \"container\", \"loot\"] ) {\n      sections[type] = {label: `${CONFIG.Item.typeLabels[type]}Pl`, items: [], hasActions: false, dataset: {type}};\n    }\n\n    // Remove items in containers & sort remaining\n    context.items = context.items\n      .filter(i => !this.actor.items.has(i.system.container))\n      .sort((a, b) => (a.sort || 0) - (b.sort || 0));\n\n    // Classify items\n    for ( const item of context.items ) {\n      const ctx = context.itemContext[item.id] ??= {};\n      const {quantity} = item.system;\n      ctx.isStack = Number.isNumeric(quantity) && (quantity > 1);\n      ctx.canToggle = false;\n      ctx.isExpanded = this._expanded.has(item.id);\n      ctx.hasUses = item.hasLimitedUses;\n      if ( (item.type in sections) && (item.type !== \"loot\") ) sections[item.type].items.push(item);\n      else sections.loot.items.push(item);\n    }\n\n    return sections;\n  }\n\n  /* -------------------------------------------- */\n  /*  Rendering Workflow                          */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _render(force, options={}) {\n    for ( const member of this.object.system.members) {\n      member.actor.apps[this.id] = this;\n    }\n    return super._render(force, options);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async close(options={}) {\n    for ( const member of this.object.system.members ) {\n      delete member.actor.apps[this.id];\n    }\n    return super.close(options);\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Listeners and Handlers                */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    html.find(\".group-member .name\").click(this._onClickMemberName.bind(this));\n    if ( this.isEditable ) {\n      // Input focus and update\n      const inputs = html.find(\"input\");\n      inputs.focus(ev => ev.currentTarget.select());\n      inputs.addBack().find('[type=\"text\"][data-dtype=\"Number\"]').change(this._onChangeInputDelta.bind(this));\n      html.find(\".action-button\").click(this._onClickActionButton.bind(this));\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle clicks to action buttons on the group sheet.\n   * @param {PointerEvent} event      The initiating click event\n   * @protected\n   */\n  _onClickActionButton(event) {\n    event.preventDefault();\n    const button = event.currentTarget;\n    switch ( button.dataset.action ) {\n      case \"award\":\n        const award = new Award(this.object, { savedDestinations: this.actor.getFlag(\"dnd5e\", \"awardDestinations\") });\n        award.render(true);\n        break;\n      case \"longRest\":\n        this.actor.longRest({ advanceTime: true });\n        break;\n      case \"movementConfig\":\n        const movementConfig = new ActorMovementConfig(this.object);\n        movementConfig.render(true);\n        break;\n      case \"placeMembers\":\n        this.actor.system.placeMembers();\n        break;\n      case \"removeMember\":\n        const removeMemberId = button.closest(\"li.group-member\").dataset.actorId;\n        this.actor.system.removeMember(removeMemberId);\n        break;\n      case \"rollQuantities\":\n        this.actor.system.rollQuantities();\n        break;\n      case \"shortRest\":\n        this.actor.shortRest({ advanceTime: true });\n        break;\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle clicks on member names in the members list.\n   * @param {PointerEvent} event      The initiating click event\n   * @protected\n   */\n  _onClickMemberName(event) {\n    event.preventDefault();\n    const member = event.currentTarget.closest(\"li.group-member\");\n    const actor = game.actors.get(member.dataset.actorId);\n    if ( actor ) actor.sheet.render(true, {focus: true});\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  async _onDropActor(event, data) {\n    if ( !this.isEditable ) return;\n    const cls = getDocumentClass(\"Actor\");\n    const sourceActor = await cls.fromDropData(data);\n    if ( !sourceActor ) return;\n    return this.object.system.addMember(sourceActor);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  async _onDropItem(event, data) {\n    if ( !this.actor.isOwner ) return false;\n    const item = await Item.implementation.fromDropData(data);\n\n    // Handle moving out of container & item sorting\n    if ( this.actor.uuid === item.parent?.uuid ) {\n      if ( item.system.container !== null ) await item.update({\"system.container\": null});\n      return this._onSortItem(event, item.toObject());\n    }\n\n    return this._onDropItemCreate(item);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  async _onDropFolder(event, data) {\n    if ( !this.actor.isOwner ) return [];\n    const folder = await Folder.implementation.fromDropData(data);\n    if ( folder.type !== \"Item\" ) return [];\n    const droppedItemData = await Promise.all(folder.contents.map(async item => {\n      if ( !(item instanceof Item) ) item = await fromUuid(item.uuid);\n      return item;\n    }));\n    return this._onDropItemCreate(droppedItemData);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  async _onDropItemCreate(itemData) {\n    let items = itemData instanceof Array ? itemData : [itemData];\n\n    // Filter out items already in containers to avoid creating duplicates\n    const containers = new Set(items.filter(i => i.type === \"container\").map(i => i._id));\n    items = items.filter(i => !containers.has(i.system.container));\n\n    // Create the owned items & contents as normal\n    const toCreate = await Item5e.createWithContents(items, {\n      transformFirst: item => this._onDropSingleItem(item.toObject())\n    });\n    return Item5e.createDocuments(toCreate, {pack: this.actor.pack, parent: this.actor, keepId: true});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handles dropping of a single item onto this group sheet.\n   * @param {object} itemData            The item data to create.\n   * @returns {Promise<object|boolean>}  The item data to create after processing, or false if the item should not be\n   *                                     created or creation has been otherwise handled.\n   * @protected\n   */\n  async _onDropSingleItem(itemData) {\n\n    // Check to make sure items of this type are allowed on this actor\n    if ( this.constructor.unsupportedItemTypes.has(itemData.type) ) {\n      ui.notifications.warn(game.i18n.format(\"DND5E.ActorWarningInvalidItem\", {\n        itemType: game.i18n.localize(CONFIG.Item.typeLabels[itemData.type]),\n        actorType: game.i18n.localize(CONFIG.Actor.typeLabels[this.actor.type])\n      }));\n      return false;\n    }\n\n    // Create a Consumable spell scroll on the Inventory tab\n    if ( itemData.type === \"spell\" ) {\n      const scroll = await Item5e.createScrollFromSpell(itemData);\n      return scroll?.toObject?.();\n    }\n\n    // Stack identical consumables\n    const stacked = this._onDropStackConsumables(itemData);\n    if ( stacked ) return false;\n\n    return itemData;\n  }\n}\n","import DialogMixin from \"../dialog-mixin.mjs\";\nimport ProficiencyConfig from \"./proficiency-config.mjs\";\n\nexport default class ActorSkillsConfig extends DialogMixin(DocumentSheet) {\n  /** @inheritDoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e2\", \"dialog\", \"skills-config\"],\n      template: \"systems/dnd5e/templates/apps/skills-config.hbs\",\n      width: 500,\n      height: \"auto\",\n      sheetConfig: false,\n      submitOnClose: true,\n      submitOnChange: true,\n      closeOnSubmit: false\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  getData(options={}) {\n    const context = { skills: [] };\n    const source = this.document._source.system.skills;\n    const { skills } = this.document.system;\n\n    for ( const [key, skill] of Object.entries(skills) ) {\n      context.skills.push({\n        key,\n        label: CONFIG.DND5E.skills[key]?.label,\n        value: source[key]?.value,\n        total: skill.total,\n        tooltip: CONFIG.DND5E.proficiencyLevels[skill.value]\n      });\n    }\n\n    context.skills.sort((a, b) => a.label.localeCompare(b.label, game.i18n.lang));\n    context.rows = Math.ceil(context.skills.length / 2);\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    html.find(\".config-button\").on(\"click\", this._onConfigureSkill.bind(this));\n    html.find(\"proficiency-cycle\").on(\"change\", this._onChangeInput.bind(this));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle spawning the skill configuration dialog.\n   * @param {MouseEvent} event  The triggering click event.\n   * @protected\n   */\n  _onConfigureSkill(event) {\n    const { key } = event.currentTarget.closest(\"[data-key]\").dataset;\n    new ProficiencyConfig(this.document, { property: \"skills\", key }).render(true);\n  }\n}\n","/**\n * Dialog to select which new advancements should be added to an item.\n */\nexport default class AdvancementMigrationDialog extends Dialog {\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\", \"advancement-migration\", \"dialog\"],\n      jQuery: false,\n      width: 500\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * A helper constructor function which displays the migration dialog.\n   * @param {Item5e} item                    Item to which the advancements are being added.\n   * @param {Advancement[]} advancements     New advancements that should be displayed in the prompt.\n   * @returns {Promise<Advancement[]|null>}  Resolves with the advancements that should be added, if any.\n   */\n  static createDialog(item, advancements) {\n    const advancementContext = advancements.map(a => ({\n      id: a.id, icon: a.icon, title: a.title,\n      summary: a.levels.length === 1 ? a.summaryForLevel(a.levels[0]) : \"\"\n    }));\n    return new Promise(async (resolve, reject) => {\n      const dialog = new this({\n        title: `${game.i18n.localize(\"DND5E.AdvancementMigrationTitle\")}: ${item.name}`,\n        content: await renderTemplate(\n          \"systems/dnd5e/templates/advancement/advancement-migration-dialog.hbs\",\n          { item, advancements: advancementContext }\n        ),\n        buttons: {\n          continue: {\n            icon: '<i class=\"fas fa-check\"></i>',\n            label: game.i18n.localize(\"DND5E.AdvancementMigrationConfirm\"),\n            callback: html => resolve(advancements.filter(a => html.querySelector(`[name=\"${a.id}\"]`)?.checked))\n          },\n          cancel: {\n            icon: '<i class=\"fas fa-times\"></i>',\n            label: game.i18n.localize(\"Cancel\"),\n            callback: html => reject(null)\n          }\n        },\n        default: \"continue\",\n        close: () => reject(null)\n      });\n      dialog.render(true);\n    });\n  }\n\n}\n","import Advancement from \"../../documents/advancement/advancement.mjs\";\n\n/**\n * Presents a list of advancement types to create when clicking the new advancement button.\n * Once a type is selected, this hands the process over to the advancement's individual editing interface.\n *\n * @param {Item5e} item             Item to which this advancement will be added.\n * @param {object} [dialogData={}]  An object of dialog data which configures how the modal window is rendered.\n * @param {object} [options={}]     Dialog rendering options.\n */\nexport default class AdvancementSelection extends Dialog {\n  constructor(item, dialogData={}, options={}) {\n    super(dialogData, options);\n\n    /**\n     * Store a reference to the Item to which this Advancement is being added.\n     * @type {Item5e}\n     */\n    this.item = item;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\", \"sheet\", \"advancement\"],\n      template: \"systems/dnd5e/templates/advancement/advancement-selection.hbs\",\n      title: \"DND5E.AdvancementSelectionTitle\",\n      width: 500,\n      height: \"auto\"\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  get id() {\n    return `item-${this.item.id}-advancement-selection`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  getData() {\n    const context = { types: {} };\n    for ( let [name, config] of Object.entries(CONFIG.DND5E.advancementTypes) ) {\n      if ( config.prototype instanceof Advancement ) {\n        foundry.utils.logCompatibilityWarning(\n          \"Advancement type configuration changed into an object with `documentClass` defining the advancement class.\",\n          { since: \"DnD5e 3.1\", until: \"DnD5e 3.3\", once: true }\n        );\n        config = {\n          documentClass: config,\n          validItemTypes: config.metadata.validItemTypes\n        };\n      }\n      const advancement = config.documentClass;\n      if ( config.hidden || !config.validItemTypes?.has(this.item.type) ) continue;\n      context.types[name] = {\n        label: advancement.metadata.title,\n        icon: advancement.metadata.icon,\n        hint: advancement.metadata.hint,\n        disabled: !advancement.availableForItem(this.item)\n      };\n    }\n    context.types = dnd5e.utils.sortObjectEntries(context.types, \"label\");\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    html.on(\"change\", \"input\", this._onChangeInput.bind(this));\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _onChangeInput(event) {\n    const submit = this.element[0].querySelector(\"button[data-button='submit']\");\n    submit.disabled = !this.element[0].querySelector(\"input[name='type']:checked\");\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * A helper constructor function which displays the selection dialog and returns a Promise once its workflow has\n   * been resolved.\n   * @param {Item5e} item                         Item to which the advancement should be added.\n   * @param {object} [config={}]\n   * @param {boolean} [config.rejectClose=false]  Trigger a rejection if the window was closed without a choice.\n   * @param {object} [config.options={}]          Additional rendering options passed to the Dialog.\n   * @returns {Promise<AdvancementConfig|null>}   Result of `Item5e#createAdvancement`.\n   */\n  static async createDialog(item, { rejectClose=false, options={} }={}) {\n    return new Promise((resolve, reject) => {\n      const dialog = new this(item, {\n        title: `${game.i18n.localize(\"DND5E.AdvancementSelectionTitle\")}: ${item.name}`,\n        buttons: {\n          submit: {\n            callback: html => {\n              const formData = new FormDataExtended(html.querySelector(\"form\"));\n              const type = formData.get(\"type\");\n              resolve(item.createAdvancement(type));\n            }\n          }\n        },\n        close: () => {\n          if ( rejectClose ) reject(\"No advancement type was selected\");\n          else resolve(null);\n        }\n      }, foundry.utils.mergeObject(options, { jQuery: false }));\n      dialog.render(true);\n    });\n  }\n\n}\n","/**\n * An extension of the base CombatTracker class to provide some 5e-specific functionality.\n * @extends {CombatTracker}\n */\nexport default class CombatTracker5e extends CombatTracker {\n  /** @inheritdoc */\n  async _onCombatantControl(event) {\n    const btn = event.currentTarget;\n    const combatantId = btn.closest(\".combatant\").dataset.combatantId;\n    const combatant = this.viewed.combatants.get(combatantId);\n    if ( (btn.dataset.control === \"rollInitiative\") && combatant?.actor ) return combatant.actor.rollInitiativeDialog();\n    return super._onCombatantControl(event);\n  }\n}\n","/**\n * Adds functionality to a custom HTML element for caching its stylesheet and adopting it into its Shadow DOM, rather\n * than having each stylesheet duplicated per element.\n * @param {typeof HTMLElement} Base  The base class being mixed.\n * @returns {typeof AdoptedStyleSheetElement}\n */\nexport default function AdoptedStyleSheetMixin(Base) {\n  return class AdoptedStyleSheetElement extends Base {\n    /**\n     * A map of cached stylesheets per Document root.\n     * @type {WeakMap<WeakKey<Document>, CSSStyleSheet>}\n     * @protected\n     */\n    static _stylesheets = new WeakMap();\n\n    /**\n     * The CSS content for this element.\n     * @type {string}\n     */\n    static CSS = \"\";\n\n    /* -------------------------------------------- */\n\n    /** @inheritDoc */\n    adoptedCallback() {\n      this._adoptStyleSheet(this._getStyleSheet());\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Retrieves the cached stylesheet, or generates a new one.\n     * @returns {CSSStyleSheet}\n     * @protected\n     */\n    _getStyleSheet() {\n      let sheet = this.constructor._stylesheets.get(this.ownerDocument);\n      if ( !sheet ) {\n        sheet = new this.ownerDocument.defaultView.CSSStyleSheet();\n        sheet.replaceSync(this.constructor.CSS);\n        this.constructor._stylesheets.set(this.ownerDocument, sheet);\n      }\n      return sheet;\n    }\n\n    /* -------------------------------------------- */\n\n    /**\n     * Adopt the stylesheet into the Shadow DOM.\n     * @param {CSSStyleSheet} sheet  The sheet to adopt.\n     * @abstract\n     */\n    _adoptStyleSheet(sheet) {}\n  };\n}\n","import AdoptedStyleSheetMixin from \"./adopted-stylesheet-mixin.mjs\";\nconst AbstractFormInputElement = foundry.applications?.elements?.AbstractFormInputElement ?? (class {});\n\n/**\n * A custom checkbox implementation with more styling options.\n * @mixes AdoptedStyleSheetMixin\n * @extends {AbstractFormInputElement}\n */\nexport default class CheckboxElement extends AdoptedStyleSheetMixin(AbstractFormInputElement) {\n  constructor(...args) {\n    if ( game.release.version < 12 ) {\n      throw Error(\"CheckboxElement can only be used in Foundry VTT version 12 or later.\");\n    }\n    super(...args);\n    this._internals.role = \"checkbox\";\n    this._value = this.getAttribute(\"value\");\n    this.#defaultValue = this._value;\n    this.#shadowRoot = this.attachShadow({ mode: \"closed\" });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static tagName = \"dnd5e-checkbox\";\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static CSS = `\n    :host {\n      cursor: pointer;\n      display: inline-block;\n      width: var(--checkbox-size, 18px);\n      height: var(--checkbox-size, 18px);\n      aspect-ratio: 1;\n    }\n    \n    :host > div {\n      width: 100%;\n      height: 100%;\n      border-radius: var(--checkbox-border-radius, 3px);\n      border: var(--checkbox-border-width, 2px) solid var(--checkbox-border-color, var(--dnd5e-color-gold));\n      background: var(--checkbox-empty-color, transparent);\n      box-sizing: border-box;\n    }\n    \n    :host :is(.checked, .disabled, .indeterminate) {\n      display: none;\n      height: 100%;\n      width: 100%;\n      background: var(--checkbox-fill-color, var(--dnd5e-color-gold));\n      align-items: center;\n      justify-content: center;\n    }\n    \n    :host([checked]) .checked { display: flex; }\n    :host([indeterminate]) .indeterminate { display: flex; }\n    :host([indeterminate]) .checked { display: none; }\n    :host(:disabled) .disabled { display: flex; }\n    :host(:disabled) .checked { display: none; }\n    :host(:disabled) .indeterminate { display: none; }\n  `;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Controller for removing listeners automatically.\n   * @type {AbortController}\n   */\n  _controller;\n\n  /* -------------------------------------------- */\n\n  /**\n   * The shadow root that contains the checkbox elements.\n   * @type {ShadowRoot}\n   */\n  #shadowRoot;\n\n  /* -------------------------------------------- */\n  /*  Element Properties                          */\n  /* -------------------------------------------- */\n\n  /**\n   * The default value as originally specified in the HTML that created this object.\n   * @type {string}\n   */\n  get defaultValue() {\n    return this.#defaultValue;\n  }\n\n  #defaultValue;\n\n  /* -------------------------------------------- */\n\n  /**\n   * The indeterminate state of the checkbox.\n   * @type {boolean}\n   */\n  get indeterminate() {\n    return this.hasAttribute(\"indeterminate\");\n  }\n\n  set indeterminate(indeterminate) {\n    this.toggleAttribute(\"indeterminate\", indeterminate);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The checked state of the checkbox.\n   * @type {boolean}\n   */\n  get checked() {\n    return this.hasAttribute(\"checked\");\n  }\n\n  set checked(checked) {\n    this.toggleAttribute(\"checked\", checked);\n    this.dispatchEvent(new Event(\"input\", { bubbles: true, cancelable: true }));\n    this.dispatchEvent(new Event(\"change\", { bubbles: true, cancelable: true }));\n    this._refresh();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  get value() {\n    return super.value;\n  }\n\n  /**\n   * Override AbstractFormInputElement#value setter because we want to emit input/change events when the checked state\n   * changes, and not when the value changes.\n   * @override\n   */\n  set value(value) {\n    this._setValue(value);\n  }\n\n  /* -------------------------------------------- */\n  /*  Element Lifecycle                           */\n  /* -------------------------------------------- */\n\n  /** @override */\n  connectedCallback() {\n    this._controller = new AbortController();\n    this._adoptStyleSheet(this._getStyleSheet());\n    const elements = this._buildElements();\n    this.#shadowRoot.replaceChildren(...elements);\n    this._refresh();\n    this._activateListeners();\n    if ( !this.hasAttribute(\"tabindex\") ) this.tabIndex = 0;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  disconnectedCallback() {\n    this._controller.abort();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  _adoptStyleSheet(sheet) {\n    this.#shadowRoot.adoptedStyleSheets = [sheet];\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  _buildElements() {\n    const container = document.createElement(\"div\");\n    container.innerHTML = `\n      <div class=\"checked\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"\n             style=\"fill: var(--checkbox-icon-color, #000); width: var(--checkbox-icon-size, 68%);\">\n          <!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->\n          <path d=\"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"/>\n        </svg>\n      </div>\n      <div class=\"disabled\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"\n             style=\"fill: var(--checkbox-icon-color, #000); width: var(--checkbox-icon-size, 68%);\">\n          <!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->\n          <path d=\"M144 144v48H304V144c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192V144C80 64.5 144.5 0 224 0s144 64.5 144 144v48h16c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V256c0-35.3 28.7-64 64-64H80z\"/>\n        </svg>\n      </div>\n      <div class=\"indeterminate\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"\n             style=\"fill: var(--checkbox-icon-color, #000); width: var(--checkbox-icon-size, 68%);\">\n          <!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->\n          <path d=\"M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z\"/>\n        </svg>\n      </div>\n    `;\n    return [container];\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  _activateListeners() {\n    const { signal } = this._controller;\n    this.addEventListener(\"click\", this._onClick.bind(this), { signal });\n    this.addEventListener(\"keydown\", event => event.key === \" \" ? this._onClick(event) : null, { signal });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  _onClick(event) {\n    event.preventDefault();\n    this.checked = !this.checked;\n  }\n}\n","/**\n * Custom element designed to display as a collapsible tray in chat.\n */\nexport default class ChatTrayElement extends HTMLElement {\n\n  static observedAttributes = [\"open\"];\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * Is the tray expanded or collapsed?\n   * @type {boolean}\n   */\n  get open() {\n    return this.hasAttribute(\"open\");\n  }\n\n  set open(open) {\n    if ( open ) this.setAttribute(\"open\", \"\");\n    else this.removeAttribute(\"open\");\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Handlers                              */\n  /* -------------------------------------------- */\n\n  /** @override */\n  attributeChangedCallback(name, oldValue, newValue) {\n    if ( name === \"open\" ) this._handleToggleOpen(newValue !== null);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle clicks to the collapsible header.\n   * @param {PointerEvent} event  Triggering click event.\n   */\n  _handleClickHeader(event) {\n    event.preventDefault();\n    event.stopImmediatePropagation();\n    if ( !event.target.closest(\".collapsible-content\") ) this.toggleAttribute(\"open\");\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle changing the collapsed state of this element.\n   * @param {boolean} open  Is the element open?\n   */\n  _handleToggleOpen(open) {\n    this.dispatchEvent(new Event(\"toggle\"));\n\n    this.querySelector(\".collapsible\")?.classList.toggle(\"collapsed\", !open);\n\n    // Clear the height from the chat popout container so that it appropriately resizes.\n    const popout = this.closest(\".chat-popout\");\n    if ( popout ) popout.style.height = \"\";\n  }\n}\n","import { formatNumber } from \"../../utils.mjs\";\nimport ChatTrayElement from \"./chat-tray-element.mjs\";\n\n/**\n * List of multiplier options as tuples containing their numeric value and rendered text.\n * @type {[number, string][]}\n */\nconst MULTIPLIERS = [[-1, \"-1\"], [0, \"0\"], [.25, \"\"], [.5, \"\"], [1, \"1\"], [2, \"2\"]];\n\n/**\n * Application to handle applying damage from a chat card.\n */\nexport default class DamageApplicationElement extends ChatTrayElement {\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * The apply damage button within the element.\n   * @type {HTMLButtonElement}\n   */\n  applyButton;\n\n  /* -------------------------------------------- */\n\n  /**\n   * The chat message with which this damage is associated.\n   * @type {ChatMessage5e}\n   */\n  chatMessage;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Damage descriptions that will be applied by this application.\n   * @type {DamageDescription[]}\n   */\n  damages = [];\n\n  /* -------------------------------------------- */\n\n  /**\n   * Currently registered hook for monitoring for changes to selected tokens.\n   * @type {number|null}\n   */\n  selectedTokensHook = null;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Currently target selection mode.\n   * @type {\"targeted\"|\"selected\"}\n   */\n  get targetingMode() {\n    if ( this.targetSourceControl.hidden ) return \"selected\";\n    return this.targetSourceControl.querySelector('[aria-pressed=\"true\"]')?.dataset.mode ?? \"targeted\";\n  }\n\n  set targetingMode(mode) {\n    if ( this.targetSourceControl.hidden ) mode = \"selected\";\n    const toPress = this.targetSourceControl.querySelector(`[data-mode=\"${mode}\"]`);\n    const currentlyPressed = this.targetSourceControl.querySelector('[aria-pressed=\"true\"]');\n    if ( currentlyPressed ) currentlyPressed.ariaPressed = false;\n    toPress.ariaPressed = true;\n\n    this.buildTargetsList();\n    if ( (mode === \"targeted\") && (this.selectedTokensHook !== null) ) {\n      Hooks.off(\"controlToken\", this.selectedTokensHook);\n      this.selectedTokensHook = null;\n    } else if ( (mode === \"selected\") && (this.selectedTokensHook === null) ) {\n      this.selectedTokensHook = Hooks.on(\"controlToken\", foundry.utils.debounce(() => this.buildTargetsList(), 50));\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The list of application targets.\n   * @type {HTMLUListElement}\n   */\n  targetList;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Options for each application target.\n   * @type {Map<string, DamageApplicationOptions>}\n   */\n  #targetOptions = new Map();\n\n  /**\n   * Options for a specific target.\n   * @param {string} uuid  UUID of the targeted token.\n   * @returns {DamageApplicationOptions}\n   */\n  getTargetOptions(uuid) {\n    if ( !this.#targetOptions.has(uuid) ) this.#targetOptions.set(uuid, { multiplier: 1 });\n    return this.#targetOptions.get(uuid);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The controls for selecting target source mode.\n   * @type {HTMLElement}\n   */\n  targetSourceControl;\n\n  /* -------------------------------------------- */\n  /*  Rendering                                   */\n  /* -------------------------------------------- */\n\n  connectedCallback() {\n    // Fetch the associated chat message\n    const messageId = this.closest(\"[data-message-id]\")?.dataset.messageId;\n    this.chatMessage = game.messages.get(messageId);\n    if ( !this.chatMessage ) return;\n\n    // Build the frame HTML only once\n    if ( !this.targetList ) {\n      const div = document.createElement(\"div\");\n      div.classList.add(\"card-tray\", \"damage-tray\", \"collapsible\");\n      if ( !this.open ) div.classList.add(\"collapsed\");\n      div.innerHTML = `\n        <label class=\"roboto-upper\">\n          <i class=\"fa-solid fa-heart-crack\"></i>\n          <span>${game.i18n.localize(\"DND5E.Apply\")}</span>\n          <i class=\"fa-solid fa-caret-down\"></i>\n        </label>\n        <div class=\"collapsible-content\">\n          <div class=\"wrapper\">\n            <div class=\"target-source-control\">\n              <button type=\"button\" class=\"unbutton\" data-mode=\"targeted\" aria-pressed=\"false\">\n                <i class=\"fa-solid fa-bullseye\" inert></i> ${game.i18n.localize(\"DND5E.Tokens.Targeted\")}\n              </button>\n              <button type=\"button\" class=\"unbutton\" data-mode=\"selected\" aria-pressed=\"false\">\n                <i class=\"fa-solid fa-expand\" inert></i> ${game.i18n.localize(\"DND5E.Tokens.Selected\")}\n              </button>\n            </div>\n            <ul class=\"targets unlist\"></ul>\n            <button class=\"apply-damage\" type=\"button\" data-action=\"applyDamage\">\n              <i class=\"fa-solid fa-reply-all fa-flip-horizontal\" inert></i>\n              ${game.i18n.localize(\"DND5E.Apply\")}\n            </button>\n          </div>\n        </div>\n      `;\n      this.replaceChildren(div);\n      this.applyButton = div.querySelector(\".apply-damage\");\n      this.applyButton.addEventListener(\"click\", this._onApplyDamage.bind(this));\n      this.targetList = div.querySelector(\".targets\");\n      this.targetSourceControl = this.querySelector(\".target-source-control\");\n      this.targetSourceControl.querySelectorAll(\"button\").forEach(b =>\n        b.addEventListener(\"click\", this._onChangeTargetMode.bind(this))\n      );\n      if ( !this.chatMessage.getFlag(\"dnd5e\", \"targets\")?.length ) this.targetSourceControl.hidden = true;\n      div.addEventListener(\"click\", this._handleClickHeader.bind(this));\n    }\n\n    this.targetingMode = this.targetSourceControl.hidden ? \"selected\" : \"targeted\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Build a list of targeted tokens based on current mode & replace any existing targets.\n   */\n  buildTargetsList() {\n    let targetedTokens;\n    switch ( this.targetingMode ) {\n      case \"targeted\":\n        targetedTokens = (this.chatMessage.getFlag(\"dnd5e\", \"targets\") ?? []).map(t => t.uuid);\n        break;\n      case \"selected\":\n        targetedTokens = canvas.tokens?.controlled?.map(t => t.actor?.uuid) ?? [];\n        break;\n    }\n    targetedTokens = Array.from(new Set(targetedTokens));\n    const targets = targetedTokens.map(t => this.buildTargetListEntry(t)).filter(t => t);\n    if ( targets.length ) this.targetList.replaceChildren(...targets);\n    else {\n      const li = document.createElement(\"li\");\n      li.classList.add(\"none\");\n      li.innerText = game.i18n.localize(`DND5E.Tokens.None${this.targetingMode.capitalize()}`);\n      this.targetList.replaceChildren(li);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create a list entry for a single target.\n   * @param {string} uuid  UUID of the token represented by this entry.\n   * @returns {HTMLLIElement|void}\n   */\n  buildTargetListEntry(uuid) {\n    const token = fromUuidSync(uuid);\n    if ( !token?.isOwner ) return;\n\n    // Calculate damage to apply\n    const targetOptions = this.getTargetOptions(uuid);\n    const { temp, total, active } = this.calculateDamage(token, targetOptions);\n\n    const types = [];\n    for ( const [change, values] of Object.entries(active) ) {\n      for ( const type of values ) {\n        const config = CONFIG.DND5E.damageTypes[type] ?? CONFIG.DND5E.healingTypes[type];\n        if ( !config ) continue;\n        const data = { type, change, icon: config.icon };\n        types.push(data);\n      }\n    }\n    const changeSources = types.reduce((acc, {type, change, icon}) => {\n      const { label, pressed } = this.getChangeSourceOptions(type, change, targetOptions);\n      acc += `\n        <button class=\"change-source unbutton\" type=\"button\" data-type=\"${type}\" data-change=\"${change}\"\n                data-tooltip=\"${label}\" aria-label=\"${label}\" aria-pressed=\"${pressed}\">\n          <dnd5e-icon src=\"${icon}\" inert></dnd5e-icon>\n          <i class=\"fa-solid fa-slash\" inert></i>\n          <i class=\"fa-solid fa-arrow-turn-down\" inert></i>\n        </button>\n      `;\n      return acc;\n    }, \"\");\n\n    const li = document.createElement(\"li\");\n    li.classList.add(\"target\");\n    li.dataset.targetUuid = uuid;\n    li.innerHTML = `\n      <img class=\"gold-icon\" alt=\"${token.name}\" src=\"${token.img}\">\n      <div class=\"name-stacked\">\n        <span class=\"title\">${token.name}</span>\n        ${changeSources ? `<span class=\"subtitle\">${changeSources}</span>` : \"\"}\n      </div>\n      <div class=\"calculated damage\">\n        ${total}\n      </div>\n      <div class=\"calculated temp\" data-tooltip=\"DND5E.HitPointsTemp\">\n        ${temp}\n      </div>\n      <menu class=\"damage-multipliers unlist\"></menu>\n    `;\n\n    const menu = li.querySelector(\"menu\");\n    for ( const [value, display] of MULTIPLIERS ) {\n      const entry = document.createElement(\"li\");\n      entry.innerHTML = `\n        <button class=\"multiplier-button\" type=\"button\" value=\"${value}\">\n          <span>${display}</span>\n        </button>\n      `;\n      menu.append(entry);\n    }\n\n    this.refreshListEntry(token, li, targetOptions);\n    li.addEventListener(\"click\", this._onChangeOptions.bind(this));\n\n    return li;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Calculate the total damage that will be applied to an actor.\n   * @param {Actor5e} actor\n   * @param {DamageApplicationOptions} options\n   * @returns {{temp: number, total: number, active: Record<string, Set<string>>}}\n   */\n  calculateDamage(actor, options) {\n    const damages = actor.calculateDamage(this.damages, options);\n\n    let temp = 0;\n    let total = 0;\n    let active = { modification: new Set(), resistance: new Set(), vulnerability: new Set(), immunity: new Set() };\n    for ( const damage of damages ) {\n      if ( damage.type === \"temphp\" ) temp += damage.value;\n      else total += damage.value;\n      if ( damage.active.modification ) active.modification.add(damage.type);\n      if ( damage.active.resistance ) active.resistance.add(damage.type);\n      if ( damage.active.vulnerability ) active.vulnerability.add(damage.type);\n      if ( damage.active.immunity ) active.immunity.add(damage.type);\n    }\n    temp = Math.floor(Math.max(0, temp));\n    total = total > 0 ? Math.floor(total) : Math.ceil(total);\n\n    // Add values from options to prevent active changes from being lost when re-rendering target list\n    const union = t => {\n      if ( foundry.utils.getType(options.ignore?.[t]) === \"Set\" ) active[t] = active[t].union(options.ignore[t]);\n    };\n    union(\"modification\");\n    union(\"resistance\");\n    union(\"vulnerability\");\n    union(\"immunity\");\n    if ( foundry.utils.getType(options.downgrade) === \"Set\" ) {\n      active.immunity = active.immunity.union(options.downgrade);\n    }\n\n    return { temp, total, active };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get the label and pressed value for a specific change source.\n   * @param {string} type                       Damage type represented by this source.\n   * @param {string} change                     Change type (e.g. resistance, immunity, etc.).\n   * @param {DamageApplicationOptions} options  Options object from which to determine final values.\n   * @returns {{label: string, pressed: string}}\n   */\n  getChangeSourceOptions(type, change, options) {\n    let mode = \"active\";\n    if ( options.ignore?.[change]?.has(type) ) mode = \"ignore\";\n    else if ( (change === \"immunity\") && options.downgrade?.has(type) ) mode = \"downgrade\";\n\n    let label = game.i18n.format(`DND5E.DamageApplication.Change.${change.capitalize()}`, {\n      type: CONFIG.DND5E.damageTypes[type]?.label ?? CONFIG.DND5E.healingTypes[type]?.label\n    });\n    if ( mode === \"ignore\" ) label = game.i18n.format(\"DND5E.DamageApplication.Ignoring\", { source: label });\n    if ( mode === \"downgrade\" ) label = game.i18n.format(\"DND5E.DamageApplication.Downgrading\", { source: label });\n\n    return { label, pressed: mode === \"active\" ? \"false\" : mode === \"ignore\" ? \"true\" : \"mixed\" };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Refresh the damage total on a list entry based on modified options.\n   * @param {Actor5e} token\n   * @param {HTMLLiElement} entry\n   * @param {DamageApplicationOptions} options\n   */\n  refreshListEntry(token, entry, options) {\n    const { temp, total } = this.calculateDamage(token, options);\n    const calculatedDamage = entry.querySelector(\".calculated.damage\");\n    calculatedDamage.innerText = formatNumber(-total, { signDisplay: \"exceptZero\" });\n    calculatedDamage.classList.toggle(\"healing\", total < 0);\n    calculatedDamage.dataset.tooltip = `DND5E.${total < 0 ? \"Healing\" : \"Damage\"}`;\n    calculatedDamage.hidden = !total && !!temp;\n    const calculatedTemp = entry.querySelector(\".calculated.temp\");\n    calculatedTemp.innerText = temp;\n    calculatedTemp.hidden = !temp;\n\n    const pressedMultiplier = entry.querySelector('.multiplier-button[aria-pressed=\"true\"]');\n    if ( Number(pressedMultiplier?.dataset.multiplier) !== options.multiplier ) {\n      if ( pressedMultiplier ) pressedMultiplier.ariaPressed = false;\n      const toPress = entry.querySelector(`[value=\"${options.multiplier}\"]`);\n      if ( toPress ) toPress.ariaPressed = true;\n    }\n\n    for ( const element of entry.querySelectorAll(\".change-source\") ) {\n      const { type, change } = element.dataset;\n      const { label, pressed } = this.getChangeSourceOptions(type, change, options);\n      element.dataset.tooltip = label;\n      element.ariaLabel = label;\n      element.ariaPressed = pressed;\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Handlers                              */\n  /* -------------------------------------------- */\n\n  /**\n   * Handle clicking the apply damage button.\n   * @param {PointerEvent} event  Triggering click event.\n   */\n  async _onApplyDamage(event) {\n    event.preventDefault();\n    for ( const target of this.targetList.querySelectorAll(\"[data-target-uuid]\") ) {\n      const token = fromUuidSync(target.dataset.targetUuid);\n      const options = this.getTargetOptions(target.dataset.targetUuid);\n      await token?.applyDamage(this.damages, options);\n    }\n    this.open = false;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle clicking a multiplier button or resistance toggle.\n   * @param {PointerEvent} event  Triggering click event.\n   */\n  async _onChangeOptions(event) {\n    event.preventDefault();\n    const button = event.target.closest(\"button\");\n    const uuid = event.target.closest(\"[data-target-uuid]\")?.dataset.targetUuid;\n    if ( !uuid || !button ) return;\n\n    const options = this.getTargetOptions(uuid);\n\n    // Set multiplier\n    if ( button.classList.contains(\"multiplier-button\") ) {\n      options.multiplier = Number(button.value);\n    }\n\n    // Set imm/res/vul ignore & downgrade\n    else if ( button.classList.contains(\"change-source\") ) {\n      const { type, change } = button.dataset;\n      if ( change === \"immunity\" ) {\n        if ( options.ignore?.immunity?.has(type) ) {\n          options.ignore.immunity.delete(type);\n          options.downgrade ??= new Set();\n          options.downgrade.add(type);\n        } else if ( options.downgrade?.has(type) ) {\n          options.downgrade.delete(type);\n        } else {\n          options.ignore ??= {};\n          options.ignore[change] ??= new Set();\n          options.ignore[change].add(type);\n        }\n      }\n      else if ( options.ignore?.[change]?.has(type) ) options.ignore[change].delete(type);\n      else {\n        options.ignore ??= {};\n        options.ignore[change] ??= new Set();\n        options.ignore[change].add(type);\n      }\n    }\n\n    const token = fromUuidSync(uuid);\n    const entry = this.targetList.querySelector(`[data-target-uuid=\"${token.uuid}\"]`);\n    this.refreshListEntry(token, entry, options);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle clicking on the target mode buttons.\n   * @param {PointerEvent} event  Triggering click event.\n   */\n  async _onChangeTargetMode(event) {\n    event.preventDefault();\n    this.targetingMode = event.currentTarget.dataset.mode;\n  }\n}\n","import { EnchantmentData } from \"../../data/item/fields/enchantment-field.mjs\";\n\n/**\n * Application to handle applying enchantments to items from a chat card.\n */\nexport default class EnchantmentApplicationElement extends HTMLElement {\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * The chat message with which this enchantment is associated.\n   * @type {ChatMessage5e}\n   */\n  chatMessage;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Area where the enchantment limit & current count is displayed.\n   * @type {HTMLElement}\n   */\n  countArea;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Area where items can be dropped to enchant.\n   * @type {HTMLElement}\n   */\n  dropArea;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Item providing the enchantment that will be applied.\n   * @type {Item5e}\n   */\n  get enchantmentItem() {\n    return this.chatMessage.getAssociatedItem();\n  }\n\n  /* -------------------------------------------- */\n  /*  Rendering                                   */\n  /* -------------------------------------------- */\n\n  connectedCallback() {\n    const messageId = this.closest(\"[data-message-id]\")?.dataset.messageId;\n    this.chatMessage = game.messages.get(messageId);\n    if ( !this.chatMessage ) return;\n\n    // Build the frame HTML only once\n    if ( !this.dropArea ) {\n      const div = document.createElement(\"div\");\n      div.classList.add(\"enchantment-control\");\n      div.innerHTML = '<div class=\"drop-area\"></div>';\n      this.replaceChildren(div);\n      this.dropArea = div.querySelector(\".drop-area\");\n      this.addEventListener(\"drop\", this._onDrop.bind(this));\n      this.addEventListener(\"click\", this._onRemoveEnchantment.bind(this));\n    }\n\n    // Calculate the maximum targets\n    let item = this.enchantmentItem;\n    const spellLevel = this.chatMessage.getFlag(\"dnd5e\", \"use.spellLevel\");\n    if ( spellLevel ) {\n      item = item.clone({ \"system.level\": spellLevel });\n      item.prepareData();\n      item.prepareFinalAttributes();\n    }\n    const maxTargets = item.system.target?.value;\n    if ( maxTargets ) {\n      if ( !this.countArea ) {\n        const div = document.createElement(\"div\");\n        div.classList.add(\"count-area\");\n        this.querySelector(\".enchantment-control\").append(div);\n        this.countArea = this.querySelector(\".count-area\");\n      }\n      this.countArea.innerHTML = game.i18n.format(\"DND5E.Enchantment.Enchanted\", {\n        current: '<span class=\"current\">0</span>',\n        max: `<span class=\"max\">${maxTargets}<span>`\n      });\n    } else if ( this.countArea ) {\n      this.countArea.remove();\n    }\n\n    this.buildItemList();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Build a list of enchanted items. Will be called whenever the enchanted items are changed in order to update\n   * the card list.\n   */\n  async buildItemList() {\n    const enchantedItems = (await EnchantmentData.appliedEnchantments(this.enchantmentItem.uuid)).map(enchantment => {\n      const item = enchantment.parent;\n      const div = document.createElement(\"div\");\n      div.classList.add(\"preview\");\n      div.dataset.enchantmentUuid = enchantment.uuid;\n      div.innerHTML = `\n        <img src=\"${item.img}\" class=\"gold-icon\" alt=\"${item.name}\">\n        <span class=\"name\">${item.name}</span>\n      `;\n      if ( item.isOwner ) {\n        const control = document.createElement(\"a\");\n        control.ariaLabel = game.i18n.localize(\"DND5E.Enchantment.Action.Remove\");\n        control.dataset.action = \"removeEnchantment\";\n        control.dataset.tooltip = \"DND5E.Enchantment.Action.Remove\";\n        control.innerHTML = '<i class=\"fa-solid fa-rotate-left\" inert></i>';\n        div.append(control);\n      }\n      return div;\n    });\n    if ( enchantedItems.length ) {\n      this.dropArea.replaceChildren(...enchantedItems);\n    } else {\n      this.dropArea.innerHTML = `<p>${game.i18n.localize(\"DND5E.Enchantment.DropArea\")}</p>`;\n    }\n    if ( this.countArea ) {\n      this.countArea.querySelector(\".current\").innerText = enchantedItems.length;\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Handlers                              */\n  /* -------------------------------------------- */\n\n  /**\n   * Handle dropping an item onto the control.\n   * @param {Event} event  Triggering drop event.\n   */\n  async _onDrop(event) {\n    event.preventDefault();\n    const data = TextEditor.getDragEventData(event);\n    const effect = this.enchantmentItem.effects.get(this.chatMessage.getFlag(\"dnd5e\", \"use.enchantmentProfile\"));\n    if ( (data.type !== \"Item\") || !effect ) return;\n    const droppedItem = await Item.implementation.fromDropData(data);\n\n    // Validate against the enchantment's restraints on the origin item\n    const errors = this.enchantmentItem.system.enchantment?.canEnchant(droppedItem);\n    if ( errors?.length ) {\n      errors.forEach(err => ui.notifications.error(err.message));\n      return;\n    }\n\n    // If concentration is required, ensure it is still being maintained & GM is present\n    const concentrationId = this.chatMessage.getFlag(\"dnd5e\", \"use.concentrationId\");\n    const concentration = effect.parent.actor.effects.get(concentrationId);\n    if ( concentrationId && !concentration ) {\n      ui.notifications.error(\"DND5E.Enchantment.Warning.ConcentrationEnded\", { localize: true });\n      return;\n    }\n    if ( !game.user.isGM && concentration && !concentration.actor?.isOwner ) {\n      ui.notifications.error(\"DND5E.EffectApplyWarningConcentration\", { localize: true });\n      return;\n    }\n\n    const effectData = effect.toObject();\n    effectData.origin = this.enchantmentItem.uuid;\n    const applied = await ActiveEffect.create(effectData, {\n      parent: droppedItem, keepOrigin: true, chatMessageOrigin: this.chatMessage.id\n    });\n    if ( concentration ) await concentration.addDependent(applied);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle removing an enchantment.\n   * @param {Event} event  Triggering drop event.\n   */\n  async _onRemoveEnchantment(event) {\n    if ( event.target.dataset.action !== \"removeEnchantment\" ) return;\n    const enchantmentUuid = event.target.closest(\"[data-enchantment-uuid]\")?.dataset.enchantmentUuid;\n    const enchantment = await fromUuid(enchantmentUuid);\n    enchantment?.delete({ chatMessageOrigin: this.chatMessage.id });\n  }\n}\n","import AdoptedStyleSheetMixin from \"./adopted-stylesheet-mixin.mjs\";\n\n/**\n * Custom element that adds a filigree border that can be colored.\n */\nexport default class FiligreeBoxElement extends AdoptedStyleSheetMixin(HTMLElement) {\n  constructor() {\n    super();\n    this.#shadowRoot = this.attachShadow({ mode: \"closed\" });\n    this._adoptStyleSheet(this._getStyleSheet());\n    const backdrop = document.createElement(\"div\");\n    backdrop.classList.add(\"backdrop\");\n    this.#shadowRoot.appendChild(backdrop);\n    this.#buildSVG(\"corner\", \"top\", \"left\");\n    this.#buildSVG(\"corner\", \"top\", \"right\");\n    this.#buildSVG(\"corner\", \"bottom\", \"left\");\n    this.#buildSVG(\"corner\", \"bottom\", \"right\");\n    this.#buildSVG(\"block\", \"top\");\n    this.#buildSVG(\"block\", \"bottom\");\n    this.#buildSVG(\"inline\", \"left\");\n    this.#buildSVG(\"inline\", \"right\");\n    const slot = document.createElement(\"slot\");\n    this.#shadowRoot.appendChild(slot);\n  }\n\n  /** @inheritDoc */\n  static CSS = `\n    :host {\n      position: relative;\n      isolation: isolate;\n      min-height: 56px;\n      filter: var(--filigree-drop-shadow, drop-shadow(0 0 12px var(--dnd5e-shadow-15)));\n    }\n    .backdrop {\n      --chamfer: 12px;\n      position: absolute;\n      inset: 0;\n      background: var(--filigree-background-color, var(--dnd5e-color-card));\n      z-index: -2;\n      clip-path: polygon(\n        var(--chamfer) 0,\n        calc(100% - var(--chamfer)) 0,\n        100% var(--chamfer),\n        100% calc(100% - var(--chamfer)),\n        calc(100% - var(--chamfer)) 100%,\n        var(--chamfer) 100%,\n        0 calc(100% - var(--chamfer)),\n        0 var(--chamfer)\n      );\n    }\n    .filigree {\n      position: absolute;\n      fill: var(--filigree-border-color, var(--dnd5e-color-gold));\n      z-index: -1;\n\n      &.top, &.bottom { height: 30px; }\n      &.top { top: 0; }\n      &.bottom { bottom: 0; scale: 1 -1; }\n\n      &.left, &.right { width: 25px; }\n      &.left { left: 0; }\n      &.right { right: 0; scale: -1 1; }\n\n      &.bottom.right { scale: -1 -1; }\n    }\n    .filigree.block {\n      inline-size: calc(100% - 50px);\n      inset-inline: 25px;\n    }\n    .filigree.inline {\n      block-size: calc(100% - 60px);\n      inset-block: 30px;\n    }\n  `;\n\n  /**\n   * Path definitions for the various box corners and edges.\n   * @type {object}\n   */\n  static svgPaths = Object.freeze({\n    corner: \"M 3 21.7 C 5.383 14.227 9.646 7.066 18.1 3.2 L 12.2 3.2 L 3 12.8 Z M 6.9 15.7 C 5.088 19.235 3.776 23.004 3 26.9 L 2.999 30 L 0 30 L 0 11.5 L 11 0 L 25 0 L 25 3.1 L 22.4 3.1 C 16.737 4.586 11.822 8.112 8.6 13 L 8.6 30 L 6.9 30 Z\",\n    block: \"M 0 0 L 10 0 L 10 3.1 L 0 3.1 L 0 0 Z\",\n    inline: \"M 0 10 L 0 0 L 2.99 0 L 2.989 10 L 0 10 Z M 6.9 10 L 6.9 0 L 8.6 0 L 8.6 10 L 6.9 10 Z\"\n  });\n\n  /**\n   * Shadow root that contains the box shapes.\n   * @type {ShadowRoot}\n   */\n  #shadowRoot;\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _adoptStyleSheet(sheet) {\n    this.#shadowRoot.adoptedStyleSheets = [sheet];\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Build an SVG element.\n   * @param {string} path          SVG path to use.\n   * @param {...string} positions  Additional position CSS classes to add.\n   */\n  #buildSVG(path, ...positions) {\n    const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n    svg.classList.add(\"filigree\", path, ...positions);\n    svg.innerHTML = `<path d=\"${FiligreeBoxElement.svgPaths[path]}\" />`;\n    svg.setAttribute(\"viewBox\", `0 0 ${path === \"block\" ? 10 : 25} ${path === \"inline\" ? 10 : 30}`);\n    svg.setAttribute(\"preserveAspectRatio\", \"none\");\n    this.#shadowRoot.appendChild(svg);\n  }\n}\n","const AbstractFormInputElement = foundry.applications?.elements?.AbstractFormInputElement ?? (class {});\n\n/**\n * Input element that represents a three-state filter (include, exclude, or ignore). This is used for filters in\n * the compendium browser and in the inventory element. Returns a number with `1` indicating this filter should be\n * positively applied (show items that match the filter), `-1` indicating it should be negatively applied (hide\n * items that match the filter), and `0` indicating this filter should be ignored.\n */\nexport default class FilterStateElement extends AbstractFormInputElement {\n  constructor(...args) {\n    if ( game.release.generation < 12 ) {\n      throw Error(\"FilterStateInput can only be used in Foundry VTT version 12 or later.\");\n    }\n    super(...args);\n    this._value = this.getAttribute(\"value\") ?? 0;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static tagName = \"filter-state\";\n\n  /* -------------------------------------------- */\n\n  /**\n   * Controller for removing listeners automatically.\n   * @type {AbortController}\n   */\n  _controller;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Internal indicator used to render the input.\n   * @type {HTMLElement}\n   */\n  #indicator;\n\n  /* -------------------------------------------- */\n  /*  Element Properties                          */\n  /* -------------------------------------------- */\n\n  /** @override */\n  _getValue() {\n    return Number(this._value);\n  }\n\n  /* -------------------------------------------- */\n  /*  Element Lifecycle                           */\n  /* -------------------------------------------- */\n\n  /** @override */\n  connectedCallback() {\n    this._controller = new AbortController();\n    const elements = this._buildElements();\n    this.replaceChildren(...elements);\n    this._refresh();\n    this._toggleDisabled(!this.editable);\n    this._activateListeners();\n    if ( !this.hasAttribute(\"tabindex\") ) this.tabIndex = 0;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  disconnectedCallback() {\n    this._controller.abort();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  _buildElements() {\n    this.#indicator = document.createElement(\"div\");\n    this.#indicator.classList.add(\"indicator\");\n    return [this.#indicator];\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  _refresh() {\n    this.#indicator.dataset.value = this.value ?? 0;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  _activateListeners() {\n    const { signal } = this._controller;\n    this.addEventListener(\"click\", this._onClick.bind(this), { signal });\n    this.addEventListener(\"contextmenu\", this._onClick.bind(this), { signal });\n    this.addEventListener(\"keydown\", event => event.key === \" \" ? this.#handleValueChange() : null, { signal });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  _onClick(event) {\n    this.#handleValueChange(event.button === 2);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle changing the value based on a click or keyboard trigger.\n   * @param {boolean} [backwards=false]  Should the value be decreased rather than increased?\n   */\n  #handleValueChange(backwards=false) {\n    if ( this.disabled ) return;\n    let newValue = (this.value ?? 0) + (backwards ? -1 : 1);\n    if ( newValue > 1 ) newValue = -1;\n    else if ( newValue < -1 ) newValue = 1;\n    this.value = newValue;\n  }\n}\n","import AdoptedStyleSheetMixin from \"./adopted-stylesheet-mixin.mjs\";\n\n/**\n * Custom element for displaying SVG icons that are cached and can be styled.\n */\nexport default class IconElement extends AdoptedStyleSheetMixin(HTMLElement) {\n  constructor() {\n    super();\n    this.#internals = this.attachInternals();\n    this.#internals.role = \"img\";\n    this.#shadowRoot = this.attachShadow({ mode: \"closed\" });\n  }\n\n  /** @inheritDoc */\n  static CSS = `\n    :host {\n      display: contents;\n    }\n    svg {\n      fill: var(--icon-fill, #000);\n      width: var(--icon-width, var(--icon-size, 1em));\n      height: var(--icon-height, var(--icon-size, 1em));\n    }\n  `;\n\n  /**\n   * Cached SVG files by SRC.\n   * @type {Map<string, SVGElement|Promise<SVGElement>>}\n   */\n  static #svgCache = new Map();\n\n  /**\n   * The custom element's form and accessibility internals.\n   * @type {ElementInternals}\n   */\n  #internals;\n\n  /**\n   * Shadow root that contains the icon.\n   * @type {ShadowRoot}\n   */\n  #shadowRoot;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Path to the SVG source file.\n   * @type {string}\n   */\n  get src() {\n    return this.getAttribute(\"src\");\n  }\n\n  set src(src) {\n    this.setAttribute(\"src\", src);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _adoptStyleSheet(sheet) {\n    this.#shadowRoot.adoptedStyleSheets = [sheet];\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  connectedCallback() {\n    this._adoptStyleSheet(this._getStyleSheet());\n    const insertElement = element => {\n      if ( !element ) return;\n      const clone = element.cloneNode(true);\n      this.#shadowRoot.replaceChildren(clone);\n    };\n\n    // Insert element immediately if already available, otherwise wait for fetch\n    const element = this.constructor.fetch(this.src);\n    if ( element instanceof Promise ) element.then(insertElement);\n    else insertElement(element);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Fetch an SVG element from a source.\n   * @param {string} src                        Path of the SVG file to retrieve.\n   * @returns {SVGElement|Promise<SVGElement>}  Promise if the element is not cached, otherwise the element directly.\n   */\n  static fetch(src) {\n    if ( !this.#svgCache.has(src) ) this.#svgCache.set(src, fetch(src)\n      .then(b => b.text())\n      .then(t => {\n        const temp = document.createElement(\"div\");\n        temp.innerHTML = t;\n        const svg = temp.querySelector(\"svg\");\n        this.#svgCache.set(src, svg);\n        return svg;\n      }));\n    return this.#svgCache.get(src);\n  }\n}\n","import { filteredKeys } from \"../utils.mjs\";\nimport Award from \"./award.mjs\";\nimport DialogMixin from \"./dialog-mixin.mjs\";\n\n/**\n * Application for performing currency conversions & transfers.\n */\nexport default class CurrencyManager extends DialogMixin(FormApplication) {\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e2\", \"currency-manager\", \"dialog\"],\n      tabs: [{navSelector: \"nav\", contentSelector: \".sheet-content\", initial: \"transfer\"}],\n      template: \"systems/dnd5e/templates/apps/currency-manager.hbs\",\n      title: \"DND5E.CurrencyManager.Title\",\n      width: 350,\n      height: \"auto\"\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * Destinations to which currency can be transferred.\n   * @type {(Actor5e|Item5e)[]}\n   */\n  get transferDestinations() {\n    const destinations = [];\n    const actor = this.object instanceof Actor ? this.object : this.object.parent;\n    if ( actor && (actor !== this.object) ) destinations.push(actor);\n    destinations.push(...(actor?.system.transferDestinations ?? []));\n    destinations.push(...(actor?.itemTypes.container.filter(b => b !== this.object) ?? []));\n    if ( game.user.isGM ) {\n      const primaryParty = game.settings.get(\"dnd5e\", \"primaryParty\")?.actor;\n      if ( primaryParty && (this.object !== primaryParty) && !destinations.includes(primaryParty) ) {\n        destinations.push(primaryParty);\n      }\n    }\n    return destinations;\n  }\n\n  /* -------------------------------------------- */\n  /*  Rendering                                   */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  getData(options={}) {\n    const context = super.getData(options);\n\n    context.CONFIG = CONFIG.DND5E;\n    context.currency = this.object.system.currency;\n    context.destinations = Award.prepareDestinations(this.transferDestinations);\n\n    return context;\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Handling                              */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  activateListeners(jQuery) {\n    super.activateListeners(jQuery);\n    const html = jQuery[0];\n\n    for ( const button of html.querySelectorAll('[name^=\"set\"]') ) {\n      button.addEventListener(\"click\", this._onSetTransferValue.bind(this));\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _onChangeInput(event) {\n    super._onChangeInput(event);\n    this._validateForm();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle setting the transfer amount based on the buttons.\n   * @param {PointerEvent} event  Triggering click event.\n   * @protected\n   */\n  _onSetTransferValue(event) {\n    for ( let [key, value] of Object.entries(this.object.system.currency) ) {\n      if ( event.target.name === \"setHalf\" ) value = Math.floor(value / 2);\n      const input = this.form.querySelector(`[name=\"amount.${key}\"]`);\n      if ( input && value ) input.value = value;\n    }\n    this._validateForm();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Ensure the transfer form is in a valid form to be submitted.\n   * @protected\n   */\n  _validateForm() {\n    const data = foundry.utils.expandObject(this._getSubmitData());\n    let valid = true;\n    if ( !filteredKeys(data.amount ?? {}).length ) valid = false;\n    if ( !filteredKeys(data.destination ?? {}).length ) valid = false;\n    this.form.querySelector('button[name=\"transfer\"]').disabled = !valid;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _updateObject(event, formData) {\n    const data = foundry.utils.expandObject(formData);\n    switch ( event.submitter?.name ) {\n      case \"convert\":\n        await this.constructor.convertCurrency(this.object);\n        break;\n      case \"transfer\":\n        const destinations = this.transferDestinations.filter(d => data.destination[d.id]);\n        await this.constructor.transferCurrency(this.object, destinations, data.amount);\n        break;\n    }\n    this.close();\n  }\n\n  /* -------------------------------------------- */\n  /*  Currency Operations                         */\n  /* -------------------------------------------- */\n\n  /**\n   * Convert all carried currency to the highest possible denomination using configured conversion rates.\n   * See CONFIG.DND5E.currencies for configuration.\n   * @param {Actor5e|Item5e} doc  Actor or container item to convert.\n   * @returns {Promise<Actor5e|Item5e>}\n   */\n  static convertCurrency(doc) {\n    const currency = foundry.utils.deepClone(doc.system.currency);\n\n    const currencies = Object.entries(CONFIG.DND5E.currencies);\n    currencies.sort((a, b) => a[1].conversion - b[1].conversion);\n\n    // Count total converted units of the base currency\n    let basis = currencies.reduce((change, [denomination, config]) => {\n      if ( !config.conversion ) return change;\n      return change + (currency[denomination] / config.conversion);\n    }, 0);\n\n    // Convert base units into the highest denomination possible\n    for ( const [denomination, config] of currencies) {\n      if ( !config.conversion ) continue;\n      const amount = Math.floor(basis * config.conversion);\n      currency[denomination] = amount;\n      basis -= (amount / config.conversion);\n    }\n\n    // Save the updated currency object\n    return doc.update({\"system.currency\": currency});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Transfer currency between one document and another.\n   * @param {Actor5e|Item5e} origin       Document from which to move the currency.\n   * @param {Document[]} destinations     Documents that should receive the currency.\n   * @param {object[]} amounts            Amount of each denomination to transfer.\n   */\n  static async transferCurrency(origin, destinations, amounts) {\n    Award.awardCurrency(amounts, destinations, { origin });\n  }\n}\n","import Item5e from \"../../documents/item.mjs\";\nimport {parseInputDelta} from \"../../utils.mjs\";\nimport CurrencyManager from \"../currency-manager.mjs\";\nimport ContextMenu5e from \"../context-menu.mjs\";\n\n/**\n * Custom element that handles displaying actor & container inventories.\n */\nexport default class InventoryElement extends HTMLElement {\n  connectedCallback() {\n    this.#app = ui.windows[this.closest(\".app\")?.dataset.appid];\n\n    this._initializeFilterLists();\n\n    if ( !this.canUse ) {\n      for ( const element of this.querySelectorAll('[data-action=\"use\"]') ) {\n        element.dataset.action = null;\n        element.closest(\".rollable\")?.classList.remove(\"rollable\");\n      }\n    }\n\n    for ( const input of this.querySelectorAll('input[type=\"number\"]') ) {\n      input.addEventListener(\"change\", this._onChangeInput.bind(this));\n    }\n\n    for ( const input of this.querySelectorAll('input[inputmode=\"numeric\"]') ) {\n      input.addEventListener(\"change\", this._onChangeInputDelta.bind(this));\n    }\n\n    for ( const button of this.querySelectorAll(\".adjustment-button\") ) {\n      button.addEventListener(\"click\", this._onAdjustInput.bind(this));\n    }\n\n    for ( const control of this.querySelectorAll(\".item-action[data-action]\") ) {\n      control.addEventListener(\"click\", event => {\n        this._onAction(event.currentTarget, event.currentTarget.dataset.action);\n      });\n    }\n\n    for ( const control of this.querySelectorAll(\"[data-context-menu]\") ) {\n      control.addEventListener(\"click\", event => {\n        event.preventDefault();\n        event.stopPropagation();\n        const { clientX, clientY } = event;\n        event.currentTarget.closest(\"[data-item-id]\").dispatchEvent(new PointerEvent(\"contextmenu\", {\n          view: window, bubbles: true, cancelable: true, clientX, clientY\n        }));\n      });\n    }\n\n    const MenuCls = this.hasAttribute(\"v2\") ? ContextMenu5e : ContextMenu;\n    new MenuCls(this, \"[data-item-id]\", [], {onOpen: this._onOpenContextMenu.bind(this)});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare filter lists and attach their listeners.\n   * @protected\n   */\n  _initializeFilterLists() {\n    const filterLists = this.querySelectorAll(\".filter-list\");\n    if ( !this._app._filters || !filterLists.length ) return;\n\n    // Activate the set of filters which are currently applied\n    for ( const list of filterLists ) {\n      const state = this._app._filters[list.dataset.filter];\n      if ( !state ) continue;\n      const set = state.properties;\n      const filters = list.querySelectorAll(\".filter-item\");\n      for ( const filter of filters ) {\n        if ( set.has(filter.dataset.filter) ) filter.classList.add(\"active\");\n        filter.addEventListener(\"click\", () => {\n          const f = filter.dataset.filter;\n          if ( set.has(f) ) set.delete(f);\n          else set.add(f);\n          filter.classList.toggle(\"active\", set.has(f));\n          this._applyFilters(state);\n        });\n      }\n      this._applyFilters(state);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * TODO: Remove filtering code from dnd5e-inventory when all sheets use item-list-controls.\n   * Apply the current set of filters to the inventory list.\n   * @param {FilterState5e} state  The filter state to apply.\n   * @protected\n   */\n  _applyFilters(state) {\n    let items = this._app._filterItems?.(this._app.object.items, state.properties);\n    if ( !items ) return;\n    const elementMap = {};\n    this.querySelectorAll(\".inventory-list .item-list .item\").forEach(el => {\n      elementMap[el.dataset.itemId] = el;\n      el.hidden = true;\n    });\n    for ( const item of items ) {\n      const el = elementMap[item.id];\n      if ( el ) el.hidden = false;\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * Reference to the application that contains this component.\n   * @type {Application}\n   */\n  #app;\n\n  /**\n   * Reference to the application that contains this component.\n   * @type {Application}\n   * @protected\n   */\n  get _app() { return this.#app; }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Can items be used directly from the inventory?\n   * @type {boolean}\n   */\n  get canUse() {\n    return !(!this.actor || !this.actor.isOwner || this.actor.pack);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Containing actor for this inventory, either the document or its parent if document is an item.\n   * @type {Actor5e|null}\n   */\n  get actor() {\n    if ( this.document instanceof Actor ) return this.document;\n    return this.document.actor ?? null;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Document whose inventory is represented.\n   * @type {Actor5e|Item5e}\n   */\n  get document() {\n    return this._app.document;\n  }\n\n  /* -------------------------------------------- */\n  /*  Helpers                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Retrieve an item with the specified ID.\n   * @param {string} id\n   * @returns {Item5e|Promise<Item5e>}\n   */\n  getItem(id) {\n    if ( this.document.type === \"container\" ) return this.document.system.getContainedItem(id);\n    return this.document.items.get(id);\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Handlers                              */\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare an array of context menu options which are available for inventory items.\n   * @param {Item5e} item           The Item for which the context menu is activated.\n   * @param {HTMLElement} [element] The element the context menu was spawned from.\n   * @returns {ContextMenuEntry[]}  An array of context menu options offered for the Item.\n   * @protected\n   */\n  _getContextOptions(item, element) {\n    // Standard Options\n    const options = [\n      {\n        name: \"DND5E.ContextMenuActionEdit\",\n        icon: \"<i class='fas fa-edit fa-fw'></i>\",\n        condition: () => item.isOwner,\n        callback: li => this._onAction(li[0], \"edit\")\n      },\n      {\n        name: \"DND5E.ItemView\",\n        icon: '<i class=\"fas fa-eye\"></i>',\n        condition: () => !item.isOwner,\n        callback: li => this._onAction(li[0], \"view\")\n      },\n      {\n        name: \"DND5E.ContextMenuActionDuplicate\",\n        icon: \"<i class='fas fa-copy fa-fw'></i>\",\n        condition: () => !item.system.metadata?.singleton && ![\"class\", \"subclass\"].includes(item.type) && item.isOwner,\n        callback: li => this._onAction(li[0], \"duplicate\")\n      },\n      {\n        name: \"DND5E.ContextMenuActionDelete\",\n        icon: \"<i class='fas fa-trash fa-fw'></i>\",\n        condition: () => item.isOwner,\n        callback: li => this._onAction(li[0], \"delete\")\n      },\n      {\n        name: \"DND5E.Scroll.CreateScroll\",\n        icon: '<i class=\"fa-solid fa-scroll\"></i>',\n        callback: async li => {\n          const scroll = await Item5e.createScrollFromSpell(item);\n          if ( scroll ) Item5e.create(scroll, { parent: this.actor });\n        },\n        condition: li => (item.type === \"spell\") && this.actor?.isOwner,\n        group: \"action\"\n      },\n      {\n        name: \"DND5E.ConcentrationBreak\",\n        icon: '<dnd5e-icon src=\"systems/dnd5e/icons/svg/break-concentration.svg\"></dnd5e-icon>',\n        condition: () => this.actor.concentration?.items.has(item),\n        callback: () => this.actor.endConcentration(item),\n        group: \"state\"\n      }\n    ];\n\n    if ( !this.actor || (this.actor.type === \"group\") ) return options;\n\n    // Toggle Attunement State\n    if ( item.system.attunement ) {\n      options.push({\n        name: item.system.attuned ? \"DND5E.ContextMenuActionUnattune\" : \"DND5E.ContextMenuActionAttune\",\n        icon: \"<i class='fas fa-sun fa-fw'></i>\",\n        condition: () => item.isOwner,\n        callback: li => this._onAction(li[0], \"attune\"),\n        group: \"state\"\n      });\n    }\n\n    // Toggle Equipped State\n    if ( \"equipped\" in item.system ) options.push({\n      name: item.system.equipped ? \"DND5E.ContextMenuActionUnequip\" : \"DND5E.ContextMenuActionEquip\",\n      icon: \"<i class='fas fa-shield-alt fa-fw'></i>\",\n      condition: () => item.isOwner,\n      callback: li => this._onAction(li[0], \"equip\"),\n      group: \"state\"\n    });\n\n    // Toggle Charged State\n    if ( item.system.recharge?.value ) options.push({\n      name: item.system.recharge.charged ? \"DND5E.ContextMenuActionExpendCharge\" : \"DND5E.ContextMenuActionCharge\",\n      icon: '<i class=\"fa-solid fa-bolt\"></i>',\n      condition: () => item.isOwner,\n      callback: li => this._onAction(li[0], \"toggleCharge\"),\n      group: \"state\"\n    });\n\n    // Toggle Prepared State\n    else if ( (\"preparation\" in item.system) && (item.system.preparation?.mode === \"prepared\") ) options.push({\n      name: item.system?.preparation?.prepared ? \"DND5E.ContextMenuActionUnprepare\" : \"DND5E.ContextMenuActionPrepare\",\n      icon: \"<i class='fas fa-sun fa-fw'></i>\",\n      condition: () => item.isOwner,\n      callback: li => this._onAction(li[0], \"prepare\"),\n      group: \"state\"\n    });\n\n    // Identification\n    if ( \"identified\" in item.system ) options.push({\n      name: \"DND5E.Identify\",\n      icon: '<i class=\"fas fa-magnifying-glass\"></i>',\n      condition: () => item.isOwner && !item.system.identified,\n      callback: () => item.update({ \"system.identified\": true }),\n      group: \"state\"\n    });\n\n    // Toggle Favorite State\n    if ( (\"favorites\" in this.actor.system) ) {\n      const uuid = item.getRelativeUUID(this.actor);\n      const isFavorited = this.actor.system.hasFavorite(uuid);\n      options.push({\n        name: isFavorited ? \"DND5E.FavoriteRemove\" : \"DND5E.Favorite\",\n        icon: \"<i class='fas fa-star fa-fw'></i>\",\n        condition: () => item.isOwner,\n        callback: li => this._onAction(li[0], isFavorited ? \"unfavorite\" : \"favorite\"),\n        group: \"state\"\n      });\n    }\n\n    // Toggle Collapsed State\n    if ( this._app.canExpand?.(item) ) {\n      const expanded = this._app._expanded.has(item.id);\n      options.push({\n        name: expanded ? \"Collapse\" : \"Expand\",\n        icon: `<i class=\"fas fa-${expanded ? \"compress\" : \"expand\"}\"></i>`,\n        callback: () => element.closest(\"[data-item-id]\")?.querySelector(\"[data-toggle-description]\")?.click(),\n        group: \"collapsible\"\n      });\n    }\n\n    return options;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle changing the quantity or charges fields.\n   * @param {Event} event  Triggering change event.\n   * @returns {Promise}\n   * @protected\n   */\n  async _onChangeInput(event) {\n    const itemId = event.target.closest(\"[data-item-id]\")?.dataset.itemId;\n    if ( !itemId ) return;\n\n    event.stopImmediatePropagation();\n    const item = await this.getItem(itemId);\n    const min = event.target.min !== \"\" ? Number(event.target.min) : -Infinity;\n    const max = event.target.max !== \"\" ? Number(event.target.max) : Infinity;\n    const value = Math.clamp(event.target.valueAsNumber, min, max);\n    if ( !item || Number.isNaN(value) ) return;\n\n    event.target.value = value;\n    item.update({[event.target.dataset.name]: value});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle input changes to numeric form fields, allowing them to accept delta-typed inputs.\n   * @param {Event} event  Triggering event.\n   * @protected\n   */\n  async _onChangeInputDelta(event) {\n    // If this is already handled by the parent sheet, skip.\n    if ( this.#app?._onChangeInputDelta ) return;\n    const input = event.target;\n    const itemId = input.closest(\"[data-item-id]\")?.dataset.itemId;\n    const item = await this.getItem(itemId);\n    if ( !item ) return;\n    const result = parseInputDelta(input, item);\n    if ( result !== undefined ) item.update({ [input.dataset.name]: result });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle incrementing or decrementing a numeric input.\n   * @param {PointerEvent} event  The triggering event.\n   * @protected\n   */\n  _onAdjustInput(event) {\n    const button = event.currentTarget;\n    const { action } = button.dataset;\n    const input = button.parentElement.querySelector(\"input\");\n    const min = input.min ? Number(input.min) : -Infinity;\n    const max = input.max ? Number(input.max) : Infinity;\n    let value = Number(input.value);\n    if ( isNaN(value) ) return;\n    value += action === \"increase\" ? 1 : -1;\n    input.value = Math.clamp(value, min, max);\n    input.dispatchEvent(new Event(\"change\"));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle item actions.\n   * @param {Element} target  Button or context menu entry that triggered this action.\n   * @param {string} action   Action being triggered.\n   * @returns {Promise}\n   * @protected\n   */\n  async _onAction(target, action) {\n    const event = new CustomEvent(\"inventory\", {\n      bubbles: true,\n      cancelable: true,\n      detail: action\n    });\n    if ( target.dispatchEvent(event) === false ) return;\n\n    const itemId = target.closest(\"[data-item-id]\")?.dataset.itemId;\n    const item = await this.getItem(itemId);\n    if ( ![\"create\", \"currency\"].includes(action) && !item ) return;\n\n    switch ( action ) {\n      case \"attune\":\n        return item.update({\"system.attuned\": !item.system.attuned});\n      case \"create\":\n        if ( this.document.type === \"container\" ) return;\n        return this._onCreate(target);\n      case \"crew\":\n        return item.update({\"system.crewed\": !item.system.crewed});\n      case \"currency\":\n        return new CurrencyManager(this.document).render(true);\n      case \"delete\":\n        return item.deleteDialog();\n      case \"duplicate\":\n        return item.clone({name: game.i18n.format(\"DOCUMENT.CopyOf\", {name: item.name})}, {save: true});\n      case \"edit\":\n      case \"view\":\n        return item.sheet.render(true);\n      case \"equip\":\n        return item.update({\"system.equipped\": !item.system.equipped});\n      case \"expand\":\n        return this._onExpand(target, item);\n      case \"favorite\":\n        return this.actor.system.addFavorite({type: \"item\", id: item.getRelativeUUID(this.actor)});\n      case \"prepare\":\n        return item.update({\"system.preparation.prepared\": !item.system.preparation?.prepared});\n      case \"recharge\":\n        return item.rollRecharge();\n      case \"toggleCharge\":\n        return item.update({\"system.recharge.charged\": !item.system.recharge?.charged});\n      case \"unfavorite\":\n        return this.actor.system.removeFavorite(item.getRelativeUUID(this.actor));\n      case \"use\":\n        return item.use({}, { event });\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create a new item.\n   * @param {HTMLElement} target  Button or context menu entry that triggered this action.\n   * @returns {Promise<Item5e>}\n   */\n  async _onCreate(target) {\n    const { type, ...dataset } = (target.closest(\".spellbook-header\") ?? target).dataset;\n    delete dataset.action;\n    delete dataset.tooltip;\n\n    // Check to make sure the newly created class doesn't take player over level cap\n    if ( type === \"class\" && (this.actor.system.details.level + 1 > CONFIG.DND5E.maxLevel) ) {\n      const err = game.i18n.format(\"DND5E.MaxCharacterLevelExceededWarn\", {max: CONFIG.DND5E.maxLevel});\n      ui.notifications.error(err);\n      return null;\n    }\n\n    const itemData = {\n      name: game.i18n.format(\"DND5E.ItemNew\", {type: game.i18n.localize(CONFIG.Item.typeLabels[type])}),\n      type,\n      system: foundry.utils.expandObject({ ...dataset })\n    };\n    delete itemData.system.type;\n    return this.actor.createEmbeddedDocuments(\"Item\", [itemData]);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Expand or collapse an item's summary.\n   * @param {HTMLElement} target  Button or context menu entry that triggered this action.\n   * @param {Item5e} item         Item to being expanded or collapsed.\n   */\n  async _onExpand(target, item) {\n    const li = target.closest(\"[data-item-id]\");\n    if ( this._app._expanded.has(item.id) ) {\n      const summary = $(li.querySelector(\".item-summary\"));\n      summary.slideUp(200, () => summary.remove());\n      this._app._expanded.delete(item.id);\n    } else {\n      const chatData = await item.getChatData({secrets: this.document.isOwner});\n      const summary = $(await renderTemplate(\"systems/dnd5e/templates/items/parts/item-summary.hbs\", chatData));\n      $(li).append(summary.hide());\n      summary.slideDown(200);\n      this._app._expanded.add(item.id);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle opening the context menu.\n   * @param {HTMLElement} element  The element the context menu was triggered on.\n   * @protected\n   */\n  _onOpenContextMenu(element) {\n    const item = this.getItem(element.closest(\"[data-item-id]\")?.dataset.itemId);\n    // Parts of ContextMenu doesn't play well with promises, so don't show menus for containers in packs\n    if ( !item || (item instanceof Promise) ) return;\n    ui.context.menuItems = this._getContextOptions(item, element);\n    Hooks.call(\"dnd5e.getItemContextOptions\", item, ui.context.menuItems);\n  }\n}\n","/**\n * A custom element that encapsulates functionality for sorting, filtering, searching, and grouping lists of items.\n */\nexport default class ItemListControlsElement extends HTMLElement {\n  /** @override */\n  connectedCallback() {\n    this.#app = ui.windows[this.closest(\".app\")?.dataset.appid];\n    this.#list = this.#app.form.querySelector(`[data-item-list=\"${this.getAttribute(\"for\")}\"]`);\n    this.#state = this.#app._filters[this.getAttribute(\"for\")];\n    this.#tab = this.closest(\".tab\")?.dataset.tab;\n    this.#buildHTML();\n\n    const debouncedFilter = foundry.utils.debounce(this._onFilterName.bind(this), this.constructor.FILTER_DEBOUNCE_MS);\n    this._inputElement.addEventListener(\"input\", debouncedFilter);\n    this._controls.clear.addEventListener(\"click\", this._onClearFilters.bind(this));\n    this._controls.sort?.addEventListener(\"click\", this._onToggleMode.bind(this));\n    this._controls.group?.addEventListener(\"click\", this._onToggleMode.bind(this));\n\n    this._initFilters();\n    this._initGrouping();\n    this._initSorting();\n    this._applyGrouping();\n  }\n\n  /* -------------------------------------------- */\n  /*  Properties & Getters                        */\n  /* -------------------------------------------- */\n\n  /**\n   * @typedef {object} SortModeConfiguration5e\n   * @property {string} icon\n   * @property {string} label\n   * @property {ItemListComparator5e} comparator\n   */\n\n  /**\n   * @callback ItemListComparator5e\n   * @param {object} a\n   * @param {object} b\n   * @returns {number}\n   */\n\n  /**\n   * Sort mode configuration.\n   * @type {Record<string, SortModeConfiguration5e>}\n   */\n  static SORT_MODES = {\n    a: {\n      icon: \"fa-arrow-down-a-z\",\n      label: \"SIDEBAR.SortModeAlpha\",\n      comparator: (a, b) => a.name.localeCompare(b.name, game.i18n.lang)\n    },\n    p: {\n      icon: \"fa-arrow-down-1-9\",\n      label: \"SIDEBAR.SortModePriority\",\n      comparator: (a, b) => (a.level - b.level)\n        || (a.preparationMode - b.preparationMode)\n        || (a.prepared - b.prepared)\n        || a.name.localeCompare(b.name, game.i18n.lang)\n    },\n    m: {\n      icon: \"fa-arrow-down-short-wide\",\n      label: \"SIDEBAR.SortModeManual\",\n      comparator: (a, b) => a.sort - b.sort\n    }\n  };\n\n  /**\n   * The amount of time to wait after a user's keypress before the name search filter is applied, in milliseconds.\n   * @type {number}\n   */\n  static FILTER_DEBOUNCE_MS = 200;\n\n  #app;\n\n  /**\n   * The Application instance that houses this item control.\n   * @type {FormApplication}\n   */\n  get app() {\n    return this.#app;\n  }\n\n  #list;\n\n  /**\n   * The list element that this element manages.\n   * @type {HTMLElement}\n   */\n  get list() {\n    return this.#list;\n  }\n\n  #state;\n\n  /**\n   * The current filter state.\n   * @type {FilterState5e}\n   */\n  get state() {\n    return this.#state;\n  }\n\n  #tab;\n\n  /**\n   * The tab this element is part of.\n   * @type {string}\n   */\n  get tab() {\n    return this.#tab;\n  }\n\n  /**\n   * The search input.\n   * @type {HTMLInputElement}\n   * @protected\n   */\n  _inputElement;\n\n  /**\n   * The available filtering choices.\n   * @type {NodeListOf<HTMLButtonElement>}\n   * @protected\n   */\n  _filterItems;\n\n  /**\n   * The individual filtering controls.\n   * @type {Record<string, HTMLButtonElement>}\n   * @protected\n   */\n  _controls;\n\n  /**\n   * The user's preferences for this tab.\n   * @type {TabPreferences5e}\n   */\n  get prefs() {\n    return game.user.getFlag(\"dnd5e\", `sheetPrefs.${this.app.object.type}.tabs.${this.tab}`);\n  }\n\n  /**\n   * Whether to keep empty sections visible.\n   * @type {boolean}\n   */\n  get keepEmpty() {\n    return this.hasAttribute(\"keep-empty\");\n  }\n\n  /**\n   * Get the current sort mode.\n   * @type {\"a\"|\"p\"|\"m\"}\n   */\n  get sortMode() {\n    const sortMode = this.getAttribute(\"sort\");\n    if ( !sortMode ) return \"m\";\n    if ( sortMode === \"toggle\" ) return this.prefs?.sort === \"a\" ? \"a\" : \"m\";\n    if ( sortMode === \"multi\" ) {\n      const modes = Array.from(this.getAttribute(\"sort-modes\") || \"\");\n      if ( !modes.length ) return \"m\";\n      return modes.includes(this.prefs?.sort) ? this.prefs.sort : modes[0];\n    }\n    return sortMode;\n  }\n\n  /* -------------------------------------------- */\n  /*  Methods                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Construct the element's internal markup.\n   */\n  #buildHTML() {\n    const options = this.querySelectorAll(\"option\");\n    const search = document.createElement(\"search\");\n    search.setAttribute(\"aria-label\", this.getAttribute(\"label\"));\n    search.innerHTML = `\n      <input type=\"text\" placeholder=\"${this.getAttribute(\"label\")}\">\n      <ul class=\"unlist controls\">\n        <li>\n          <button type=\"button\" class=\"unbutton filter-control\" data-action=\"clear\" data-tooltip=\"DND5E.FilterClear\"\n                  aria-label=\"${game.i18n.localize(\"DND5E.FilterClear\")}\">\n            <i class=\"fas fa-xmark\"></i>        \n          </button>\n        </li>\n      </ul>\n    `;\n\n    const controls = search.querySelector(\".controls\");\n\n    // Filtering\n    if ( options.length ) {\n      const item = document.createElement(\"li\");\n      item.classList.add(\"dropdown\");\n      item.innerHTML = `\n        <button type=\"button\" class=\"unbutton filter-control filter\" data-action=\"filter\"\n                aria-label=\"${game.i18n.localize(\"DND5E.Filter\")}\">\n          <i class=\"fas fa-filter\"></i>\n        </button>\n        <ul class=\"filter-list unlist\"></ul>\n      `;\n      controls.appendChild(item);\n\n      const list = item.querySelector(\".filter-list\");\n      options.forEach(option => {\n        const item = document.createElement(\"li\");\n        item.innerHTML = `\n          <button type=\"button\" class=\"filter-item\" data-filter=\"${option.value}\">${option.innerText}</button>\n        `;\n        list.appendChild(item);\n      });\n    }\n\n    // Sorting\n    const sortMode = this.getAttribute(\"sort\");\n    if ( [\"toggle\", \"multi\"].includes(sortMode) ) {\n      const item = document.createElement(\"li\");\n      item.innerHTML = `\n        <button type=\"button\" class=\"unbutton filter-control active\" data-action=\"sort\"\n                data-tooltip=\"SIDEBAR.SortModeManual\" aria-label=\"${game.i18n.localize(\"SIDEBAR.SortModeManual\")}\">\n          <i class=\"fas fa-arrow-down-short-wide\"></i>\n        </button>\n      `;\n      controls.appendChild(item);\n    }\n\n    // Grouping\n    if ( this.hasAttribute(\"group\") ) {\n      const groupLabel = this.getAttribute(\"group-label\");\n      const item = document.createElement(\"li\");\n      item.innerHTML = `\n        <button type=\"button\" class=\"unbutton filter-control active\" data-action=\"group\" data-tooltip=\"${groupLabel}\"\n                aria-label=\"${groupLabel}\">\n          <i class=\"fas fa-layer-group\"></i>\n        </button>\n      `;\n      controls.appendChild(item);\n    }\n\n    this._inputElement = search.querySelector(\":scope > input\");\n    this._filterItems = search.querySelectorAll(\".filter-item\");\n    this._controls = {};\n    search.querySelectorAll(\".filter-control\").forEach(el => this._controls[el.dataset.action] = el);\n    this.replaceChildren(search);\n  }\n\n  /**\n   * Initialize the elements based on the filter state.\n   * @protected\n   */\n  _initFilters() {\n    const { properties, name } = this.state;\n    this._inputElement.value = name;\n    for ( const item of this._filterItems ) {\n      item.classList.toggle(\"active\", properties.has(item.dataset.filter));\n      item.addEventListener(\"click\", this._onToggleFilterItem.bind(this));\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Initialize the elements based on the grouping preferences.\n   * @protected\n   */\n  _initGrouping() {\n    this._controls.group?.classList.toggle(\"active\", this.prefs?.group !== false);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Initialize the element sorting.\n   * @protected\n   */\n  _initSorting() {\n    if ( (this.getAttribute(\"sort\") !== \"toggle\") && (this.getAttribute(\"sort\") !== \"multi\") ) return;\n    const { icon, label } = this.constructor.SORT_MODES[this.sortMode];\n    this._controls.sort.querySelector(\"i\").className = `fas ${icon}`;\n    this._controls.sort.dataset.tooltip = label;\n    this._controls.sort.setAttribute(\"aria-label\", game.i18n.localize(label));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Apply the filters to the managed list.\n   * @protected\n   */\n  _applyFilters() {\n    const { name, properties } = this.state;\n    this._controls.clear.classList.toggle(\"active\", properties.size || name);\n    let entries = this.app._filterChildren?.(this.getAttribute(\"collection\") ?? \"items\", properties);\n    if ( !entries ) return;\n    if ( name ) entries = entries.filter(item => item.name.toLocaleLowerCase(game.i18n.lang).includes(name));\n    const elementMap = {};\n    if ( !this.keepEmpty ) this.list.querySelectorAll(\".items-section\").forEach(el => el.hidden = true);\n    this.list.querySelectorAll(\".item-list .item\").forEach(el => {\n      const uniqueID = el.dataset.parentId ? `${el.dataset.parentId}.${el.dataset.entryId}` : el.dataset.entryId;\n      elementMap[uniqueID] = el;\n      el.hidden = true;\n    });\n    for ( const entry of entries ) {\n      const el = elementMap[`${entry.parent.id}.${entry.id}`] ?? elementMap[entry.id];\n      if ( el ) el.hidden = false;\n    }\n    this.list.querySelectorAll(\".items-section:has(.item-list .item:not([hidden]))\").forEach(el => el.hidden = false);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Group the managed items.\n   * @protected\n   */\n  _applyGrouping() {\n    if ( this._controls.group ) {\n      const group = this.prefs?.group !== false;\n      const sections = {};\n      for ( const section of this.list.querySelectorAll(\".items-section\") ) {\n        sections[section.dataset.type] = section.querySelector(\".item-list\");\n      }\n      for ( const item of this.list.querySelectorAll(\".item\") ) {\n        const { grouped, ungrouped } = item.dataset;\n        const section = sections[group ? grouped : ungrouped];\n        section.appendChild(item);\n      }\n    }\n    this._applyFilters();\n    this._applySorting();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Sort the managed list.\n   * @protected\n   */\n  _applySorting() {\n    for ( const section of this.list.querySelectorAll(\".items-section .item-list\") ) {\n      const items = [];\n      section.querySelectorAll(\".item\").forEach(element => {\n        const { itemName, itemSort, itemLevel, itemPreparationMode, itemPreparationPrepared } = element.dataset;\n        items.push({\n          element,\n          name: itemName,\n          sort: Number(itemSort),\n          level: Number(itemLevel),\n          preparationMode: itemPreparationMode === \"always\" ? 0 : 1,\n          prepared: itemPreparationPrepared === \"true\" ? 0 : 1\n        });\n      });\n      items.sort(this.constructor.SORT_MODES[this.sortMode].comparator);\n      section.replaceChildren(...items.map(({ element }) => element));\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle toggling a filter item.\n   * @param {PointerEvent} event  The triggering event.\n   * @protected\n   */\n  _onToggleFilterItem(event) {\n    const target = event.currentTarget;\n    const { properties } = this.state;\n    const filter = target.dataset.filter;\n    if ( properties.has(filter) ) properties.delete(filter);\n    else properties.add(filter);\n    target.classList.toggle(\"active\", properties.has(filter));\n    this._applyFilters();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle toggling the sorting or grouping modes.\n   * @param {PointerEvent} event  The triggering event.\n   * @protected\n   */\n  async _onToggleMode(event) {\n    const { action } = event.currentTarget.dataset;\n    const flag = `sheetPrefs.${this.app.object.type}.tabs.${this.tab}.${action}`;\n    const current = game.user.getFlag(\"dnd5e\", flag);\n    let value;\n    if ( action === \"group\" ) value = current === false;\n    else if ( action === \"sort\" ) {\n      const values = Array.from(this.getAttribute(\"sort-modes\") ?? \"am\");\n      const index = values.indexOf(current);\n      value = values[index + 1] ?? values[0];\n    }\n    await game.user.setFlag(\"dnd5e\", flag, value);\n    if ( action === \"group\" ) {\n      this._initGrouping();\n      this._applyGrouping();\n    } else if ( action === \"sort\" ) {\n      this._initSorting();\n      this._applySorting();\n    }\n    game.tooltip.deactivate();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle the user filtering by name.\n   * @param {PointerEvent} event  The triggering event.\n   * @protected\n   */\n  _onFilterName(event) {\n    this.state.name = event.target.value.toLocaleLowerCase(game.i18n.lang);\n    this._applyFilters();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle clearing the filters.\n   * @protected\n   */\n  _onClearFilters() {\n    this.state.name = this._inputElement.value = \"\";\n    this.state.properties.clear();\n    this._filterItems.forEach(el => el.classList.remove(\"active\"));\n    this._applyFilters();\n  }\n}\n","import AdoptedStyleSheetMixin from \"./adopted-stylesheet-mixin.mjs\";\n\n/**\n * A custom HTML element that displays proficiency status and allows cycling through values.\n * @fires change\n */\nexport default class ProficiencyCycleElement extends AdoptedStyleSheetMixin(HTMLElement) {\n  /** @inheritDoc */\n  constructor() {\n    super();\n    this.#controller = new AbortController();\n    this.#internals = this.attachInternals();\n    this.#internals.role = \"spinbutton\";\n    this.#shadowRoot = this.attachShadow({ mode: \"open\" });\n    this._adoptStyleSheet(this._getStyleSheet());\n    this.#value = Number(this.getAttribute(\"value\") ?? 0);\n  }\n\n  /** @inheritDoc */\n  static CSS = `\n    :host { display: inline-block; }\n    div { --_fill: var(--proficiency-cycle-enabled-color, var(--dnd5e-color-blue)); }\n    div:has(:disabled, :focus-visible) { --_fill: var(--proficiency-cycle-disabled-color, var(--dnd5e-color-gold)); }\n    div:not(:has(:disabled)) { cursor: pointer; }\n\n    div {\n      position: relative;\n      overflow: clip;\n      width: 100%;\n      aspect-ratio: 1;\n\n      &::before {\n        content: \"\";\n        position: absolute;\n        display: block;\n        inset: 3px;\n        border: 1px solid var(--_fill);\n        border-radius: 100%;\n      }\n\n      &:has([value=\"1\"])::before { background: var(--_fill); }\n\n      &:has([value=\"0.5\"], [value=\"2\"])::after {\n        content: \"\";\n        position: absolute;\n        background: var(--_fill);  \n      }\n\n      &:has([value=\"0.5\"])::after {\n        inset: 4px;\n        width: 4px;\n        aspect-ratio: 1 / 2;\n        border-radius: 100% 0 0 100%;\n      }\n\n      &:has([value=\"2\"]) {\n        &::before {\n          inset: 1px;\n          border-width: 2px;\n        }\n\n        &::after {\n          inset: 5px;\n          border-radius: 100%;\n        }\n      }\n    }\n\n    input {\n      position: absolute;\n      inset-block-start: -100px;\n      width: 1px;\n      height: 1px;\n      opacity: 0;\n    }\n  `;\n\n  /**\n   * Controller for removing listeners automatically.\n   * @type {AbortController}\n   */\n  #controller;\n\n  /**\n   * The custom element's form and accessibility internals.\n   * @type {ElementInternals}\n   */\n  #internals;\n\n  /**\n   * Shadow root of the element.\n   * @type {ShadowRoot}\n   */\n  #shadowRoot;\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static formAssociated = true;\n\n  /**\n   * The form this element belongs to, if any.\n   * @type {HTMLFormElement}\n   */\n  get form() { return this.#internals.form; }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Is the input disabled?\n   * @type {boolean}\n   */\n  get disabled() { return this.hasAttribute(\"disabled\"); }\n\n  set disabled(value) {\n    this.toggleAttribute(\"disabled\", value);\n    this.#shadowRoot.querySelector(\"input\")?.toggleAttribute(\"disabled\", value);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The name of the toggle.\n   * @type {string}\n   */\n  get name() { return this.getAttribute(\"name\"); }\n\n  set name(value) { this.setAttribute(\"name\", value); }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Type of proficiency represented by this control (e.g. \"ability\" or \"skill\").\n   * @type {\"ability\"|\"skill\"}\n   */\n  get type() { return this.getAttribute(\"type\") ?? \"ability\"; }\n\n  set type(value) {\n    if ( ![\"ability\", \"skill\"].includes(value) ) throw new Error(\"Type must be 'ability' or 'skill'.\");\n    this.setAttribute(\"type\", value);\n    this.#internals.ariaValueMin = 0;\n    this.#internals.ariaValueMax = value === \"ability\" ? 1 : 2;\n    this.#internals.ariaValueStep = value === \"ability\" ? 1 : 0.5;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Valid values for the current type.\n   * @type {number[]}\n   */\n  get validValues() {\n    return this.type === \"ability\" ? [0, 1] : [0, 1, .5, 2];\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The value of the input as it appears in form data.\n   * @type {number}\n   */\n  #value;\n\n  get value() { return this.#value; }\n\n  set value(value) {\n    value = Number(value);\n    if ( !this.validValues.includes(value) ) throw new Error(\"Value must be a valid proficiency multiplier.\");\n    this.#value = value;\n    this.#refreshValue();\n  }\n\n  /* -------------------------------------------- */\n  /*  Methods                                     */\n  /* -------------------------------------------- */\n\n  /** @override */\n  connectedCallback() {\n    this.#buildHTML();\n    this.#refreshValue();\n\n    const { signal } = this.#controller;\n    this.addEventListener(\"click\", this.#onClick.bind(this), { signal });\n    this.addEventListener(\"contextmenu\", this.#onClick.bind(this), { signal });\n    this.#shadowRoot.querySelector(\"div\").addEventListener(\"contextmenu\", e => e.preventDefault(), { signal });\n    this.#shadowRoot.querySelector(\"input\").addEventListener(\"change\", this.#onChangeInput.bind(this), { signal });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _adoptStyleSheet(sheet) {\n    this.#shadowRoot.adoptedStyleSheets = [sheet];\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Build the HTML internals.\n   */\n  #buildHTML() {\n    const div = document.createElement(\"div\");\n    this.#shadowRoot.replaceChildren(div);\n\n    const input = document.createElement(\"input\");\n    input.setAttribute(\"type\", \"number\");\n    if ( this.disabled ) input.setAttribute(\"disabled\", \"\");\n    div.appendChild(input);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Update input and aria attributes based on new input value.\n   */\n  #refreshValue() {\n    const input = this.#shadowRoot.querySelector(\"input\");\n    input.setAttribute(\"value\", this.#value);\n    this.#internals.ariaValueNow = this.#value;\n    this.#internals.ariaValueText = CONFIG.DND5E.proficiencyLevels[this.#value];\n    this.#internals.setFormValue(this.#value);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  disconnectedCallback() {\n    this.#controller.abort();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Redirect focus requests into the inner input.\n   * @param {object} options  Focus options forwarded to inner input.\n   */\n  focus(options) {\n    this.#shadowRoot.querySelector(\"input\")?.focus(options);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Change the value by one step, looping around if the limits have been reached.\n   * @param {boolean} [up=true]  Should the value step up or down?\n   */\n  step(up=true) {\n    const levels = this.validValues;\n    const idx = levels.indexOf(this.value);\n    this.value = levels[(idx + (up ? 1 : levels.length - 1)) % levels.length];\n    this.dispatchEvent(new Event(\"change\"));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle changes to the input value directly.\n   * @param {Event} event  Triggering change event.\n   */\n  #onChangeInput(event) {\n    this.step(event.target.valueAsNumber > this.value);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle a click event for modifying the value.\n   * @param {PointerEvent} event  Triggering click event.\n   */\n  #onClick(event) {\n    event.preventDefault();\n    if ( this.disabled ) return;\n    this.step((event.type === \"click\") && (event.button !== 2));\n  }\n}\n","/**\n * A custom HTML element that represents a checkbox-like input that is displayed as a slide toggle.\n * @fires change\n */\nexport default class SlideToggleElement extends HTMLElement {\n  /** @override */\n  static formAssociated = true;\n\n  /** @inheritDoc */\n  constructor() {\n    super();\n    this.#internals = this.attachInternals();\n    this.#internals.role = \"switch\";\n    this.#internals.ariaChecked = this.hasAttribute(\"checked\") ? \"true\" : \"false\";\n  }\n\n  /**\n   * The custom element's form and accessibility internals.\n   * @type {ElementInternals}\n   */\n  #internals;\n\n  /**\n   * The form this element belongs to, if any.\n   * @type {HTMLFormElement}\n   */\n  get form() {\n    return this.#internals.form;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The name of the toggle.\n   * @type {string}\n   */\n  get name() {\n    return this.getAttribute(\"name\");\n  }\n\n  set name(value) {\n    this.setAttribute(\"name\", value);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Whether the slide toggle is toggled on.\n   * @type {boolean}\n   */\n  get checked() {\n    return this.hasAttribute(\"checked\");\n  }\n\n  set checked(value) {\n    if ( typeof value !== \"boolean\" ) throw new Error(\"Slide toggle checked state must be a boolean.\");\n    this.toggleAttribute(\"checked\", value);\n    this.#internals.ariaChecked = `${value}`;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The value of the input as it appears in form data.\n   * @type {string}\n   */\n  get value() {\n    return this.getAttribute(\"value\") || \"on\";\n  }\n\n  set value(value) {\n    this.setAttribute(\"value\", value);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Masquerade as a checkbox input.\n   * @type {string}\n   */\n  get type() {\n    return \"checkbox\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Activate the element when it is attached to the DOM.\n   * @inheritDoc\n   */\n  connectedCallback() {\n    this.replaceChildren();\n    this.append(...this._buildElements());\n    this._activateListeners();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create the constituent components of this element.\n   * @returns {HTMLElement[]}\n   * @protected\n   */\n  _buildElements() {\n    const track = document.createElement(\"div\");\n    track.classList.add(\"slide-toggle-track\");\n    const thumb = document.createElement(\"div\");\n    thumb.classList.add(\"slide-toggle-thumb\");\n    track.append(thumb);\n    return [track];\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Guard against adding event listeners more than once.\n   * @type {boolean}\n   */\n  #listenersAdded = false;\n\n  /**\n   * Activate event listeners.\n   * @protected\n   */\n  _activateListeners() {\n    if ( this.#listenersAdded ) return;\n    this.addEventListener(\"click\", this._onToggle.bind(this));\n    this.#listenersAdded = true;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle toggling the control.\n   * @param {PointerEvent} event  The triggering event.\n   * @protected\n   */\n  _onToggle(event) {\n    this.checked = !this.checked;\n    this.dispatchEvent(new Event(\"change\"));\n  }\n}\n","import AdoptedStyleSheetMixin from \"./adopted-stylesheet-mixin.mjs\";\nimport CheckboxElement from \"./checkbox.mjs\";\nimport DamageApplicationElement from \"./damage-application.mjs\";\nimport EffectsElement from \"./effects.mjs\";\nimport EnchantmentApplicationElement from \"./enchantment-application.mjs\";\nimport FiligreeBoxElement from \"./filigree-box.mjs\";\nimport FilterStateElement from \"./filter-state.mjs\";\nimport IconElement from \"./icon.mjs\";\nimport InventoryElement from \"./inventory.mjs\";\nimport ItemListControlsElement from \"./item-list-controls.mjs\";\nimport ProficiencyCycleElement from \"./proficiency-cycle.mjs\";\nimport SlideToggleElement from \"./slide-toggle.mjs\";\n\nwindow.customElements.define(\"damage-application\", DamageApplicationElement);\nwindow.customElements.define(\"dnd5e-checkbox\", CheckboxElement);\nwindow.customElements.define(\"dnd5e-effects\", EffectsElement);\nwindow.customElements.define(\"dnd5e-icon\", IconElement);\nwindow.customElements.define(\"dnd5e-inventory\", InventoryElement);\nwindow.customElements.define(\"enchantment-application\", EnchantmentApplicationElement);\nwindow.customElements.define(\"filigree-box\", FiligreeBoxElement);\nwindow.customElements.define(\"filter-state\", FilterStateElement);\nwindow.customElements.define(\"item-list-controls\", ItemListControlsElement);\nwindow.customElements.define(\"proficiency-cycle\", ProficiencyCycleElement);\nwindow.customElements.define(\"slide-toggle\", SlideToggleElement);\n\nexport {\n  AdoptedStyleSheetMixin, CheckboxElement, DamageApplicationElement, EffectsElement, EnchantmentApplicationElement,\n  FiligreeBoxElement, FilterStateElement, IconElement, InventoryElement, ItemListControlsElement,\n  ProficiencyCycleElement, SlideToggleElement\n};\n","/**\n * @typedef {object} AccordionConfiguration\n * @property {string} headingSelector    The CSS selector that identifies accordion headers in the given markup.\n * @property {string} contentSelector    The CSS selector that identifies accordion content in the given markup. This\n *                                       can match content within the heading element, or sibling to the heading\n *                                       element, with priority given to the former.\n * @property {boolean} [collapseOthers]  Automatically collapses the other headings in this group when one heading is\n *                                       clicked.\n */\n\n/**\n * A class responsible for augmenting markup with an accordion effect.\n * @param {AccordionConfiguration} config  Configuration options.\n */\nexport default class Accordion {\n  constructor(config) {\n    config.contentSelector = `${config.contentSelector}:not(.accordion-content)`;\n    this.#config = config;\n  }\n\n  /**\n   * Configuration options.\n   * @type {AccordionConfiguration}\n   */\n  #config;\n\n  /**\n   * A mapping of heading elements to content elements.\n   * @type {Map<HTMLElement, HTMLElement>}\n   */\n  #sections = new Map();\n\n  /**\n   * A mapping of heading elements to any ongoing transition effect functions.\n   * @type {Map<HTMLElement, Function>}\n   */\n  #ongoing = new Map();\n\n  /**\n   * Record the state of collapsed sections.\n   * @type {boolean[]}\n   */\n  #collapsed;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Augment the given markup with an accordion effect.\n   * @param {HTMLElement} root  The root HTML node.\n   */\n  bind(root) {\n    const firstBind = this.#sections.size < 1;\n    if ( firstBind ) this.#collapsed = [];\n    this.#sections = new Map();\n    this.#ongoing = new Map();\n    const { headingSelector, contentSelector } = this.#config;\n    let collapsedIndex = 0;\n    for ( const heading of root.querySelectorAll(headingSelector) ) {\n      const content = heading.querySelector(contentSelector) ?? heading.parentElement.querySelector(contentSelector);\n      if ( !content ) continue;\n      const wrapper = document.createElement(\"div\");\n      wrapper.classList.add(\"accordion\");\n      heading.before(wrapper);\n      wrapper.append(heading, content);\n      this.#sections.set(heading, content);\n      content._fullHeight = content.getBoundingClientRect().height;\n      if ( firstBind ) this.#collapsed.push(this.#collapsed.length > 0);\n      else if ( this.#collapsed[collapsedIndex] ) wrapper.classList.add(\"collapsed\");\n      heading.classList.add(\"accordion-heading\");\n      content.classList.add(\"accordion-content\");\n      heading.addEventListener(\"click\", this._onClickHeading.bind(this));\n      collapsedIndex++;\n    }\n    requestAnimationFrame(() => this._restoreCollapsedState());\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle clicking an accordion heading.\n   * @param {PointerEvent} event  The triggering event.\n   * @protected\n   */\n  _onClickHeading(event) {\n    if ( event.target.closest(\"a\") ) return;\n    const heading = event.currentTarget;\n    const content = this.#sections.get(heading);\n    if ( !content ) return;\n    event.preventDefault();\n    const collapsed = heading.parentElement.classList.contains(\"collapsed\");\n    if ( collapsed ) this._onExpandSection(heading, content);\n    else this._onCollapseSection(heading, content);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle expanding a section.\n   * @param {HTMLElement} heading             The section heading.\n   * @param {HTMLElement} content             The section content.\n   * @param {object} [options]\n   * @param {boolean} [options.animate=true]  Whether to animate the expand effect.\n   * @protected\n   */\n  _onExpandSection(heading, content, { animate=true }={}) {\n    this.#cancelOngoing(heading);\n\n    if ( this.#config.collapseOthers ) {\n      for ( const [otherHeading, otherContent] of this.#sections.entries() ) {\n        if ( (heading !== otherHeading) && !otherHeading.parentElement.classList.contains(\"collapsed\") ) {\n          this._onCollapseSection(otherHeading, otherContent, { animate });\n        }\n      }\n    }\n\n    heading.parentElement.classList.remove(\"collapsed\");\n    if ( animate ) content.style.height = \"0\";\n    else {\n      content.style.height = `${content._fullHeight}px`;\n      return;\n    }\n    requestAnimationFrame(() => {\n      const onEnd = this._onEnd.bind(this, heading, content);\n      this.#ongoing.set(heading, onEnd);\n      content.addEventListener(\"transitionend\", onEnd, { once: true });\n      content.style.height = `${content._fullHeight}px`;\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle collapsing a section.\n   * @param {HTMLElement} heading             The section heading.\n   * @param {HTMLElement} content             The section content.\n   * @param {object} [options]\n   * @param {boolean} [options.animate=true]  Whether to animate the collapse effect.\n   * @protected\n   */\n  _onCollapseSection(heading, content, { animate=true }={}) {\n    this.#cancelOngoing(heading);\n    const { height } = content.getBoundingClientRect();\n    heading.parentElement.classList.add(\"collapsed\");\n    content._fullHeight = height || content._fullHeight;\n    if ( animate ) content.style.height = `${height}px`;\n    else {\n      content.style.height = \"0\";\n      return;\n    }\n    requestAnimationFrame(() => {\n      const onEnd = this._onEnd.bind(this, heading, content);\n      this.#ongoing.set(heading, onEnd);\n      content.addEventListener(\"transitionend\", onEnd, { once: true });\n      content.style.height = \"0\";\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * A function to invoke when the height transition has ended.\n   * @param {HTMLElement} heading  The section heading.\n   * @param {HTMLElement} content  The section content.\n   * @protected\n   */\n  _onEnd(heading, content) {\n    content.style.height = \"\";\n    this.#ongoing.delete(heading);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Cancel an ongoing effect.\n   * @param {HTMLElement} heading  The section heading.\n   */\n  #cancelOngoing(heading) {\n    const ongoing = this.#ongoing.get(heading);\n    const content = this.#sections.get(heading);\n    if ( ongoing && content ) content.removeEventListener(\"transitionend\", ongoing);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Save the accordion state.\n   * @protected\n   */\n  _saveCollapsedState() {\n    this.#collapsed = [];\n    for ( const heading of this.#sections.keys() ) {\n      this.#collapsed.push(heading.parentElement.classList.contains(\"collapsed\"));\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Restore the accordion state.\n   * @protected\n   */\n  _restoreCollapsedState() {\n    const entries = Array.from(this.#sections.entries());\n    for ( let i = 0; i < entries.length; i++ ) {\n      const collapsed = this.#collapsed[i];\n      const [heading, content] = entries[i];\n      if ( collapsed ) this._onCollapseSection(heading, content, { animate: false });\n    }\n  }\n}\n","import { EnchantmentData } from \"../../data/item/fields/enchantment-field.mjs\";\n\n/**\n * Application for configuring enchantment information for an item.\n */\nexport default class EnchantmentConfig extends DocumentSheet {\n\n  /** @inheritDoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\", \"enchantment-config\"],\n      dragDrop: [{ dropSelector: \"form\" }],\n      template: \"systems/dnd5e/templates/apps/enchantment-config.hbs\",\n      width: 500,\n      height: \"auto\",\n      sheetConfig: false,\n      closeOnSubmit: false,\n      submitOnChange: true,\n      submitOnClose: true\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * Expanded states for each enchantment.\n   * @type {Map<string, boolean>}\n   */\n  expandedEnchantments = new Map();\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  get title() {\n    return `${game.i18n.localize(\"DND5E.Enchantment.Configuration\")}: ${this.document.name}`;\n  }\n\n  /* -------------------------------------------- */\n  /*  Rendering                                   */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async getData(options={}) {\n    const context = await super.getData(options);\n\n    context.enchantableTypes = EnchantmentData.enchantableTypes.reduce((obj, k) => {\n      obj[k] = game.i18n.localize(CONFIG.Item.typeLabels[k]);\n      return obj;\n    }, {});\n    context.enchantment = this.document.system.enchantment;\n    context.isSpell = this.document.type === \"spell\";\n    context.source = this.document.toObject().system.enchantment;\n\n    const effects = [];\n    context.enchantments = [];\n    for ( const effect of this.document.effects ) {\n      if ( effect.getFlag(\"dnd5e\", \"type\") !== \"enchantment\" ) effects.push(effect);\n      else if ( !effect.isAppliedEnchantment ) context.enchantments.push(effect);\n    }\n    context.enchantments = context.enchantments.map(effect => ({\n      id: effect.id,\n      uuid: effect.uuid,\n      name: effect.name,\n      flags: effect.flags,\n      collapsed: this.expandedEnchantments.get(effect.id) ? \"\" : \"collapsed\",\n      riderEffects: effects.map(({ id, name }) => ({\n        id, name, selected: effect.flags.dnd5e?.enchantment?.riders?.effect?.includes(id) ? \"selected\" : \"\"\n      })),\n      riderItems: effect.flags.dnd5e?.enchantment?.riders?.item?.join(\",\") ?? \"\"\n    }));\n\n    return context;\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Handling                              */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  activateListeners(jQuery) {\n    super.activateListeners(jQuery);\n    const html = jQuery[0];\n\n    for ( const element of html.querySelectorAll(\"[data-action]\") ) {\n      element.addEventListener(\"click\", event => this.submit({ updateData: {\n        action: event.target.dataset.action,\n        enchantmentId: event.target.closest(\"[data-enchantment-id]\")?.dataset.enchantmentId\n      } }));\n    }\n\n    for ( const element of html.querySelectorAll(\"multi-select\") ) {\n      element.addEventListener(\"change\", this._onChangeInput.bind(this));\n    }\n\n    for ( const element of html.querySelectorAll(\".collapsible\") ) {\n      element.addEventListener(\"click\", event => {\n        const id = event.target.closest(\"[data-enchantment-id]\")?.dataset.enchantmentId;\n        if ( event.target.closest(\".collapsible-content\") || !id ) return;\n        event.currentTarget.classList.toggle(\"collapsed\");\n        this.expandedEnchantments.set(id, !event.currentTarget.classList.contains(\"collapsed\"));\n      });\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _updateObject(event, formData) {\n    const { action, effects, enchantmentId, ...data } = foundry.utils.expandObject(formData);\n\n    await this.document.update({\"system.enchantment\": data});\n\n    const riderIds = new Set();\n    const effectsChanges = Object.entries(effects ?? {}).map(([_id, changes]) => {\n      const updates = { _id, ...changes };\n      // Fix bug with <multi-select> in V11\n      if ( !foundry.utils.hasProperty(updates, \"flags.dnd5e.enchantment.riders.effect\") ) {\n        foundry.utils.setProperty(updates, \"flags.dnd5e.enchantment.riders.effect\", []);\n      }\n      // End bug fix\n      riderIds.add(...(foundry.utils.getProperty(updates, \"flags.dnd5e.enchantment.riders.effect\") ?? []));\n      return updates;\n    });\n    for ( const effect of this.document.effects ) {\n      if ( effect.getFlag(\"dnd5e\", \"type\") === \"enchantment\" ) continue;\n      if ( riderIds.has(effect.id) ) effectsChanges.push({ _id: effect.id, \"flags.dnd5e.rider\": true });\n      else effectsChanges.push({ _id: effect.id, \"flags.dnd5e.-=rider\": null });\n    }\n    if ( effectsChanges.length ) await this.document.updateEmbeddedDocuments(\"ActiveEffect\", effectsChanges);\n\n    const enchantment = this.document.effects.get(enchantmentId);\n    switch ( action ) {\n      case \"add-enchantment\":\n        const effect = await ActiveEffect.implementation.create({\n          name: this.document.name,\n          icon: this.document.img,\n          \"flags.dnd5e.type\": \"enchantment\"\n        }, { parent: this.document });\n        effect.sheet.render(true);\n        break;\n      case \"delete-enchantment\":\n        enchantment?.deleteDialog();\n        break;\n      case \"edit-enchantment\":\n        enchantment?.sheet.render(true);\n        break;\n    }\n  }\n}\n","import PhysicalItemTemplate from \"../../data/item/templates/physical-item.mjs\";\nimport { EquipmentEntryData } from \"../../data/item/templates/starting-equipment.mjs\";\n\n/**\n * Configuration application for Starting Equipment.\n */\nexport default class StartingEquipmentConfig extends DocumentSheet {\n\n  /** @inheritDoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\", \"starting-equipment\"],\n      dragDrop: [{ dragSelector: \".drag-bar\", dropSelector: \"form\" }],\n      template: \"systems/dnd5e/templates/apps/starting-equipment-config.hbs\",\n      width: 480,\n      height: \"auto\",\n      sheetConfig: false,\n      closeOnSubmit: false,\n      submitOnChange: true,\n      submitOnClose: true\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  get title() {\n    return `${game.i18n.localize(\"DND5E.StartingEquipment.Action.Configure\")}: ${this.document.name}`;\n  }\n\n  /* -------------------------------------------- */\n  /*  Rendering                                   */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async getData(options={}) {\n    const context = super.getData(options);\n\n    const processEntry = async (entry, depth=1) => {\n      const data = {\n        id: entry._id, entry, depth,\n        groupType: entry.type in EquipmentEntryData.GROUPING_TYPES,\n        validTypes: depth < 3 ? EquipmentEntryData.TYPES : EquipmentEntryData.OPTION_TYPES\n      };\n      if ( entry.type in EquipmentEntryData.GROUPING_TYPES ) {\n        data.children = await Promise.all(entry.children.map(c => processEntry(c, depth + 1)));\n      } else if ( entry.type === \"linked\" ) {\n        data.linked = fromUuidSync(entry.key);\n        data.showRequireProficiency = [\"equipment\", \"tool\", \"weapon\"].includes(data.linked?.type);\n      }\n      return data;\n    };\n    context.entries = await Promise.all(\n      this.document.system.startingEquipment\n        .filter(e => !e.group)\n        .sort((lhs, rhs) => lhs.sort - rhs.sort)\n        .map(e => processEntry(e))\n    );\n\n    return context;\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Listeners                             */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  activateListeners(jQuery) {\n    super.activateListeners(jQuery);\n    const html = jQuery[0];\n\n    for ( const element of html.querySelectorAll(\"[data-action]\") ) {\n      element.addEventListener(\"click\", event => this._onAction(event.target));\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle an action.\n   * @param {HTMLElement} element       The element on which the action is being performed.\n   * @param {object} [options={}]\n   * @param {string} [options.action]   The specific action to perform.\n   * @param {number} [options.depth]    Depth of the element being acted upon.\n   * @param {string} [options.entryId]  ID of the entry to act upon.\n   */\n  _onAction(element, { action, depth, entryId }={}) {\n    this.submit({ updateData: {\n      action: action ?? element.closest(\"[data-action]\")?.dataset.action,\n      depth: depth ?? (Number(event.target.closest(\"[data-depth]\")?.dataset.depth ?? 0) + 1),\n      entryId: entryId ?? element.closest(\"[data-entry-id]\")?.dataset.entryId\n    } });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _getSubmitData(...args) {\n    const data = foundry.utils.expandObject(super._getSubmitData(...args));\n    data.startingEquipment = Object.values(data.startingEquipment ?? {});\n\n    const highestSort = data.startingEquipment.reduce((sort, i) => i.sort > sort ? i.sort : sort, 0);\n    switch ( data.action ) {\n      case \"add-entry\":\n        data.startingEquipment.push({\n          _id: foundry.utils.randomID(),\n          group: data.entryId,\n          sort: highestSort + CONST.SORT_INTEGER_DENSITY,\n          type: (data.depth < 3) && !data.linkedUuid ? \"OR\" : \"linked\",\n          key: data.linkedUuid\n        });\n        break;\n      case \"delete-entry\":\n        const deleteIds = new Set();\n        const getDeleteIds = entry => {\n          deleteIds.add(entry._id);\n          entry.children?.forEach(c => getDeleteIds(c));\n        };\n        getDeleteIds(this.document.system.startingEquipment.find(i => i._id === data.entryId));\n        data.startingEquipment = data.startingEquipment.filter(e => !deleteIds.has(e._id));\n        break;\n    }\n\n    return { \"system.startingEquipment\": data.startingEquipment };\n  }\n\n  /* -------------------------------------------- */\n  /*  Drag & Drop                                 */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _canDragDrop() {\n    return this.isEditable;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _onDragStart(event) {\n    const entry = event.target.closest(\"[data-entry-id]\");\n    if ( !entry ) return;\n    event.dataTransfer.setData(\"text/plain\", JSON.stringify({\n      type: \"equipment-entry\", uuid: this.document.uuid, entryId: entry.dataset.entryId\n    }));\n    const box = entry.getBoundingClientRect();\n    event.dataTransfer.setDragImage(entry, box.width - 6, box.height / 2);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _onDrop(event) {\n    // Try to extract the data\n    const data = TextEditor.getDragEventData(event);\n\n    // Handle re-ordering of list\n    if ( data?.entryId && (data.uuid === this.document.uuid) ) return this._onSortEntry(event, data);\n\n    // Handle dropping linked items\n    if ( data?.type !== \"Item\" ) return;\n    const item = await Item.implementation.fromDropData(data);\n\n    // Validate that this is a physical item\n    if ( !item.system.constructor._schemaTemplates?.includes(PhysicalItemTemplate) ) {\n      ui.notifications.error(game.i18n.format(\"DND5E.StartingEquipment.Warning.ItemTypeInvalid\", {\n        type: game.i18n.localize(CONFIG.Item.typeLabels[item.type])\n      }));\n      return null;\n    }\n\n    // Determine where this was dropped\n    const closestDrop = event.target.closest(\n      '[data-entry-type=\"AND\"], [data-entry-type=\"OR\"], [data-entry-type=\"linked\"]'\n    );\n    const { entryId, entryType } = closestDrop?.dataset ?? {};\n\n    // If no closest entry, create at top level, or if closest is a group, create inside that group\n    if ( !entryId || (entryType in EquipmentEntryData.GROUPING_TYPES) ) this.submit({ updateData: {\n      action: \"add-entry\",\n      entryId,\n      linkedUuid: item.uuid\n    } });\n\n    // If closest entry is linked, set its key to be this uuid\n    else if ( entryType === \"linked\" ) this.submit({ updateData: {\n      [`startingEquipment.${entryId}.key`]: item.uuid\n    } });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Sort an entry on drop.\n   * @param {DragEvent} event  Triggering drop event.\n   * @param {object} data      Drag event data.\n   */\n  _onSortEntry(event, data) {\n    const dropArea = event.target.closest(\"[data-entry-id]\");\n    const dragEntry = this.document.system.startingEquipment.find(e => e._id === data?.entryId);\n    const dropEntry = this.document.system.startingEquipment.find(e => e._id === dropArea?.dataset.entryId);\n\n    // If drag entry & drop entry are the same, or drop entry is drag entry's group, do nothing\n    if ( (dropEntry?._id === dragEntry._id) || (dropEntry?._id === dragEntry.group) ) return;\n\n    let updateData;\n    let sortBefore;\n    let target;\n\n    // If drop entry is a group, move drag entry into it\n    if ( dropEntry?.type in EquipmentEntryData.GROUPING_TYPES ) {\n      let depth = Number(dropArea.dataset.depth) + 1;\n      if ( dragEntry.children?.length ) {\n        depth += 1;\n        if ( dragEntry.children.some(c => c.type in EquipmentEntryData.GROUPING_TYPES) ) depth += 1;\n      }\n      if ( depth > 3 ) {\n        ui.notifications.warn(\"DND5E.StartingEquipment.Warning.Depth\", { localize: true });\n        return;\n      }\n      updateData = { [`startingEquipment.${dragEntry._id}.group`]: dropEntry._id };\n      target = dropEntry.children.pop();\n    }\n\n    // If drag entry and drop entry are in the same group, perform relative sort\n    else if ( dropEntry && (dropEntry.group === dragEntry.group) ) {\n      target = dropEntry;\n    }\n\n    // If dropped outside any entry, move to top level and sort to top or bottom of list\n    else if ( !dropEntry ) {\n      updateData = { [`startingEquipment.${dragEntry._id}.group`]: null };\n      const box = this.form.getBoundingClientRect();\n      sortBefore = (event.clientY - box.y) < (box.height * .75);\n      const sortedEntries = this.document.system.startingEquipment.filter(e => !e.group)\n        .sort((lhs, rhs) => lhs.sort - rhs.sort);\n      target = sortBefore ? sortedEntries.shift() : sortedEntries.pop();\n    }\n\n    // If they are in different groups, move entry to new group and then sort\n    else if ( dropEntry.group !== dragEntry.group ) {\n      updateData = { [`startingEquipment.${dragEntry._id}.group`]: dropEntry.group };\n      target = dropEntry;\n    }\n\n    if ( target && (target !== dragEntry) ) {\n      updateData ??= {};\n      const siblings = this.document.system.startingEquipment.filter(s => s._id !== dragEntry._id);\n      const sortUpdates = SortingHelpers.performIntegerSort(dragEntry, { target, siblings, sortBefore });\n      for ( const update of sortUpdates ) {\n        updateData[`startingEquipment.${update.target._id}.sort`] = update.update.sort;\n      }\n    }\n\n    if ( updateData ) this.submit({ updateData });\n  }\n}\n","/**\n * Application for configuring summoning information for an item.\n */\nexport default class SummoningConfig extends DocumentSheet {\n\n  /** @inheritDoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"dnd5e\", \"summoning-config\"],\n      dragDrop: [{ dropSelector: \"form\" }],\n      template: \"systems/dnd5e/templates/apps/summoning-config.hbs\",\n      width: 500,\n      height: \"auto\",\n      sheetConfig: false,\n      closeOnSubmit: false,\n      submitOnChange: true,\n      submitOnClose: true\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * Expanded states for each profile.\n   * @type {Map<string, boolean>}\n   */\n  expandedProfiles = new Map();\n\n  /* -------------------------------------------- */\n\n  /**\n   * Shortcut to the summoning profiles.\n   * @type {object[]}\n   */\n  get profiles() {\n    return this.document.system.summons?.profiles ?? [];\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  get title() {\n    return `${game.i18n.localize(\"DND5E.Summoning.Configuration\")}: ${this.document.name}`;\n  }\n\n  /* -------------------------------------------- */\n  /*  Rendering                                   */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async getData(options={}) {\n    const context = await super.getData(options);\n    context.isSpell = this.document.type === \"spell\";\n    context.modes = {\n      cr: \"DND5E.Summoning.Mode.CR\"\n    };\n    context.profiles = this.profiles.map(p => {\n      const profile = { id: p._id, ...p, collapsed: this.expandedProfiles.get(p._id) ? \"\" : \"collapsed\" };\n      if ( p.uuid ) profile.document = fromUuidSync(p.uuid);\n      if ( this.document.system.summons.mode === \"cr\" ) {\n        profile.creatureTypes = Object.entries(CONFIG.DND5E.creatureTypes).reduce((obj, [k, c]) => {\n          obj[k] = { label: c.label, selected: p.types.has(k) ? \"selected\" : \"\" };\n          return obj;\n        }, {});\n      }\n      return profile;\n    }).sort((lhs, rhs) =>\n      (lhs.name || lhs.document?.name || \"\").localeCompare(rhs.name || rhs.document?.name || \"\", game.i18n.lang)\n    );\n    context.summons = this.document.system.summons;\n    context.creatureSizes = Object.entries(CONFIG.DND5E.actorSizes).reduce((obj, [k, c]) => {\n      obj[k] = { label: c.label, selected: context.summons?.creatureSizes.has(k) ? \"selected\" : \"\" };\n      return obj;\n    }, {});\n    context.creatureTypes = Object.entries(CONFIG.DND5E.creatureTypes).reduce((obj, [k, c]) => {\n      obj[k] = { label: c.label, selected: context.summons?.creatureTypes.has(k) ? \"selected\" : \"\" };\n      return obj;\n    }, {});\n    return context;\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Handling                              */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  activateListeners(jQuery) {\n    super.activateListeners(jQuery);\n    const html = jQuery[0];\n\n    for ( const element of html.querySelectorAll(\"[data-action]\") ) {\n      element.addEventListener(\"click\", event => this.submit({ updateData: {\n        action: event.target.dataset.action,\n        profileId: event.target.closest(\"[data-profile-id]\")?.dataset.profileId\n      } }));\n    }\n\n    for ( const element of html.querySelectorAll(\"multi-select\") ) {\n      element.addEventListener(\"change\", this._onChangeInput.bind(this));\n    }\n\n    for ( const element of html.querySelectorAll(\".collapsible\") ) {\n      element.addEventListener(\"click\", event => {\n        if ( event.target.closest(\".collapsible-content\") ) return;\n        event.currentTarget.classList.toggle(\"collapsed\");\n        this.expandedProfiles.set(\n          event.target.closest(\"[data-profile-id]\").dataset.profileId,\n          !event.currentTarget.classList.contains(\"collapsed\")\n        );\n      });\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _getSubmitData(...args) {\n    const data = foundry.utils.expandObject(super._getSubmitData(...args));\n    data.creatureSizes ??= [];\n    data.creatureTypes ??= [];\n    data.profiles = Object.values(data.profiles ?? {});\n\n    switch ( data.action ) {\n      case \"add-profile\":\n        data.profiles.push({\n          _id: foundry.utils.randomID(),\n          ...(data.addDetails ?? {})\n        });\n        break;\n      case \"delete-profile\":\n        data.profiles = data.profiles.filter(e => e._id !== data.profileId);\n        break;\n    }\n\n    return data;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _updateObject(event, formData) {\n    this.document.update({\"system.summons\": formData});\n  }\n\n  /* -------------------------------------------- */\n  /*  Drag & Drop                                 */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _canDragDrop() {\n    return this.isEditable;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _onDrop(event) {\n    // Try to extract the data\n    const data = TextEditor.getDragEventData(event);\n\n    // Handle dropping linked items\n    if ( data?.type !== \"Actor\" ) return;\n    const actor = await Actor.implementation.fromDropData(data);\n\n    // Determine where this was dropped\n    const existingProfile = event.target.closest(\"[data-profile-id]\");\n    const { profileId } = existingProfile?.dataset ?? {};\n\n    // If dropped onto existing profile, add or replace link\n    if ( profileId ) this.submit({ updateData: { [`profiles.${profileId}.uuid`]: actor.uuid } });\n\n    // Otherwise create a new profile\n    else this.submit({ updateData: { action: \"add-profile\", addDetails: { uuid: actor.uuid } } });\n  }\n}\n","import ActiveEffect5e from \"../../documents/active-effect.mjs\";\nimport * as Trait from \"../../documents/actor/trait.mjs\";\nimport { filteredKeys, sortObjectEntries } from \"../../utils.mjs\";\nimport ActorMovementConfig from \"../actor/movement-config.mjs\";\nimport ActorSensesConfig from \"../actor/senses-config.mjs\";\nimport ActorTypeConfig from \"../actor/type-config.mjs\";\nimport AdvancementManager from \"../advancement/advancement-manager.mjs\";\nimport AdvancementMigrationDialog from \"../advancement/advancement-migration-dialog.mjs\";\nimport Accordion from \"../accordion.mjs\";\nimport EffectsElement from \"../components/effects.mjs\";\nimport SourceConfig from \"../source-config.mjs\";\nimport EnchantmentConfig from \"./enchantment-config.mjs\";\nimport StartingEquipmentConfig from \"./starting-equipment-config.mjs\";\nimport SummoningConfig from \"./summoning-config.mjs\";\n\n/**\n * Override and extend the core ItemSheet implementation to handle specific item types.\n */\nexport default class ItemSheet5e extends ItemSheet {\n  constructor(...args) {\n    super(...args);\n\n    this._accordions = this._createAccordions();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      width: 560,\n      classes: [\"dnd5e\", \"sheet\", \"item\"],\n      resizable: true,\n      scrollY: [\n        \".tab[data-tab=details]\",\n        \".tab[data-tab=effects] .items-list\",\n        \".tab[data-tab=description] .editor-content\",\n        \".tab[data-tab=advancement] .items-list\"\n      ],\n      tabs: [{navSelector: \".tabs\", contentSelector: \".sheet-body\", initial: \"description\"}],\n      dragDrop: [\n        {dragSelector: \"[data-effect-id]\", dropSelector: \".effects-list\"},\n        {dragSelector: \".advancement-item\", dropSelector: \".advancement\"}\n      ],\n      accordions: [{\n        headingSelector: \".description-header\", contentSelector: \".editor\"\n      }],\n      elements: {\n        effects: \"dnd5e-effects\"\n      }\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Whether advancements on embedded items should be configurable.\n   * @type {boolean}\n   */\n  advancementConfigurationMode = false;\n\n  /* -------------------------------------------- */\n\n  /**\n   * The description currently being edited.\n   * @type {string}\n   */\n  editingDescriptionTarget;\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get template() {\n    return `systems/dnd5e/templates/items/${this.item.type}.hbs`;\n  }\n\n  /* -------------------------------------------- */\n  /*  Context Preparation                         */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _render(force, options) {\n    if ( !this.editingDescriptionTarget ) this._accordions.forEach(accordion => accordion._saveCollapsedState());\n    return super._render(force, options);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  async getData(options) {\n    const context = await super.getData(options);\n    const item = context.item;\n    const source = item.toObject();\n\n    // Game system configuration\n    context.config = CONFIG.DND5E;\n\n    // Item rendering data\n    foundry.utils.mergeObject(context, {\n      source: source.system,\n      system: item.system,\n      labels: item.labels,\n      isEmbedded: item.isEmbedded,\n      advancementEditable: (this.advancementConfigurationMode || !item.isEmbedded) && context.editable,\n      rollData: this.item.getRollData(),\n      user: game.user,\n\n      // Item Type, Status, and Details\n      itemType: game.i18n.localize(CONFIG.Item.typeLabels[this.item.type]),\n      itemStatus: this._getItemStatus(),\n      itemProperties: this._getItemProperties(),\n      baseItems: await this._getItemBaseTypes(),\n      isPhysical: item.system.hasOwnProperty(\"quantity\"),\n\n      // Action Details\n      isHealing: item.system.actionType === \"heal\",\n      isFlatDC: item.system.save?.scaling === \"flat\",\n      isLine: [\"line\", \"wall\"].includes(item.system.target?.type),\n      isFormulaRecharge: !!CONFIG.DND5E.limitedUsePeriods[item.system.uses?.per]?.formula,\n      isCostlessAction: item.system.activation?.type in CONFIG.DND5E.staticAbilityActivationTypes,\n\n      // Identified state\n      isIdentifiable: \"identified\" in item.system,\n      isIdentified: item.system.identified !== false,\n\n      // Vehicles\n      isCrewed: item.system.activation?.type === \"crew\",\n\n      // Armor Class\n      hasDexModifier: item.isArmor && (item.system.type.value !== \"shield\"),\n\n      // Advancement\n      advancement: this._getItemAdvancement(item),\n\n      // Enchantment\n      appliedEnchantments: item.system.enchantment?.appliedEnchantments?.map(enchantment => ({\n        enchantment,\n        name: enchantment.parent._source.name,\n        actor: enchantment.parent.actor,\n        item: enchantment.parent\n      })),\n\n      // Prepare Active Effects\n      effects: EffectsElement.prepareCategories(item.effects, { parent: this.item }),\n      elements: this.options.elements,\n\n      concealDetails: !game.user.isGM && (this.document.system.identified === false)\n    });\n    context.abilityConsumptionTargets = this._getItemConsumptionTargets();\n    if ( !item.isEmbedded && foundry.utils.isEmpty(context.abilityConsumptionTargets) ) {\n      context.abilityConsumptionHint = (this.item.system.consume?.type === \"attribute\")\n        ? \"DND5E.ConsumeHint.Attribute\" : \"DND5E.ConsumeHint.Item\";\n    }\n\n    if ( (\"properties\" in item.system) && (item.type in CONFIG.DND5E.validProperties) ) {\n      context.properties = item.system.validProperties.reduce((obj, k) => {\n        const v = CONFIG.DND5E.itemProperties[k];\n        obj[k] = {\n          label: v.label,\n          selected: item.system.properties.has(k)\n        };\n        return obj;\n      }, {});\n      if ( item.type !== \"spell\" ) context.properties = sortObjectEntries(context.properties, \"label\");\n    }\n\n    // Handle item subtypes.\n    if ( [\"feat\", \"loot\", \"consumable\"].includes(item.type) ) {\n      const name = item.type === \"feat\" ? \"feature\" : item.type;\n      const itemTypes = CONFIG.DND5E[`${name}Types`][item.system.type.value];\n      if ( itemTypes ) {\n        context.itemType = itemTypes.label;\n        context.itemSubtypes = itemTypes.subtypes;\n      }\n    }\n\n    // Enrich HTML description\n    const enrichmentOptions = {\n      secrets: item.isOwner, async: true, relativeTo: this.item, rollData: context.rollData\n    };\n    context.enriched = {\n      description: await TextEditor.enrichHTML(item.system.description.value, enrichmentOptions),\n      unidentified: await TextEditor.enrichHTML(item.system.unidentified?.description, enrichmentOptions),\n      chat: await TextEditor.enrichHTML(item.system.description.chat, enrichmentOptions)\n    };\n    if ( this.editingDescriptionTarget ) {\n      context.editingDescriptionTarget = this.editingDescriptionTarget;\n      context.enriched.editing = await TextEditor.enrichHTML(\n        foundry.utils.getProperty(context, this.editingDescriptionTarget), enrichmentOptions\n      );\n    }\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get the display object used to show the advancement tab.\n   * @param {Item5e} item  The item for which the advancement is being prepared.\n   * @returns {object}     Object with advancement data grouped by levels.\n   */\n  _getItemAdvancement(item) {\n    if ( !item.system.advancement ) return {};\n    const advancement = {};\n    const configMode = !item.parent || this.advancementConfigurationMode;\n    const maxLevel = !configMode\n      ? (item.system.levels ?? item.class?.system.levels ?? item.parent.system.details?.level ?? -1) : -1;\n\n    // Improperly configured advancements\n    if ( item.advancement.needingConfiguration.length ) {\n      advancement.unconfigured = {\n        items: item.advancement.needingConfiguration.map(a => ({\n          id: a.id,\n          order: a.constructor.order,\n          title: a.title,\n          icon: a.icon,\n          classRestriction: a.classRestriction,\n          configured: false\n        })),\n        configured: \"partial\"\n      };\n    }\n\n    // All other advancements by level\n    for ( let [level, advancements] of Object.entries(item.advancement.byLevel) ) {\n      if ( !configMode ) advancements = advancements.filter(a => a.appliesToClass);\n      const items = advancements.map(advancement => ({\n        id: advancement.id,\n        order: advancement.sortingValueForLevel(level),\n        title: advancement.titleForLevel(level, { configMode }),\n        icon: advancement.icon,\n        classRestriction: advancement.classRestriction,\n        summary: advancement.summaryForLevel(level, { configMode }),\n        configured: advancement.configuredForLevel(level)\n      }));\n      if ( !items.length ) continue;\n      advancement[level] = {\n        items: items.sort((a, b) => a.order.localeCompare(b.order, game.i18n.lang)),\n        configured: (level > maxLevel) ? false : items.some(a => !a.configured) ? \"partial\" : \"full\"\n      };\n    }\n    return advancement;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get the base weapons and tools based on the selected type.\n   * @returns {Promise<object>}  Object with base items for this type formatted for selectOptions.\n   * @protected\n   */\n  async _getItemBaseTypes() {\n    const baseIds = this.item.type === \"equipment\" ? {\n      ...CONFIG.DND5E.armorIds,\n      ...CONFIG.DND5E.shieldIds\n    } : CONFIG.DND5E[`${this.item.type}Ids`];\n    if ( baseIds === undefined ) return {};\n\n    const baseType = this.item.system.type.value;\n\n    const items = {};\n    for ( const [name, id] of Object.entries(baseIds) ) {\n      const baseItem = await Trait.getBaseItem(id);\n      if ( baseType !== baseItem?.system?.type?.value ) continue;\n      items[name] = baseItem.name;\n    }\n    return Object.fromEntries(Object.entries(items).sort((lhs, rhs) => lhs[1].localeCompare(rhs[1], game.i18n.lang)));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get the valid item consumption targets which exist on the actor\n   * @returns {Object<string>}   An object of potential consumption targets\n   * @private\n   */\n  _getItemConsumptionTargets() {\n    const consume = this.item.system.consume || {};\n    if ( !consume.type ) return [];\n    const actor = this.item.actor;\n    if ( !actor && (consume.type !== \"hitDice\") ) return {};\n\n    // Ammunition\n    if ( consume.type === \"ammo\" ) {\n      return actor.itemTypes.consumable.reduce((ammo, i) => {\n        if ( i.system.type.value === \"ammo\" ) ammo[i.id] = `${i.name} (${i.system.quantity})`;\n        return ammo;\n      }, {});\n    }\n\n    // Attributes\n    else if ( consume.type === \"attribute\" ) {\n      const attrData = actor.type;\n      return TokenDocument.implementation.getConsumedAttributes(attrData).reduce((obj, attr) => {\n        obj[attr] = attr;\n        return obj;\n      }, {});\n    }\n\n    // Hit Dice\n    else if ( consume.type === \"hitDice\" ) {\n      return {\n        smallest: game.i18n.localize(\"DND5E.ConsumeHitDiceSmallest\"),\n        ...CONFIG.DND5E.hitDieTypes.reduce((obj, hd) => { obj[hd] = hd; return obj; }, {}),\n        largest: game.i18n.localize(\"DND5E.ConsumeHitDiceLargest\")\n      };\n    }\n\n    // Materials\n    else if ( consume.type === \"material\" ) {\n      return actor.items.reduce((obj, i) => {\n        if ( [\"consumable\", \"loot\"].includes(i.type) && !i.system.activation ) {\n          obj[i.id] = `${i.name} (${i.system.quantity})`;\n        }\n        return obj;\n      }, {});\n    }\n\n    // Charges\n    else if ( consume.type === \"charges\" ) {\n      return actor.items.reduce((obj, i) => {\n\n        // Limited-use items\n        const uses = i.system.uses || {};\n        if ( uses.per && uses.max ) {\n          const label = CONFIG.DND5E.limitedUsePeriods[uses.per]?.formula\n            ? ` (${game.i18n.format(\"DND5E.AbilityUseChargesLabel\", {value: uses.value})})`\n            : ` (${game.i18n.format(\"DND5E.AbilityUseConsumableLabel\", {max: uses.max, per: uses.per})})`;\n          obj[i.id] = i.name + label;\n        }\n\n        // Recharging items\n        const recharge = i.system.recharge || {};\n        if ( recharge.value ) obj[i.id] = `${i.name} (${game.i18n.format(\"DND5E.Recharge\")})`;\n        return obj;\n      }, {});\n    }\n    else return {};\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get the text item status which is shown beneath the Item type in the top-right corner of the sheet.\n   * @returns {string|null}  Item status string if applicable to item's type.\n   * @protected\n   */\n  _getItemStatus() {\n    switch ( this.item.type ) {\n      case \"class\":\n        return game.i18n.format(\"DND5E.LevelCount\", {ordinal: this.item.system.levels.ordinalString()});\n      case \"equipment\":\n      case \"weapon\":\n        return game.i18n.localize(this.item.system.equipped ? \"DND5E.Equipped\" : \"DND5E.Unequipped\");\n      case \"feat\":\n      case \"consumable\":\n        return this.item.system.type.label;\n      case \"spell\":\n        return CONFIG.DND5E.spellPreparationModes[this.item.system.preparation.mode]?.label;\n      case \"tool\":\n        return CONFIG.DND5E.proficiencyLevels[this.item.system.prof?.multiplier || 0];\n    }\n    return null;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Retrieve the list of fields that are currently modified by Active Effects on the Item.\n   * @returns {string[]}\n   * @protected\n   */\n  _getItemOverrides() {\n    const overrides = Object.keys(foundry.utils.flattenObject(this.item.overrides ?? {}));\n    this.item.system.getItemOverrides?.(overrides);\n    if ( \"properties\" in this.item.system ) {\n      ActiveEffect5e.addOverriddenChoices(this.item, \"system.properties\", \"system.properties\", overrides);\n    }\n    if ( (\"damage\" in this.item.system) && foundry.utils.getProperty(this.item.overrides, \"system.damage.parts\") ) {\n      overrides.push(\"damage-control\");\n      Array.fromRange(this.item.system.damage.parts.length).forEach(index => overrides.push(\n        `system.damage.parts.${index}.0`, `system.damage.parts.${index}.1`\n      ));\n    }\n    return overrides;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get the Array of item properties which are used in the small sidebar of the description tab.\n   * @returns {string[]}   List of property labels to be shown.\n   * @private\n   */\n  _getItemProperties() {\n    const props = [];\n    const labels = this.item.labels;\n    switch ( this.item.type ) {\n      case \"consumable\":\n      case \"weapon\":\n        if ( this.item.isMountable ) props.push(labels.armor);\n        const ip = CONFIG.DND5E.itemProperties;\n        const vp = CONFIG.DND5E.validProperties[this.item.type];\n        this.item.system.properties.forEach(k => {\n          if ( vp.has(k) ) props.push(ip[k].label);\n        });\n        break;\n      case \"equipment\":\n        props.push(CONFIG.DND5E.equipmentTypes[this.item.system.type.value]);\n        if ( this.item.isArmor || this.item.isMountable ) props.push(labels.armor);\n        break;\n      case \"feat\":\n        props.push(labels.featType);\n        break;\n      case \"spell\":\n        props.push(labels.components.vsm, labels.materials, ...labels.components.tags);\n        break;\n    }\n\n    // Action type\n    if ( this.item.system.actionType ) {\n      props.push(CONFIG.DND5E.itemActionTypes[this.item.system.actionType]);\n    }\n\n    // Action usage\n    if ( (this.item.type !== \"weapon\") && !foundry.utils.isEmpty(this.item.system.activation) ) {\n      props.push(labels.activation, labels.range, labels.target, labels.duration);\n    }\n    return props.filter(p => !!p);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _onChangeTab(event, tabs, active) {\n    this.setPosition({ height: \"auto\" });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async activateEditor(name, options={}, initialContent=\"\") {\n    options.relativeLinks = true;\n    options.plugins = {\n      menu: ProseMirror.ProseMirrorMenu.build(ProseMirror.defaultSchema, {\n        compact: true,\n        destroyOnSave: true,\n        onSave: () => {\n          this.saveEditor(name, {remove: true});\n          this.editingDescriptionTarget = null;\n        }\n      })\n    };\n    return super.activateEditor(name, options, initialContent);\n  }\n\n  /* -------------------------------------------- */\n  /*  Form Submission                             */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _getSubmitData(updateData={}) {\n    const formData = foundry.utils.expandObject(super._getSubmitData(updateData));\n\n    // Handle Damage array\n    const damage = formData.system?.damage;\n    if ( damage && !foundry.utils.getProperty(this.item.overrides, \"system.damage.parts\") ) {\n      damage.parts = Object.values(damage?.parts || {}).map(d => [d[0] || \"\", d[1] || \"\"]);\n    }\n\n    // Handle properties\n    if ( foundry.utils.hasProperty(formData, \"system.properties\") ) {\n      const keys = new Set(Object.keys(formData.system.properties));\n      const preserve = new Set(this.item._source.system.properties ?? []).difference(keys);\n      formData.system.properties = [...filteredKeys(formData.system.properties), ...preserve];\n    }\n\n    // Check max uses formula\n    const uses = formData.system?.uses;\n    if ( uses?.max ) {\n      const maxRoll = new Roll(uses.max);\n      if ( !maxRoll.isDeterministic ) {\n        uses.max = this.item._source.system.uses.max;\n        this.form.querySelector(\"input[name='system.uses.max']\").value = uses.max;\n        ui.notifications.error(game.i18n.format(\"DND5E.FormulaCannotContainDiceError\", {\n          name: game.i18n.localize(\"DND5E.LimitedUses\")\n        }));\n        return null;\n      }\n    }\n\n    // Check duration value formula\n    const duration = formData.system?.duration;\n    if ( duration?.value ) {\n      const durationRoll = new Roll(duration.value);\n      if ( !durationRoll.isDeterministic ) {\n        duration.value = this.item._source.system.duration.value;\n        this.form.querySelector(\"input[name='system.duration.value']\").value = duration.value;\n        ui.notifications.error(game.i18n.format(\"DND5E.FormulaCannotContainDiceError\", {\n          name: game.i18n.localize(\"DND5E.Duration\")\n        }));\n        return null;\n      }\n    }\n\n    // Check class identifier\n    if ( formData.system?.identifier && !dnd5e.utils.validators.isValidIdentifier(formData.system.identifier) ) {\n      formData.system.identifier = this.item._source.system.identifier;\n      this.form.querySelector(\"input[name='system.identifier']\").value = formData.system.identifier;\n      ui.notifications.error(\"DND5E.IdentifierError\", {localize: true});\n      return null;\n    }\n\n    // Return the flattened submission data\n    return foundry.utils.flattenObject(formData);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    if ( !this.editingDescriptionTarget ) this._accordions.forEach(accordion => accordion.bind(html[0]));\n    if ( this.isEditable ) {\n      html.find(\".config-button\").click(this._onConfigMenu.bind(this));\n      html.find(\".damage-control\").click(this._onDamageControl.bind(this));\n      html.find(\".enchantment-button\").click(this._onEnchantmentAction.bind(this));\n      html.find(\".advancement .item-control\").click(event => {\n        const t = event.currentTarget;\n        if ( t.dataset.action ) this._onAdvancementAction(t, t.dataset.action);\n      });\n      html.find(\".description-edit\").click(event => {\n        if ( event.currentTarget.ariaDisabled ) return;\n        this.editingDescriptionTarget = event.currentTarget.dataset.target;\n        this.render();\n      });\n      for ( const override of this._getItemOverrides() ) {\n        for ( const element of html[0].querySelectorAll(`[name=\"${override}\"]`) ) {\n          element.disabled = true;\n          element.dataset.tooltip = \"DND5E.Enchantment.Warning.Override\";\n        }\n        for ( const element of html[0].querySelectorAll(`[data-target=\"${override}\"]`) ) {\n          element.ariaDisabled = true;\n          element.dataset.tooltip = \"DND5E.Enchantment.Warning.Override\";\n        }\n        if ( override === \"damage-control\" ) html[0].querySelectorAll(\".damage-control\").forEach(e => e.remove());\n      }\n    }\n    html[0].querySelectorAll('[data-action=\"view\"]').forEach(e => e.addEventListener(\"click\", this._onView.bind(this)));\n\n    // Advancement context menu\n    const contextOptions = this._getAdvancementContextMenuOptions();\n    /**\n     * A hook event that fires when the context menu for the advancements list is constructed.\n     * @function dnd5e.getItemAdvancementContext\n     * @memberof hookEvents\n     * @param {jQuery} html                      The HTML element to which the context options are attached.\n     * @param {ContextMenuEntry[]} entryOptions  The context menu entries.\n     */\n    Hooks.call(\"dnd5e.getItemAdvancementContext\", html, contextOptions);\n    if ( contextOptions ) new ContextMenu(html, \".advancement-item\", contextOptions);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get the set of ContextMenu options which should be applied for advancement entries.\n   * @returns {ContextMenuEntry[]}  Context menu entries.\n   * @protected\n   */\n  _getAdvancementContextMenuOptions() {\n    const condition = li => (this.advancementConfigurationMode || !this.isEmbedded) && this.isEditable;\n    return [\n      {\n        name: \"DND5E.AdvancementControlEdit\",\n        icon: \"<i class='fas fa-edit fa-fw'></i>\",\n        condition,\n        callback: li => this._onAdvancementAction(li[0], \"edit\")\n      },\n      {\n        name: \"DND5E.AdvancementControlDuplicate\",\n        icon: \"<i class='fas fa-copy fa-fw'></i>\",\n        condition: li => {\n          const id = li[0].closest(\".advancement-item\")?.dataset.id;\n          const advancement = this.item.advancement.byId[id];\n          return condition(li) && advancement?.constructor.availableForItem(this.item);\n        },\n        callback: li => this._onAdvancementAction(li[0], \"duplicate\")\n      },\n      {\n        name: \"DND5E.AdvancementControlDelete\",\n        icon: \"<i class='fas fa-trash fa-fw' style='color: rgb(255, 65, 65);'></i>\",\n        condition,\n        callback: li => this._onAdvancementAction(li[0], \"delete\")\n      }\n    ];\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle spawning the configuration applications.\n   * @param {Event} event   The click event which originated the selection.\n   * @protected\n   */\n  _onConfigMenu(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    const button = event.currentTarget;\n    let app;\n    switch ( button.dataset.action ) {\n      case \"enchantment\":\n        app = new EnchantmentConfig(this.item);\n        break;\n      case \"movement\":\n        app = new ActorMovementConfig(this.item, { keyPath: \"system.movement\" });\n        break;\n      case \"senses\":\n        app = new ActorSensesConfig(this.item, { keyPath: \"system.senses\" });\n        break;\n      case \"source\":\n        app = new SourceConfig(this.item, { keyPath: \"system.source\" });\n        break;\n      case \"starting-equipment\":\n        app = new StartingEquipmentConfig(this.item);\n        break;\n      case \"summoning\":\n        app = new SummoningConfig(this.item);\n        break;\n      case \"type\":\n        app = new ActorTypeConfig(this.item, { keyPath: \"system.type\" });\n        break;\n    }\n    app?.render(true);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Add or remove a damage part from the damage formula.\n   * @param {Event} event             The original click event.\n   * @returns {Promise<Item5e>|null}  Item with updates applied.\n   * @private\n   */\n  async _onDamageControl(event) {\n    event.preventDefault();\n    const a = event.currentTarget;\n\n    // Add new damage component\n    if ( a.classList.contains(\"add-damage\") ) {\n      await this._onSubmit(event);  // Submit any unsaved changes\n      const damage = this.item.system.damage;\n      return this.item.update({\"system.damage.parts\": damage.parts.concat([[\"\", \"\"]])});\n    }\n\n    // Remove a damage component\n    if ( a.classList.contains(\"delete-damage\") ) {\n      await this._onSubmit(event);  // Submit any unsaved changes\n      const li = a.closest(\".damage-part\");\n      const damage = foundry.utils.deepClone(this.item.system.damage);\n      damage.parts.splice(Number(li.dataset.damagePart), 1);\n      return this.item.update({\"system.damage.parts\": damage.parts});\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle actions on entries in the enchanted items list.\n   * @param {PointerEvent} event  Triggering click event.\n   * @private\n   */\n  async _onEnchantmentAction(event) {\n    event.preventDefault();\n    const enchantment = fromUuidSync(event.currentTarget.closest(\"[data-enchantment-uuid]\")?.dataset.enchantmentUuid);\n    if ( !enchantment ) return;\n    switch ( event.currentTarget.dataset.action ) {\n      case \"removeEnchantment\":\n        await enchantment.delete();\n        this.render();\n        break;\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle actions on a view sheet button.\n   * @param {PointerEvent} event  Triggering click event.\n   * @private\n   */\n  async _onView(event) {\n    event.preventDefault();\n    const doc = await fromUuid(event.currentTarget.dataset.uuid);\n    doc?.sheet.render(true);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _canDragStart(selector) {\n    if ( [\".advancement-item\", \"[data-effect-id]\"].includes(selector) ) return true;\n    return this.isEditable;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _canDragDrop(selector) {\n    return this.isEditable;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _onDragStart(event) {\n    const li = event.currentTarget;\n    if ( event.target.classList.contains(\"content-link\") ) return;\n\n    // Create drag data\n    let dragData;\n\n    // Active Effect\n    if ( li.dataset.effectId ) {\n      const effect = this.item.effects.get(li.dataset.effectId);\n      dragData = effect.toDragData();\n    } else if ( li.classList.contains(\"advancement-item\") ) {\n      dragData = this.item.advancement.byId[li.dataset.id]?.toDragData();\n    }\n\n    if ( !dragData ) return;\n\n    // Set data transfer\n    event.dataTransfer.setData(\"text/plain\", JSON.stringify(dragData));\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _onDrop(event) {\n    const data = TextEditor.getDragEventData(event);\n    const item = this.item;\n\n    /**\n     * A hook event that fires when some useful data is dropped onto an ItemSheet5e.\n     * @function dnd5e.dropItemSheetData\n     * @memberof hookEvents\n     * @param {Item5e} item                  The Item5e\n     * @param {ItemSheet5e} sheet            The ItemSheet5e application\n     * @param {object} data                  The data that has been dropped onto the sheet\n     * @returns {boolean}                    Explicitly return `false` to prevent normal drop handling.\n     */\n    const allowed = Hooks.call(\"dnd5e.dropItemSheetData\", item, this, data);\n    if ( allowed === false ) return;\n\n    switch ( data.type ) {\n      case \"ActiveEffect\":\n        return this._onDropActiveEffect(event, data);\n      case \"Advancement\":\n      case \"Item\":\n        return this._onDropAdvancement(event, data);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle the dropping of ActiveEffect data onto an Item Sheet\n   * @param {DragEvent} event                  The concluding DragEvent which contains drop data\n   * @param {object} data                      The data transfer extracted from the event\n   * @returns {Promise<ActiveEffect|boolean>}  The created ActiveEffect object or false if it couldn't be created.\n   * @protected\n   */\n  async _onDropActiveEffect(event, data) {\n    const effect = await ActiveEffect.implementation.fromDropData(data);\n    if ( !this.item.isOwner || !effect\n      || (this.item.uuid === effect.parent?.uuid)\n      || (this.item.uuid === effect.origin) ) return false;\n    const effectData = effect.toObject();\n    let keepOrigin = false;\n\n    // Validate against the enchantment's restraints on the origin item\n    if ( effect.getFlag(\"dnd5e\", \"type\") === \"enchantment\" ) {\n      const errors = effect.parent.system.enchantment?.canEnchant(this.item);\n      if ( errors?.length ) {\n        errors.forEach(err => ui.notifications.error(err.message));\n        return false;\n      }\n      effectData.origin ??= effect.parent.uuid;\n      keepOrigin = true;\n    }\n\n    return ActiveEffect.create(effectData, {parent: this.item, keepOrigin});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle the dropping of an advancement or item with advancements onto the advancements tab.\n   * @param {DragEvent} event                  The concluding DragEvent which contains drop data.\n   * @param {object} data                      The data transfer extracted from the event.\n   * @returns {Promise}\n   */\n  async _onDropAdvancement(event, data) {\n    if ( !this.item.system.advancement ) return;\n\n    let advancements;\n    let showDialog = false;\n    if ( data.type === \"Advancement\" ) {\n      advancements = [await fromUuid(data.uuid)];\n    } else if ( data.type === \"Item\" ) {\n      const item = await Item.implementation.fromDropData(data);\n      if ( !item?.system.advancement ) return false;\n      advancements = Object.values(item.advancement.byId);\n      showDialog = true;\n    } else {\n      return false;\n    }\n    advancements = advancements.filter(a => {\n      const validItemTypes = CONFIG.DND5E.advancementTypes[a.constructor.typeName]?.validItemTypes\n        ?? a.metadata.validItemTypes;\n      return !this.item.advancement.byId[a.id]\n        && validItemTypes.has(this.item.type)\n        && a.constructor.availableForItem(this.item);\n    });\n\n    // Display dialog prompting for which advancements to add\n    if ( showDialog ) {\n      try {\n        advancements = await AdvancementMigrationDialog.createDialog(this.item, advancements);\n      } catch(err) {\n        return false;\n      }\n    }\n\n    if ( !advancements.length ) return false;\n    if ( this.item.actor?.system.metadata?.supportsAdvancement && !game.settings.get(\"dnd5e\", \"disableAdvancements\") ) {\n      const manager = AdvancementManager.forNewAdvancement(this.item.actor, this.item.id, advancements);\n      if ( manager.steps.length ) return manager.render(true);\n    }\n\n    // If no advancements need to be applied, just add them to the item\n    const advancementArray = this.item.system.toObject().advancement;\n    advancementArray.push(...advancements.map(a => a.toObject()));\n    this.item.update({\"system.advancement\": advancementArray});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle one of the advancement actions from the buttons or context menu.\n   * @param {Element} target  Button or context menu entry that triggered this action.\n   * @param {string} action   Action being triggered.\n   * @returns {Promise|void}\n   */\n  _onAdvancementAction(target, action) {\n    const id = target.closest(\".advancement-item\")?.dataset.id;\n    const advancement = this.item.advancement.byId[id];\n    let manager;\n    if ( [\"edit\", \"delete\", \"duplicate\"].includes(action) && !advancement ) return;\n    switch (action) {\n      case \"add\": return game.dnd5e.applications.advancement.AdvancementSelection.createDialog(this.item);\n      case \"edit\": return new advancement.constructor.metadata.apps.config(advancement).render(true);\n      case \"delete\":\n        if ( this.item.actor?.system.metadata?.supportsAdvancement\n            && !game.settings.get(\"dnd5e\", \"disableAdvancements\") ) {\n          manager = AdvancementManager.forDeletedAdvancement(this.item.actor, this.item.id, id);\n          if ( manager.steps.length ) return manager.render(true);\n        }\n        return this.item.deleteAdvancement(id);\n      case \"duplicate\": return this.item.duplicateAdvancement(id);\n      case \"modify-choices\":\n        const level = target.closest(\"li\")?.dataset.level;\n        manager = AdvancementManager.forModifyChoices(this.item.actor, this.item.id, Number(level));\n        if ( manager.steps.length ) manager.render(true);\n        return;\n      case \"toggle-configuration\":\n        this.advancementConfigurationMode = !this.advancementConfigurationMode;\n        return this.render();\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _onSubmit(...args) {\n    if ( this._tabs[0].active === \"details\" ) this.position.height = \"auto\";\n    await super._onSubmit(...args);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Instantiate accordion widgets.\n   * @returns {Accordion[]}\n   * @protected\n   */\n  _createAccordions() {\n    return this.options.accordions.map(config => new Accordion(config));\n  }\n}\n","import Item5e from \"../../documents/item.mjs\";\nimport ItemSheet5e from \"./item-sheet.mjs\";\n\nexport default class ContainerSheet extends ItemSheet5e {\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      width: 600,\n      height: 540,\n      scrollY: [\"dnd5e-inventory .inventory-list\"],\n      tabs: [{navSelector: \".tabs\", contentSelector: \".sheet-body\", initial: \"contents\"}],\n      dragDrop: [\n        {dragSelector: \"[data-effect-id]\", dropSelector: \".effects-list\"},\n        {dragSelector: \".advancement-item\", dropSelector: \".advancement\"},\n        {dragSelector: \".items-list .item\", dropSelector: null}\n      ],\n      elements: {\n        inventory: \"dnd5e-inventory\"\n      }\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get template() {\n    return \"systems/dnd5e/templates/items/container.hbs\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * IDs for items on the sheet that have been expanded.\n   * @type {Set<string>}\n   * @protected\n   */\n  _expanded = new Set();\n\n  /* -------------------------------------------- */\n  /*  Rendering                                   */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async getData(options={}) {\n    const context = await super.getData(options);\n\n    context.items = Array.from(await this.item.system.contents);\n    context.capacity = await this.item.system.computeCapacity();\n    context.itemContext = {};\n\n    for ( const item of context.items ) {\n      const ctx = context.itemContext[item.id] ??= {};\n      ctx.totalWeight = (await item.system.totalWeight).toNearest(0.1);\n      ctx.isExpanded = this._expanded.has(item.id);\n      ctx.isStack = item.system.quantity > 1;\n      ctx.expanded = this._expanded.has(item.id) ? await item.getChatData({secrets: this.item.isOwner}) : null;\n    }\n    context.isContainer = true;\n    context.inventory = {\n      contents: {\n        label: \"DND5E.Contents\",\n        items: context.items\n      }\n    };\n\n    context.items = context.items.sort((a, b) => (a.sort || 0) - (b.sort || 0));\n\n    return context;\n  }\n\n  /* -------------------------------------------- */\n  /*  Drag & Drop                                 */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _onDragStart(event) {\n    const li = event.currentTarget;\n    if ( event.target.classList.contains(\"content-link\") ) return;\n    if ( !li.dataset.itemId ) return super._onDragStart(event);\n\n    const item = await this.item.system.getContainedItem(li.dataset.itemId);\n    const dragData = item?.toDragData();\n    if ( !dragData ) return;\n\n    // Set data transfer\n    event.dataTransfer.setData(\"text/plain\", JSON.stringify(dragData));\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _onDrop(event) {\n    const data = TextEditor.getDragEventData(event);\n    if ( ![\"Item\", \"Folder\"].includes(data.type) ) return super._onDrop(event, data);\n\n    if ( Hooks.call(\"dnd5e.dropItemSheetData\", this.item, this, data) === false ) return;\n\n    if ( data.type === \"Folder\" ) return this._onDropFolder(event, data);\n    return this._onDropItem(event, data);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle the dropping of Folder data onto the Container sheet.\n   * @param {DragEvent} event              The concluding DragEvent which contains the drop data.\n   * @param {object} data                  The data transfer extracted from the event.\n   * @returns {Promise<Item5e[]>}          The created Item objects.\n   */\n  async _onDropFolder(event, data) {\n    const folder = await Folder.implementation.fromDropData(data);\n    if ( !this.item.isOwner || (folder.type !== \"Item\") ) return [];\n\n    let recursiveWarning = false;\n    const parentContainers = await this.item.system.allContainers();\n    const containers = new Set();\n\n    let items = await Promise.all(folder.contents.map(async item => {\n      if ( !(item instanceof Item) ) item = await fromUuid(item.uuid);\n      if ( item.system.container === this.item.id ) return;\n      if ( (this.item.uuid === item.uuid) || parentContainers.includes(item) ) {\n        recursiveWarning = true;\n        return;\n      }\n      if ( item.type === \"container\" ) containers.add(item.id);\n      return item;\n    }));\n    items = items.filter(i => i && !containers.has(i.system.container));\n\n    // Display recursive warning, but continue with any remaining items\n    if ( recursiveWarning ) ui.notifications.warn(\"DND5E.ContainerRecursiveError\", { localize: true });\n    if ( !items.length ) return [];\n\n    // Create any remaining items\n    const toCreate = await Item5e.createWithContents(items, {\n      container: this.item,\n      transformAll: itemData => itemData.type === \"spell\" ? Item5e.createScrollFromSpell(itemData) : itemData\n    });\n    if ( this.item.folder ) toCreate.forEach(d => d.folder = this.item.folder.id);\n    return Item5e.createDocuments(toCreate, {pack: this.item.pack, parent: this.item.parent, keepId: true});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle the dropping of Item data onto an Item Sheet.\n   * @param {DragEvent} event              The concluding DragEvent which contains the drop data.\n   * @param {object} data                  The data transfer extracted from the event.\n   * @returns {Promise<Item5e[]|boolean>}  The created Item objects or `false` if it couldn't be created.\n   * @protected\n   */\n  async _onDropItem(event, data) {\n    const item = await Item.implementation.fromDropData(data);\n    if ( !this.item.isOwner || !item ) return false;\n\n    // If item already exists in this container, just adjust its sorting\n    if ( item.system.container === this.item.id ) {\n      return this._onSortItem(event, item);\n    }\n\n    // Prevent dropping containers within themselves\n    const parentContainers = await this.item.system.allContainers();\n    if ( (this.item.uuid === item.uuid) || parentContainers.includes(item) ) {\n      ui.notifications.error(\"DND5E.ContainerRecursiveError\", { localize: true });\n      return;\n    }\n\n    // If item already exists in same DocumentCollection, just adjust its container property\n    if ( (item.actor === this.item.actor) && (item.pack === this.item.pack) ) {\n      return item.update({folder: this.item.folder, \"system.container\": this.item.id});\n    }\n\n    // Otherwise, create a new item & contents in this context\n    const toCreate = await Item5e.createWithContents([item], {\n      container: this.item,\n      transformAll: itemData => itemData.type === \"spell\" ? Item5e.createScrollFromSpell(itemData) : itemData\n    });\n    if ( this.item.folder ) toCreate.forEach(d => d.folder = this.item.folder.id);\n    return Item5e.createDocuments(toCreate, {pack: this.item.pack, parent: this.item.actor, keepId: true});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle a drop event for an existing contained Item to sort it relative to its siblings.\n   * @param {DragEvent} event  The concluding DragEvent.\n   * @param {Item5e} item      The item that needs to be sorted.\n   * @protected\n   */\n  async _onSortItem(event, item) {\n    const dropTarget = event.target.closest(\"[data-item-id]\");\n    if ( !dropTarget ) return;\n    const contents = await this.item.system.contents;\n    const target = contents.get(dropTarget.dataset.itemId);\n\n    // Don't sort on yourself\n    if ( item.id === target.id ) return;\n\n    // Identify sibling items based on adjacent HTML elements\n    const siblings = [];\n    for ( const el of dropTarget.parentElement.children ) {\n      const siblingId = el.dataset.itemId;\n      if ( siblingId && (siblingId !== item.id) ) siblings.push(contents.get(siblingId));\n    }\n\n    // Perform the sort\n    const sortUpdates = SortingHelpers.performIntegerSort(item, {target, siblings});\n    const updateData = sortUpdates.map(u => {\n      const update = u.update;\n      update._id = u.target.id;\n      return update;\n    });\n\n    // Perform the update\n    Item.updateDocuments(updateData, {pack: this.item.pack, parent: this.item.actor});\n  }\n}\n","import Item5e from \"../../documents/item.mjs\";\n\n/**\n * Compendium with added support for item containers.\n */\nexport default class ItemCompendium5e extends Compendium {\n\n  /** @inheritdoc */\n  async _render(...args) {\n    await super._render(...args);\n    let items = this.collection;\n    if ( this.collection.index ) {\n      if ( !this.collection._reindexing ) this.collection._reindexing = this.collection.getIndex();\n      await this.collection._reindexing;\n      items = this.collection.index;\n    }\n    for ( const item of items ) {\n      if ( items.has(item.system?.container) ) {\n        this._element?.[0].querySelector(`[data-entry-id=\"${item._id}\"]`)?.remove();\n      }\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _handleDroppedEntry(target, data) {\n    // Obtain the dropped Document\n    let item = await Item.fromDropData(data);\n    if ( !item ) return;\n\n    // Create item and its contents if it doesn't already exist here\n    if ( !this._entryAlreadyExists(item) ) {\n      const contents = await item.system.contents;\n      if ( contents?.size ) {\n        const toCreate = await Item5e.createWithContents([item], {transformAll: item => item.toCompendium(item)});\n        const folder = target?.closest(\"[data-folder-id]\")?.dataset.folderId;\n        if ( folder ) toCreate.map(d => d.folder = folder);\n        [item] = await Item5e.createDocuments(toCreate, {pack: this.collection.collection, keepId: true});\n      }\n    }\n\n    // Otherwise, if it is within a container, take it out\n    else if ( item.system.container ) await item.update({\"system.container\": null});\n\n    // Let parent method perform sorting\n    super._handleDroppedEntry(target, item.toDragData());\n  }\n}\n","import Item5e from \"../../documents/item.mjs\";\n\n/**\n * Items sidebar with added support for item containers.\n */\nexport default class ItemDirectory5e extends ItemDirectory {\n  /** @inheritdoc */\n  async _handleDroppedEntry(target, data) {\n    // Obtain the dropped Document\n    let item = await this._getDroppedEntryFromData(data);\n    if ( !item ) return;\n\n    // Create item and its contents if it doesn't already exist here\n    if ( !this._entryAlreadyExists(item) ) {\n      const toCreate = await Item5e.createWithContents([item]);\n      const folder = target?.closest(\"[data-folder-id]\")?.dataset.folderId;\n      if ( folder ) toCreate.map(d => d.folder = folder);\n      [item] = await Item5e.createDocuments(toCreate, {keepId: true});\n    }\n\n    // Otherwise, if it is within a container, take it out\n    else if ( item.system.container ) await item.update({\"system.container\": null});\n\n    // Let parent method perform sorting\n    super._handleDroppedEntry(target, item.toDragData());\n  }\n}\n","/**\n * Pop out ProseMirror editor window for journal entries with multiple text areas that need editing.\n *\n * @param {JournalEntryPage} document   Journal entry page to be edited.\n * @param {object} options\n * @param {string} options.textKeyPath  The path to the specific HTML field being edited.\n */\nexport default class JournalEditor extends DocumentSheet {\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"journal-editor\"],\n      template: \"systems/dnd5e/templates/journal/journal-editor.hbs\",\n      width: 550,\n      height: 640,\n      textKeyPath: null,\n      resizable: true\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get title() {\n    if ( this.options.title ) return `${this.document.name}: ${this.options.title}`;\n    else return this.document.name;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async getData() {\n    const data = super.getData();\n    const rawText = foundry.utils.getProperty(this.document, this.options.textKeyPath) ?? \"\";\n    return foundry.utils.mergeObject(data, {\n      enriched: await TextEditor.enrichHTML(rawText, {\n        relativeTo: this.document, secrets: this.document.isOwner, async: true\n      })\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _updateObject(event, formData) {\n    this.document.update(formData);\n  }\n\n}\n","import { linkForUuid } from \"../../utils.mjs\";\nimport Actor5e from \"../../documents/actor/actor.mjs\";\nimport Proficiency from \"../../documents/actor/proficiency.mjs\";\nimport * as Trait from \"../../documents/actor/trait.mjs\";\nimport JournalEditor from \"./journal-editor.mjs\";\n\n/**\n * Journal entry page that displays an automatically generated summary of a class along with additional description.\n */\nexport default class JournalClassPageSheet extends JournalPageSheet {\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    const options = foundry.utils.mergeObject(super.defaultOptions, {\n      dragDrop: [{dropSelector: \".drop-target\"}],\n      height: \"auto\",\n      width: 500,\n      submitOnChange: true\n    });\n    options.classes.push(\"class-journal\");\n    return options;\n  }\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get template() {\n    return `systems/dnd5e/templates/journal/page-${this.document.type}-${this.isEditable ? \"edit\" : \"view\"}.hbs`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  toc = {};\n\n  /* -------------------------------------------- */\n\n  /**\n   * Whether this page represents a class or subclass.\n   * @type {string}\n   */\n  get type() {\n    return this.document.type;\n  }\n\n  /* -------------------------------------------- */\n  /*  Rendering                                   */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async getData(options) {\n    const context = super.getData(options);\n    context.system = context.document.system;\n\n    context.title = Object.fromEntries(\n      Array.fromRange(4, 1).map(n => [`level${n}`, context.data.title.level + n - 1])\n    );\n    context.type = this.type;\n\n    const linked = await fromUuid(this.document.system.item);\n    context.subclasses = this.type === \"class\" ? await this._getSubclasses(this.document.system.subclassItems) : null;\n\n    if ( !linked ) return context;\n    context.linked = {\n      document: linked,\n      name: linked.name,\n      lowercaseName: linked.name.toLowerCase()\n    };\n\n    context.advancement = this._getAdvancement(linked);\n    context.enriched = await this._getDescriptions(context.document);\n    context.table = await this._getTable(linked);\n    context.optionalTable = await this._getOptionalTable(linked);\n    context.features = await this._getFeatures(linked);\n    context.optionalFeatures = await this._getFeatures(linked, true);\n    if ( context.subclasses?.length ) context.subclasses?.sort((lhs, rhs) =>\n      lhs.name.localeCompare(rhs.name, game.i18n.lang)\n    );\n\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare features granted by various advancement types.\n   * @param {Item5e} item  Class item belonging to this journal.\n   * @returns {object}     Prepared advancement section.\n   */\n  _getAdvancement(item) {\n    const advancement = {};\n\n    const hp = item.advancement.byType.HitPoints?.[0];\n    if ( hp ) {\n      advancement.hp = {\n        hitDice: `1${hp.hitDie}`,\n        max: hp.hitDieValue,\n        average: Math.floor(hp.hitDieValue / 2) + 1\n      };\n    }\n\n    const traits = item.advancement.byType.Trait ?? [];\n    const makeTrait = type => {\n      const advancement = traits.find(a => {\n        const rep = a.representedTraits();\n        if ( (rep.size > 1) || (rep.first() !== type) ) return false;\n        return (a.classRestriction !== \"secondary\") && (a.level === 1);\n      });\n      if ( !advancement ) return game.i18n.localize(\"None\");\n      return advancement.hint || Trait.localizedList(advancement.configuration);\n    };\n    if ( traits.length ) {\n      advancement.traits = {\n        armor: makeTrait(\"armor\"),\n        weapons: makeTrait(\"weapon\"),\n        tools: makeTrait(\"tool\"),\n        saves: makeTrait(\"saves\"),\n        skills: makeTrait(\"skills\")\n      };\n    }\n\n    advancement.equipment = item.system.startingEquipmentDescription;\n\n    return advancement;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Enrich all of the entries within the descriptions object on the sheet's system data.\n   * @param {JournalEntryPage} page  Journal page being enriched.\n   * @returns {Promise<object>}      Object with enriched descriptions.\n   */\n  async _getDescriptions(page) {\n    const descriptions = await Promise.all(Object.entries(page.system.description ?? {})\n      .map(async ([id, text]) => {\n        const enriched = await TextEditor.enrichHTML(text, {\n          relativeTo: this.object,\n          secrets: this.object.isOwner,\n          async: true\n        });\n        return [id, enriched];\n      })\n    );\n    return Object.fromEntries(descriptions);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare table based on non-optional GrantItem advancement & ScaleValue advancement.\n   * @param {Item5e} item              Class item belonging to this journal.\n   * @param {number} [initialLevel=1]  Level at which the table begins.\n   * @returns {object}                 Prepared table.\n   */\n  async _getTable(item, initialLevel=1) {\n    const hasFeatures = !!item.advancement.byType.ItemGrant;\n    const scaleValues = (item.advancement.byType.ScaleValue ?? []);\n    const spellProgression = await this._getSpellProgression(item);\n\n    const headers = [[{content: game.i18n.localize(\"DND5E.Level\")}]];\n    if ( item.type === \"class\" ) headers[0].push({content: game.i18n.localize(\"DND5E.ProficiencyBonus\")});\n    if ( hasFeatures ) headers[0].push({content: game.i18n.localize(\"DND5E.Features\")});\n    headers[0].push(...scaleValues.map(a => ({content: a.title})));\n    if ( spellProgression ) {\n      if ( spellProgression.headers.length > 1 ) {\n        headers[0].forEach(h => h.rowSpan = 2);\n        headers[0].push(...spellProgression.headers[0]);\n        headers[1] = spellProgression.headers[1];\n      } else {\n        headers[0].push(...spellProgression.headers[0]);\n      }\n    }\n\n    const cols = [{ class: \"level\", span: 1 }];\n    if ( item.type === \"class\" ) cols.push({class: \"prof\", span: 1});\n    if ( hasFeatures ) cols.push({class: \"features\", span: 1});\n    if ( scaleValues.length ) cols.push({class: \"scale\", span: scaleValues.length});\n    if ( spellProgression ) cols.push(...spellProgression.cols);\n\n    const rows = [];\n    for ( const level of Array.fromRange((CONFIG.DND5E.maxLevel - (initialLevel - 1)), initialLevel) ) {\n      const features = [];\n      for ( const advancement of item.advancement.byLevel[level] ) {\n        switch ( advancement.constructor.typeName ) {\n          case \"AbilityScoreImprovement\":\n            features.push(game.i18n.localize(\"DND5E.AdvancementAbilityScoreImprovementTitle\"));\n            continue;\n          case \"ItemGrant\":\n            if ( advancement.configuration.optional ) continue;\n            features.push(...await Promise.all(advancement.configuration.items.map(i => linkForUuid(i.uuid))));\n            break;\n        }\n      }\n\n      // Level & proficiency bonus\n      const cells = [{class: \"level\", content: level.ordinalString()}];\n      if ( item.type === \"class\" ) cells.push({class: \"prof\", content: `+${Proficiency.calculateMod(level)}`});\n      if ( hasFeatures ) cells.push({class: \"features\", content: features.join(\", \")});\n      scaleValues.forEach(s => cells.push({class: \"scale\", content: s.valueForLevel(level)?.display}));\n      const spellCells = spellProgression?.rows[rows.length];\n      if ( spellCells ) cells.push(...spellCells);\n\n      // Skip empty rows on subclasses\n      if ( (item.type === \"subclass\") && !features.length && !scaleValues.length && !spellCells ) continue;\n\n      rows.push(cells);\n    }\n\n    return { headers, cols, rows };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Build out the spell progression data.\n   * @param {Item5e} item  Class item belonging to this journal.\n   * @returns {object}     Prepared spell progression table.\n   */\n  async _getSpellProgression(item) {\n    const spellcasting = foundry.utils.deepClone(item.spellcasting);\n    if ( !spellcasting || (spellcasting.progression === \"none\") ) return null;\n\n    const table = { rows: [] };\n\n    if ( spellcasting.type === \"leveled\" ) {\n      const spells = {};\n      const maxSpellLevel = CONFIG.DND5E.SPELL_SLOT_TABLE[CONFIG.DND5E.SPELL_SLOT_TABLE.length - 1].length;\n      Array.fromRange(maxSpellLevel, 1).forEach(l => spells[`spell${l}`] = {});\n\n      let largestSlot;\n      for ( const level of Array.fromRange(CONFIG.DND5E.maxLevel, 1).reverse() ) {\n        const progression = { slot: 0 };\n        spellcasting.levels = level;\n        Actor5e.computeClassProgression(progression, item, { spellcasting });\n        Actor5e.prepareSpellcastingSlots(spells, \"leveled\", progression);\n\n        if ( !largestSlot ) largestSlot = Object.values(spells).reduce((slot, { max, level }) => {\n          if ( !max ) return slot;\n          return Math.max(slot, level || -1);\n        }, -1);\n\n        table.rows.push(Array.fromRange(largestSlot, 1).map(spellLevel => {\n          return {class: \"spell-slots\", content: spells[`spell${spellLevel}`]?.max || \"&mdash;\"};\n        }));\n      }\n\n      // Prepare headers & columns\n      table.headers = [\n        [{content: game.i18n.localize(\"JOURNALENTRYPAGE.DND5E.Class.SpellSlotsPerSpellLevel\"), colSpan: largestSlot}],\n        Array.fromRange(largestSlot, 1).map(spellLevel => ({content: spellLevel.ordinalString()}))\n      ];\n      table.cols = [{class: \"spellcasting\", span: largestSlot}];\n      table.rows.reverse();\n    }\n\n    else if ( spellcasting.type === \"pact\" ) {\n      const spells = { pact: {} };\n\n      table.headers = [[\n        { content: game.i18n.localize(\"JOURNALENTRYPAGE.DND5E.Class.SpellSlots\") },\n        { content: game.i18n.localize(\"JOURNALENTRYPAGE.DND5E.Class.SpellSlotLevel\") }\n      ]];\n      table.cols = [{class: \"spellcasting\", span: 2}];\n\n      // Loop through each level, gathering \"Spell Slots\" & \"Slot Level\" for each one\n      for ( const level of Array.fromRange(CONFIG.DND5E.maxLevel, 1) ) {\n        const progression = { pact: 0 };\n        spellcasting.levels = level;\n        Actor5e.computeClassProgression(progression, item, { spellcasting });\n        Actor5e.prepareSpellcastingSlots(spells, \"pact\", progression);\n        table.rows.push([\n          { class: \"spell-slots\", content: `${spells.pact.max}` },\n          { class: \"slot-level\", content: spells.pact.level.ordinalString() }\n        ]);\n      }\n    }\n\n    else {\n      /**\n       * A hook event that fires to generate the table for custom spellcasting types.\n       * The actual hook names include the spellcasting type (e.g. `dnd5e.buildPsionicSpellcastingTable`).\n       * @param {object} table                          Table definition being built. *Will be mutated.*\n       * @param {Item5e} item                           Class for which the spellcasting table is being built.\n       * @param {SpellcastingDescription} spellcasting  Spellcasting descriptive object.\n       * @function dnd5e.buildSpellcastingTable\n       * @memberof hookEvents\n       */\n      Hooks.callAll(\n        `dnd5e.build${spellcasting.type.capitalize()}SpellcastingTable`, table, item, spellcasting\n      );\n    }\n\n    return table;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare options table based on optional GrantItem advancement.\n   * @param {Item5e} item    Class item belonging to this journal.\n   * @returns {object|null}  Prepared optional features table.\n   */\n  async _getOptionalTable(item) {\n    const headers = [[\n      { content: game.i18n.localize(\"DND5E.Level\") },\n      { content: game.i18n.localize(\"DND5E.Features\") }\n    ]];\n\n    const cols = [\n      { class: \"level\", span: 1 },\n      { class: \"features\", span: 1 }\n    ];\n\n    const rows = [];\n    for ( const level of Array.fromRange(CONFIG.DND5E.maxLevel, 1) ) {\n      const features = [];\n      for ( const advancement of item.advancement.byLevel[level] ) {\n        switch ( advancement.constructor.typeName ) {\n          case \"ItemGrant\":\n            if ( !advancement.configuration.optional ) continue;\n            features.push(...await Promise.all(advancement.configuration.items.map(i => linkForUuid(i.uuid))));\n            break;\n        }\n      }\n      if ( !features.length ) continue;\n\n      // Level & proficiency bonus\n      const cells = [\n        { class: \"level\", content: level.ordinalString() },\n        { class: \"features\", content: features.join(\", \") }\n      ];\n      rows.push(cells);\n    }\n    if ( !rows.length ) return null;\n\n    return { headers, cols, rows };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Fetch data for each class feature listed.\n   * @param {Item5e} item               Class or subclass item belonging to this journal.\n   * @param {boolean} [optional=false]  Should optional features be fetched rather than required features?\n   * @returns {object[]}   Prepared features.\n   */\n  async _getFeatures(item, optional=false) {\n    const prepareFeature = async f => {\n      const document = await fromUuid(f.uuid);\n      return {\n        document,\n        name: document.name,\n        description: await TextEditor.enrichHTML(document.system.description.value, {\n          relativeTo: item, secrets: false, async: true\n        })\n      };\n    };\n\n    let features = [];\n    for ( const advancement of item.advancement.byType.ItemGrant ?? [] ) {\n      if ( !!advancement.configuration.optional !== optional ) continue;\n      features.push(...advancement.configuration.items.map(prepareFeature));\n    }\n    features = await Promise.all(features);\n    return features;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Fetch each subclass and their features.\n   * @param {string[]} uuids   UUIDs for the subclasses to fetch.\n   * @returns {object[]|null}  Prepared subclasses.\n   */\n  async _getSubclasses(uuids) {\n    const prepareSubclass = async uuid => {\n      const document = await fromUuid(uuid);\n      return this._getSubclass(document);\n    };\n\n    const subclasses = await Promise.all(uuids.map(prepareSubclass));\n    return subclasses.length ? subclasses : null;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare data for the provided subclass.\n   * @param {Item5e} item  Subclass item being prepared.\n   * @returns {object}     Presentation data for this subclass.\n   */\n  async _getSubclass(item) {\n    const initialLevel = Object.entries(item.advancement.byLevel).find(([lvl, d]) => d.length)?.[0] ?? 1;\n    return {\n      document: item,\n      name: item.name,\n      description: await TextEditor.enrichHTML(item.system.description.value, {\n        relativeTo: item, secrets: false, async: true\n      }),\n      features: await this._getFeatures(item),\n      table: await this._getTable(item, parseInt(initialLevel))\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _renderInner(...args) {\n    const html = await super._renderInner(...args);\n    this.toc = JournalEntryPage.buildTOC(html.get());\n    return html;\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Handlers                              */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    html[0].querySelectorAll(\".item-delete\").forEach(e => {\n      e.addEventListener(\"click\", this._onDeleteItem.bind(this));\n    });\n    html[0].querySelectorAll(\".launch-text-editor\").forEach(e => {\n      e.addEventListener(\"click\", this._onLaunchTextEditor.bind(this));\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle deleting a dropped item.\n   * @param {Event} event  The triggering click event.\n   * @returns {JournalClassSummary5ePageSheet}\n   */\n  async _onDeleteItem(event) {\n    event.preventDefault();\n    const container = event.currentTarget.closest(\"[data-item-uuid]\");\n    const uuidToDelete = container?.dataset.itemUuid;\n    if ( !uuidToDelete ) return;\n    switch ( container.dataset.itemType ) {\n      case \"linked\":\n        await this.document.update({\"system.item\": \"\"});\n        return this.render();\n      case \"subclass\":\n        const itemSet = this.document.system.subclassItems;\n        itemSet.delete(uuidToDelete);\n        await this.document.update({\"system.subclassItems\": Array.from(itemSet)});\n        return this.render();\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle launching the individual text editing window.\n   * @param {Event} event  The triggering click event.\n   */\n  _onLaunchTextEditor(event) {\n    event.preventDefault();\n    const textKeyPath = event.currentTarget.dataset.target;\n    const label = event.target.closest(\".form-group\").querySelector(\"label\");\n    const editor = new JournalEditor(this.document, { textKeyPath, title: label?.innerText });\n    editor.render(true);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _onDrop(event) {\n    const data = TextEditor.getDragEventData(event);\n\n    if ( data?.type !== \"Item\" ) return false;\n    const item = await Item.implementation.fromDropData(data);\n    const type = this.type === item.type ? \"linked\" : item.type;\n    switch ( type ) {\n      case \"linked\":\n        await this.document.update({\"system.item\": item.uuid});\n        return this.render();\n      case \"subclass\":\n        const itemSet = this.document.system.subclassItems;\n        itemSet.add(item.uuid);\n        await this.document.update({\"system.subclassItems\": Array.from(itemSet)});\n        return this.render();\n      default:\n        return false;\n    }\n  }\n}\n","/**\n * Journal entry page that displays a controls for editing map markers.\n */\nexport default class JournalMapLocationPageSheet extends JournalTextPageSheet {\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    const options = super.defaultOptions;\n    options.classes.push(\"map\");\n    return options;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get template() {\n    return `templates/journal/page-text-${this.isEditable ? \"edit\" : \"view\"}.html`;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _renderInner(...args) {\n    const jQuery = await super._renderInner(...args);\n    const editingHeader = jQuery[0].querySelector(\".journal-header\");\n    const viewingHeader = jQuery[0].querySelector(\":is(h1, h2, h3)\");\n\n    if ( editingHeader ) {\n      const input = document.createElement(\"input\");\n      input.name = \"system.code\";\n      input.type = \"text\";\n      input.value = this.document.system.code ?? \"\";\n      editingHeader.insertAdjacentElement(\"afterbegin\", input);\n    }\n\n    else if ( viewingHeader && this.document.system.code ) {\n      viewingHeader.dataset.mapLocationCode = this.document.system.code;\n    }\n\n    return jQuery;\n  }\n}\n","/**\n * Journal entry page that displays a controls for editing rule page tooltip & type.\n */\nexport default class JournalRulePageSheet extends JournalTextPageSheet {\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    const options = super.defaultOptions;\n    options.classes.push(\"rule\");\n    return options;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get template() {\n    return this.isEditable\n      ? \"systems/dnd5e/templates/journal/page-rule-edit.hbs\"\n      : \"templates/journal/page-text-view.html\";\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async getData(options) {\n    const context = await super.getData(options);\n    context.CONFIG = CONFIG.DND5E;\n    context.enrichedTooltip = await TextEditor.enrichHTML(this.object.system.tooltip, {\n      relativeTo: this.object,\n      secrets: this.object.isOwner,\n      async: true\n    });\n    return context;\n  }\n}\n","/**\n * Variant of the standard journal sheet to handle custom TOC numbering.\n */\nexport default class JournalSheet5e extends JournalSheet {\n  /** @inheritDoc */\n  static get defaultOptions() {\n    const options = super.defaultOptions;\n    options.classes.push(\"dnd5e2-journal\");\n    return options;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    html.on(\"pointerdown\", event => {\n      if ( (event.button === 1) && document.getElementById(\"tooltip\")?.classList.contains(\"active\") ) {\n        event.preventDefault();\n      }\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _getPageData() {\n    const pageData = super._getPageData();\n\n    let adjustment = 0;\n    for ( const page of pageData ) {\n      const pageDocument = this.document.pages.get(page._id);\n      let needsAdjustment = true;\n      const numbering = pageDocument.system.adjustTOCNumbering?.(page.number);\n      if ( numbering ) {\n        page.number = numbering.number;\n        adjustment += numbering.adjustment ?? 0;\n        needsAdjustment = false;\n      }\n      if ( needsAdjustment ) page.number += adjustment;\n    }\n\n    return pageData;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Add class to journal pages also.\n   * @param {JournalPageSheet} page  The journal page application.\n   * @param {jQuery} jQuery          The rendered Application HTML.\n   * @param {object} context         Rendering context provided.\n   */\n  static onRenderJournalPageSheet(page, jQuery, context) {\n    if ( page.object.parent.sheet instanceof JournalSheet5e ) {\n      let element;\n      if ( context.editable ) element = jQuery[0];\n      else element = jQuery[0].parentElement;\n      element?.classList.add(\"dnd5e2-journal\");\n    }\n  }\n}\n","/**\n * Compendium that renders pages as a table of contents.\n */\nexport default class TableOfContentsCompendium extends Compendium {\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"table-of-contents\"],\n      template: \"systems/dnd5e/templates/journal/table-of-contents.hbs\",\n      width: 800,\n      height: 950,\n      resizable: true,\n      contextMenuSelector: \"[data-entry-id]\",\n      dragDrop: [{dragSelector: \"[data-document-id]\", dropSelector: \"article\"}]\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Position of pages based on type.\n   * @enum {number}\n   */\n  static TYPES = {\n    chapter: 0,\n    appendix: 100\n  };\n\n  /* -------------------------------------------- */\n  /*  Rendering                                   */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async getData(options) {\n    const context = await super.getData(options);\n    const documents = await this.collection.getDocuments();\n\n    context.chapters = [];\n    const specialEntries = [];\n    for ( const entry of documents ) {\n      const flags = entry.flags?.dnd5e;\n      if ( !flags ) continue;\n      const type = flags.type ?? \"chapter\";\n\n      if ( type === \"header\" ) {\n        const page = entry.pages.contents[0];\n        context.header = {\n          title: flags.title ?? page?.name,\n          content: page?.text.content\n        };\n        continue;\n      }\n\n      const data = {\n        type, flags,\n        id: entry.id,\n        name: flags.title ?? entry.name,\n        pages: Array.from(entry.pages).map(({ flags, id, name, sort }) => ({\n          id, sort, flags,\n          name: flags.dnd5e?.title ?? name,\n          entryId: entry.id\n        }))\n      };\n\n      if ( type === \"special\" ) {\n        data.showPages = flags.showPages ?? !flags.append;\n        specialEntries.push(data);\n      } else {\n        data.order = (this.constructor.TYPES[type] ?? 200) + (flags.position ?? 0);\n        data.showPages = (flags.showPages !== false) && ((flags.showPages === true) || (type === \"chapter\"));\n        context.chapters.push(data);\n      }\n    }\n\n    context.chapters.sort((lhs, rhs) => lhs.order - rhs.order);\n    for ( const entry of specialEntries ) {\n      const append = entry.flags.append;\n      const order = entry.flags.order;\n      if ( append ) {\n        context.chapters[append - 1].pages.push({ ...entry, sort: order, entry: true });\n      } else {\n        context.chapters.push(entry);\n      }\n    }\n\n    for ( const chapter of context.chapters ) {\n      chapter.pages.sort((lhs, rhs) => lhs.sort - rhs.sort);\n      for ( const page of chapter.pages ) {\n        if ( page.pages ) page.pages.sort((lhs, rhs) => lhs.sort - rhs.sort);\n      }\n    }\n\n    return context;\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Handlers                              */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    html.find(\"a\").on(\"click\", this._onClickLink.bind(this));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle clicking a link to a journal entry or page.\n   * @param {PointerEvent} event  The triggering click event.\n   * @protected\n   */\n  async _onClickLink(event) {\n    const entryId = event.currentTarget.closest(\"[data-entry-id]\")?.dataset.entryId;\n    if ( !entryId ) return;\n    const entry = await this.collection.getDocument(entryId);\n    entry?.sheet.render(true, {\n      pageId: event.currentTarget.closest(\"[data-page-id]\")?.dataset.pageId\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _onDragStart(event) {\n    let dragData;\n    if ( ui.context ) ui.context.close({animate: false});\n    dragData = this._getEntryDragData(event.target.dataset.documentId);\n    if ( !dragData ) return;\n    event.dataTransfer.setData(\"text/plain\", JSON.stringify(dragData));\n  }\n}\n","const {\n  BooleanField, ColorField, FilePathField, ForeignDocumentField, NumberField, ObjectField, SchemaField\n} = foundry.data.fields;\n\n/**\n * Token Ring flag data\n * @typedef {object} TokenRingFlagData\n * @property {boolean} enabled                    Should the dynamic token be used?\n * @property {object} [colors]\n * @property {string|number} [colors.ring]        The color of the ring.\n * @property {string|number} [colors.background]  The color of the background.\n * @property {number} effects                     The effect value (composited with bitwise operations). Only supports\n *                                                up to 23 bits of data.\n * @property {number} [scaleCorrection]           Size scale adjustment to apply to the ring, but not the subject.\n * @property {object} [textures]\n * @property {string} [textures.subject]          Explicit image to use for the ring's subject.\n */\n\n/**\n * A custom model to validate system flags on Token Documents.\n *\n * @property {boolean} isPolymorphed        Is the actor represented by this token transformed?\n * @property {string} originalActor         Original actor before transformation.\n * @property {object} previousActorData     Actor data from before transformation for unlinked tokens.\n * @property {TokenRingFlagData} tokenRing\n */\nexport default class TokenSystemFlags extends foundry.abstract.DataModel {\n  /** @override */\n  static defineSchema() {\n    return {\n      isPolymorphed: new BooleanField({required: false, initial: undefined}),\n      originalActor: new ForeignDocumentField(foundry.documents.BaseActor, {\n        required: false, initial: undefined, idOnly: true\n      }),\n      previousActorData: new ObjectField({required: false, initial: undefined}),\n      tokenRing: new SchemaField({\n        enabled: new BooleanField({label: \"DND5E.TokenRings.Enabled\"}),\n        colors: new SchemaField({\n          ring: new ColorField({required: false, label: \"DND5E.TokenRings.RingColor\"}),\n          background: new ColorField({required: false, label: \"DND5E.TokenRings.RingColor\"})\n        }, {required: false, initial: undefined}),\n        effects: new NumberField({\n          initial: 1, min: 0, max: 8388607, integer: true, label: \"DND5E.TokenRings.Effects.Label\"\n        }),\n        scaleCorrection: new NumberField({\n          required: false, initial: 1, min: 0, label: \"DND5E.TokenRings.ScaleCorrection\"\n        }),\n        textures: new SchemaField({\n          subject: new FilePathField({\n            required: false, categories: [\"IMAGE\"], label: \"DND5E.TokenRings.Subject.Label\",\n            hint: \"DND5E.TokenRings.Subject.Hint\"\n          })\n        }, {required: false, initial: undefined})\n      }, {required: false, initial: undefined, label: \"DND5E.TokenRings.Title\"})\n    };\n  }\n}\n","import { SummonsData } from \"../data/item/fields/summons-field.mjs\";\nimport TokenSystemFlags from \"../data/token/token-system-flags.mjs\";\nimport SystemFlagsMixin from \"./mixins/flags.mjs\";\n\n/**\n * Extend the base TokenDocument class to implement system-specific HP bar logic.\n */\nexport default class TokenDocument5e extends SystemFlagsMixin(TokenDocument) {\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * Is the dynamic token ring enabled?\n   * @type {boolean}\n   */\n  get hasDynamicRing() {\n    if ( game.release.generation < 12 ) return !!this.getFlag(\"dnd5e\", \"tokenRing.enabled\");\n    return this.ring.enabled;\n  }\n\n  /* -------------------------------------------- */\n\n  #subjectPath;\n\n  /**\n   * Fetch the explicit subject texture or infer from `texture.src` for dynamic rings.\n   * @type {string}\n   */\n  get subjectPath() {\n    if ( game.release.generation >= 12 ) return this.ring.subject.texture;\n    const subject = this.getFlag(\"dnd5e\", \"tokenRing\")?.textures?.subject;\n    if ( subject ) return subject;\n    this.#subjectPath ??= this.constructor.inferSubjectPath(this.texture.src);\n    return this.#subjectPath;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  get _systemFlagsDataModel() {\n    return TokenSystemFlags;\n  }\n\n  /* -------------------------------------------- */\n  /*  Migrations                                  */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _initializeSource(data, options={}) {\n    // Migrate backpack -> container.\n    for ( const item of data.delta?.items ?? [] ) {\n      // This will be correctly flagged as needing a source migration when the synthetic actor is created, but we need\n      // to also change the type in the raw ActorDelta to avoid spurious console warnings.\n      if ( item.type === \"backpack\" ) item.type = \"container\";\n    }\n    return super._initializeSource(data, options);\n  }\n\n  /* -------------------------------------------- */\n  /*  Methods                                     */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  getBarAttribute(barName, options={}) {\n    const attribute = options.alternative || this[barName]?.attribute;\n    if ( attribute?.startsWith(\".\") ) {\n      const item = fromUuidSync(attribute, { relative: this.actor });\n      const { value, max } = item?.system.uses ?? { value: 0, max: 0 };\n      if ( max ) return { attribute, value, max, type: \"bar\", editable: true };\n    }\n\n    const data = super.getBarAttribute(barName, options);\n    if ( data?.attribute === \"attributes.hp\" ) {\n      const hp = this.actor.system.attributes.hp || {};\n      data.value += (hp.temp || 0);\n      data.max = Math.max(0, hp.effectiveMax);\n    }\n    return data;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get an Array of attribute choices which are suitable for being consumed by an item usage.\n   * @param {object} data  The actor data.\n   * @returns {string[]}\n   */\n  static getConsumedAttributes(data) {\n    return CONFIG.DND5E.consumableResources;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static getTrackedAttributeChoices(attributes) {\n    const groups = super.getTrackedAttributeChoices(attributes);\n    const abilities = [];\n    const movement = [];\n    const senses = [];\n    const skills = [];\n    const slots = [];\n\n    // Regroup existing attributes based on their path.\n    for ( const group of Object.values(groups) ) {\n      for ( let i = 0; i < group.length; i++ ) {\n        const attribute = group[i];\n        if ( attribute.startsWith(\"abilities.\") ) abilities.push(attribute);\n        else if ( attribute.startsWith(\"attributes.movement.\") ) movement.push(attribute);\n        else if ( attribute.startsWith(\"attributes.senses.\") ) senses.push(attribute);\n        else if ( attribute.startsWith(\"skills.\") ) skills.push(attribute);\n        else if ( attribute.startsWith(\"spells.\") ) slots.push(attribute);\n        else continue;\n        group.splice(i--, 1);\n      }\n    }\n\n    // Add new groups to choices.\n    if ( abilities.length ) groups[game.i18n.localize(\"DND5E.AbilityScorePl\")] = abilities;\n    if ( movement.length ) groups[game.i18n.localize(\"DND5E.MovementSpeeds\")] = movement;\n    if ( senses.length ) groups[game.i18n.localize(\"DND5E.Senses\")] = senses;\n    if ( skills.length ) groups[game.i18n.localize(\"DND5E.SkillPassives\")] = skills;\n    if ( slots.length ) groups[game.i18n.localize(\"JOURNALENTRYPAGE.DND5E.Class.SpellSlots\")] = slots;\n    return groups;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async toggleActiveEffect(effectData, {overlay=false, active}={}) {\n    // TODO: This function as been deprecated in V12. Remove it once V11 support is dropped.\n\n    if ( foundry.utils.isNewerVersion(game.version, 12) ) {\n      foundry.utils.logCompatibilityWarning(\"TokenDocument#toggleActiveEffect is deprecated in favor of \"\n        + \"Actor#toggleStatusEffect\", {since: 12, until: 14});\n    }\n\n    if ( !this.actor ) return false;\n    const statusId = effectData.id;\n    if ( !statusId ) return false;\n    const existing = [];\n\n    // Find the effect with the static _id of the status effect\n    if ( effectData._id ) {\n      const effect = this.actor.effects.get(effectData._id);\n      if ( effect ) existing.push(effect.id);\n    }\n\n    // If no static _id, find all single-status effects that have this status\n    else {\n      for ( const effect of this.actor.effects ) {\n        const statuses = effect.statuses;\n        if ( (statuses.size === 1) && statuses.has(statusId) ) existing.push(effect.id);\n      }\n    }\n\n    // Remove the existing effects unless the status effect is forced active\n    if ( existing.length ) {\n      if ( active ) return true;\n      await this.actor.deleteEmbeddedDocuments(\"ActiveEffect\", existing);\n      return false;\n    }\n\n    // Create a new effect unless the status effect is forced inactive\n    if ( !active && (active !== undefined) ) return false;\n    const effect = await ActiveEffect.implementation.fromStatusEffect(statusId);\n    if ( overlay ) effect.updateSource({\"flags.core.overlay\": true});\n    await ActiveEffect.implementation.create(effect, {parent: this.actor, keepId: true});\n    return true;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Determine the subject path based on the path to the main token artwork.\n   * @param {string} path  The token's `texture.src` path.\n   * @returns {string}     Inferred subject path.\n   */\n  static inferSubjectPath(path) {\n    if ( !path ) return \"\";\n    for ( const [src, dest] of Object.entries(CONFIG.Token.ringClass.subjectPaths) ) {\n      if ( path.startsWith(src) ) return path.replace(src, dest);\n    }\n    return path;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  prepareData() {\n    super.prepareData();\n    if ( !this.hasDynamicRing ) return;\n    let size = this.baseActor?.system.traits?.size;\n    if ( !this.actorLink ) {\n      const deltaSize = this.delta.system.traits?.size;\n      if ( deltaSize ) size = deltaSize;\n    }\n    if ( !size ) return;\n    const dts = CONFIG.DND5E.actorSizes[size].dynamicTokenScale ?? 1;\n    this.texture.scaleX = this._source.texture.scaleX * dts;\n    this.texture.scaleY = this._source.texture.scaleY * dts;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _onUpdate(data, options, userId) {\n    const textureChange = foundry.utils.hasProperty(data, \"texture.src\");\n    if ( textureChange ) this.#subjectPath = undefined;\n    super._onUpdate(data, options, userId);\n  }\n\n  /* -------------------------------------------- */\n  /*  Ring Animations                             */\n  /* -------------------------------------------- */\n\n  /**\n   * Determine if any rings colors should be forced based on current status.\n   * @returns {{[ring]: number, [background]: number}}\n   */\n  getRingColors() {\n    const colors = {};\n    if ( this.hasStatusEffect(CONFIG.specialStatusEffects.DEFEATED) ) {\n      colors.ring = CONFIG.DND5E.tokenRingColors.defeated;\n    }\n    return colors;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Determine what ring effects should be applied on top of any set by flags.\n   * @returns {string[]}\n   */\n  getRingEffects() {\n    const e = CONFIG.Token.ringClass.effects;\n    const effects = [];\n    if ( this.hasStatusEffect(CONFIG.specialStatusEffects.INVISIBLE) ) effects.push(e.INVISIBILITY);\n    else if ( this === game.combat?.combatant?.token ) effects.push(e.RING_GRADIENT);\n    return effects;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Flash the token ring based on damage, healing, or temp HP.\n   * @param {string} type     The key to determine the type of flashing.\n   */\n  flashRing(type) {\n    if ( !this.rendered ) return;\n    const color = CONFIG.DND5E.tokenRingColors[type];\n    if ( !color ) return;\n    const options = {};\n    if ( type === \"damage\" ) {\n      options.duration = 500;\n      options.easing = CONFIG.Token.ringClass.easeTwoPeaks;\n    }\n    this.object.ring?.flashColor(Color.from(color), options);\n  }\n\n  /* -------------------------------------------- */\n  /*  Socket Event Handlers                       */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _onDelete(options, userId) {\n    super._onDelete(options, userId);\n\n    const origin = this.actor?.getFlag(\"dnd5e\", \"summon.origin\");\n    // TODO: Replace with parseUuid once V11 support is dropped\n    if ( origin ) SummonsData.untrackSummon(origin.split(\".Item.\")[0], this.actor.uuid);\n  }\n}\n","import TokenDocument5e from \"../documents/token.mjs\";\nimport { getHumanReadableAttributeLabel } from \"../utils.mjs\";\n\n/**\n * Custom token configuration application for handling dynamic rings & resource labels.\n */\nexport default class TokenConfig5e extends TokenConfig {\n  /** @inheritdoc */\n  static get defaultOptions() {\n    const options = super.defaultOptions;\n    options.tabs.push({\n      navSelector: '.tabs[data-group=\"appearance\"]', contentSelector: '.tab[data-tab=\"appearance\"]', initial: \"token\"\n    });\n    return options;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Template used to render the dynamic ring tab.\n   * @type {string}\n   */\n  static dynamicRingTemplate = \"systems/dnd5e/templates/apps/parts/dynamic-ring.hbs\";\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async _render(...args) {\n    await super._render(...args);\n    if ( !this.rendered ) return;\n    await this._addTokenRingConfiguration(this.element[0]);\n    this._prepareResourceLabels(this.element[0]);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async getData(options={}) {\n    const context = await super.getData(options);\n    const doc = this.preview ?? this.document;\n    context.scale = Math.abs(doc._source.texture.scaleX);\n    this._addItemAttributes(context.barAttributes);\n    return context;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Add a new section for token ring configuration.\n   * @param {HTMLElement} html  The rendered markup.\n   * @protected\n   */\n  async _addTokenRingConfiguration(html) {\n    if ( game.release.generation > 11 ) return;\n\n    const tab = html.querySelector('.tab[data-tab=\"appearance\"]');\n\n    const tokenTab = document.createElement(\"div\");\n    tokenTab.classList.add(\"tab\");\n    tokenTab.dataset.group = \"appearance\";\n    tokenTab.dataset.tab = \"token\";\n    tokenTab.replaceChildren(...tab.children);\n\n    let ringTab = document.createElement(\"div\");\n    const flags = this.document.getFlag(\"dnd5e\", \"tokenRing\") ?? {};\n    ringTab.innerHTML = await renderTemplate(this.constructor.dynamicRingTemplate, {\n      flags: foundry.utils.mergeObject({ scaleCorrection: 1 }, flags, { inplace: false }),\n      effects: Object.entries(CONFIG.DND5E.tokenRings.effects).reduce((obj, [key, label]) => {\n        const mask = CONFIG.Token.ringClass.effects[key];\n        obj[key] = { label, checked: (flags.effects & mask) > 0 };\n        return obj;\n      }, {}),\n      subjectPlaceholder: TokenDocument5e.inferSubjectPath(this.object.texture.src)\n    });\n    ringTab = ringTab.querySelector(\"div\");\n    ringTab.querySelectorAll(\"input\").forEach(i => i.addEventListener(\"change\", this._onChangeInput.bind(this)));\n    ringTab.querySelector(\"button.file-picker\").addEventListener(\"click\", this._activateFilePicker.bind(this));\n\n    tab.replaceChildren(tokenTab, ringTab);\n    tab.insertAdjacentHTML(\"afterbegin\", `\n      <nav class=\"tabs sheet-tabs secondary-tabs\" data-group=\"appearance\">\n        <a class=\"item\" data-tab=\"token\" data-group=\"appearance\">\n          <i class=\"fa-solid fa-expand\"></i> ${game.i18n.localize(\"Token\")}\n        </a>\n        <a class=\"item\" data-tab=\"ring\" data-group=\"appearance\">\n          <i class=\"fa-solid fa-ring\"></i> ${game.i18n.localize(\"DND5E.TokenRings.Title\")}\n        </a>\n      </nav>\n    `);\n\n    this._tabs.at(-1).bind(html);\n    if ( !this._minimized ) this.setPosition();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Adds charge based items as attributes for the current token.\n   * @param {object} attributes The attribute groups to add the item entries to.\n   * @protected\n   */\n  _addItemAttributes(attributes) {\n    const actor = this.object?.actor;\n    const items = actor?.items.reduce((arr, i) => {\n      const { per, max } = i.system.uses ?? {};\n      if ( per && max ) arr.push([i.getRelativeUUID(actor), i.name]);\n      return arr;\n    }, []) ?? [];\n    if ( items.length ) {\n      const group = game.i18n.localize(\"DND5E.ConsumeCharges\");\n      items.sort(([, a], [, b]) => a.localeCompare(b, game.i18n.lang));\n      if ( game.release.generation < 12 ) attributes[group] = items.map(i => i[0]);\n      else attributes.push(...items.map(([value, label]) => ({ group, value, label })));\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Replace the attribute paths in token resources with human readable labels and sort them alphabetically.\n   * @param {HTMLElement} html  The rendered markup.\n   * @protected\n   */\n  _prepareResourceLabels(html) {\n    const actor = this.object?.actor;\n\n    for ( const select of html.querySelectorAll(\"select.bar-attribute\") ) {\n      select.querySelectorAll(\"optgroup\").forEach(group => {\n        const options = Array.from(group.querySelectorAll(\"option\"));\n\n        // Localize attribute paths.\n        options.forEach(option => {\n          const label = getHumanReadableAttributeLabel(option.value, { actor });\n          if ( label ) option.innerText = label;\n        });\n\n        // Sort options by localized label.\n        options.sort((a, b) => a.innerText.localeCompare(b.innerText, game.i18n.lang));\n        group.append(...options);\n      });\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _getSubmitData(updateData={}) {\n    const formData = super._getSubmitData(updateData);\n\n    formData[\"flags.dnd5e.tokenRing.effects\"] = Object.keys(CONFIG.DND5E.tokenRings.effects).reduce((number, key) => {\n      const checked = formData[`flags.dnd5e.tokenRing.effects.${key}`];\n      delete formData[`flags.dnd5e.tokenRing.effects.${key}`];\n      if ( checked ) number |= CONFIG.Token.ringClass.effects[key];\n      return number;\n    }, 0x1);\n\n    return formData;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _previewChanges(change) {\n    if ( change && (this.preview instanceof TokenDocument5e) && (game.release.generation < 12) ) {\n      const flags = foundry.utils.getProperty(foundry.utils.expandObject(change), \"flags.dnd5e.tokenRing\") ?? {};\n      const redraw = (\"textures\" in flags) || (\"enabled\" in flags);\n      if ( redraw ) this.preview.object.renderFlags.set({ redraw });\n      else this.preview.object.ring.configureVisuals({...flags});\n    }\n    super._previewChanges(change);\n  }\n}\n","/**\n * A helper class for building MeasuredTemplates for 5e spells and abilities\n */\nexport default class AbilityTemplate extends MeasuredTemplate {\n\n  /**\n   * Track the timestamp when the last mouse move event was captured.\n   * @type {number}\n   */\n  #moveTime = 0;\n\n  /* -------------------------------------------- */\n\n  /**\n   * The initially active CanvasLayer to re-activate after the workflow is complete.\n   * @type {CanvasLayer}\n   */\n  #initialLayer;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Track the bound event handlers so they can be properly canceled later.\n   * @type {object}\n   */\n  #events;\n\n  /* -------------------------------------------- */\n\n  /**\n   * A factory method to create an AbilityTemplate instance using provided data from an Item5e instance\n   * @param {Item5e} item               The Item object for which to construct the template\n   * @param {object} [options={}]       Options to modify the created template.\n   * @returns {AbilityTemplate|null}    The template object, or null if the item does not produce a template\n   */\n  static fromItem(item, options={}) {\n    const target = item.system.target ?? {};\n    const templateShape = dnd5e.config.areaTargetTypes[target.type]?.template;\n    if ( !templateShape ) return null;\n\n    // Prepare template data\n    const templateData = foundry.utils.mergeObject({\n      t: templateShape,\n      user: game.user.id,\n      distance: target.value,\n      direction: 0,\n      x: 0,\n      y: 0,\n      fillColor: game.user.color,\n      flags: { dnd5e: { origin: item.uuid, spellLevel: item.system.level } }\n    }, options);\n\n    // Additional type-specific data\n    switch ( templateShape ) {\n      case \"cone\":\n        templateData.angle = CONFIG.MeasuredTemplate.defaults.angle;\n        break;\n      case \"rect\": // 5e rectangular AoEs are always cubes\n        templateData.width = target.value;\n        if ( game.settings.get(\"dnd5e\", \"gridAlignedSquareTemplates\") ) {\n          templateData.distance = Math.hypot(target.value, target.value);\n          templateData.direction = 45;\n        } else {\n          // Override as 'ray' to make the template able to be rotated without morphing its shape\n          templateData.t = \"ray\";\n        }\n        break;\n      case \"ray\": // 5e rays are most commonly 1 square (5 ft) in width\n        templateData.width = target.width ?? canvas.dimensions.distance;\n        break;\n      default:\n        break;\n    }\n\n    /**\n     * A hook event that fires before a template is created for an Item.\n     * @function dnd5e.preCreateItemTemplate\n     * @memberof hookEvents\n     * @param {Item5e} item                     Item for which the template is being placed.\n     * @param {object} templateData             Data used to create the new template.\n     * @returns {boolean}                       Explicitly return false to prevent the template from being placed.\n     */\n    if ( Hooks.call(\"dnd5e.preCreateItemTemplate\", item, templateData) === false ) return null;\n\n    // Return the template constructed from the item data\n    const cls = CONFIG.MeasuredTemplate.documentClass;\n    const template = new cls(templateData, {parent: canvas.scene});\n    const object = new this(template);\n    object.item = item;\n    object.actorSheet = item.actor?.sheet || null;\n\n    /**\n     * A hook event that fires after a template is created for an Item.\n     * @function dnd5e.createItemTemplate\n     * @memberof hookEvents\n     * @param {Item5e} item                Item for which the template is being placed.\n     * @param {AbilityTemplate} template   The template being placed.\n     */\n    Hooks.callAll(\"dnd5e.createItemTemplate\", item, object);\n\n    return object;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Creates a preview of the spell template.\n   * @returns {Promise}  A promise that resolves with the final measured template if created.\n   */\n  drawPreview() {\n    const initialLayer = canvas.activeLayer;\n\n    // Draw the template and switch to the template layer\n    this.draw();\n    this.layer.activate();\n    this.layer.preview.addChild(this);\n\n    // Hide the sheet that originated the preview\n    this.actorSheet?.minimize();\n\n    // Activate interactivity\n    return this.activatePreviewListeners(initialLayer);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Activate listeners for the template preview\n   * @param {CanvasLayer} initialLayer  The initially active CanvasLayer to re-activate after the workflow is complete\n   * @returns {Promise}                 A promise that resolves with the final measured template if created.\n   */\n  activatePreviewListeners(initialLayer) {\n    return new Promise((resolve, reject) => {\n      this.#initialLayer = initialLayer;\n      this.#events = {\n        cancel: this._onCancelPlacement.bind(this),\n        confirm: this._onConfirmPlacement.bind(this),\n        move: this._onMovePlacement.bind(this),\n        resolve,\n        reject,\n        rotate: this._onRotatePlacement.bind(this)\n      };\n\n      // Activate listeners\n      canvas.stage.on(\"mousemove\", this.#events.move);\n      canvas.stage.on(\"mousedown\", this.#events.confirm);\n      canvas.app.view.oncontextmenu = this.#events.cancel;\n      canvas.app.view.onwheel = this.#events.rotate;\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Shared code for when template placement ends by being confirmed or canceled.\n   * @param {Event} event  Triggering event that ended the placement.\n   */\n  async _finishPlacement(event) {\n    this.layer._onDragLeftCancel(event);\n    canvas.stage.off(\"mousemove\", this.#events.move);\n    canvas.stage.off(\"mousedown\", this.#events.confirm);\n    canvas.app.view.oncontextmenu = null;\n    canvas.app.view.onwheel = null;\n    this.#initialLayer.activate();\n    await this.actorSheet?.maximize();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Move the template preview when the mouse moves.\n   * @param {Event} event  Triggering mouse event.\n   */\n  _onMovePlacement(event) {\n    event.stopPropagation();\n    const now = Date.now(); // Apply a 20ms throttle\n    if ( now - this.#moveTime <= 20 ) return;\n    const center = event.data.getLocalPosition(this.layer);\n    const interval = canvas.grid.type === CONST.GRID_TYPES.GRIDLESS ? 0 : 2;\n    const snapped = canvas.grid.getSnappedPosition(center.x, center.y, interval);\n    this.document.updateSource({x: snapped.x, y: snapped.y});\n    this.refresh();\n    this.#moveTime = now;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Rotate the template preview by 3 increments when the mouse wheel is rotated.\n   * @param {Event} event  Triggering mouse event.\n   */\n  _onRotatePlacement(event) {\n    if ( event.ctrlKey ) event.preventDefault(); // Avoid zooming the browser window\n    event.stopPropagation();\n    const delta = canvas.grid.type > CONST.GRID_TYPES.SQUARE ? 30 : 15;\n    const snap = event.shiftKey ? delta : 5;\n    const update = {direction: this.document.direction + (snap * Math.sign(event.deltaY))};\n    this.document.updateSource(update);\n    this.refresh();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Confirm placement when the left mouse button is clicked.\n   * @param {Event} event  Triggering mouse event.\n   */\n  async _onConfirmPlacement(event) {\n    await this._finishPlacement(event);\n    const interval = canvas.grid.type === CONST.GRID_TYPES.GRIDLESS ? 0 : 2;\n    const destination = canvas.grid.getSnappedPosition(this.document.x, this.document.y, interval);\n    this.document.updateSource(destination);\n    this.#events.resolve(canvas.scene.createEmbeddedDocuments(\"MeasuredTemplate\", [this.document.toObject()]));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Cancel placement when the right mouse button is clicked.\n   * @param {Event} event  Triggering mouse event.\n   */\n  async _onCancelPlacement(event) {\n    await this._finishPlacement(event);\n    this.#events.reject();\n  }\n\n}\n","/**\n * The detection mode for Blindsight.\n */\nexport class DetectionModeBlindsight extends DetectionMode {\n  constructor() {\n    super({\n      id: \"blindsight\",\n      label: \"DND5E.SenseBlindsight\",\n      type: DetectionMode.DETECTION_TYPES.OTHER,\n      walls: true,\n      angle: false\n    });\n  }\n\n  /** @override */\n  static getDetectionFilter() {\n    return this._detectionFilter ??= OutlineOverlayFilter.create({\n      outlineColor: [1, 1, 1, 1],\n      knockout: true,\n      wave: true\n    });\n  }\n\n  /** @override */\n  _canDetect(visionSource, target) {\n    if ( visionSource.object.document.hasStatusEffect(CONFIG.specialStatusEffects.BURROW) ) return false;\n    if ( target instanceof Token ) {\n      if ( target.document.hasStatusEffect(CONFIG.specialStatusEffects.BURROW) ) return false;\n    }\n    return true;\n  }\n\n  /** @override */\n  _testLOS(visionSource, mode, target, test) {\n    return !CONFIG.Canvas.polygonBackends.sight.testCollision(\n      { x: visionSource.x, y: visionSource.y },\n      test.point,\n      {\n        type: \"sight\",\n        mode: \"any\",\n        source: visionSource,\n        // Blindsight is restricted by total cover and therefore cannot see\n        // through windows. So we do not want blindsight to see through\n        // a window as we get close to it. That's why we ignore thresholds.\n        // We make the assumption that all windows are configured as threshold\n        // walls. A move-based visibility check would also be an option to check\n        // for total cover, but this would have the undesirable side effect that\n        // blindsight wouldn't work through fences, portcullises, etc.\n        useThreshold: false\n      }\n    );\n  }\n}\n\nCONFIG.Canvas.detectionModes.blindsight = new DetectionModeBlindsight();\n","/** @inheritDoc */\nexport function measureDistances(segments, options={}) {\n  if ( !options.gridSpaces ) return BaseGrid.prototype.measureDistances.call(this, segments, options);\n\n  // Track the total number of diagonals\n  let nDiagonal = 0;\n  const rule = this.parent.diagonalRule;\n  const d = canvas.dimensions;\n\n  // Iterate over measured segments\n  return segments.map(s => {\n    let r = s.ray;\n\n    // Determine the total distance traveled\n    let nx = Math.ceil(Math.abs(r.dx / d.size));\n    let ny = Math.ceil(Math.abs(r.dy / d.size));\n\n    // Determine the number of straight and diagonal moves\n    let nd = Math.min(nx, ny);\n    let ns = Math.abs(ny - nx);\n    nDiagonal += nd;\n\n    // Alternative DMG Movement\n    if (rule === \"5105\") {\n      let nd10 = Math.floor(nDiagonal / 2) - Math.floor((nDiagonal - nd) / 2);\n      let spaces = (nd10 * 2) + (nd - nd10) + ns;\n      return spaces * canvas.dimensions.distance;\n    }\n\n    // Euclidean Measurement\n    else if (rule === \"EUCL\") {\n      return Math.hypot(nx, ny) * canvas.scene.grid.distance;\n    }\n\n    // Standard PHB Movement\n    else return (ns + nd) * canvas.scene.grid.distance;\n  });\n}\n","/**\n * Add support for drawing custom control icons based on linked journal page type.\n */\nexport default class Note5e extends Note {\n  /** @inheritdoc */\n  _drawControlIcon() {\n    const tint = Color.from(this.document.texture.tint || null);\n    const systemIcon = this.page?.system?.getControlIcon?.({ size: this.size, tint });\n    if ( !systemIcon ) return super._drawControlIcon();\n    systemIcon.x -= (this.size / 2);\n    systemIcon.y -= (this.size / 2);\n    return systemIcon;\n  }\n}\n","/**\n * Extend the base Token class to implement additional system-specific logic.\n */\nexport default class Token5e extends Token {\n  constructor(...args) {\n    super(...args);\n    if ( game.release.generation < 12 ) this.ring = new CONFIG.Token.ringClass(this);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Update the token ring when this token is targeted.\n   * @param {User5e} user         The user whose targeting has changed.\n   * @param {Token5e} token       The token that was targeted.\n   * @param {boolean} targeted    Is the token targeted or not?\n   */\n  static onTargetToken(user, token, targeted) {\n    if ( !targeted ) return;\n    if ( game.release.generation < 12 ) {\n        if ( !token.ring?.enabled ) return;\n    } else if ( !token.hasDynamicRing ) return;\n    const color = Color.from(user.color);\n    token.ring.flashColor(color, { duration: 500, easing: CONFIG.Token.ringClass.easeTwoPeaks });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  async _draw() {\n    // Cache the subject texture if needed\n    if ( (game.release.generation < 12) && this.ring.enabled ) {\n      const subjectName = this.document.subjectPath;\n      const cached = PIXI.Assets.cache.has(subjectName);\n      if ( !cached && subjectName ) await TextureLoader.loader.loadTexture(subjectName);\n    }\n    await super._draw();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  _drawBar(number, bar, data) {\n    if ( data.attribute === \"attributes.hp\" ) return this._drawHPBar(number, bar, data);\n    return super._drawBar(number, bar, data);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Specialized drawing function for HP bars.\n   * @param {number} number      The Bar number\n   * @param {PIXI.Graphics} bar  The Bar container\n   * @param {object} data        Resource data for this bar\n   * @private\n   */\n  _drawHPBar(number, bar, data) {\n\n    // Extract health data\n    let {value, max, effectiveMax, temp, tempmax} = this.document.actor.system.attributes.hp;\n    temp = Number(temp || 0);\n    tempmax = Number(tempmax || 0);\n\n    // Differentiate between effective maximum and displayed maximum\n    effectiveMax = Math.max(0, effectiveMax);\n    let displayMax = max + (tempmax > 0 ? tempmax : 0);\n\n    // Allocate percentages of the total\n    const tempPct = Math.clamp(temp, 0, displayMax) / displayMax;\n    const colorPct = Math.clamp(value, 0, effectiveMax) / displayMax;\n    const hpColor = dnd5e.documents.Actor5e.getHPColor(value, effectiveMax);\n\n    // Determine colors to use\n    const blk = 0x000000;\n    const c = CONFIG.DND5E.tokenHPColors;\n\n    // Determine the container size (logic borrowed from core)\n    const w = this.w;\n    let h = Math.max((canvas.dimensions.size / 12), 8);\n    if ( this.document.height >= 2 ) h *= 1.6;\n    const bs = Math.clamp(h / 8, 1, 2);\n    const bs1 = bs+1;\n\n    // Overall bar container\n    bar.clear();\n    bar.beginFill(blk, 0.5).lineStyle(bs, blk, 1.0).drawRoundedRect(0, 0, w, h, 3);\n\n    // Temporary maximum HP\n    if (tempmax > 0) {\n      const pct = max / effectiveMax;\n      bar.beginFill(c.tempmax, 1.0).lineStyle(1, blk, 1.0).drawRoundedRect(pct*w, 0, (1-pct)*w, h, 2);\n    }\n\n    // Maximum HP penalty\n    else if (tempmax < 0) {\n      const pct = (max + tempmax) / max;\n      bar.beginFill(c.negmax, 1.0).lineStyle(1, blk, 1.0).drawRoundedRect(pct*w, 0, (1-pct)*w, h, 2);\n    }\n\n    // Health bar\n    bar.beginFill(hpColor, 1.0).lineStyle(bs, blk, 1.0).drawRoundedRect(0, 0, colorPct*w, h, 2);\n\n    // Temporary hit points\n    if ( temp > 0 ) {\n      bar.beginFill(c.temp, 1.0).lineStyle(0).drawRoundedRect(bs1, bs1, (tempPct*w)-(2*bs1), h-(2*bs1), 1);\n    }\n\n    // Set position\n    let posY = (number === 0) ? (this.h - h) : 0;\n    bar.position.set(0, posY);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _onUpdate(data, options, userId) {\n    super._onUpdate(data, options, userId);\n    if ( (game.release.generation >= 12) || !CONFIG.Token.ringClass.enabled ) return;\n\n    // Update ring names if necessary\n    const shapeChange = (\"height\" in data) || (\"width\" in data) || (\"texture\" in data);\n    if ( shapeChange ) this.ring.configureNames();\n\n    // Do we have some token ring flag changes?\n    if ( !foundry.utils.hasProperty(data, \"flags.dnd5e.tokenRing\") ) return;\n\n    // Do we need to trigger a full redraw? We need to do so if a token ring texture has been updated\n    const dataFlag = data.flags.dnd5e.tokenRing;\n    const redraw = (\"textures\" in dataFlag) || (\"enabled\" in dataFlag);\n    if ( redraw ) return this.renderFlags.set({redraw});\n\n    // Check for scale correction change (not necessary if shapeChange is triggered)\n    if ( (\"scaleCorrection\" in dataFlag) && !shapeChange ) this.ring.configureUVs(dataFlag.scaleCorrection);\n\n    // If we don't need a full redraw, we're just updating the visuals properties\n    const tokenRingFlag = this.document.getFlag(\"dnd5e\", \"tokenRing\") || {};\n    this.ring.configureVisuals({...tokenRingFlag});\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _refreshShader() {\n    if ( (game.release.generation < 12) && CONFIG.Token.ringClass.enabled && this.ring.enabled ) {\n      this.mesh?.setShaderClass(CONFIG.Token.ringClass.tokenRingSamplerShader);\n    } else super._refreshShader();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _onApplyStatusEffect(statusId, active) {\n    const applicableEffects = [CONFIG.specialStatusEffects.DEFEATED, CONFIG.specialStatusEffects.INVISIBLE];\n    if ( applicableEffects.includes(statusId) ) {\n      if ( game.release.generation < 12 ) {\n        if ( this.ring.enabled ) {\n          const tokenRingFlag = this.document.getFlag(\"dnd5e\", \"tokenRing\") || {};\n          this.ring.configureVisuals(foundry.utils.deepClone(tokenRingFlag));\n        }\n      } else if ( this.hasDynamicRing ) this.renderFlags.set({refreshRingVisuals: true});\n    }\n    super._onApplyStatusEffect(statusId, active);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _configureFilterEffect(statusId, active) {\n    if ( statusId === CONFIG.specialStatusEffects.INVISIBLE ) {\n      if ( game.release.generation < 12 ) {\n        if ( CONFIG.Token.ringClass.enabled && this.ring.enabled ) active = false;\n      } else if ( this.hasDynamicRing ) active = false;\n    }\n    return super._configureFilterEffect(statusId, active);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  getRingColors() {\n    return this.document.getRingColors();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  getRingEffects() {\n    return this.document.getRingEffects();\n  }\n}\n","/**\n * Class for handling the dynamic token rings.\n * @param {Token5e} token  Reference to the token containing this ring.\n */\nexport default class TokenRing {\n  constructor(token) {\n    this.#token = new WeakRef(token);\n  }\n\n  /* -------------------------------------------- */\n  /*  Attributes                                  */\n  /*                                              */\n  /*  Note: Changes to any of these attributes    */\n  /*  will be directly reflected in the ring.     */\n  /* -------------------------------------------- */\n\n  /** @type {string} */\n  ringName;\n\n  /** @type {string} */\n  bkgName;\n\n  /** @type {Float32Array} */\n  ringUVs;\n\n  /** @type {Float32Array} */\n  bkgUVs;\n\n  /** @type {number} */\n  ringColorLittleEndian = 0xFFFFFF; // Little endian format => BBGGRR\n\n  /** @type {number} */\n  bkgColorLittleEndian = 0xFFFFFF; // Little endian format => BBGGRR\n\n  /** @type {number} */\n  effects = 0;\n\n  /** @type {number} */\n  scaleCorrection = 1;\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * Is the dynamic ring currently enabled?\n   * @type {boolean}\n   */\n  get enabled() {\n    return this.token?.document.hasDynamicRing;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Weak reference to the token being animated.\n   * @type {WeakRef<Token5e>}\n   */\n  #token;\n\n  /**\n   * Reference to the token that should be animated.\n   * @type {Token5e|void}\n   */\n  get token() {\n    return this.#token.deref();\n  }\n\n  /* -------------------------------------------- */\n  /*  Rendering                                   */\n  /* -------------------------------------------- */\n\n  /**\n   * Configure the sprite mesh.\n   * @param {PrimarySpriteMesh} [mesh]  The mesh to update.\n   */\n  configureMesh(mesh) {\n    mesh ||= this.token.mesh;\n\n    // Configure token ring textures and visuals\n    if ( this.enabled ) {\n      const tokenRingFlag = this.token.document.getFlag(\"dnd5e\", \"tokenRing\");\n      this._configureTexture({mesh, ...tokenRingFlag});\n      this.configureVisuals({...tokenRingFlag});\n    }\n\n    // Clear everything pertaining to token ring attributes\n    else {\n      this._clearState();\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Configure token ring names according to size.\n   * @param {TokenRingFlagData} parameters\n   * @param {number} [parameters.scaleCorrection]   The scale correction value.\n   */\n  configureNames({scaleCorrection}={}) {\n    const size = Math.max(\n      this.token.w * this.token.document.texture.scaleX ?? 1,\n      this.token.h * this.token.document.texture.scaleY);\n    Object.assign(this, this.constructor.getRingDataBySize(size));\n\n    // Configure assets' UVs\n    this.configureUVs(scaleCorrection ?? this.scaleCorrection);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Configure token ring UVs according to scale correction.\n   * @param {number} scaleCorrection        The scale correction value.\n   */\n  configureUVs(scaleCorrection) {\n    this.scaleCorrection = scaleCorrection ?? 1;\n    this.ringUVs = this.constructor.getTextureUVs(this.ringName, scaleCorrection);\n    this.bkgUVs = this.constructor.getTextureUVs(this.bkgName, scaleCorrection);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Configure the token ring visuals properties.\n   * @param {TokenRingFlagData} parameters\n   * @param {object} [parameters.colors]    The colors object.\n   * @param {number} [parameters.effects]   The effects value.\n   */\n  configureVisuals({colors, effects}={}) {\n    colors ??= {};\n\n    // Caching the colors into the little endian format\n    foundry.utils.mergeObject(colors, this.token.document.getRingColors());\n    this.ringColorLittleEndian = Color.from(colors?.ring ?? 0xFFFFFF).littleEndian;\n    this.bkgColorLittleEndian = Color.from(colors?.background ?? 0xFFFFFF).littleEndian;\n\n    // Assigning the effects value (bitwise construction)\n    const effectsToApply = this.token.document.getRingEffects();\n    this.effects = ((effects >= this.constructor.effects.DISABLED)\n      ? effects : this.constructor.effects.ENABLED)\n      | effectsToApply.reduce((acc, e) => acc |= e, 0x0);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Configure dynamic token ring subject texture.\n   * @param {object} parameters\n   * @param {PrimarySpriteMesh|TokenMesh} [parameters.mesh] The mesh.\n   * @param {number} [parameters.scaleCorrection]           The scale correction value.\n   * @protected\n   */\n  _configureTexture({mesh, scaleCorrection}) {\n    mesh ||= this.token.mesh;\n\n    // Should we replace the regular token texture with a custom subject texture?\n    const subjectSrc = this.token.document.subjectPath;\n    if ( PIXI.Assets.cache.has(subjectSrc) ) {\n      const subjectTexture = getTexture(subjectSrc);\n      if ( subjectTexture?.valid ) mesh.texture = subjectTexture;\n    }\n\n    // Assigning the assets' names\n    this.configureNames({scaleCorrection});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Clear all configuration to token rings\n   * @protected\n   */\n  _clearState() {\n    const applyInvisibility = this.token.document.hasStatusEffect(CONFIG.specialStatusEffects.INVISIBLE)\n      && (game.release.generation < 12 || this.enabled);\n    this.ringName = undefined;\n    this.bkgName = undefined;\n    this.ringUVs = undefined;\n    this.bkgUVs = undefined;\n    this.ringColorLittleEndian = 0xFFFFFF;\n    this.bkgColorLittleEndian = 0xFFFFFF;\n    this.effects = applyInvisibility ? this.constructor.effects.INVISIBILITY : this.constructor.effects.DISABLED;\n    this.scaleCorrection = 1;\n  }\n\n  /* -------------------------------------------- */\n  /*  Animations                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * Flash the ring briefly with a certain color.\n   * @param {Color} color                              Color to flash.\n   * @param {CanvasAnimationOptions} animationOptions  Options to customize the animation.\n   * @returns {Promise<boolean|void>}\n   */\n  async flashColor(color, animationOptions={}) {\n    if ( !this.enabled || Number.isNaN(color) ) return;\n\n    const originalColor = Color.from(foundry.utils.mergeObject(\n      this.token.document.getFlag(\"dnd5e\", \"tokenRing.colors\") ?? {},\n      this.token.document.getRingColors(),\n      { inplace: false }\n    ).ring ?? 0xFFFFFF).littleEndian;\n\n    return await CanvasAnimation.animate([{\n      attribute: \"ringColorLittleEndian\",\n      parent: this,\n      from: originalColor,\n      to: new Color(color.littleEndian),\n      color: true\n    }], foundry.utils.mergeObject({\n      duration: 1600,\n      priority: PIXI.UPDATE_PRIORITY.HIGH,\n      easing: this.constructor.createSpikeEasing(.15),\n      ontick: (d, data) => {\n        // Manually set the final value to the origin due to issue with the CanvasAnimation\n        // See: https://github.com/foundryvtt/foundryvtt/issues/10364\n        if ( data.time >= data.duration ) this.ringColorLittleEndian = originalColor;\n      }\n    }, animationOptions));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create an easing function that spikes in the center. Ideal duration is around 1600ms.\n   * @param {number} [spikePct=0.5]  Position on [0,1] where the spike occurs.\n   * @returns {Function(number): number}\n   */\n  static createSpikeEasing(spikePct=0.5) {\n    const scaleStart = 1 / spikePct;\n    const scaleEnd = 1 / (1 - spikePct);\n    return pt => {\n      if ( pt < spikePct ) return CanvasAnimation.easeInCircle(pt * scaleStart);\n      else return 1 - CanvasAnimation.easeOutCircle(((pt - spikePct) * scaleEnd));\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Easing function that produces two peaks before returning to the original value. Ideal duration is around 500ms.\n   * @param {number} pt     The proportional animation timing on [0,1].\n   * @returns {number}      The eased animation progress on [0,1].\n   */\n  static easeTwoPeaks(pt) {\n    return (Math.sin((4 * Math.PI * pt) - (Math.PI / 2)) + 1) / 2;\n  }\n\n  /* -------------------------------------------- */\n  /*  Rings System                                */\n  /* -------------------------------------------- */\n\n  /**\n   * The effects which could be applied to a token ring (using bitwise operations.)\n   * @enum {number}\n   * @readonly\n   */\n  static effects = Object.freeze({\n    DISABLED: 0x00,\n    ENABLED: 0x01,\n    RING_PULSE: 0x02,\n    RING_GRADIENT: 0x04,\n    BKG_WAVE: 0x08,\n    INVISIBILITY: 0x10\n  });\n\n  /* -------------------------------------------- */\n\n  /**\n   * Is the token rings framework enabled? Will be `null` if the system hasn't initialized yet.\n   * @type {boolean|null}\n   * @readonly\n   */\n  static get enabled() {\n    return this.#enabled;\n  }\n\n  static #enabled = null;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Token Rings sprite sheet base texture.\n   * @type {PIXI.BaseTexture}\n   */\n  static baseTexture;\n\n  /**\n   * Rings and background textures UVs and center offset.\n   * @type {Record<string, {UVs: Float32Array, center: {x: number, y: number}}>}\n   */\n  static texturesData;\n\n  /**\n   * The token ring shader class definition.\n   * @type {typeof TokenRingSamplerShaderV11|typeof TokenRingSamplerShader}\n   */\n  static tokenRingSamplerShader;\n\n  /**\n   * Ring data with their ring name, background name and size.\n   * @type {{ringName: string, bkgName: string, size: number}[]}\n   */\n  static #ringData;\n\n  /**\n   * A mapping of path prefixes to where modules have configured subject images.\n   * @type {Record<string, string>}\n   */\n  static subjectPaths = {};\n\n  /* -------------------------------------------- */\n\n  /**\n   * Initialize the Token Rings system, registering the batch plugin and patching PrimaryCanvasGroup#addToken.\n   */\n  static initialize() {\n    if ( game.release.generation > 11 ) return;\n    if ( this.enabled !== null ) throw new Error(\"TokenRings system already initialized.\");\n    this.#enabled = true;\n\n    // Configure subject paths.\n    for ( const module of game.modules ) {\n      const mappings = module.flags?.tokenRingSubjectMappings ?? {};\n      if ( module.active ) Object.assign(this.subjectPaths, mappings);\n    }\n\n    this.tokenRingSamplerShader = CONFIG.DND5E.tokenRings.shaderClass;\n    if ( game.release.generation >= 12 ) {\n      PrimaryBaseSamplerShader.classPluginName = this.tokenRingSamplerShader.classPluginName;\n    }\n    this.tokenRingSamplerShader.registerPlugin();\n    const addToken = PrimaryCanvasGroup.prototype.addToken;\n\n    /**\n     * Monkey patch addToken to include custom mesh configuration.\n     * @param {Token5e} token\n     * @returns {TokenMesh|PrimarySpriteMesh}\n     */\n    PrimaryCanvasGroup.prototype.addToken = token => {\n      const mesh = addToken.call(canvas.primary, token);\n      token.ring?.configureMesh(mesh);\n      return mesh;\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Push all assets necessary to cache for the Token Rings framework.\n   * @param {string[]} additionalSources\n   */\n  static pushToLoad(additionalSources) {\n    additionalSources.push(CONFIG.DND5E.tokenRings.spriteSheet);\n    for ( const tokenDocument of canvas.scene.tokens ) {\n      const subjectSrc = tokenDocument.subjectPath;\n      if ( tokenDocument.hasDynamicRing && subjectSrc ) additionalSources.push(subjectSrc);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create texture UVs for each asset into the token rings sprite sheet.\n   */\n  static createAssetsUVs() {\n    if ( !this.enabled ) return;\n\n    const spritesheet = TextureLoader.loader.getCache(CONFIG.DND5E.tokenRings.spriteSheet);\n    this.baseTexture = spritesheet.baseTexture;\n    this.texturesData = {};\n    this.#ringData = [];\n\n    const frames = Object.keys(spritesheet.data.frames || {});\n    for ( const asset of frames ) {\n      const assetTexture = PIXI.Assets.cache.get(asset);\n      if ( !assetTexture ) continue;\n\n      // Extracting texture UVs\n      const frame = assetTexture.frame;\n      const textureUvs = new PIXI.TextureUvs();\n      textureUvs.set(frame, assetTexture.baseTexture, assetTexture.rotate);\n      this.texturesData[asset] = {\n        UVs: textureUvs.uvsFloat32,\n        center: {\n          x: frame.center.x / assetTexture.baseTexture.width,\n          y: frame.center.y / assetTexture.baseTexture.height\n        }\n      };\n\n      // Extracting dimensions\n      if ( asset.includes(\"-bkg\") ) continue;\n      const size = Math.max(assetTexture.height, assetTexture.width);\n      this.#ringData.push({\n        ringName: asset,\n        bkgName: `${asset}-bkg`,\n        size\n      });\n    }\n\n    // Sorting the rings data array\n    this.#ringData.sort((a, b) => a.size - b.size);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get the UVs array for a given texture name and scale correction.\n   * @param {string} name                  Name of the texture we want to get UVs.\n   * @param {number} [scaleCorrection=1]   The scale correction applied to UVs.\n   * @returns {Float32Array}\n   */\n  static getTextureUVs(name, scaleCorrection=1) {\n    if ( scaleCorrection === 1 ) return this.texturesData[name].UVs;\n    const tUVs = this.texturesData[name].UVs;\n    const c = this.texturesData[name].center;\n    const UVs = new Float32Array(8);\n    for ( let i=0; i<8; i+=2 ) {\n      UVs[i] = ((tUVs[i] - c.x) * scaleCorrection) + c.x;\n      UVs[i+1] = ((tUVs[i+1] - c.y) * scaleCorrection) + c.y;\n    }\n    return UVs;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get ring and background names for a given size.\n   * @param {number} size   The size to match\n   * @returns {{bkgName: string, ringName: string}}\n   */\n  static getRingDataBySize(size) {\n    if ( !Number.isFinite(size) || !this.#ringData.length ) return { ringName: undefined, bkgName: undefined };\n    const adjustedSize = size * 1.4;\n\n    // Search in the sorted rings data\n    for ( const ring of this.#ringData ) {\n      if ( adjustedSize <= ring.size ) return { ringName: ring.ringName, bkgName: ring.bkgName };\n    }\n\n    // No match? we are returning the biggest\n    const lastRing = this.#ringData.at(-1);\n    return { ringName: lastRing.ringName, bkgName: lastRing.bkgName };\n  }\n}\n","/**\n * The common token ring fragment header glsl code\n * @type {string}\n */\nexport const TOKEN_RING_FRAG_HEADER = `        \n  const uint STATE_DEACTIVATED = 0x00U;\n  const uint STATE_ACTIVATED = 0x01U;\n  const uint STATE_RING_PULSE = 0x02U;\n  const uint STATE_RING_GRADIENT = 0x04U;\n  const uint STATE_BKG_WAVE = 0x08U;\n  const uint STATE_INVISIBLE = 0x10U;\n  \n  /* -------------------------------------------- */\n    \n  bool hasState() {\n    return vStates > STATE_DEACTIVATED;\n  }\n  \n  bool hasState(in uint state) {\n    return (vStates & state) == state;\n  }\n  \n  /* -------------------------------------------- */\n  \n  vec2 rotation(in vec2 uv, in float a) {\n    uv -= 0.5;\n    float s = sin(a);\n    float c = cos(a);\n    return uv * mat2(c, -s, s, c) + 0.5;\n  }\n  \n  /* -------------------------------------------- */\n  \n  float normalizedCos(in float val) {\n    return (cos(val) + 1.0) * 0.5;\n  }\n  \n  /* -------------------------------------------- */\n  \n  float wave(in float dist) {\n    float sinWave = 0.5 * (sin(-time * 4.0 + dist * 100.0) + 1.0);\n    return mix(1.0, 0.55 * sinWave + 0.8, clamp(1.0 - dist, 0.0, 1.0));\n  }\n   \n  /* -------------------------------------------- */\n  \n  vec4 colorizeTokenRing(in vec4 tokenRing, in float dist) {\n    vec3 rcol = hasState(STATE_RING_PULSE) \n                ? mix(tokenRing.rrr, tokenRing.rrr * 0.35, (cos(time * 2.0) + 1.0) * 0.5)\n                : tokenRing.rrr;\n    vec3 ccol = vRingColor * rcol;            \n    vec3 gcol = hasState(STATE_RING_GRADIENT)\n            ? mix(ccol, vBackgroundColor * tokenRing.r, smoothstep(0.0, 1.0, dot(rotation(vTextureCoord, time), vec2(0.5))))\n            : ccol;          \n    vec4 col = vec4(mix(tokenRing.rgb, gcol, step(0.59, dist) - step(0.725, dist)), tokenRing.a);\n    return col;\n  }\n  \n  /* -------------------------------------------- */\n  \n  vec4 colorizeTokenBackground(in vec4 tokenBackground, in float dist) {\n    float wave = hasState(STATE_BKG_WAVE) ? (0.6 + wave(dist) * 0.4) : 1.0;\n    return tokenBackground * vec4(vBackgroundColor, 1.0) * wave;\n  }\n  \n  /* -------------------------------------------- */\n  \n  vec4 processTokenColor(in vec4 finalColor) {\n    if ( !hasState(STATE_INVISIBLE) || finalColor.a == 0.0 ) return finalColor;\n    \n    // Unmultiply rgb with alpha channel\n    finalColor.rgb /= finalColor.a;\n  \n    // Computing halo\n    float lum = perceivedBrightness(finalColor.rgb);\n    vec3 haloColor = vec3(lum) * vec3(0.5, 1.0, 1.0);\n    haloColor *= 2.0;\n\n    // Construct final image\n    return vec4(haloColor, 1.0)\n                 * (0.55 + normalizedCos(time * 2.0) * 0.25) \n                 * finalColor.a;\n  }\n`;\n\n/* -------------------------------------------- */\n\n/**\n * The common token ring fragment main glsl code\n * @type {string}\n */\nexport const TOKEN_RING_FRAG_MAIN = `\n  vec4 color;\n  vec4 result;\n  %forloop%\n    \n  if ( !hasState() ) result = color * vColor;\n  else {\n    vec4 tokenRingPix = texture(tokenRingTexture, vRingTextureCoord);\n    vec4 tokenBackPix = texture(tokenRingTexture, vBackgroundTextureCoord);\n    if ( tokenRingPix.a > 0.0 ) tokenRingPix.rgb /= tokenRingPix.a;\n    if ( tokenBackPix.a > 0.0 ) tokenBackPix.rgb /= tokenBackPix.a;\n    \n    float dist = length(vTextureCoord - 0.5) * 2.0 * vScaleCorrection;\n          \n    tokenRingPix = colorizeTokenRing(tokenRingPix, dist);\n    tokenBackPix = colorizeTokenBackground(tokenBackPix, dist);\n    vec4 ringPix = vec4(mix(tokenBackPix.rgb, tokenRingPix.rgb, tokenRingPix.a), \n                       max(tokenBackPix.a, tokenRingPix.a)) * step(dist, 1.0);\n    ringPix.rgb *= ringPix.a;\n    vec4 tokenColor = processTokenColor(vec4(color.rgb * vColor.rgb, color.a));\n    result = vec4(mix(ringPix.rgb, tokenColor.rgb, tokenColor.a), \n                  max(ringPix.a, tokenColor.a)) * vColor.a;\n  }\n`;\n","import {TOKEN_RING_FRAG_HEADER, TOKEN_RING_FRAG_MAIN} from \"./parts/token-ring-shader-core.mjs\";\n\n/**\n * The token ring shader compatible with v11.\n */\nexport default class TokenRingSamplerShaderV11 extends BaseSamplerShader {\n\n  /** @override */\n  static classPluginName = \"batchTokenRing\";\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  get enabled() { return true; }\n\n  set enabled(enabled) {}\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static batchVertexSize = 14;\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static reservedTextureUnits = 1;\n\n  /* -------------------------------------------- */\n\n  /**\n   * A null UVs array used for nulled texture position.\n   * @type {Float32Array}\n   */\n  static nullUvs = new Float32Array([0, 0, 0, 0, 0, 0, 0, 0]);\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static batchDefaultUniforms(maxTex) {\n    return {\n      tokenRingTexture: maxTex,\n      time: 0\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static _preRenderBatch(batchRenderer) {\n    batchRenderer.renderer.texture.bind(CONFIG.Token.ringClass.baseTexture, batchRenderer.uniforms.tokenRingTexture);\n    batchRenderer.uniforms.time = canvas.app.ticker.lastTime / 1000;\n  }\n\n  /* ---------------------------------------- */\n\n  /** @override */\n  static initializeBatchGeometry() {\n    this.batchGeometry =\n      class BatchGeometry extends PIXI.Geometry {\n        /** @override */\n        constructor(_static = false) {\n          super();\n          this._buffer = new PIXI.Buffer(null, _static, false);\n          this._indexBuffer = new PIXI.Buffer(null, _static, true);\n          this.addAttribute(\"aVertexPosition\", this._buffer, 2, false, PIXI.TYPES.FLOAT)\n            .addAttribute(\"aTextureCoord\", this._buffer, 2, false, PIXI.TYPES.FLOAT)\n            .addAttribute(\"aRingTextureCoord\", this._buffer, 2, false, PIXI.TYPES.FLOAT)\n            .addAttribute(\"aBackgroundTextureCoord\", this._buffer, 2, false, PIXI.TYPES.FLOAT)\n            .addAttribute(\"aColor\", this._buffer, 4, true, PIXI.TYPES.UNSIGNED_BYTE)\n            .addAttribute(\"aRingColor\", this._buffer, 4, true, PIXI.TYPES.UNSIGNED_BYTE)\n            .addAttribute(\"aBackgroundColor\", this._buffer, 4, true, PIXI.TYPES.UNSIGNED_BYTE)\n            .addAttribute(\"aTextureId\", this._buffer, 1, true, PIXI.TYPES.FLOAT)\n            .addAttribute(\"aStates\", this._buffer, 1, false, PIXI.TYPES.FLOAT)\n            .addAttribute(\"aScaleCorrection\", this._buffer, 1, false, PIXI.TYPES.FLOAT)\n            .addIndex(this._indexBuffer);\n        }\n      };\n  }\n\n  /* ---------------------------------------- */\n\n  /** @override */\n  static _packInterleavedGeometry(element, attributeBuffer, indexBuffer, aIndex, iIndex) {\n    const {uint32View, float32View} = attributeBuffer;\n\n    const packedVertices = aIndex / this.vertexSize;\n    const uvs = element.uvs;\n    const indices = element.indices;\n    const vertexData = element.vertexData;\n    const textureId = element._texture.baseTexture._batchLocation;\n    const argb = element._tintRGB + (element.worldAlpha * 255 << 24);\n\n    // Prepare token ring attributes\n    const trConfig = CONFIG.Token.ringClass;\n    const object = element.object.object || {};\n    const hasTokenRing = !!object.ring;\n    const ringColor = (object.ring?.ringColorLittleEndian ?? 0xFFFFFF) + 0xFF000000;\n    const bkgColor = (object.ring?.bkgColorLittleEndian ?? 0xFFFFFF) + 0xFF000000;\n    const ringUvsFloat = object.ring?.ringUVs ?? trConfig.tokenRingSamplerShader.nullUvs;\n    const bkgUvsFloat = object.ring?.bkgUVs ?? trConfig.tokenRingSamplerShader.nullUvs;\n    const states = (hasTokenRing ? object.ring.effects + 0.5 : 0.5);\n    const scaleCorrection = (hasTokenRing ? object.ring.scaleCorrection ?? 1 : 1);\n\n    for ( let i = 0; i < vertexData.length; i += 2 ) {\n      float32View[aIndex++] = vertexData[i];\n      float32View[aIndex++] = vertexData[i + 1];\n      float32View[aIndex++] = uvs[i];\n      float32View[aIndex++] = uvs[i + 1];\n      float32View[aIndex++] = ringUvsFloat[i];\n      float32View[aIndex++] = ringUvsFloat[i + 1];\n      float32View[aIndex++] = bkgUvsFloat[i];\n      float32View[aIndex++] = bkgUvsFloat[i + 1];\n      uint32View[aIndex++] = argb;\n      uint32View[aIndex++] = ringColor;\n      uint32View[aIndex++] = bkgColor;\n      float32View[aIndex++] = textureId;\n      float32View[aIndex++] = states;\n      float32View[aIndex++] = scaleCorrection;\n    }\n\n    for ( let i = 0; i < indices.length; i++ ) {\n      indexBuffer[iIndex++] = packedVertices + indices[i];\n    }\n  }\n\n  /* ---------------------------------------- */\n\n  /** @override */\n  static batchVertexShader = `\n    #version 300 es\n    precision ${PIXI.settings.PRECISION_VERTEX} float;\n    in vec2 aVertexPosition;\n    in vec2 aTextureCoord;\n    in vec4 aColor;\n    in float aTextureId;\n    in vec2 aRingTextureCoord;\n    in vec2 aBackgroundTextureCoord;\n    in vec4 aRingColor;\n    in vec4 aBackgroundColor;\n    in float aStates;\n    in float aScaleCorrection;\n\n    uniform mat3 projectionMatrix;\n    uniform mat3 translationMatrix;\n    uniform vec4 tint;\n    \n    out vec2 vTextureCoord;\n    out vec2 vRingTextureCoord;\n    out vec2 vBackgroundTextureCoord;\n    flat out vec4 vColor;\n    flat out float vTextureId;\n    flat out vec3 vRingColor;\n    flat out vec3 vBackgroundColor;\n    flat out uint vStates;\n    flat out float vScaleCorrection;\n\n    void main(void) {\n      vec3 tPos = translationMatrix * vec3(aVertexPosition, 1.0);\n      vTextureCoord = aTextureCoord;\n      vTextureId = aTextureId;\n      vColor = aColor * tint;\n      vRingTextureCoord = aRingTextureCoord;\n      vBackgroundTextureCoord = aBackgroundTextureCoord;\n      vRingColor = aRingColor.rgb;\n      vBackgroundColor = aBackgroundColor.rgb;\n      vStates = uint(aStates);\n      vScaleCorrection = aScaleCorrection;\n      gl_Position = vec4((projectionMatrix * tPos).xy, 0.0, 1.0);\n    }\n  `;\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static batchFragmentShader = `\n    #version 300 es\n    precision ${PIXI.settings.PRECISION_FRAGMENT} float;\n    \n    in vec2 vTextureCoord;\n    in vec2 vRingTextureCoord;\n    in vec2 vBackgroundTextureCoord;\n    \n    flat in vec4 vColor;\n    flat in float vTextureId;\n    flat in vec3 vRingColor;\n    flat in vec3 vBackgroundColor;\n    flat in uint vStates;\n    flat in float vScaleCorrection;\n \n    uniform sampler2D uSamplers[%count%];  \n    uniform sampler2D tokenRingTexture;\n    uniform float time;\n    \n    out vec4 fragColor;\n    \n    #define texture2D texture\n    \n    ${this.CONSTANTS}\n    ${this.PERCEIVED_BRIGHTNESS}\n    ${TOKEN_RING_FRAG_HEADER}\n    \n    /* -------------------------------------------- */\n    \n    void main(void) {\n      ${TOKEN_RING_FRAG_MAIN}\n      fragColor = result;\n    }\n  `;\n}\n","const { ForeignDocumentField, SetField } = foundry.data.fields;\n\n/**\n * A custom model to validate system flags on Group Actors.\n *\n * @property {Set<string>} awardDestinations  Saved targets from previous use of award button.\n */\nexport default class GroupSystemFlags extends foundry.abstract.DataModel {\n  /** @override */\n  static defineSchema() {\n    return {\n      awardDestinations: new SetField(\n        new ForeignDocumentField(foundry.documents.BaseActor, { idOnly: true }), { required: false }\n      )\n    };\n  }\n}\n","import TokenPlacement from \"../../canvas/token-placement.mjs\";\nimport { ActorDataModel } from \"../abstract.mjs\";\nimport { FormulaField } from \"../fields.mjs\";\nimport CurrencyTemplate from \"../shared/currency.mjs\";\nimport GroupSystemFlags from \"./group-system-flags.mjs\";\n\nconst { ArrayField, ForeignDocumentField, HTMLField, NumberField, SchemaField, StringField } = foundry.data.fields;\n\n/**\n * Metadata associated with members in this group.\n * @typedef {object} GroupMemberData\n * @property {Actor5e} actor              Associated actor document.\n * @property {object} quantity\n * @property {number} quantity.value      Number of this actor in the group (for encounter or crew types).\n * @property {string} [quantity.formula]  Formula used for re-rolling actor quantities in encounters.\n */\n\n/**\n * A data model and API layer which handles the schema and functionality of \"group\" type Actors in the dnd5e system.\n * @mixes CurrencyTemplate\n *\n * @property {object} type\n * @property {string} type.value                 Type of group represented (e.g. \"Party\", \"Encounter\", \"Crew\").\n * @property {object} description\n * @property {string} description.full           Description of this group.\n * @property {string} description.summary        Summary description (currently unused).\n * @property {GroupMemberData[]} members         Members in this group with associated metadata.\n * @property {object} attributes\n * @property {object} attributes.movement\n * @property {number} attributes.movement.land   Base movement speed over land.\n * @property {number} attributes.movement.water  Base movement speed over water.\n * @property {number} attributes.movement.air    Base movement speed through the air.\n * @property {object} details\n * @property {object} details.xp\n * @property {number} details.xp.value           XP currently available to be distributed to a party.\n *\n * @example Create a new Group\n * const g = new dnd5e.documents.Actor5e({\n *  type: \"group\",\n *  name: \"Test Group\",\n *  system: {\n *    members: [{ actor: \"3f3hoYFWUgDqBP4U\" }]\n *  }\n * });\n */\nexport default class GroupActor extends ActorDataModel.mixin(CurrencyTemplate) {\n  /** @inheritdoc */\n  static defineSchema() {\n    return this.mergeSchema(super.defineSchema(), {\n      type: new SchemaField({\n        value: new StringField({initial: \"party\", label: \"DND5E.Group.Type\"})\n      }),\n      description: new SchemaField({\n        full: new HTMLField({label: \"DND5E.Description\"}),\n        summary: new HTMLField({label: \"DND5E.DescriptionSummary\"})\n      }),\n      members: new ArrayField(new SchemaField({\n        actor: new ForeignDocumentField(foundry.documents.BaseActor),\n        quantity: new SchemaField({\n          value: new NumberField({initial: 1, integer: true, min: 0, label: \"DND5E.Quantity\"}),\n          formula: new FormulaField({label: \"DND5E.QuantityFormula\"})\n        })\n      }), {label: \"DND5E.GroupMembers\"}),\n      attributes: new SchemaField({\n        movement: new SchemaField({\n          land: new NumberField({nullable: false, min: 0, step: 0.1, initial: 0, label: \"DND5E.MovementLand\"}),\n          water: new NumberField({nullable: false, min: 0, step: 0.1, initial: 0, label: \"DND5E.MovementWater\"}),\n          air: new NumberField({nullable: false, min: 0, step: 0.1, initial: 0, label: \"DND5E.MovementAir\"})\n        })\n      }, {label: \"DND5E.Attributes\"}),\n      details: new SchemaField({\n        xp: new foundry.data.fields.SchemaField({\n          value: new foundry.data.fields.NumberField({\n            integer: true, min: 0, label: \"DND5E.ExperiencePointsCurrent\"\n          })\n        }, {label: \"DND5E.ExperiencePoints\"})\n      }, {label: \"DND5E.Details\"})\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static metadata = Object.freeze(foundry.utils.mergeObject(super.metadata, {\n    systemFlagsModel: GroupSystemFlags\n  }, {inplace: false}));\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /** @override */\n  get transferDestinations() {\n    return this.members.map(m => m.actor).filter(a => a.isOwner);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Return only the group members that are characters.\n   * @type {Actor5e[]}\n   */\n  get playerCharacters() {\n    return this.members.map(m => m.actor).filter(a => a.type === \"character\");\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Migration                              */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _migrateData(source) {\n    super._migrateData(source);\n    GroupActor.#migrateMembers(source);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate group members from set of IDs into array of metadata objects.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateMembers(source) {\n    if ( foundry.utils.getType(source.members) !== \"Array\" ) return;\n    source.members = source.members.map(m => {\n      if ( foundry.utils.getType(m) === \"Object\" ) return m;\n      return { actor: m };\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Preparation                            */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  prepareBaseData() {\n    const memberIds = new Set();\n    this.members = this.members.filter((member, index) => {\n      if ( !member.actor ) {\n        const id = this._source.members[index]?.actor;\n        console.warn(`Actor \"${id}\" in group \"${this._id}\" does not exist within the World.`);\n      } else if ( member.actor.type === \"group\" ) {\n        console.warn(`Group \"${this._id}\" may not contain another Group \"${member.actor.id}\" as a member.`);\n      } else if ( memberIds.has(member.actor.id) ) {\n        console.warn(`Actor \"${member.actor.id}\" duplicated in Group \"${this._id}\".`);\n      } else {\n        memberIds.add(member.actor.id);\n        return true;\n      }\n      return false;\n    });\n    Object.defineProperty(this.members, \"ids\", {\n      value: memberIds,\n      enumerable: false,\n      writable: false\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  prepareDerivedData() {\n    const system = this;\n    Object.defineProperty(this.details.xp, \"derived\", {\n      get() {\n        return system.type.value === \"encounter\" ? system.members.reduce((xp, { actor, quantity }) =>\n          xp + ((actor.system.details?.xp?.value ?? 0) * (quantity.value ?? 1))\n        , 0) : null;\n      },\n      configurable: true,\n      enumerable: false\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Methods                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Add a new member to the group.\n   * @param {Actor5e} actor           A non-group Actor to add to the group\n   * @returns {Promise<Actor5e>}      The updated group Actor\n   */\n  async addMember(actor) {\n    if ( actor.type === \"group\" ) throw new Error(\"You may not add a group within a group.\");\n    if ( actor.pack ) throw new Error(\"You may only add Actors to the group which exist within the World.\");\n    if ( this.members.ids.has(actor.id) ) return;\n    const membersCollection = this.toObject().members;\n    membersCollection.push({ actor: actor.id });\n    return this.parent.update({\"system.members\": membersCollection});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Place all members in the group on the current scene.\n   */\n  async placeMembers() {\n    if ( !game.user.isGM || !canvas.scene ) return;\n    const minimized = !this.parent.sheet._minimized;\n    await this.parent.sheet.minimize();\n    const tokensData = [];\n\n    try {\n      const placements = await TokenPlacement.place({\n        tokens: Object.values(this.members).flatMap(({ actor, quantity }) =>\n          Array(this.type.value === \"encounter\" ? (quantity.value ?? 1) : 1).fill(actor.prototypeToken)\n        )\n      });\n      for ( const placement of placements ) {\n        const actor = placement.prototypeToken.actor;\n        const appendNumber = !placement.prototypeToken.actorLink && placement.prototypeToken.appendNumber;\n        delete placement.prototypeToken;\n        const tokenDocument = await actor.getTokenDocument(placement);\n        if ( appendNumber ) TokenPlacement.adjustAppendedNumber(tokenDocument, placement);\n        tokensData.push(tokenDocument.toObject());\n      }\n    } finally {\n      if ( minimized ) this.parent.sheet.maximize();\n    }\n\n    await canvas.scene.createEmbeddedDocuments(\"Token\", tokensData);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Remove a member from the group.\n   * @param {Actor5e|string} actor    An Actor or ID to remove from this group\n   * @returns {Promise<Actor5e>}      The updated group Actor\n   */\n  async removeMember(actor) {\n    // Handle user input\n    let actorId;\n    if ( typeof actor === \"string\" ) actorId = actor;\n    else if ( actor instanceof Actor ) actorId = actor.id;\n    else throw new Error(\"You must provide an Actor document or an actor ID to remove a group member\");\n    if ( !this.members.ids.has(actorId) ) throw new Error(`Actor id \"${actorId}\" is not a group member`);\n\n    // Remove the actor and update the parent document\n    const membersCollection = this.toObject().members;\n    membersCollection.findSplice(member => member.actor === actorId);\n    return this.parent.update({\"system.members\": membersCollection});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Roll the quantity formulas for each member and replace their quantity. Any entries without formulas\n   * will not be modified.\n   * @returns {Promise<Actor5e>}\n   */\n  async rollQuantities() {\n    const membersCollection = this.toObject().members;\n    await Promise.all(membersCollection.map(async member => {\n      if ( !member.quantity?.formula ) return member;\n      const roll = new Roll(member.quantity.formula);\n      await roll.evaluate();\n      if ( roll.total > 0 ) member.quantity.value = roll.total;\n    }));\n    return this.parent.update({\"system.members\": membersCollection});\n  }\n\n  /* -------------------------------------------- */\n  /*  Resting                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Initiate a rest for all members of this group.\n   * @param {RestConfiguration} config  Configuration data for the rest.\n   * @param {RestResult} result         Results of the rest operation being built.\n   * @returns {boolean}                 Returns `false` to prevent regular rest process from completing.\n   */\n  async rest(config, result) {\n    const results = new Map();\n    for ( const member of this.members ) {\n      results.set(\n        member.actor,\n        await member.actor[config.type === \"short\" ? \"shortRest\" : \"longRest\"]({\n          ...config, dialog: false, advanceTime: false\n        }) ?? null\n      );\n    }\n\n    // Advance the game clock\n    if ( config.advanceTime && (config.duration > 0) && game.user.isGM ) await game.time.advance(60 * config.duration);\n\n    /**\n     * A hook event that fires when the rest process is completed for a group.\n     * @function dnd5e.groupRestCompleted\n     * @memberof hookEvents\n     * @param {Actor5e} group                         The group that just completed resting.\n     * @param {Map<Actor5e, RestResult|null>} result  Details on the rests completed.\n     */\n    Hooks.callAll(\"dnd5e.groupRestCompleted\", this.parent, results);\n\n    return false;\n  }\n\n  /* -------------------------------------------- */\n  /*  Socket Event Handlers                       */\n  /* -------------------------------------------- */\n\n  /**\n   * If type has been set to something other than \"party\" and this is currently the primary party, remove that setting.\n   * @param {object} changed   The differential data that was changed relative to the documents prior values\n   * @param {object} options   Additional options which modify the update request\n   * @param {string} userId    The id of the User requesting the document update\n   * @see {Document#_onUpdate}\n   * @protected\n   */\n  _onUpdate(changed, options, userId) {\n    if ( !foundry.utils.hasProperty(changed, \"system.type.value\") || (game.user !== game.users.activeGM)\n      || (game.settings.get(\"dnd5e\", \"primaryParty\")?.actor !== this.parent)\n      || (foundry.utils.getProperty(changed, \"system.type.value\") === \"party\") ) return;\n    game.settings.set(\"dnd5e\", \"primaryParty\", { actor: null });\n  }\n}\n","import Proficiency from \"../../documents/actor/proficiency.mjs\";\nimport { FormulaField } from \"../fields.mjs\";\nimport CreatureTypeField from \"../shared/creature-type-field.mjs\";\nimport RollConfigField from \"../shared/roll-config-field.mjs\";\nimport SourceField from \"../shared/source-field.mjs\";\nimport AttributesFields from \"./templates/attributes.mjs\";\nimport CreatureTemplate from \"./templates/creature.mjs\";\nimport DetailsFields from \"./templates/details.mjs\";\nimport TraitsFields from \"./templates/traits.mjs\";\n\nconst { BooleanField, NumberField, SchemaField, StringField } = foundry.data.fields;\n\n/**\n * System data definition for NPCs.\n *\n * @property {object} attributes\n * @property {object} attributes.ac\n * @property {number} attributes.ac.flat         Flat value used for flat or natural armor calculation.\n * @property {string} attributes.ac.calc         Name of one of the built-in formulas to use.\n * @property {string} attributes.ac.formula      Custom formula to use.\n * @property {object} attributes.hd\n * @property {number} attributes.hd.spent        Number of hit dice spent.\n * @property {object} attributes.hp\n * @property {number} attributes.hp.value        Current hit points.\n * @property {number} attributes.hp.max          Maximum allowed HP value.\n * @property {number} attributes.hp.temp         Temporary HP applied on top of value.\n * @property {number} attributes.hp.tempmax      Temporary change to the maximum HP.\n * @property {string} attributes.hp.formula      Formula used to determine hit points.\n * @property {object} attributes.death\n * @property {number} attributes.death.success   Number of successful death saves.\n * @property {number} attributes.death.failure   Number of failed death saves.\n * @property {object} details\n * @property {TypeData} details.type             Creature type of this NPC.\n * @property {string} details.type.value         NPC's type as defined in the system configuration.\n * @property {string} details.type.subtype       NPC's subtype usually displayed in parenthesis after main type.\n * @property {string} details.type.swarm         Size of the individual creatures in a swarm, if a swarm.\n * @property {string} details.type.custom        Custom type beyond what is available in the configuration.\n * @property {string} details.environment        Common environments in which this NPC is found.\n * @property {number} details.cr                 NPC's challenge rating.\n * @property {number} details.spellLevel         Spellcasting level of this NPC.\n * @property {SourceField} details.source        Adventure or sourcebook where this NPC originated.\n * @property {object} resources\n * @property {object} resources.legact           NPC's legendary actions.\n * @property {number} resources.legact.value     Currently available legendary actions.\n * @property {number} resources.legact.max       Maximum number of legendary actions.\n * @property {object} resources.legres           NPC's legendary resistances.\n * @property {number} resources.legres.value     Currently available legendary resistances.\n * @property {number} resources.legres.max       Maximum number of legendary resistances.\n * @property {object} resources.lair             NPC's lair actions.\n * @property {boolean} resources.lair.value      Does this NPC use lair actions.\n * @property {number} resources.lair.initiative  Initiative count when lair actions are triggered.\n */\nexport default class NPCData extends CreatureTemplate {\n\n  /** @inheritdoc */\n  static metadata = Object.freeze(foundry.utils.mergeObject(super.metadata, {\n    supportsAdvancement: true\n  }, {inplace: false}));\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _systemType = \"npc\";\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static defineSchema() {\n    return this.mergeSchema(super.defineSchema(), {\n      attributes: new SchemaField({\n        ...AttributesFields.common,\n        ...AttributesFields.creature,\n        ac: new SchemaField({\n          flat: new NumberField({integer: true, min: 0, label: \"DND5E.ArmorClassFlat\"}),\n          calc: new StringField({initial: \"default\", label: \"DND5E.ArmorClassCalculation\"}),\n          formula: new FormulaField({deterministic: true, label: \"DND5E.ArmorClassFormula\"})\n        }, {label: \"DND5E.ArmorClass\"}),\n        hd: new SchemaField({\n          spent: new NumberField({integer: true, min: 0, initial: 0})\n        }, {label: \"DND5E.HitDice\"}),\n        hp: new SchemaField({\n          value: new NumberField({\n            nullable: false, integer: true, min: 0, initial: 10, label: \"DND5E.HitPointsCurrent\"\n          }),\n          max: new NumberField({\n            nullable: false, integer: true, min: 0, initial: 10, label: \"DND5E.HitPointsMax\"\n          }),\n          temp: new NumberField({integer: true, initial: 0, min: 0, label: \"DND5E.HitPointsTemp\"}),\n          tempmax: new NumberField({integer: true, initial: 0, label: \"DND5E.HitPointsTempMax\"}),\n          formula: new FormulaField({required: true, label: \"DND5E.HPFormula\"})\n        }, {label: \"DND5E.HitPoints\"}),\n        death: new RollConfigField({\n          success: new NumberField({\n            required: true, nullable: false, integer: true, min: 0, initial: 0, label: \"DND5E.DeathSaveSuccesses\"\n          }),\n          failure: new NumberField({\n            required: true, nullable: false, integer: true, min: 0, initial: 0, label: \"DND5E.DeathSaveFailures\"\n          })\n        }, {label: \"DND5E.DeathSave\"})\n      }, {label: \"DND5E.Attributes\"}),\n      details: new SchemaField({\n        ...DetailsFields.common,\n        ...DetailsFields.creature,\n        type: new CreatureTypeField(),\n        environment: new StringField({required: true, label: \"DND5E.Environment\"}),\n        cr: new NumberField({\n          required: true, nullable: false, min: 0, initial: 1, label: \"DND5E.ChallengeRating\"\n        }),\n        spellLevel: new NumberField({\n          required: true, nullable: false, integer: true, min: 0, initial: 0, label: \"DND5E.SpellcasterLevel\"\n        }),\n        source: new SourceField()\n      }, {label: \"DND5E.Details\"}),\n      resources: new SchemaField({\n        legact: new SchemaField({\n          value: new NumberField({\n            required: true, nullable: false, integer: true, min: 0, initial: 0, label: \"DND5E.LegActRemaining\"\n          }),\n          max: new NumberField({\n            required: true, nullable: false, integer: true, min: 0, initial: 0, label: \"DND5E.LegActMax\"\n          })\n        }, {label: \"DND5E.LegAct\"}),\n        legres: new SchemaField({\n          value: new NumberField({\n            required: true, nullable: false, integer: true, min: 0, initial: 0, label: \"DND5E.LegResRemaining\"\n          }),\n          max: new NumberField({\n            required: true, nullable: false, integer: true, min: 0, initial: 0, label: \"DND5E.LegResMax\"\n          })\n        }, {label: \"DND5E.LegRes\"}),\n        lair: new SchemaField({\n          value: new BooleanField({required: true, label: \"DND5E.LairAct\"}),\n          initiative: new NumberField({\n            required: true, integer: true, label: \"DND5E.LairActionInitiative\"\n          })\n        }, {label: \"DND5E.LairActionLabel\"})\n      }, {label: \"DND5E.Resources\"}),\n      traits: new SchemaField({\n        ...TraitsFields.common,\n        ...TraitsFields.creature\n      }, {label: \"DND5E.Traits\"})\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static get compendiumBrowserFilters() {\n    return new Map([\n      [\"size\", {\n        label: \"DND5E.Size\",\n        type: \"set\",\n        config: {\n          choices: CONFIG.DND5E.actorSizes,\n          keyPath: \"system.traits.size\"\n        }\n      }],\n      [\"type\", {\n        label: \"DND5E.CreatureType\",\n        type: \"set\",\n        config: {\n          choices: CONFIG.DND5E.creatureTypes,\n          keyPath: \"system.details.type.value\"\n        }\n      }],\n      [\"cr\", {\n        label: \"DND5E.ChallengeRating\",\n        type: \"range\",\n        config: {\n          keyPath: \"system.details.cr\",\n          min: 0,\n          max: 30\n        }\n      }],\n      [\"movement\", {\n        label: \"DND5E.Movement\",\n        type: \"set\",\n        config: {\n          choices: CONFIG.DND5E.movementTypes\n        },\n        createFilter: (filters, value, def) => {\n          for ( const [k, v] of Object.entries(value ?? {}) ) {\n            if ( v === 1 ) filters.push({ k: `system.attributes.movement.${k}`, o: \"gt\", v: 0 });\n            if ( v === -1 ) filters.push({ k: `system.attributes.movement.${k}`, v: 0 });\n          }\n        }\n      }]\n    ]);\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Migration                              */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _migrateData(source) {\n    super._migrateData(source);\n    NPCData.#migrateSource(source);\n    NPCData.#migrateTypeData(source);\n    AttributesFields._migrateInitiative(source.attributes);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Convert source string into custom object.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateSource(source) {\n    if ( source.details?.source && (foundry.utils.getType(source.details.source) !== \"Object\") ) {\n      source.details.source = { custom: source.details.source };\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate the actor type string to type object.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateTypeData(source) {\n    const original = source.type;\n    if ( typeof original !== \"string\" ) return;\n\n    source.type = {\n      value: \"\",\n      subtype: \"\",\n      swarm: \"\",\n      custom: \"\"\n    };\n\n    // Match the existing string\n    const pattern = /^(?:swarm of (?<size>[\\w-]+) )?(?<type>[^(]+?)(?:\\((?<subtype>[^)]+)\\))?$/i;\n    const match = original.trim().match(pattern);\n    if ( match ) {\n\n      // Match a known creature type\n      const typeLc = match.groups.type.trim().toLowerCase();\n      const typeMatch = Object.entries(CONFIG.DND5E.creatureTypes).find(([k, v]) => {\n        return (typeLc === k)\n          || (typeLc === game.i18n.localize(v.label).toLowerCase())\n          || (typeLc === game.i18n.localize(`${v.label}Pl`).toLowerCase());\n      });\n      if ( typeMatch ) source.type.value = typeMatch[0];\n      else {\n        source.type.value = \"custom\";\n        source.type.custom = match.groups.type.trim().titleCase();\n      }\n      source.type.subtype = match.groups.subtype?.trim().titleCase() ?? \"\";\n\n      // Match a swarm\n      if ( match.groups.size ) {\n        const sizeLc = match.groups.size ? match.groups.size.trim().toLowerCase() : \"tiny\";\n        const sizeMatch = Object.entries(CONFIG.DND5E.actorSizes).find(([k, v]) => {\n          return (sizeLc === k) || (sizeLc === game.i18n.localize(v.label).toLowerCase());\n        });\n        source.type.swarm = sizeMatch ? sizeMatch[0] : \"tiny\";\n      }\n      else source.type.swarm = \"\";\n    }\n\n    // No match found\n    else {\n      source.type.value = \"custom\";\n      source.type.custom = original;\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Preparation                            */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  prepareBaseData() {\n    this.details.level = 0;\n    this.attributes.attunement.value = 0;\n\n    // Determine hit dice denomination & max from hit points formula\n    const [, max, denomination] = this.attributes.hp.formula?.match(/(\\d*)d(\\d+)/i) ?? [];\n    this.attributes.hd.max = Number(max ?? 0);\n    this.attributes.hd.denomination = Number(denomination ?? CONFIG.DND5E.actorSizes[this.traits.size]?.hitDie ?? 4);\n\n    for ( const item of this.parent.items ) {\n      // Class levels & hit dice\n      if ( item.type === \"class\" ) {\n        const classLevels = parseInt(item.system.levels) ?? 1;\n        this.details.level += classLevels;\n        this.attributes.hd.max += classLevels;\n      }\n\n      // Attuned items\n      else if ( item.system.attuned ) this.attributes.attunement.value += 1;\n    }\n\n    // Kill Experience\n    this.details.xp ??= {};\n    this.details.xp.value = this.parent.getCRExp(this.details.cr);\n\n    // Proficiency\n    this.attributes.prof = Proficiency.calculateMod(Math.max(this.details.cr, this.details.level, 1));\n\n    // Spellcaster Level\n    if ( this.attributes.spellcasting && !Number.isNumeric(this.details.spellLevel) ) {\n      this.details.spellLevel = Math.max(this.details.cr, 1);\n    }\n\n    AttributesFields.prepareBaseArmorClass.call(this);\n    AttributesFields.prepareBaseEncumbrance.call(this);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Prepare movement & senses values derived from race item.\n   */\n  prepareEmbeddedData() {\n    if ( this.details.race instanceof Item ) {\n      AttributesFields.prepareRace.call(this, this.details.race, { force: true });\n      this.details.type = this.details.race.system.type;\n    }\n    for ( const key of Object.keys(CONFIG.DND5E.movementTypes) ) this.attributes.movement[key] ??= 0;\n    for ( const key of Object.keys(CONFIG.DND5E.senses) ) this.attributes.senses[key] ??= 0;\n    this.attributes.movement.units ??= Object.keys(CONFIG.DND5E.movementUnits)[0];\n    this.attributes.senses.units ??= Object.keys(CONFIG.DND5E.movementUnits)[0];\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  prepareDerivedData() {\n    const rollData = this.parent.getRollData({ deterministic: true });\n    const { originalSaves } = this.parent.getOriginalStats();\n\n    this.prepareAbilities({ rollData, originalSaves });\n    AttributesFields.prepareEncumbrance.call(this, rollData);\n    AttributesFields.prepareExhaustionLevel.call(this);\n    AttributesFields.prepareMovement.call(this);\n    AttributesFields.prepareConcentration.call(this, rollData);\n    TraitsFields.prepareResistImmune.call(this);\n\n    // Hit Dice\n    const { hd } = this.attributes;\n    hd.value = Math.max(0, hd.max - hd.spent);\n    hd.pct = Math.clamp(hd.max ? (hd.value / hd.max) * 100 : 0, 0, 100);\n\n    // Hit Points\n    const hpOptions = {\n      advancement: Object.values(this.parent.classes).map(c => c.advancement.byType.HitPoints?.[0]).filter(a => a),\n      mod: this.abilities[CONFIG.DND5E.defaultAbilities.hitPoints ?? \"con\"]?.mod ?? 0\n    };\n    AttributesFields.prepareHitPoints.call(this, this.attributes.hp, hpOptions);\n  }\n}\n","import { FormulaField } from \"../fields.mjs\";\nimport SourceField from \"../shared/source-field.mjs\";\nimport AttributesFields from \"./templates/attributes.mjs\";\nimport CommonTemplate from \"./templates/common.mjs\";\nimport DetailsFields from \"./templates/details.mjs\";\nimport TraitsFields from \"./templates/traits.mjs\";\n\n/**\n * System data definition for Vehicles.\n *\n * @property {string} vehicleType                      Type of vehicle as defined in `DND5E.vehicleTypes`.\n * @property {object} attributes\n * @property {object} attributes.ac\n * @property {number} attributes.ac.flat               Flat value used for flat or natural armor calculation.\n * @property {string} attributes.ac.calc               Name of one of the built-in formulas to use.\n * @property {string} attributes.ac.formula            Custom formula to use.\n * @property {string} attributes.ac.motionless         Changes to vehicle AC when not moving.\n * @property {object} attributes.hp\n * @property {number} attributes.hp.value              Current hit points.\n * @property {number} attributes.hp.max                Maximum allowed HP value.\n * @property {number} attributes.hp.temp               Temporary HP applied on top of value.\n * @property {number} attributes.hp.tempmax            Temporary change to the maximum HP.\n * @property {number} attributes.hp.dt                 Damage threshold.\n * @property {number} attributes.hp.mt                 Mishap threshold.\n * @property {object} attributes.actions               Information on how the vehicle performs actions.\n * @property {boolean} attributes.actions.stations     Does this vehicle rely on action stations that required\n *                                                     individual crewing rather than general crew thresholds?\n * @property {number} attributes.actions.value         Maximum number of actions available with full crewing.\n * @property {object} attributes.actions.thresholds    Crew thresholds needed to perform various actions.\n * @property {number} attributes.actions.thresholds.2  Minimum crew needed to take full action complement.\n * @property {number} attributes.actions.thresholds.1  Minimum crew needed to take reduced action complement.\n * @property {number} attributes.actions.thresholds.0  Minimum crew needed to perform any actions.\n * @property {object} attributes.capacity              Information on the vehicle's carrying capacity.\n * @property {string} attributes.capacity.creature     Description of the number of creatures the vehicle can carry.\n * @property {number} attributes.capacity.cargo        Cargo carrying capacity measured in tons.\n * @property {object} traits\n * @property {string} traits.dimensions                Width and length of the vehicle.\n * @property {object} cargo                            Details on this vehicle's crew and cargo capacities.\n * @property {PassengerData[]} cargo.crew              Creatures responsible for operating the vehicle.\n * @property {PassengerData[]} cargo.passengers        Creatures just takin' a ride.\n * @property {object} details\n * @property {SourceField} details.source              Adventure or sourcebook where this vehicle originated.\n */\nexport default class VehicleData extends CommonTemplate {\n\n  /** @inheritdoc */\n  static _systemType = \"vehicle\";\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static defineSchema() {\n    return this.mergeSchema(super.defineSchema(), {\n      vehicleType: new foundry.data.fields.StringField({required: true, initial: \"water\", label: \"DND5E.VehicleType\"}),\n      attributes: new foundry.data.fields.SchemaField({\n        ...AttributesFields.common,\n        ac: new foundry.data.fields.SchemaField({\n          flat: new foundry.data.fields.NumberField({integer: true, min: 0, label: \"DND5E.ArmorClassFlat\"}),\n          calc: new foundry.data.fields.StringField({initial: \"default\", label: \"DND5E.ArmorClassCalculation\"}),\n          formula: new FormulaField({deterministic: true, label: \"DND5E.ArmorClassFormula\"}),\n          motionless: new foundry.data.fields.StringField({required: true, label: \"DND5E.ArmorClassMotionless\"})\n        }, {label: \"DND5E.ArmorClass\"}),\n        hp: new foundry.data.fields.SchemaField({\n          value: new foundry.data.fields.NumberField({\n            nullable: true, integer: true, min: 0, initial: null, label: \"DND5E.HitPointsCurrent\"\n          }),\n          max: new foundry.data.fields.NumberField({\n            nullable: true, integer: true, min: 0, initial: null, label: \"DND5E.HitPointsMax\"\n          }),\n          temp: new foundry.data.fields.NumberField({integer: true, initial: 0, min: 0, label: \"DND5E.HitPointsTemp\"}),\n          tempmax: new foundry.data.fields.NumberField({integer: true, initial: 0, label: \"DND5E.HitPointsTempMax\"}),\n          dt: new foundry.data.fields.NumberField({\n            required: true, integer: true, min: 0, label: \"DND5E.DamageThreshold\"\n          }),\n          mt: new foundry.data.fields.NumberField({\n            required: true, integer: true, min: 0, label: \"DND5E.VehicleMishapThreshold\"\n          })\n        }, {label: \"DND5E.HitPoints\"}),\n        actions: new foundry.data.fields.SchemaField({\n          stations: new foundry.data.fields.BooleanField({required: true, label: \"DND5E.VehicleActionStations\"}),\n          value: new foundry.data.fields.NumberField({\n            required: true, nullable: false, integer: true, initial: 0, min: 0, label: \"DND5E.VehicleActionMax\"\n          }),\n          thresholds: new foundry.data.fields.SchemaField({\n            2: new foundry.data.fields.NumberField({\n              required: true, integer: true, min: 0, label: \"DND5E.VehicleActionThresholdsFull\"\n            }),\n            1: new foundry.data.fields.NumberField({\n              required: true, integer: true, min: 0, label: \"DND5E.VehicleActionThresholdsMid\"\n            }),\n            0: new foundry.data.fields.NumberField({\n              required: true, integer: true, min: 0, label: \"DND5E.VehicleActionThresholdsMin\"\n            })\n          }, {label: \"DND5E.VehicleActionThresholds\"})\n        }, {label: \"DND5E.VehicleActions\"}),\n        capacity: new foundry.data.fields.SchemaField({\n          creature: new foundry.data.fields.StringField({required: true, label: \"DND5E.VehicleCreatureCapacity\"}),\n          cargo: new foundry.data.fields.NumberField({\n            required: true, nullable: false, integer: true, initial: 0, min: 0, label: \"DND5E.VehicleCargoCapacity\"\n          })\n        }, {label: \"DND5E.VehicleCargoCrew\"})\n      }, {label: \"DND5E.Attributes\"}),\n      details: new foundry.data.fields.SchemaField({\n        ...DetailsFields.common,\n        source: new SourceField()\n      }, {label: \"DND5E.Details\"}),\n      traits: new foundry.data.fields.SchemaField({\n        ...TraitsFields.common,\n        size: new foundry.data.fields.StringField({required: true, initial: \"lg\", label: \"DND5E.Size\"}),\n        di: TraitsFields.makeDamageTrait({label: \"DND5E.DamImm\"}, {initial: [\"poison\", \"psychic\"]}),\n        ci: TraitsFields.makeSimpleTrait({label: \"DND5E.ConImm\"}, {initial: [\n          \"blinded\", \"charmed\", \"deafened\", \"frightened\", \"paralyzed\",\n          \"petrified\", \"poisoned\", \"stunned\", \"unconscious\"\n        ]}),\n        dimensions: new foundry.data.fields.StringField({required: true, label: \"DND5E.Dimensions\"})\n      }, {label: \"DND5E.Traits\"}),\n      cargo: new foundry.data.fields.SchemaField({\n        crew: new foundry.data.fields.ArrayField(makePassengerData(), {label: \"DND5E.VehicleCrew\"}),\n        passengers: new foundry.data.fields.ArrayField(makePassengerData(), {label: \"DND5E.VehiclePassengers\"})\n      }, {label: \"DND5E.VehicleCrewPassengers\"})\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _migrateData(source) {\n    super._migrateData(source);\n    AttributesFields._migrateInitiative(source.attributes);\n    VehicleData.#migrateSource(source);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Convert source string into custom object.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateSource(source) {\n    if ( source.details?.source && (foundry.utils.getType(source.details.source) !== \"Object\") ) {\n      source.details.source = { custom: source.details.source };\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Preparation                            */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareBaseData() {\n    this.attributes.prof = 0;\n    AttributesFields.prepareBaseArmorClass.call(this);\n    AttributesFields.prepareBaseEncumbrance.call(this);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareDerivedData() {\n    const rollData = this.parent.getRollData({ deterministic: true });\n    const { originalSaves } = this.parent.getOriginalStats();\n\n    this.prepareAbilities({ rollData, originalSaves });\n    AttributesFields.prepareEncumbrance.call(this, rollData, { validateItem: item =>\n      (item.flags.dnd5e?.vehicleCargo === true) || ![\"weapon\", \"equipment\"].includes(item.type)\n    });\n    AttributesFields.prepareHitPoints.call(this, this.attributes.hp);\n  }\n}\n\n/* -------------------------------------------- */\n\n/**\n * Data structure for an entry in a vehicle's crew or passenger lists.\n *\n * @typedef {object} PassengerData\n * @property {string} name      Name of individual or type of creature.\n * @property {number} quantity  How many of this creature are onboard?\n */\n\n/**\n * Produce the schema field for a simple trait.\n * @param {object} schemaOptions  Options passed to the outer schema.\n * @returns {PassengerData}\n */\nfunction makePassengerData(schemaOptions={}) {\n  return new foundry.data.fields.SchemaField({\n    name: new foundry.data.fields.StringField({required: true, label: \"DND5E.VehiclePassengerName\"}),\n    quantity: new foundry.data.fields.NumberField({\n      required: true, nullable: false, integer: true, initial: 0, min: 0, label: \"DND5E.VehiclePassengerQuantity\"\n    })\n  }, schemaOptions);\n}\n","import CharacterData from \"./character.mjs\";\nimport GroupData from \"./group.mjs\";\nimport NPCData from \"./npc.mjs\";\nimport VehicleData from \"./vehicle.mjs\";\n\nexport {\n  CharacterData,\n  GroupData,\n  NPCData,\n  VehicleData\n};\nexport {default as GroupSystemFlags} from \"./group-system-flags.mjs\";\nexport {default as AttributesFields} from \"./templates/attributes.mjs\";\nexport {default as CommonTemplate} from \"./templates/common.mjs\";\nexport {default as CreatureTemplate} from \"./templates/creature.mjs\";\nexport {default as DetailsFields} from \"./templates/details.mjs\";\nexport {default as TraitsFields} from \"./templates/traits.mjs\";\n\nexport const config = {\n  character: CharacterData,\n  group: GroupData,\n  npc: NPCData,\n  vehicle: VehicleData\n};\n","import { ItemDataModel } from \"../abstract.mjs\";\nimport { AdvancementField, IdentifierField } from \"../fields.mjs\";\nimport ItemDescriptionTemplate from \"./templates/item-description.mjs\";\nimport StartingEquipmentTemplate from \"./templates/starting-equipment.mjs\";\n\n/**\n * Data definition for Background items.\n * @mixes ItemDescriptionTemplate\n * @mixes StartingEquipmentTemplate\n *\n * @property {string} identifier     Identifier slug for this background.\n * @property {object[]} advancement  Advancement objects for this background.\n */\nexport default class BackgroundData extends ItemDataModel.mixin(ItemDescriptionTemplate, StartingEquipmentTemplate) {\n  /** @inheritdoc */\n  static defineSchema() {\n    return this.mergeSchema(super.defineSchema(), {\n      identifier: new IdentifierField({required: true, label: \"DND5E.Identifier\"}),\n      advancement: new foundry.data.fields.ArrayField(new AdvancementField(), {label: \"DND5E.AdvancementTitle\"})\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static metadata = Object.freeze(foundry.utils.mergeObject(super.metadata, {\n    singleton: true\n  }, {inplace: false}));\n\n  /* -------------------------------------------- */\n  /*  Socket Event Handlers                       */\n  /* -------------------------------------------- */\n\n  /**\n   * Set the background reference in actor data.\n   * @param {object} data     The initial data object provided to the document creation request\n   * @param {object} options  Additional options which modify the creation request\n   * @param {string} userId   The id of the User requesting the document update\n   * @see {Document#_onCreate}\n   * @protected\n   */\n  _onCreate(data, options, userId) {\n    if ( (game.user.id !== userId) || this.parent.actor?.type !== \"character\" ) return;\n    this.parent.actor.update({\"system.details.background\": this.parent.id});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Remove the background reference in actor data.\n   * @param {object} options            Additional options which modify the deletion request\n   * @param {documents.BaseUser} user   The User requesting the document deletion\n   * @returns {Promise<boolean|void>}   A return value of false indicates the deletion operation should be cancelled.\n   * @see {Document#_preDelete}\n   * @protected\n   */\n  async _preDelete(options, user) {\n    if ( this.parent.actor?.type !== \"character\" ) return;\n    await this.parent.actor.update({\"system.details.background\": null});\n  }\n}\n","import { filteredKeys } from \"../../utils.mjs\";\nimport { ItemDataModel } from \"../abstract.mjs\";\nimport ActionTemplate from \"./templates/action.mjs\";\nimport ActivatedEffectTemplate from \"./templates/activated-effect.mjs\";\nimport EquippableItemTemplate from \"./templates/equippable-item.mjs\";\nimport IdentifiableTemplate from \"./templates/identifiable.mjs\";\nimport ItemDescriptionTemplate from \"./templates/item-description.mjs\";\nimport ItemTypeTemplate from \"./templates/item-type.mjs\";\nimport PhysicalItemTemplate from \"./templates/physical-item.mjs\";\nimport ItemTypeField from \"./fields/item-type-field.mjs\";\n\nconst { BooleanField, NumberField, SetField, StringField } = foundry.data.fields;\n\n/**\n * Data definition for Consumable items.\n * @mixes ItemDescriptionTemplate\n * @mixes ItemTypeTemplate\n * @mixes IdentifiableTemplate\n * @mixes PhysicalItemTemplate\n * @mixes EquippableItemTemplate\n * @mixes ActivatedEffectTemplate\n * @mixes ActionTemplate\n *\n * @property {number} magicalBonus       Magical bonus added to attack & damage rolls by ammunition.\n * @property {Set<string>} properties    Ammunition properties.\n * @property {object} uses\n * @property {boolean} uses.autoDestroy  Should this item be destroyed when it runs out of uses.\n */\nexport default class ConsumableData extends ItemDataModel.mixin(\n  ItemDescriptionTemplate, IdentifiableTemplate, ItemTypeTemplate, PhysicalItemTemplate, EquippableItemTemplate,\n  ActivatedEffectTemplate, ActionTemplate\n) {\n  /** @inheritdoc */\n  static defineSchema() {\n    return this.mergeSchema(super.defineSchema(), {\n      type: new ItemTypeField({value: \"potion\", baseItem: false}, {label: \"DND5E.ItemConsumableType\"}),\n      magicalBonus: new NumberField({min: 0, integer: true, label: \"DND5E.MagicalBonus\"}),\n      properties: new SetField(new StringField(), { label: \"DND5E.ItemAmmoProperties\" }),\n      uses: new ActivatedEffectTemplate.ItemUsesField({\n        autoDestroy: new BooleanField({required: true, label: \"DND5E.ItemDestroyEmpty\"})\n      }, {label: \"DND5E.LimitedUses\"})\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static metadata = Object.freeze(foundry.utils.mergeObject(super.metadata, {\n    enchantable: true,\n    inventoryItem: true,\n    inventoryOrder: 300\n  }, {inplace: false}));\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static get compendiumBrowserFilters() {\n    return new Map([\n      [\"type\", {\n        label: \"DND5E.ItemConsumableType\",\n        type: \"set\",\n        config: {\n          choices: CONFIG.DND5E.consumableTypes,\n          keyPath: \"system.type.value\"\n        }\n      }],\n      [\"attunement\", this.compendiumBrowserAttunementFilter],\n      ...this.compendiumBrowserPhysicalItemFilters,\n      [\"properties\", this.compendiumBrowserPropertiesFilter(\"consumable\")]\n    ]);\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Migrations                             */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _migrateData(source) {\n    super._migrateData(source);\n    ConsumableData.#migratePropertiesData(source);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate the properties object into a set.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migratePropertiesData(source) {\n    if ( foundry.utils.getType(source.properties) !== \"Object\" ) return;\n    source.properties = filteredKeys(source.properties);\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Preparation                            */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareDerivedData() {\n    super.prepareDerivedData();\n    if ( !this.type.value ) return;\n    const config = CONFIG.DND5E.consumableTypes[this.type.value];\n    if ( config ) {\n      this.type.label = config.subtypes?.[this.type.subtype] ?? config.label;\n    } else {\n      this.type.label = game.i18n.localize(CONFIG.Item.typeLabels.consumable);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareFinalData() {\n    this.prepareFinalActivatedEffectData();\n    this.prepareFinalEquippableData();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async getFavoriteData() {\n    return foundry.utils.mergeObject(await super.getFavoriteData(), {\n      subtitle: [this.type.label, this.parent.labels.activation],\n      uses: this.hasLimitedUses ? this.getUsesData() : null,\n      quantity: this.quantity\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Getters                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Properties displayed in chat.\n   * @type {string[]}\n   */\n  get chatProperties() {\n    return [\n      this.type.label,\n      this.hasLimitedUses ? `${this.uses.value}/${this.uses.max} ${game.i18n.localize(\"DND5E.Charges\")}` : null,\n      this.priceLabel\n    ];\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get _typeAbilityMod() {\n    if ( this.type.value !== \"scroll\" ) return null;\n    return this.parent?.actor?.system.attributes.spellcasting || \"int\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The proficiency multiplier for this item.\n   * @returns {number}\n   */\n  get proficiencyMultiplier() {\n    const isProficient = this.parent?.actor?.getFlag(\"dnd5e\", \"tavernBrawlerFeat\");\n    return isProficient ? 1 : 0;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get validProperties() {\n    const valid = super.validProperties;\n    if ( this.type.value === \"ammo\" ) Object.entries(CONFIG.DND5E.itemProperties).forEach(([k, v]) => {\n      if ( v.isPhysical ) valid.add(k);\n    });\n    else if ( this.type.value === \"scroll\" ) CONFIG.DND5E.validProperties.spell\n      .filter(p => p !== \"material\").forEach(p => valid.add(p));\n    return valid;\n  }\n}\n","import { ItemDataModel } from \"../abstract.mjs\";\nimport ActionTemplate from \"./templates/action.mjs\";\nimport ActivatedEffectTemplate from \"./templates/activated-effect.mjs\";\nimport ItemDescriptionTemplate from \"./templates/item-description.mjs\";\nimport ItemTypeTemplate from \"./templates/item-type.mjs\";\nimport { EnchantmentData } from \"./fields/enchantment-field.mjs\";\nimport ItemTypeField from \"./fields/item-type-field.mjs\";\n\nconst { BooleanField, NumberField, SchemaField, SetField, StringField } = foundry.data.fields;\n\n/**\n * Data definition for Feature items.\n * @mixes ItemDescriptionTemplate\n * @mixes ItemTypeTemplate\n * @mixes ActivatedEffectTemplate\n * @mixes ActionTemplate\n *\n * @property {object} prerequisites\n * @property {number} prerequisites.level           Character or class level required to choose this feature.\n * @property {Set<string>} properties               General properties of a feature item.\n * @property {string} requirements                  Actor details required to use this feature.\n * @property {object} recharge                      Details on how a feature can roll for recharges.\n * @property {number} recharge.value                Minimum number needed to roll on a d6 to recharge this feature.\n * @property {boolean} recharge.charged             Does this feature have a charge remaining?\n */\nexport default class FeatData extends ItemDataModel.mixin(\n  ItemDescriptionTemplate, ItemTypeTemplate, ActivatedEffectTemplate, ActionTemplate\n) {\n\n  /** @override */\n  static LOCALIZATION_PREFIXES = [\"DND5E.Enchantment\", \"DND5E.Prerequisites\"];\n\n  /** @inheritdoc */\n  static defineSchema() {\n    return this.mergeSchema(super.defineSchema(), {\n      type: new ItemTypeField({baseItem: false}, {label: \"DND5E.ItemFeatureType\"}),\n      prerequisites: new SchemaField({\n        level: new NumberField({integer: true, min: 0})\n      }),\n      properties: new SetField(new StringField(), {\n        label: \"DND5E.ItemFeatureProperties\"\n      }),\n      requirements: new StringField({required: true, nullable: true, label: \"DND5E.Requirements\"}),\n      recharge: new SchemaField({\n        value: new NumberField({\n          required: true, integer: true, min: 1, label: \"DND5E.FeatureRechargeOn\"\n        }),\n        charged: new BooleanField({required: true, label: \"DND5E.Charged\"})\n      }, {label: \"DND5E.FeatureActionRecharge\"})\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static get compendiumBrowserFilters() {\n    return new Map([\n      [\"category\", {\n        label: \"DND5E.Item.Category.Label\",\n        type: \"set\",\n        config: {\n          choices: CONFIG.DND5E.featureTypes,\n          keyPath: \"system.type.value\"\n        }\n      }],\n      [\"subtype\", {\n        label: \"DND5E.ItemFeatureType\",\n        type: \"set\",\n        config: {\n          choices: Object.values(CONFIG.DND5E.featureTypes).reduce((obj, config) => {\n            for ( const [key, label] of Object.entries(config.subtypes ?? {}) ) obj[key] = label;\n            return obj;\n          }, {}),\n          keyPath: \"system.type.subtype\"\n        }\n      }],\n      [\"properties\", this.compendiumBrowserPropertiesFilter(\"feat\")]\n    ]);\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Preparation                            */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareDerivedData() {\n    super.prepareDerivedData();\n\n    if ( this.type.value ) {\n      const config = CONFIG.DND5E.featureTypes[this.type.value];\n      if ( config ) this.type.label = config.subtypes?.[this.type.subtype] ?? null;\n      else this.type.label = game.i18n.localize(CONFIG.Item.typeLabels.feat);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareFinalData() {\n    this.prepareFinalActivatedEffectData();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async getFavoriteData() {\n    return foundry.utils.mergeObject(await super.getFavoriteData(), {\n      subtitle: [this.parent.labels.activation, this.parent.labels.recovery],\n      uses: this.hasLimitedUses ? this.getUsesData() : null\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Migrations                                  */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _migrateData(source) {\n    super._migrateData(source);\n    FeatData.#migrateType(source);\n    FeatData.#migrateRecharge(source);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Ensure feats have a type object.\n   * @param {object} source The candidate source data from which the model will be constructed.\n   */\n  static #migrateType(source) {\n    if ( !(\"type\" in source) ) return;\n    if ( !source.type ) source.type = {value: \"\", subtype: \"\"};\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate 0 values to null.\n   * @param {object} source The candidate source data from which the model will be constructed.\n   */\n  static #migrateRecharge(source) {\n    if ( !(\"recharge\" in source) ) return;\n    const value = source.recharge.value;\n    if ( (value === 0) || (value === \"\") ) source.recharge.value = null;\n    else if ( (typeof value === \"string\") && Number.isNumeric(value) ) source.recharge.value = Number(value);\n    if ( source.recharge.charged === null ) source.recharge.charged = false;\n  }\n\n  /* -------------------------------------------- */\n  /*  Getters                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Properties displayed in chat.\n   * @type {string[]}\n   */\n  get chatProperties() {\n    return [this.requirements];\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Properties displayed on the item card.\n   * @type {string[]}\n   */\n  get cardProperties() {\n    return [this.requirements];\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get hasLimitedUses() {\n    return this.isActive && (!!this.recharge.value || super.hasLimitedUses);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Does this feature represent a group of individual enchantments (e.g. the \"Infuse Item\" feature stores data about\n   * all of the character's infusions).\n   * @type {boolean}\n   */\n  get isEnchantmentSource() {\n    return EnchantmentData.isEnchantmentSource(this);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The proficiency multiplier for this item.\n   * @returns {number}\n   */\n  get proficiencyMultiplier() {\n    return 1;\n  }\n}\n","import { ItemDataModel } from \"../abstract.mjs\";\nimport IdentifiableTemplate from \"./templates/identifiable.mjs\";\nimport ItemDescriptionTemplate from \"./templates/item-description.mjs\";\nimport ItemTypeTemplate from \"./templates/item-type.mjs\";\nimport PhysicalItemTemplate from \"./templates/physical-item.mjs\";\nimport ItemTypeField from \"./fields/item-type-field.mjs\";\n\n/**\n * Data definition for Loot items.\n * @mixes ItemDescriptionTemplate\n * @mixes ItemTypeTemplate\n * @mixes IdentifiableTemplate\n * @mixes PhysicalItemTemplate\n */\nexport default class LootData extends ItemDataModel.mixin(\n  ItemDescriptionTemplate, IdentifiableTemplate, ItemTypeTemplate, PhysicalItemTemplate\n) {\n  /** @inheritdoc */\n  static defineSchema() {\n    return this.mergeSchema(super.defineSchema(), {\n      properties: new foundry.data.fields.SetField(new foundry.data.fields.StringField(), {\n        label: \"DND5E.ItemLootProperties\"\n      }),\n      type: new ItemTypeField({baseItem: false}, {label: \"DND5E.ItemLootType\"})\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static metadata = Object.freeze(foundry.utils.mergeObject(super.metadata, {\n    enchantable: true,\n    inventoryItem: true,\n    inventoryOrder: 600\n  }, {inplace: false}));\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static get compendiumBrowserFilters() {\n    return new Map([\n      [\"type\", {\n        label: \"DND5E.ItemLootType\",\n        type: \"set\",\n        config: {\n          choices: CONFIG.DND5E.lootTypes,\n          keyPath: \"system.type.value\"\n        }\n      }],\n      ...this.compendiumBrowserPhysicalItemFilters,\n      [\"properties\", this.compendiumBrowserPropertiesFilter(\"loot\")]\n    ]);\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Preparation                            */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareDerivedData() {\n    super.prepareDerivedData();\n    this.type.label = CONFIG.DND5E.lootTypes[this.type.value]?.label ?? game.i18n.localize(CONFIG.Item.typeLabels.loot);\n  }\n\n  /* -------------------------------------------- */\n  /*  Getters                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Properties displayed in chat.\n   * @type {string[]}\n   */\n  get chatProperties() {\n    return [\n      this.type.label,\n      this.weight ? `${this.weight.value} ${game.i18n.localize(\"DND5E.AbbreviationLbs\")}` : null,\n      this.priceLabel\n    ];\n  }\n}\n","import Actor5e from \"../../documents/actor/actor.mjs\";\nimport { ItemDataModel } from \"../abstract.mjs\";\nimport { AdvancementField, IdentifierField } from \"../fields.mjs\";\nimport { CreatureTypeField, MovementField, SensesField } from \"../shared/_module.mjs\";\nimport ItemDescriptionTemplate from \"./templates/item-description.mjs\";\n\n/**\n * Data definition for Race items.\n * @mixes ItemDescriptionTemplate\n *\n * @property {string} identifier       Identifier slug for this race.\n * @property {object[]} advancement    Advancement objects for this race.\n * @property {MovementField} movement\n * @property {SensesField} senses\n * @property {CreatureType} type\n */\nexport default class RaceData extends ItemDataModel.mixin(ItemDescriptionTemplate) {\n  /** @inheritdoc */\n  static defineSchema() {\n    return this.mergeSchema(super.defineSchema(), {\n      identifier: new IdentifierField({label: \"DND5E.Identifier\"}),\n      advancement: new foundry.data.fields.ArrayField(new AdvancementField(), {label: \"DND5E.AdvancementTitle\"}),\n      movement: new MovementField(),\n      senses: new SensesField(),\n      type: new CreatureTypeField({ swarm: false }, { initial: { value: \"humanoid\" } })\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static metadata = Object.freeze(foundry.utils.mergeObject(super.metadata, {\n    singleton: true\n  }, {inplace: false}));\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static get compendiumBrowserFilters() {\n    return new Map([\n      [\"hasDarkvision\", {\n        label: \"DND5E.CompendiumBrowser.Filters.HasDarkvision\",\n        type: \"boolean\",\n        createFilter: (filters, value, def) => {\n          if ( value === 0 ) return;\n          const filter = { k: \"system.senses.darkvision\", o: \"gt\", v: 0 };\n          if ( value === 1 ) filters.push(filter);\n          else filters.push({ o: \"NOT\", v: filter });\n        }\n      }]\n    ]);\n  }\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * Sheet labels for a race's movement.\n   * @returns {Object<string>}\n   */\n  get movementLabels() {\n    const units = CONFIG.DND5E.movementUnits[this.movement.units || Object.keys(CONFIG.DND5E.movementUnits)[0]];\n    return Object.entries(CONFIG.DND5E.movementTypes).reduce((obj, [k, label]) => {\n      const value = this.movement[k];\n      if ( value ) obj[k] = `${label} ${value} ${units}`;\n      return obj;\n    }, {});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Sheet labels for a race's senses.\n   * @returns {Object<string>}\n   */\n  get sensesLabels() {\n    const units = CONFIG.DND5E.movementUnits[this.senses.units || Object.keys(CONFIG.DND5E.movementUnits)[0]];\n    return Object.entries(CONFIG.DND5E.senses).reduce((arr, [k, label]) => {\n      const value = this.senses[k];\n      if ( value ) arr.push(`${label} ${value} ${units}`);\n      return arr;\n    }, []).concat(this.senses.special.split(\";\").filter(l => l));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Sheet label for a race's creature type.\n   * @returns {Object<string>}\n   */\n  get typeLabel() {\n    return Actor5e.formatCreatureType(this.type);\n  }\n\n  /* -------------------------------------------- */\n  /*  Socket Event Handlers                       */\n  /* -------------------------------------------- */\n\n  /**\n   * Create default advancement items when race is created.\n   * @param {object} data               The initial data object provided to the document creation request.\n   * @param {object} options            Additional options which modify the creation request.\n   * @param {User} user                 The User requesting the document creation.\n   * @returns {Promise<boolean|void>}   A return value of false indicates the creation operation should be cancelled.\n   * @see {Document#_preCreate}\n   * @protected\n   */\n  async _preCreate(data, options, user) {\n    if ( data._id || foundry.utils.hasProperty(data, \"system.advancement\") ) return;\n    const toCreate = [\n      { type: \"AbilityScoreImprovement\" }, { type: \"Size\" },\n      { type: \"Trait\", configuration: { grants: [\"languages:standard:common\"] } }\n    ];\n    this.parent.updateSource({\"system.advancement\": toCreate.map(c => {\n      const config = CONFIG.DND5E.advancementTypes[c.type];\n      const cls = config.documentClass ?? config;\n      return new cls(c, { parent: this.parent }).toObject();\n    })});\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Set the race reference in actor data.\n   * @param {object} data     The initial data object provided to the document creation request\n   * @param {object} options  Additional options which modify the creation request\n   * @param {string} userId   The id of the User requesting the document update\n   * @see {Document#_onCreate}\n   * @protected\n   */\n  _onCreate(data, options, userId) {\n    if ( (game.user.id !== userId) || ![\"character\", \"npc\"].includes(this.parent.actor?.type) ) return;\n    this.parent.actor.update({ \"system.details.race\": this.parent.id });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Remove the race reference in actor data.\n   * @param {object} options            Additional options which modify the deletion request\n   * @param {documents.BaseUser} user   The User requesting the document deletion\n   * @returns {Promise<boolean|void>}   A return value of false indicates the deletion operation should be cancelled.\n   * @see {Document#_preDelete}\n   * @protected\n   */\n  async _preDelete(options, user) {\n    if ( ![\"character\", \"npc\"].includes(this.parent.actor?.type) ) return;\n    await this.parent.actor.update({ \"system.details.race\": null });\n  }\n}\n","import { ItemDataModel } from \"../abstract.mjs\";\nimport { AdvancementField, IdentifierField } from \"../fields.mjs\";\nimport ItemDescriptionTemplate from \"./templates/item-description.mjs\";\n\n/**\n * Data definition for Subclass items.\n * @mixes ItemDescriptionTemplate\n *\n * @property {string} identifier       Identifier slug for this subclass.\n * @property {string} classIdentifier  Identifier slug for the class with which this subclass should be associated.\n * @property {object[]} advancement    Advancement objects for this subclass.\n * @property {object} spellcasting              Details on subclass's spellcasting ability.\n * @property {string} spellcasting.progression  Spell progression granted by class as from `DND5E.spellProgression`.\n * @property {string} spellcasting.ability      Ability score to use for spellcasting.\n */\nexport default class SubclassData extends ItemDataModel.mixin(ItemDescriptionTemplate) {\n  /** @inheritdoc */\n  static defineSchema() {\n    return this.mergeSchema(super.defineSchema(), {\n      identifier: new IdentifierField({required: true, label: \"DND5E.Identifier\"}),\n      classIdentifier: new IdentifierField({\n        required: true, label: \"DND5E.ClassIdentifier\", hint: \"DND5E.ClassIdentifierHint\"\n      }),\n      advancement: new foundry.data.fields.ArrayField(new AdvancementField(), {label: \"DND5E.AdvancementTitle\"}),\n      spellcasting: new foundry.data.fields.SchemaField({\n        progression: new foundry.data.fields.StringField({\n          required: true, initial: \"none\", blank: false, label: \"DND5E.SpellProgression\"\n        }),\n        ability: new foundry.data.fields.StringField({required: true, label: \"DND5E.SpellAbility\"})\n      }, {label: \"DND5E.Spellcasting\"})\n    });\n  }\n}\n","import { ItemDataModel } from \"../abstract.mjs\";\nimport { FormulaField } from \"../fields.mjs\";\nimport EquippableItemTemplate from \"./templates/equippable-item.mjs\";\nimport IdentifiableTemplate from \"./templates/identifiable.mjs\";\nimport ItemDescriptionTemplate from \"./templates/item-description.mjs\";\nimport ItemTypeTemplate from \"./templates/item-type.mjs\";\nimport PhysicalItemTemplate from \"./templates/physical-item.mjs\";\nimport ItemTypeField from \"./fields/item-type-field.mjs\";\nimport ActivatedEffectTemplate from \"./templates/activated-effect.mjs\";\n\n/**\n * Data definition for Tool items.\n * @mixes ItemDescriptionTemplate\n * @mixes ItemTypeTemplate\n * @mixes IdentifiableTemplate\n * @mixes PhysicalItemTemplate\n * @mixes EquippableItemTemplate\n * @mixes ActivatedEffectTemplate\n *\n * @property {string} ability     Default ability when this tool is being used.\n * @property {string} chatFlavor  Additional text added to chat when this tool is used.\n * @property {number} proficient  Level of proficiency in this tool as defined in `DND5E.proficiencyLevels`.\n * @property {string} bonus       Bonus formula added to tool rolls.\n */\nexport default class ToolData extends ItemDataModel.mixin(\n  ItemDescriptionTemplate, IdentifiableTemplate, ItemTypeTemplate,\n  PhysicalItemTemplate, EquippableItemTemplate, ActivatedEffectTemplate\n) {\n  /** @inheritdoc */\n  static defineSchema() {\n    return this.mergeSchema(super.defineSchema(), {\n      type: new ItemTypeField({subtype: false}, {label: \"DND5E.ItemToolType\"}),\n      ability: new foundry.data.fields.StringField({\n        required: true, blank: true, label: \"DND5E.DefaultAbilityCheck\"\n      }),\n      chatFlavor: new foundry.data.fields.StringField({required: true, label: \"DND5E.ChatFlavor\"}),\n      proficient: new foundry.data.fields.NumberField({\n        required: true, initial: null, min: 0, max: 2, step: 0.5, label: \"DND5E.ItemToolProficiency\"\n      }),\n      properties: new foundry.data.fields.SetField(new foundry.data.fields.StringField(), {\n        label: \"DND5E.ItemToolProperties\"\n      }),\n      bonus: new FormulaField({required: true, label: \"DND5E.ItemToolBonus\"})\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static metadata = Object.freeze(foundry.utils.mergeObject(super.metadata, {\n    enchantable: true,\n    inventoryItem: true,\n    inventoryOrder: 400\n  }, {inplace: false}));\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static get compendiumBrowserFilters() {\n    return new Map([\n      [\"type\", {\n        label: \"DND5E.ItemToolType\",\n        type: \"set\",\n        config: {\n          choices: CONFIG.DND5E.toolTypes,\n          keyPath: \"system.type.value\"\n        }\n      }],\n      [\"attunement\", this.compendiumBrowserAttunementFilter],\n      ...this.compendiumBrowserPhysicalItemFilters,\n      [\"properties\", this.compendiumBrowserPropertiesFilter(\"tool\")]\n    ]);\n  }\n\n  /* -------------------------------------------- */\n  /*  Migrations                                  */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _migrateData(source) {\n    super._migrateData(source);\n    ToolData.#migrateAbility(source);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate the ability field.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateAbility(source) {\n    if ( Array.isArray(source.ability) ) source.ability = source.ability[0];\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Preparation                            */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareDerivedData() {\n    super.prepareDerivedData();\n    this.type.label = CONFIG.DND5E.toolTypes[this.type.value] ?? game.i18n.localize(CONFIG.Item.typeLabels.tool);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareFinalData() {\n    this.prepareFinalEquippableData();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async getFavoriteData() {\n    return foundry.utils.mergeObject(await super.getFavoriteData(), {\n      subtitle: this.type.label,\n      modifier: this.parent.parent?.system.tools?.[this.type.baseItem]?.total\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Getters                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Properties displayed in chat.\n   * @type {string[]}\n   */\n  get chatProperties() {\n    return [CONFIG.DND5E.abilities[this.ability]?.label];\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Properties displayed on the item card.\n   * @type {string[]}\n   */\n  get cardProperties() {\n    return [CONFIG.DND5E.abilities[this.ability]?.label];\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Which ability score modifier is used by this item?\n   * @type {string|null}\n   */\n  get abilityMod() {\n    return this.ability || \"int\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The proficiency multiplier for this item.\n   * @returns {number}\n   */\n  get proficiencyMultiplier() {\n    if ( Number.isFinite(this.proficient) ) return this.proficient;\n    const actor = this.parent.actor;\n    if ( !actor ) return 0;\n    if ( actor.type === \"npc\" ) return 1;\n    const baseItemProf = actor.system.tools?.[this.type.baseItem];\n    const categoryProf = actor.system.tools?.[this.type.value];\n    return Math.max(baseItemProf?.value ?? 0, categoryProf?.value ?? 0);\n  }\n}\n","import { filteredKeys } from \"../../utils.mjs\";\nimport { ItemDataModel } from \"../abstract.mjs\";\nimport ActionTemplate from \"./templates/action.mjs\";\nimport ActivatedEffectTemplate from \"./templates/activated-effect.mjs\";\nimport EquippableItemTemplate from \"./templates/equippable-item.mjs\";\nimport IdentifiableTemplate from \"./templates/identifiable.mjs\";\nimport ItemDescriptionTemplate from \"./templates/item-description.mjs\";\nimport PhysicalItemTemplate from \"./templates/physical-item.mjs\";\nimport ItemTypeTemplate from \"./templates/item-type.mjs\";\nimport MountableTemplate from \"./templates/mountable.mjs\";\nimport ItemTypeField from \"./fields/item-type-field.mjs\";\n\nconst { NumberField, SetField, StringField } = foundry.data.fields;\n\n/**\n * Data definition for Weapon items.\n * @mixes ItemDescriptionTemplate\n * @mixes ItemTypeTemplate\n * @mixes IdentifiableTemplate\n * @mixes PhysicalItemTemplate\n * @mixes EquippableItemTemplate\n * @mixes ActivatedEffectTemplate\n * @mixes ActionTemplate\n * @mixes MountableTemplate\n *\n * @property {number} magicalBonus     Magical bonus added to attack & damage rolls.\n * @property {Set<string>} properties  Weapon's properties.\n * @property {number} proficient       Does the weapon's owner have proficiency?\n */\nexport default class WeaponData extends ItemDataModel.mixin(\n  ItemDescriptionTemplate, IdentifiableTemplate, ItemTypeTemplate, PhysicalItemTemplate, EquippableItemTemplate,\n  ActivatedEffectTemplate, ActionTemplate, MountableTemplate\n) {\n  /** @inheritdoc */\n  static defineSchema() {\n    return this.mergeSchema(super.defineSchema(), {\n      type: new ItemTypeField({value: \"simpleM\", subtype: false}, {label: \"DND5E.ItemWeaponType\"}),\n      magicalBonus: new NumberField({min: 0, integer: true, label: \"DND5E.MagicalBonus\"}),\n      properties: new SetField(new StringField(), {label: \"DND5E.ItemWeaponProperties\"}),\n      proficient: new NumberField({\n        required: true, min: 0, max: 1, integer: true, initial: null, label: \"DND5E.ProficiencyLevel\"\n      })\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static metadata = Object.freeze(foundry.utils.mergeObject(super.metadata, {\n    enchantable: true,\n    inventoryItem: true,\n    inventoryOrder: 100\n  }, {inplace: false}));\n\n  /* -------------------------------------------- */\n\n  /** @override */\n  static get compendiumBrowserFilters() {\n    return new Map([\n      [\"type\", {\n        label: \"DND5E.ItemWeaponType\",\n        type: \"set\",\n        config: {\n          choices: CONFIG.DND5E.weaponTypes,\n          keyPath: \"system.type.value\"\n        }\n      }],\n      [\"attunement\", this.compendiumBrowserAttunementFilter],\n      ...this.compendiumBrowserPhysicalItemFilters,\n      [\"properties\", this.compendiumBrowserPropertiesFilter(\"weapon\")]\n    ]);\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Migrations                             */\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  static _migrateData(source) {\n    super._migrateData(source);\n    WeaponData.#migratePropertiesData(source);\n    WeaponData.#migrateProficient(source);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate the properties object into a set.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migratePropertiesData(source) {\n    if ( foundry.utils.getType(source.properties) !== \"Object\" ) return;\n    source.properties = filteredKeys(source.properties);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Migrate the proficient field to convert boolean values.\n   * @param {object} source  The candidate source data from which the model will be constructed.\n   */\n  static #migrateProficient(source) {\n    if ( typeof source.proficient === \"boolean\" ) source.proficient = Number(source.proficient);\n  }\n\n  /* -------------------------------------------- */\n  /*  Data Preparation                            */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareDerivedData() {\n    super.prepareDerivedData();\n    this.type.label = CONFIG.DND5E.weaponTypes[this.type.value] ?? game.i18n.localize(CONFIG.Item.typeLabels.weapon);\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  prepareFinalData() {\n    this.prepareFinalActivatedEffectData();\n    this.prepareFinalEquippableData();\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async getFavoriteData() {\n    return foundry.utils.mergeObject(await super.getFavoriteData(), {\n      subtitle: CONFIG.DND5E.itemActionTypes[this.actionType],\n      modifier: this.parent.labels.modifier,\n      range: this.range\n    });\n  }\n\n  /* -------------------------------------------- */\n  /*  Getters                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Properties displayed in chat.\n   * @type {string[]}\n   */\n  get chatProperties() {\n    return [\n      this.type.label,\n      this.isMountable ? (this.parent.labels?.armor ?? null) : null\n    ];\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Properties displayed on the item card.\n   * @type {string[]}\n   */\n  get cardProperties() {\n    return [\n      this.isMountable ? (this.parent.labels?.armor ?? null) : null\n    ];\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get _typeAbilityMod() {\n    const { str, dex } = this.parent?.actor?.system.abilities ?? {};\n    if ( this.properties.has(\"fin\") && str && dex ) return (dex.mod > str.mod) ? \"dex\" : \"str\";\n    return { simpleM: \"str\", martialM: \"str\", simpleR: \"dex\", martialR: \"dex\" }[this.type.value] ?? null;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritdoc */\n  get _typeCriticalThreshold() {\n    return this.parent?.actor?.flags.dnd5e?.weaponCriticalThreshold ?? Infinity;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Is this item a separate large object like a siege engine or vehicle component that is\n   * usually mounted on fixtures rather than equipped, and has its own AC and HP?\n   * @type {boolean}\n   */\n  get isMountable() {\n    return this.type.value === \"siege\";\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * The proficiency multiplier for this item.\n   * @returns {number}\n   */\n  get proficiencyMultiplier() {\n    if ( Number.isFinite(this.proficient) ) return this.proficient;\n    const actor = this.parent.actor;\n    if ( !actor ) return 0;\n    if ( actor.type === \"npc\" ) return 1; // NPCs are always considered proficient with any weapon in their stat block.\n    const config = CONFIG.DND5E.weaponProficienciesMap;\n    const itemProf = config[this.type.value];\n    const actorProfs = actor.system.traits?.weaponProf?.value ?? new Set();\n    const natural = this.type.value === \"natural\";\n    const improvised = (this.type.value === \"improv\") && !!actor.getFlag(\"dnd5e\", \"tavernBrawlerFeat\");\n    const isProficient = natural || improvised || actorProfs.has(itemProf) || actorProfs.has(this.type.baseItem);\n    return Number(isProficient);\n  }\n}\n","import BackgroundData from \"./background.mjs\";\nimport ClassData from \"./class.mjs\";\nimport ConsumableData from \"./consumable.mjs\";\nimport ContainerData from \"./container.mjs\";\nimport EquipmentData from \"./equipment.mjs\";\nimport FeatData from \"./feat.mjs\";\nimport LootData from \"./loot.mjs\";\nimport RaceData from \"./race.mjs\";\nimport SpellData from \"./spell.mjs\";\nimport SubclassData from \"./subclass.mjs\";\nimport ToolData from \"./tool.mjs\";\nimport WeaponData from \"./weapon.mjs\";\n\nexport {\n  BackgroundData,\n  ClassData,\n  ConsumableData,\n  ContainerData,\n  EquipmentData,\n  FeatData,\n  LootData,\n  RaceData,\n  SpellData,\n  SubclassData,\n  ToolData,\n  WeaponData\n};\nexport {default as EnchantmentField, EnchantmentData, EnchantmentError} from \"./fields/enchantment-field.mjs\";\nexport {default as ItemTypeField} from \"./fields/item-type-field.mjs\";\nexport {default as SummonsField, SummonsData} from \"./fields/summons-field.mjs\";\nexport {default as ActionTemplate} from \"./templates/action.mjs\";\nexport {default as ActivatedEffectTemplate} from \"./templates/activated-effect.mjs\";\nexport {default as EquippableItemTemplate} from \"./templates/equippable-item.mjs\";\nexport {default as IdentifiableTemplate} from \"./templates/identifiable.mjs\";\nexport {default as ItemDescriptionTemplate} from \"./templates/item-description.mjs\";\nexport {default as ItemTypeTemplate} from \"./templates/item-type.mjs\";\nexport {default as MountableTemplate} from \"./templates/mountable.mjs\";\nexport {default as PhysicalItemTemplate} from \"./templates/physical-item.mjs\";\nexport * as startingEquipment from \"./templates/starting-equipment.mjs\";\n\nexport const config = {\n  background: BackgroundData,\n  container: ContainerData,\n  class: ClassData,\n  consumable: ConsumableData,\n  equipment: EquipmentData,\n  feat: FeatData,\n  loot: LootData,\n  race: RaceData,\n  spell: SpellData,\n  subclass: SubclassData,\n  tool: ToolData,\n  weapon: WeaponData\n};\n","/**\n * Data definition for Class Summary journal entry pages.\n *\n * @property {string} item                             UUID of the class item included.\n * @property {object} description\n * @property {string} description.value                Introductory description for the class.\n * @property {string} description.additionalHitPoints  Additional text displayed beneath the hit points section.\n * @property {string} description.additionalTraits     Additional text displayed beneath the traits section.\n * @property {string} description.additionalEquipment  Additional text displayed beneath the equipment section.\n * @property {string} description.subclass             Introduction to the subclass section.\n * @property {string} subclassHeader                   Subclass header to replace the default.\n * @property {Set<string>} subclassItems               UUIDs of all subclasses to display.\n */\nexport default class ClassJournalPageData extends foundry.abstract.DataModel {\n  /** @inheritDoc */\n  static defineSchema() {\n    return {\n      item: new foundry.data.fields.StringField({required: true, label: \"JOURNALENTRYPAGE.DND5E.Class.Item\"}),\n      description: new foundry.data.fields.SchemaField({\n        value: new foundry.data.fields.HTMLField({\n          label: \"JOURNALENTRYPAGE.DND5E.Class.Description\",\n          hint: \"JOURNALENTRYPAGE.DND5E.Class.DescriptionHint\"\n        }),\n        additionalHitPoints: new foundry.data.fields.HTMLField({\n          label: \"JOURNALENTRYPAGE.DND5E.Class.AdditionalHitPoints\",\n          hint: \"JOURNALENTRYPAGE.DND5E.Class.AdditionalHitPointsHint\"\n        }),\n        additionalTraits: new foundry.data.fields.HTMLField({\n          label: \"JOURNALENTRYPAGE.DND5E.Class.AdditionalTraits\",\n          hint: \"JOURNALENTRYPAGE.DND5E.Class.AdditionalTraitsHint\"\n        }),\n        additionalEquipment: new foundry.data.fields.HTMLField({\n          label: \"JOURNALENTRYPAGE.DND5E.Class.AdditionalEquipment\",\n          hint: \"JOURNALENTRYPAGE.DND5E.Class.AdditionalEquipmentHint\"\n        }),\n        subclass: new foundry.data.fields.HTMLField({\n          label: \"JOURNALENTRYPAGE.DND5E.Class.SubclassDescription\",\n          hint: \"JOURNALENTRYPAGE.DND5E.Class.SubclassDescriptionHint\"\n        })\n      }),\n      subclassHeader: new foundry.data.fields.StringField({\n        label: \"JOURNALENTRYPAGE.DND5E.Class.SubclassHeader\"\n      }),\n      subclassItems: new foundry.data.fields.SetField(new foundry.data.fields.StringField(), {\n        label: \"JOURNALENTRYPAGE.DND5E.Class.SubclassItems\"\n      })\n    };\n  }\n}\n","/**\n * Data definition for Map Location journal entry pages.\n *\n * @property {string} code  Code for the location marker on the map.\n */\nexport default class MapLocationJournalPageData extends foundry.abstract.DataModel {\n\n  /** @inheritDoc */\n  static defineSchema() {\n    return {\n      code: new foundry.data.fields.StringField()\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Adjust the number of this entry in the table of contents.\n   * @param {number} number  Current position number.\n   * @returns {{ number: string, adjustment: number }|void}\n   */\n  adjustTOCNumbering(number) {\n    if ( !this.code ) return;\n    return { number: this.code, adjustment: -1 };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Create a control icon for rendering this page on a scene.\n   * @param {object} options  Options passed through to ControlIcon construction.\n   * @returns {PIXI.Container|void}\n   */\n  getControlIcon(options) {\n    if ( !this.code ) return;\n    const { icon: IconClass, ...style } = foundry.utils.mergeObject(\n      CONFIG.DND5E.mapLocationMarker.default,\n      CONFIG.DND5E.mapLocationMarker[this.parent.getFlag(\"dnd5e\", \"mapMarkerStyle\")] ?? {},\n      {inplace: false}\n    );\n    return new IconClass({code: this.code, ...options, ...style});\n  }\n}\n","const { HTMLField, StringField } = foundry.data.fields;\n\n/**\n * Data definition for Rule journal entry pages.\n *\n * @property {string} tooltip  Content to display in tooltip in place of page's text content.\n * @property {string} type     Type of rule represented. Should match an entry defined in `CONFIG.DND5E.ruleTypes`.\n */\nexport default class RuleJournalPageData extends foundry.abstract.DataModel {\n\n  /** @inheritDoc */\n  static defineSchema() {\n    return {\n      tooltip: new HTMLField({label: \"DND5E.Rule.Tooltip\"}),\n      type: new StringField({blank: false, initial: \"rule\", label: \"DND5E.Rule.Type.Label\"})\n    };\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Render a rich tooltip for this page.\n   * @param {EnrichmentOptions} [enrichmentOptions={}]  Options for text enrichment.\n   * @returns {{content: string, classes: string[]}}\n   */\n  async richTooltip(enrichmentOptions={}) {\n    const context = {\n      page: this.parent,\n      type: CONFIG.DND5E.ruleTypes[this.type].label,\n      content: await TextEditor.enrichHTML(this.tooltip || this.parent.text.content, {\n        secrets: false, async: true, relativeTo: this.parent, ...enrichmentOptions\n      })\n    };\n    return {\n      content: await renderTemplate(\"systems/dnd5e/templates/journal/page-rule-tooltip.hbs\", context),\n      classes: [\"dnd5e-tooltip\", \"rule-tooltip\"]\n    };\n  }\n}\n","/**\n * Data definition for Subclass Summary journal entry pages.\n *\n * @property {string} item               UUID of the subclass item included.\n * @property {object} description\n * @property {string} description.value  Introductory description for the subclass.\n */\nexport default class SubclassJournalPageData extends foundry.abstract.DataModel {\n  /** @inheritDoc */\n  static defineSchema() {\n    return {\n      item: new foundry.data.fields.StringField({required: true, label: \"JOURNALENTRYPAGE.DND5E.Subclass.Item\"}),\n      description: new foundry.data.fields.SchemaField({\n        value: new foundry.data.fields.HTMLField({\n          label: \"JOURNALENTRYPAGE.DND5E.Class.Description\",\n          hint: \"JOURNALENTRYPAGE.DND5E.Class.DescriptionHint\"\n        })\n      })\n    };\n  }\n}\n","import ClassJournalPageData from \"./class.mjs\";\nimport MapLocationJournalPageData from \"./map.mjs\";\nimport RuleJournalPageData from \"./rule.mjs\";\nimport SpellListJournalPageData from \"./spells.mjs\";\nimport SubclassJournalPageData from \"./subclass.mjs\";\n\nexport {\n  ClassJournalPageData,\n  MapLocationJournalPageData,\n  RuleJournalPageData,\n  SpellListJournalPageData,\n  SubclassJournalPageData\n};\n\nexport const config = {\n  class: ClassJournalPageData,\n  map: MapLocationJournalPageData,\n  rule: RuleJournalPageData,\n  spells: SpellListJournalPageData,\n  subclass: SubclassJournalPageData\n};\n","import { MappingField } from \"../fields.mjs\";\n\nconst { BooleanField, ForeignDocumentField, NumberField, SchemaField, SetField, StringField } = foundry.data.fields;\n\n/**\n * @typedef {object} SheetPreferences5e\n * @property {number|null} width                      The preferred width of the sheet.\n * @property {number|null} height                     The preferred height of the sheet.\n * @property {Record<string, TabPreferences5e>} tabs  The User's tab preferences.\n */\n\n/**\n * @typedef {object} TabPreferences5e\n * @property {boolean} [collapseSidebar]  Whether this tab should have the sidebar collapsed.\n * @property {boolean} [group]            Whether to group items by type.\n * @property {string} [sort]              The item sort mode.\n */\n\n/**\n * A custom model to validate system flags on User Documents.\n *\n * @property {Set<string>} awardDestinations                  Saved targets from previous use of /award command.\n * @property {object} creation\n * @property {string} creation.scrollExplanation              Default explanation mode for spell scrolls.\n * @property {Record<string, SheetPreferences5e>} sheetPrefs  The User's sheet preferences.\n */\nexport default class UserSystemFlags extends foundry.abstract.DataModel {\n  /** @override */\n  static defineSchema() {\n    return {\n      awardDestinations: new SetField(\n        new ForeignDocumentField(foundry.documents.BaseActor, { idOnly: true }), { required: false }\n      ),\n      creation: new SchemaField({\n        scrollExplanation: new StringField({initial: \"reference\"})\n      }),\n      sheetPrefs: new MappingField(new SchemaField({\n        width: new NumberField({ integer: true, positive: true }),\n        height: new NumberField({ integer: true, positive: true }),\n        tabs: new MappingField(new SchemaField({\n          collapseSidebar: new BooleanField({ required: false }),\n          group: new BooleanField({ required: false, initial: true }),\n          sort: new StringField({ required: false, initial: \"m\", choices: [...foundry.documents.BaseFolder.SORTING_MODES, \"p\"] })\n        }))\n      }))\n    };\n  }\n}\n","import { SummonsData } from \"../data/item/fields/summons-field.mjs\";\nimport aggregateDamageRolls from \"../dice/aggregate-damage-rolls.mjs\";\nimport DamageRoll from \"../dice/damage-roll.mjs\";\nimport simplifyRollFormula from \"../dice/simplify-roll-formula.mjs\";\n\nexport default class ChatMessage5e extends ChatMessage {\n\n  /** @inheritDoc */\n  _initialize(options = {}) {\n    super._initialize(options);\n    // TODO: Remove when v11 support is dropped.\n    if ( game.release.generation > 11 ) Object.defineProperty(this, \"user\", { value: this.author, configurable: true });\n  }\n\n  /* -------------------------------------------- */\n  /*  Properties                                  */\n  /* -------------------------------------------- */\n\n  /**\n   * The currently highlighted token for attack roll evaluation.\n   * @type {Token5e|null}\n   */\n  _highlighted = null;\n\n  /* -------------------------------------------- */\n\n  /**\n   * Should the apply damage options appear?\n   * @type {boolean}\n   */\n  get canApplyDamage() {\n    const type = this.flags.dnd5e?.roll?.type;\n    if ( type && (type !== \"damage\") ) return false;\n    return this.isRoll && this.isContentVisible && !!canvas.tokens?.controlled.length;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Should the select targets options appear?\n   * @type {boolean}\n   */\n  get canSelectTargets() {\n    if ( this.flags.dnd5e?.roll?.type !== \"attack\" ) return false;\n    return this.isRoll && this.isContentVisible;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  get isRoll() {\n    return super.isRoll && !this.flags.dnd5e?.rest;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Should roll DCs and other challenge details be displayed on this card?\n   * @type {boolean}\n   */\n  get shouldDisplayChallenge() {\n    if ( game.user.isGM || (this.user === game.user) ) return true;\n    switch ( game.settings.get(\"dnd5e\", \"challengeVisibility\") ) {\n      case \"all\": return true;\n      case \"player\": return !this.user.isGM;\n      default: return false;\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Rendering                                   */\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async getHTML(...args) {\n    const html = await super.getHTML();\n\n    this._displayChatActionButtons(html);\n    this._highlightCriticalSuccessFailure(html);\n    if ( game.settings.get(\"dnd5e\", \"autoCollapseItemCards\") ) {\n      html.find(\".description.collapsible\").each((i, el) => el.classList.add(\"collapsed\"));\n    }\n\n    this._enrichChatCard(html[0]);\n    this._collapseTrays(html[0]);\n\n    /**\n     * A hook event that fires after dnd5e-specific chat message modifications have completed.\n     * @function dnd5e.renderChatMessage\n     * @memberof hookEvents\n     * @param {ChatMessage5e} message  Chat message being rendered.\n     * @param {HTMLElement} html       HTML contents of the message.\n     */\n    Hooks.callAll(\"dnd5e.renderChatMessage\", this, html[0]);\n\n    return html;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle collapsing or expanding trays depending on user settings.\n   * @param {HTMLElement} html  Rendered contents of the message.\n   */\n  _collapseTrays(html) {\n    let collapse;\n    switch ( game.settings.get(\"dnd5e\", \"autoCollapseChatTrays\") ) {\n      case \"always\": collapse = true; break;\n      case \"never\": collapse = false; break;\n      // Collapse chat message trays older than 5 minutes\n      case \"older\": collapse = this.timestamp < Date.now() - (5 * 60 * 1000); break;\n    }\n    for ( const tray of html.querySelectorAll(\".card-tray, .effects-tray\") ) {\n      tray.classList.toggle(\"collapsed\", collapse);\n    }\n    for ( const element of html.querySelectorAll(\"damage-application\") ) {\n      element.toggleAttribute(\"open\", !collapse);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Optionally hide the display of chat card action buttons which cannot be performed by the user\n   * @param {jQuery} html     Rendered contents of the message.\n   * @protected\n   */\n  _displayChatActionButtons(html) {\n    const chatCard = html.find(\".dnd5e.chat-card, .dnd5e2.chat-card\");\n    if ( chatCard.length > 0 ) {\n      const flavor = html.find(\".flavor-text\");\n      if ( flavor.text() === html.find(\".item-name\").text() ) flavor.remove();\n\n      if ( this.shouldDisplayChallenge ) chatCard[0].dataset.displayChallenge = \"\";\n\n      // Conceal effects that the user cannot apply.\n      chatCard.find(\".effects-tray .effect\").each((i, el) => {\n        if ( !game.user.isGM && ((el.dataset.transferred === \"false\") || (this.user.id !== game.user.id)) ) el.remove();\n      });\n\n      // If the user is the message author or the actor owner, proceed\n      let actor = game.actors.get(this.speaker.actor);\n      if ( game.user.isGM || actor?.isOwner || (this.user.id === game.user.id) ) {\n        const optionallyHide = (selector, hide) => {\n          const element = chatCard[0].querySelector(selector);\n          if ( element && hide ) element.style.display = \"none\";\n        };\n        optionallyHide('button[data-action=\"summon\"]', !SummonsData.canSummon);\n        optionallyHide('button[data-action=\"placeTemplate\"]', !game.user.can(\"TEMPLATE_CREATE\"));\n        optionallyHide('button[data-action=\"consumeUsage\"]', this.getFlag(\"dnd5e\", \"use.consumedUsage\"));\n        optionallyHide('button[data-action=\"consumeResource\"]', this.getFlag(\"dnd5e\", \"use.consumedResource\"));\n        return;\n      }\n\n      // Otherwise conceal action buttons except for saving throw\n      const buttons = chatCard.find(\"button[data-action]:not(.apply-effect)\");\n      buttons.each((i, btn) => {\n        if ( [\"save\", \"rollRequest\", \"concentration\"].includes(btn.dataset.action) ) return;\n        btn.style.display = \"none\";\n      });\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Highlight critical success or failure on d20 rolls.\n   * @param {jQuery} html     Rendered contents of the message.\n   * @protected\n   */\n  _highlightCriticalSuccessFailure(html) {\n    if ( !this.isContentVisible || !this.rolls.length ) return;\n    const originatingMessage = game.messages.get(this.getFlag(\"dnd5e\", \"originatingMessage\")) ?? this;\n    const displayChallenge = originatingMessage?.shouldDisplayChallenge;\n    const displayAttackResult = game.user.isGM || (game.settings.get(\"dnd5e\", \"attackRollVisibility\") !== \"none\");\n\n    /**\n     * Create an icon to indicate success or failure.\n     * @param {string} cls  The icon class.\n     * @returns {HTMLElement}\n     */\n    function makeIcon(cls) {\n      const icon = document.createElement(\"i\");\n      icon.classList.add(\"fas\", cls);\n      icon.setAttribute(\"inert\", \"\");\n      return icon;\n    }\n\n    // Highlight rolls where the first part is a d20 roll\n    for ( let [index, d20Roll] of this.rolls.entries() ) {\n\n      const d0 = d20Roll.dice[0];\n      if ( (d0?.faces !== 20) || (d0?.values.length !== 1) ) continue;\n\n      d20Roll = dnd5e.dice.D20Roll.fromRoll(d20Roll);\n      const d = d20Roll.dice[0];\n\n      const isModifiedRoll = (\"success\" in d.results[0]) || d.options.marginSuccess || d.options.marginFailure;\n      if ( isModifiedRoll ) continue;\n\n      // Highlight successes and failures\n      const total = html.find(\".dice-total\")[index];\n      if ( !total ) continue;\n      // Only attack rolls and death saves can crit or fumble.\n      const canCrit = [\"attack\", \"death\"].includes(this.getFlag(\"dnd5e\", \"roll.type\"));\n      const isAttack = this.getFlag(\"dnd5e\", \"roll.type\") === \"attack\";\n      const showResult = isAttack ? displayAttackResult : displayChallenge;\n      if ( d.options.target && showResult ) {\n        if ( d20Roll.total >= d.options.target ) total.classList.add(\"success\");\n        else total.classList.add(\"failure\");\n      }\n      if ( canCrit && d20Roll.isCritical ) total.classList.add(\"critical\");\n      if ( canCrit && d20Roll.isFumble ) total.classList.add(\"fumble\");\n\n      const icons = document.createElement(\"div\");\n      icons.classList.add(\"icons\");\n      if ( total.classList.contains(\"critical\") ) icons.append(makeIcon(\"fa-check\"), makeIcon(\"fa-check\"));\n      else if ( total.classList.contains(\"fumble\") ) icons.append(makeIcon(\"fa-xmark\"), makeIcon(\"fa-xmark\"));\n      else if ( total.classList.contains(\"success\") ) icons.append(makeIcon(\"fa-check\"));\n      else if ( total.classList.contains(\"failure\") ) icons.append(makeIcon(\"fa-xmark\"));\n      if ( icons.children.length ) total.append(icons);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Augment the chat card markup for additional styling.\n   * @param {HTMLElement} html  The chat card markup.\n   * @protected\n   */\n  _enrichChatCard(html) {\n    // Header matter\n    const { scene: sceneId, token: tokenId, actor: actorId } = this.speaker;\n    const actor = game.scenes.get(sceneId)?.tokens.get(tokenId)?.actor ?? game.actors.get(actorId);\n\n    let img;\n    let nameText;\n    if ( this.isContentVisible ) {\n      img = actor?.img ?? this.user.avatar;\n      nameText = this.alias;\n    } else {\n      img = this.user.avatar;\n      nameText = this.user.name;\n    }\n\n    const avatar = document.createElement(\"a\");\n    avatar.classList.add(\"avatar\");\n    if ( actor ) avatar.dataset.uuid = actor.uuid;\n    avatar.innerHTML = `<img src=\"${img}\" alt=\"${nameText}\">`;\n\n    const name = document.createElement(\"span\");\n    name.classList.add(\"name-stacked\");\n    name.innerHTML = `<span class=\"title\">${nameText}</span>`;\n\n    const subtitle = document.createElement(\"span\");\n    subtitle.classList.add(\"subtitle\");\n    if ( this.whisper.length ) subtitle.innerText = html.querySelector(\".whisper-to\")?.innerText ?? \"\";\n    if ( (nameText !== this.user?.name) && !subtitle.innerText.length ) subtitle.innerText = this.user?.name ?? \"\";\n\n    name.appendChild(subtitle);\n\n    const sender = html.querySelector(\".message-sender\");\n    sender?.replaceChildren(avatar, name);\n    html.querySelector(\".whisper-to\")?.remove();\n\n    // Context menu\n    const metadata = html.querySelector(\".message-metadata\");\n    metadata.querySelector(\".message-delete\")?.remove();\n    const anchor = document.createElement(\"a\");\n    anchor.setAttribute(\"aria-label\", game.i18n.localize(\"DND5E.AdditionalControls\"));\n    anchor.classList.add(\"chat-control\");\n    anchor.dataset.contextMenu = \"\";\n    anchor.innerHTML = '<i class=\"fas fa-ellipsis-vertical fa-fw\"></i>';\n    metadata.appendChild(anchor);\n\n    // SVG icons\n    html.querySelectorAll(\"i.dnd5e-icon\").forEach(el => {\n      const icon = document.createElement(\"dnd5e-icon\");\n      icon.src = el.dataset.src;\n      el.replaceWith(icon);\n    });\n\n    // Enriched roll flavor\n    const roll = this.getFlag(\"dnd5e\", \"roll\");\n    const item = fromUuidSync(roll?.itemUuid);\n    if ( this.isContentVisible && item ) {\n      const isCritical = (roll.type === \"damage\") && this.rolls[0]?.options?.critical;\n      const subtitle = roll.type === \"damage\"\n        ? isCritical ? game.i18n.localize(\"DND5E.CriticalHit\") : game.i18n.localize(\"DND5E.DamageRoll\")\n        : roll.type === \"attack\"\n          ? game.i18n.localize(`DND5E.Action${item.system.actionType.toUpperCase()}`)\n          : item.system.type?.label ?? game.i18n.localize(CONFIG.Item.typeLabels[item.type]);\n      const flavor = document.createElement(\"div\");\n      flavor.classList.add(\"dnd5e2\", \"chat-card\");\n      flavor.innerHTML = `\n        <section class=\"card-header description ${isCritical ? \"critical\" : \"\"}\">\n          <header class=\"summary\">\n            <img class=\"gold-icon\" src=\"${item.img}\" alt=\"${item.name}\">\n            <div class=\"name-stacked\">\n              <span class=\"title\">${item.name}</span>\n              <span class=\"subtitle\">${subtitle}</span>\n            </div>\n          </header>\n        </section>\n      `;\n      html.querySelector(\".message-header .flavor-text\").remove();\n      html.querySelector(\".message-content\").insertAdjacentElement(\"afterbegin\", flavor);\n    }\n\n    // Attack targets\n    this._enrichAttackTargets(html);\n\n    // Dice rolls\n    if ( this.isContentVisible ) {\n      html.querySelectorAll(\".dice-tooltip\").forEach((el, i) => {\n        if ( !(roll instanceof DamageRoll) && this.rolls[i] ) this._enrichRollTooltip(this.rolls[i], el);\n      });\n      this._enrichDamageTooltip(this.rolls.filter(r => r instanceof DamageRoll), html);\n      this._enrichEnchantmentTooltip(html);\n      html.querySelectorAll(\".dice-roll\").forEach(el => el.addEventListener(\"click\", this._onClickDiceRoll.bind(this)));\n    } else {\n      html.querySelectorAll(\".dice-roll\").forEach(el => el.classList.add(\"secret-roll\"));\n    }\n\n    avatar.addEventListener(\"click\", this._onTargetMouseDown.bind(this));\n    avatar.addEventListener(\"pointerover\", this._onTargetHoverIn.bind(this));\n    avatar.addEventListener(\"pointerout\", this._onTargetHoverOut.bind(this));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Augment roll tooltips with some additional information and styling.\n   * @param {Roll} roll            The roll instance.\n   * @param {HTMLDivElement} html  The roll tooltip markup.\n   */\n  _enrichRollTooltip(roll, html) {\n    const constant = Number(simplifyRollFormula(roll._formula, { deterministic: true }));\n    if ( !constant ) return;\n    const sign = constant < 0 ? \"-\" : \"+\";\n    const part = document.createElement(\"section\");\n    part.classList.add(\"tooltip-part\", \"constant\");\n    part.innerHTML = `\n      <div class=\"dice\">\n        <ol class=\"dice-rolls\"></ol>\n        <div class=\"total\">\n          <span class=\"value\"><span class=\"sign\">${sign}</span>${Math.abs(constant)}</span>\n        </div>\n      </div>\n    `;\n    html.appendChild(part);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Augment attack cards with additional information.\n   * @param {HTMLLIElement} html   The chat card.\n   * @protected\n   */\n  _enrichAttackTargets(html) {\n    const attackRoll = this.rolls[0];\n    const targets = this.getFlag(\"dnd5e\", \"targets\");\n    const visibility = game.settings.get(\"dnd5e\", \"attackRollVisibility\");\n    const isVisible = game.user.isGM || (visibility !== \"none\");\n    if ( !isVisible || !(attackRoll instanceof dnd5e.dice.D20Roll) || !targets?.length ) return;\n    const tray = document.createElement(\"div\");\n    tray.classList.add(\"dnd5e2\");\n    tray.innerHTML = `\n      <div class=\"card-tray targets-tray collapsible collapsed\">\n        <label class=\"roboto-upper\">\n          <i class=\"fas fa-bullseye\" inert></i>\n          <span>${game.i18n.localize(\"DND5E.TargetPl\")}</span>\n          <i class=\"fas fa-caret-down\" inert></i>\n        </label>\n        <div class=\"collapsible-content\">\n          <ul class=\"dnd5e2 unlist evaluation wrapper\"></ul>\n        </div>\n      </div>\n    `;\n    const evaluation = tray.querySelector(\"ul\");\n    evaluation.innerHTML = targets.map(({ name, ac, uuid }) => {\n      if ( !game.user.isGM && (visibility !== \"all\") ) ac = \"\";\n      const isMiss = !attackRoll.isCritical && ((attackRoll.total < ac) || attackRoll.isFumble);\n      return [`\n        <li data-uuid=\"${uuid}\" class=\"target ${isMiss ? \"miss\" : \"hit\"}\">\n          <i class=\"fas ${isMiss ? \"fa-times\" : \"fa-check\"}\"></i>\n          <div class=\"name\">${name}</div>\n          ${ac ? `\n          <div class=\"ac\">\n            <i class=\"fas fa-shield-halved\"></i>\n            <span>${ac}</span>\n          </div>\n          ` : \"\"}\n        </li>\n      `, isMiss];\n    }).sort((a, b) => (a[1] === b[1]) ? 0 : a[1] ? 1 : -1).reduce((str, [li]) => str + li, \"\");\n    evaluation.querySelectorAll(\"li.target\").forEach(target => {\n      target.addEventListener(\"click\", this._onTargetMouseDown.bind(this));\n      target.addEventListener(\"pointerover\", this._onTargetHoverIn.bind(this));\n      target.addEventListener(\"pointerout\", this._onTargetHoverOut.bind(this));\n    });\n    html.querySelector(\".message-content\")?.appendChild(tray);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Coalesce damage rolls into a single breakdown.\n   * @param {DamageRoll[]} rolls  The damage rolls.\n   * @param {HTMLElement} html    The chat card markup.\n   * @protected\n   */\n  _enrichDamageTooltip(rolls, html) {\n    if ( !rolls.length ) return;\n    const aggregatedRolls = CONFIG.DND5E.aggregateDamageDisplay ? aggregateDamageRolls(rolls) : rolls;\n    let { formula, total, breakdown } = aggregatedRolls.reduce((obj, r) => {\n      obj.formula.push(CONFIG.DND5E.aggregateDamageDisplay ? r.formula : ` + ${r.formula}`);\n      obj.total += r.total;\n      this._aggregateDamageRoll(r, obj.breakdown);\n      return obj;\n    }, { formula: [], total: 0, breakdown: {} });\n    formula = formula.join(\"\").replace(/^ \\+ /, \"\");\n    html.querySelectorAll(\".dice-roll\").forEach(el => el.remove());\n    const roll = document.createElement(\"div\");\n    roll.classList.add(\"dice-roll\");\n\n    const tooltipContents = Object.entries(breakdown).reduce((str, [type, { total, constant, dice }]) => {\n      const config = CONFIG.DND5E.damageTypes[type] ?? CONFIG.DND5E.healingTypes[type];\n      return `${str}\n        <section class=\"tooltip-part\">\n          <div class=\"dice\">\n            <ol class=\"dice-rolls\">\n              ${dice.reduce((str, { result, classes }) => `\n                ${str}<li class=\"roll ${classes}\">${result}</li>\n              `, \"\")}\n              ${constant ? `\n              <li class=\"constant\"><span class=\"sign\">${constant < 0 ? \"-\" : \"+\"}</span>${Math.abs(constant)}</li>\n              ` : \"\"}\n            </ol>\n            <div class=\"total\">\n              ${config ? `<img src=\"${config.icon}\" alt=\"${config.label}\">` : \"\"}\n              <span class=\"label\">${config?.label ?? \"\"}</span>\n              <span class=\"value\">${total}</span>\n            </div>\n          </div>\n        </section>\n      `;\n    }, \"\");\n\n    roll.innerHTML = `\n      <div class=\"dice-result\">\n        <div class=\"dice-formula\">${formula}</div>\n        <div class=\"dice-tooltip-collapser\">\n          <div class=\"dice-tooltip\">\n            ${tooltipContents}\n          </div>\n        </div>\n        <h4 class=\"dice-total\">${total}</h4>\n      </div>\n    `;\n    html.querySelector(\".message-content\").appendChild(roll);\n\n    if ( game.user.isGM ) {\n      const damageApplication = document.createElement(\"damage-application\");\n      damageApplication.classList.add(\"dnd5e2\");\n      damageApplication.damages = aggregateDamageRolls(rolls, { respectProperties: true }).map(roll => ({\n        value: roll.total,\n        type: roll.options.type,\n        properties: new Set(roll.options.properties ?? [])\n      }));\n      html.querySelector(\".message-content\").appendChild(damageApplication);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Aggregate damage roll information by damage type.\n   * @param {DamageRoll} roll  The damage roll.\n   * @param {Record<string, {total: number, constant: number, dice: {result: string, classes: string}[]}>} breakdown\n   * @protected\n   */\n  _aggregateDamageRoll(roll, breakdown) {\n    const aggregate = breakdown[roll.options.type] ??= { total: roll.total, constant: 0, dice: [] };\n    for ( let i = roll.terms.length - 1; i >= 0; ) {\n      const term = roll.terms[i--];\n      if ( !(term instanceof NumericTerm) && !(term instanceof DiceTerm) ) continue;\n      const value = term.total;\n      if ( term instanceof DiceTerm ) aggregate.dice.push(...term.results.map(r => ({\n        result: term.getResultLabel(r), classes: term.getResultCSS(r).filterJoin(\" \")\n      })));\n      let multiplier = 1;\n      let operator = roll.terms[i];\n      while ( operator instanceof OperatorTerm ) {\n        if ( operator.operator === \"-\" ) multiplier *= -1;\n        operator = roll.terms[--i];\n      }\n      if ( term instanceof NumericTerm ) aggregate.constant += value * multiplier;\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Display the enrichment application interface if necessary.\n   * @param {HTMLLIElement} html   The chat card.\n   * @protected\n   */\n  _enrichEnchantmentTooltip(html) {\n    const enchantmentProfile = this.getFlag(\"dnd5e\", \"use.enchantmentProfile\");\n    if ( !enchantmentProfile ) return;\n\n    // Ensure concentration is still being maintained\n    const concentrationId = this.getFlag(\"dnd5e\", \"use.concentrationId\");\n    if ( concentrationId && !this.getAssociatedActor()?.effects.get(concentrationId) ) return;\n\n    // Create the enchantment tray\n    const enchantmentApplication = document.createElement(\"enchantment-application\");\n    enchantmentApplication.classList.add(\"dnd5e2\");\n    const afterElement = html.querySelector(\".card-footer\") ?? html.querySelector(\".effects-tray\");\n    afterElement.insertAdjacentElement(\"beforebegin\", enchantmentApplication);\n  }\n\n  /* -------------------------------------------- */\n  /*  Event Handlers                              */\n  /* -------------------------------------------- */\n\n  /**\n   * This function is used to hook into the Chat Log context menu to add additional options to each message\n   * These options make it easy to conveniently apply damage to controlled tokens based on the value of a Roll\n   *\n   * @param {HTMLElement} html    The Chat Message being rendered\n   * @param {object[]} options    The Array of Context Menu options\n   *\n   * @returns {object[]}          The extended options Array including new context choices\n   */\n  static addChatMessageContextOptions(html, options) {\n    const canApply = ([li]) => game.messages.get(li.dataset.messageId)?.canApplyDamage;\n    const canTarget = ([li]) => game.messages.get(li.dataset.messageId)?.canSelectTargets;\n    options.push(\n      {\n        name: game.i18n.localize(\"DND5E.ChatContextDamage\"),\n        icon: '<i class=\"fas fa-user-minus\"></i>',\n        condition: canApply,\n        callback: li => game.messages.get(li.data(\"messageId\"))?.applyChatCardDamage(li, 1),\n        group: \"damage\"\n      },\n      {\n        name: game.i18n.localize(\"DND5E.ChatContextHealing\"),\n        icon: '<i class=\"fas fa-user-plus\"></i>',\n        condition: canApply,\n        callback: li => game.messages.get(li.data(\"messageId\"))?.applyChatCardDamage(li, -1),\n        group: \"damage\"\n      },\n      {\n        name: game.i18n.localize(\"DND5E.ChatContextTempHP\"),\n        icon: '<i class=\"fas fa-user-clock\"></i>',\n        condition: canApply,\n        callback: li => game.messages.get(li.data(\"messageId\"))?.applyChatCardTemp(li),\n        group: \"damage\"\n      },\n      {\n        name: game.i18n.localize(\"DND5E.ChatContextDoubleDamage\"),\n        icon: '<i class=\"fas fa-user-injured\"></i>',\n        condition: canApply,\n        callback: li => game.messages.get(li.data(\"messageId\"))?.applyChatCardDamage(li, 2),\n        group: \"damage\"\n      },\n      {\n        name: game.i18n.localize(\"DND5E.ChatContextHalfDamage\"),\n        icon: '<i class=\"fas fa-user-shield\"></i>',\n        condition: canApply,\n        callback: li => game.messages.get(li.data(\"messageId\"))?.applyChatCardDamage(li, 0.5),\n        group: \"damage\"\n      },\n      {\n        name: game.i18n.localize(\"DND5E.ChatContextSelectHit\"),\n        icon: '<i class=\"fas fa-bullseye\"></i>',\n        condition: canTarget,\n        callback: ([li]) => game.messages.get(li.dataset.messageId)?.selectTargets(li, \"hit\"),\n        group: \"attack\"\n      },\n      {\n        name: game.i18n.localize(\"DND5E.ChatContextSelectMiss\"),\n        icon: '<i class=\"fas fa-bullseye\"></i>',\n        condition: canTarget,\n        callback: ([li]) => game.messages.get(li.dataset.messageId)?.selectTargets(li, \"miss\"),\n        group: \"attack\"\n      }\n    );\n    return options;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle target selection and panning.\n   * @param {Event} event   The triggering event.\n   * @returns {Promise}     A promise that resolves once the canvas pan has completed.\n   * @protected\n   */\n  async _onTargetMouseDown(event) {\n    event.stopPropagation();\n    const uuid = event.currentTarget.dataset.uuid;\n    const actor = fromUuidSync(uuid);\n    const token = actor?.token?.object ?? actor?.getActiveTokens()[0];\n    if ( !token || !actor.testUserPermission(game.user, \"OBSERVER\")) return;\n    const releaseOthers = !event.shiftKey;\n    if ( token.controlled ) token.release();\n    else {\n      token.control({ releaseOthers });\n      return canvas.animatePan(token.center);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle hovering over a target in an attack roll message.\n   * @param {Event} event     Initiating hover event.\n   * @protected\n   */\n  _onTargetHoverIn(event) {\n    const uuid = event.currentTarget.dataset.uuid;\n    const actor = fromUuidSync(uuid);\n    const token = actor?.token?.object ?? actor?.getActiveTokens()[0];\n    if ( token && token.isVisible ) {\n      if ( !token.controlled ) token._onHoverIn(event, { hoverOutOthers: true });\n      this._highlighted = token;\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle hovering out of a target in an attack roll message.\n   * @param {Event} event     Initiating hover event.\n   * @protected\n   */\n  _onTargetHoverOut(event) {\n    if ( this._highlighted ) this._highlighted._onHoverOut(event);\n    this._highlighted = null;\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Apply rolled dice damage to the token or tokens which are currently controlled.\n   * This allows for damage to be scaled by a multiplier to account for healing, critical hits, or resistance\n   *\n   * @param {HTMLElement} li      The chat entry which contains the roll data\n   * @param {number} multiplier   A damage multiplier to apply to the rolled damage.\n   * @returns {Promise}\n   */\n  applyChatCardDamage(li, multiplier) {\n    const damages = aggregateDamageRolls(this.rolls, { respectProperties: true }).map(roll => ({\n      value: roll.total,\n      type: roll.options.type,\n      properties: new Set(roll.options.properties ?? [])\n    }));\n    return Promise.all(canvas.tokens.controlled.map(t => {\n      return t.actor?.applyDamage(damages, { multiplier, invertHealing: false, ignore: true });\n    }));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Select the hit or missed targets.\n   * @param {HTMLElement} li    The chat entry which contains the roll data.\n   * @param {string} type       The type of selection ('hit' or 'miss').\n   */\n  selectTargets(li, type) {\n    if ( !canvas?.ready ) return;\n    const lis = li.closest(\"[data-message-id]\").querySelectorAll(`.evaluation li.target.${type}`);\n    const uuids = new Set(Array.from(lis).map(n => n.dataset.uuid));\n    canvas.tokens.releaseAll();\n    uuids.forEach(uuid => {\n      const actor = fromUuidSync(uuid);\n      if ( !actor ) return;\n      const tokens = actor.isToken ? [actor.token?.object] : actor.getActiveTokens();\n      for ( const token of tokens ) {\n        if ( token?.isVisible && actor.testUserPermission(game.user, \"OWNER\") ) {\n          token.control({ releaseOthers: false });\n        }\n      }\n    });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Apply rolled dice as temporary hit points to the controlled token(s).\n   * @param {HTMLElement} li  The chat entry which contains the roll data\n   * @returns {Promise}\n   */\n  applyChatCardTemp(li) {\n    const total = this.rolls.reduce((acc, roll) => acc + roll.total, 0);\n    return Promise.all(canvas.tokens.controlled.map(t => {\n      return t.actor?.applyTempHP(total);\n    }));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle dice roll expansion.\n   * @param {PointerEvent} event  The triggering event.\n   * @protected\n   */\n  _onClickDiceRoll(event) {\n    event.stopPropagation();\n    const target = event.currentTarget;\n    target.classList.toggle(\"expanded\");\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle rendering a chat popout.\n   * @param {ChatPopout} app  The ChatPopout Application instance.\n   * @param {jQuery} html     The rendered Application HTML.\n   */\n  static onRenderChatPopout(app, [html]) {\n    const close = html.querySelector(\".header-button.close\");\n    close.innerHTML = '<i class=\"fas fa-times\"></i>';\n    close.dataset.tooltip = game.i18n.localize(\"Close\");\n    close.setAttribute(\"aria-label\", close.dataset.tooltip);\n    html.querySelector(\".message-metadata [data-context-menu]\")?.remove();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Wait to apply appropriate element heights until after the chat log has completed its initial batch render.\n   * @param {jQuery} html  The chat log HTML.\n   */\n  static onRenderChatLog([html]) {\n    if ( !game.settings.get(\"dnd5e\", \"autoCollapseItemCards\") ) {\n      requestAnimationFrame(() => {\n        // FIXME: Allow time for transitions to complete. Adding a transitionend listener does not appear to work, so\n        // the transition time is hard-coded for now.\n        setTimeout(() => ui.chat.scrollBottom(), 250);\n      });\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Helpers                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Get the Actor which is the author of a chat card.\n   * @returns {Actor|void}\n   */\n  getAssociatedActor() {\n    if ( this.speaker.scene && this.speaker.token ) {\n      const scene = game.scenes.get(this.speaker.scene);\n      const token = scene?.tokens.get(this.speaker.token);\n      if ( token ) return token.actor;\n    }\n    return game.actors.get(this.speaker.actor);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Get the item associated with this chat card.\n   * @returns {Item5e|void}\n   */\n  getAssociatedItem() {\n    const actor = this.getAssociatedActor();\n    if ( !actor ) return;\n    const storedData = this.getFlag(\"dnd5e\", \"itemData\");\n    return storedData\n      ? new Item.implementation(storedData, { parent: actor })\n      : actor.items.get(this.getFlag(\"dnd5e\", \"use.itemId\"));\n  }\n}\n","/**\n * Extended version of Combat to trigger events on combat start & turn changes.\n */\nexport default class Combat5e extends Combat {\n\n  /** @inheritDoc */\n  async startCombat() {\n    await super.startCombat();\n    this.combatant?.refreshDynamicRing();\n    return this;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async nextTurn() {\n    const previous = this.combatant;\n    await super.nextTurn();\n    if ( previous && (previous !== this.combatant) ) previous.refreshDynamicRing();\n    this.combatant?.refreshDynamicRing();\n    return this;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async previousTurn() {\n    const previous = this.combatant;\n    await super.previousTurn();\n    if ( previous && (previous !== this.combatant) ) previous.refreshDynamicRing();\n    this.combatant?.refreshDynamicRing();\n    return this;\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  async endCombat() {\n    const previous = this.combatant;\n    await super.endCombat();\n    previous?.refreshDynamicRing();\n    return this;\n  }\n}\n\n","/**\n * Custom combatant with custom initiative roll handling.\n */\nexport default class Combatant5e extends Combatant {\n  /** @override */\n  getInitiativeRoll(formula) {\n    if ( !this.actor ) return new CONFIG.Dice.D20Roll(formula ?? \"1d20\", {});\n    return this.actor.getInitiativeRoll();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Trigger this combatant's dynamic token to refresh.\n   */\n  refreshDynamicRing() {\n    if ( !this.token?.hasDynamicRing ) return;\n    if ( game.release.generation < 12 ) {\n      this.token.object?.ring.configureVisuals(foundry.utils.deepClone(this.token.getFlag(\"dnd5e\", \"tokenRing\") ?? {}));\n    } else this.token.object?.renderFlags.set({refreshRingVisuals: true});\n  }\n\n  /* -------------------------------------------- */\n\n  /** @inheritDoc */\n  _onDelete(options, userId) {\n    requestAnimationFrame(() => this.refreshDynamicRing());\n  }\n}\n","import UserSystemFlags from \"../data/user/user-system-flags.mjs\";\nimport SystemFlagsMixin from \"./mixins/flags.mjs\";\n\n/**\n * Extend the basic User implementation.\n * @extends {User}\n */\nexport default class User5e extends SystemFlagsMixin(User) {\n  /** @inheritDoc */\n  get _systemFlagsDataModel() {\n    return UserSystemFlags;\n  }\n}\n","// Document Classes\nexport {default as ActiveEffect5e} from \"./active-effect.mjs\";\nexport {default as Actor5e} from \"./actor/actor.mjs\";\nexport * as advancement from \"./advancement/_module.mjs\";\nexport {default as ChatMessage5e} from \"./chat-message.mjs\";\nexport {default as Combat5e} from \"./combat.mjs\";\nexport {default as Combatant5e} from \"./combatant.mjs\";\nexport {default as Item5e} from \"./item.mjs\";\nexport {default as TokenDocument5e} from \"./token.mjs\";\nexport {default as User5e} from \"./user.mjs\";\n\n// Helper Methods\nexport {default as HitDice} from \"./actor/hit-dice.mjs\";\nexport {default as Proficiency} from \"./actor/proficiency.mjs\";\nexport {default as SelectChoices} from \"./actor/select-choices.mjs\";\nexport * as Trait from \"./actor/trait.mjs\";\nexport * as mixins from \"./mixins/_module.mjs\";\nexport * as macro from \"./macro.mjs\";\n","/**\n * Perform a system migration for the entire World, applying migrations for Actors, Items, and Compendium packs\n * @returns {Promise}      A Promise which resolves once the migration is completed\n */\nexport const migrateWorld = async function() {\n  const version = game.system.version;\n  ui.notifications.info(game.i18n.format(\"MIGRATION.5eBegin\", {version}), {permanent: true});\n\n  const migrationData = await getMigrationData();\n\n  // Migrate World Actors\n  const actors = game.actors.map(a => [a, true])\n    .concat(Array.from(game.actors.invalidDocumentIds).map(id => [game.actors.getInvalid(id), false]));\n  for ( const [actor, valid] of actors ) {\n    try {\n      const flags = { persistSourceMigration: false };\n      const source = valid ? actor.toObject() : game.data.actors.find(a => a._id === actor.id);\n      const version = actor._stats.systemVersion;\n      let updateData = migrateActorData(source, migrationData, flags, { actorUuid: actor.uuid });\n      if ( !foundry.utils.isEmpty(updateData) ) {\n        console.log(`Migrating Actor document ${actor.name}`);\n        if ( flags.persistSourceMigration ) {\n          updateData = foundry.utils.mergeObject(source, updateData, {inplace: false});\n        }\n        await actor.update(updateData, {\n          enforceTypes: false, diff: valid && !flags.persistSourceMigration, render: false\n        });\n      }\n      if ( actor.effects && actor.items && foundry.utils.isNewerVersion(\"3.0.3\", version) ) {\n        const deleteIds = _duplicatedEffects(actor);\n        if ( deleteIds.size ) await actor.deleteEmbeddedDocuments(\"ActiveEffect\", Array.from(deleteIds), {\n          render: false\n        });\n      }\n    } catch(err) {\n      err.message = `Failed dnd5e system migration for Actor ${actor.name}: ${err.message}`;\n      console.error(err);\n    }\n  }\n\n  // Migrate World Items\n  const items = game.items.map(i => [i, true])\n    .concat(Array.from(game.items.invalidDocumentIds).map(id => [game.items.getInvalid(id), false]));\n  for ( const [item, valid] of items ) {\n    try {\n      const flags = { persistSourceMigration: false };\n      const source = valid ? item.toObject() : game.data.items.find(i => i._id === item.id);\n      let updateData = migrateItemData(source, migrationData, flags);\n      if ( !foundry.utils.isEmpty(updateData) ) {\n        console.log(`Migrating Item document ${item.name}`);\n        if ( flags.persistSourceMigration ) {\n          updateData = foundry.utils.mergeObject(source, updateData, {inplace: false});\n        }\n        await item.update(updateData, {\n          enforceTypes: false, diff: valid && !flags.persistSourceMigration, render: false\n        });\n      }\n    } catch(err) {\n      err.message = `Failed dnd5e system migration for Item ${item.name}: ${err.message}`;\n      console.error(err);\n    }\n  }\n\n  // Migrate World Macros\n  for ( const m of game.macros ) {\n    try {\n      const updateData = migrateMacroData(m.toObject(), migrationData);\n      if ( !foundry.utils.isEmpty(updateData) ) {\n        console.log(`Migrating Macro document ${m.name}`);\n        await m.update(updateData, {enforceTypes: false, render: false});\n      }\n    } catch(err) {\n      err.message = `Failed dnd5e system migration for Macro ${m.name}: ${err.message}`;\n      console.error(err);\n    }\n  }\n\n  // Migrate World Roll Tables\n  for ( const table of game.tables ) {\n    try {\n      const updateData = migrateRollTableData(table.toObject(), migrationData);\n      if ( !foundry.utils.isEmpty(updateData) ) {\n        console.log(`Migrating RollTable document ${table.name}`);\n        await table.update(updateData, { enforceTypes: false, render: false });\n      }\n    } catch(err) {\n      err.message = `Failed dnd5e system migration for RollTable ${table.name}: ${err.message}`;\n      console.error(err);\n    }\n  }\n\n  // Migrate Actor Override Tokens\n  for ( const s of game.scenes ) {\n    try {\n      const updateData = migrateSceneData(s, migrationData);\n      if ( !foundry.utils.isEmpty(updateData) ) {\n        console.log(`Migrating Scene document ${s.name}`);\n        await s.update(updateData, {enforceTypes: false, render: false});\n      }\n    } catch(err) {\n      err.message = `Failed dnd5e system migration for Scene ${s.name}: ${err.message}`;\n      console.error(err);\n    }\n\n    // Migrate ActorDeltas individually in order to avoid issues with ActorDelta bulk updates.\n    for ( const token of s.tokens ) {\n      if ( token.actorLink || !token.actor ) continue;\n      try {\n        const flags = { persistSourceMigration: false };\n        const source = token.actor.toObject();\n        let updateData = migrateActorData(source, migrationData, flags, { actorUuid: token.actor.uuid });\n        if ( !foundry.utils.isEmpty(updateData) ) {\n          console.log(`Migrating ActorDelta document ${token.actor.name} [${token.delta.id}] in Scene ${s.name}`);\n          if ( flags.persistSourceMigration ) {\n            updateData = foundry.utils.mergeObject(source, updateData, { inplace: false });\n          } else {\n            // Workaround for core issue of bulk updating ActorDelta collections.\n            [\"items\", \"effects\"].forEach(col => {\n              for ( const [i, update] of (updateData[col] ?? []).entries() ) {\n                const original = token.actor[col].get(update._id);\n                updateData[col][i] = foundry.utils.mergeObject(original.toObject(), update, { inplace: false });\n              }\n            });\n          }\n          await token.actor.update(updateData, {\n            enforceTypes: false, diff: !flags.persistSourceMigration, render: false\n          });\n        }\n      } catch(err) {\n        err.message = `Failed dnd5e system migration for ActorDelta [${token.id}]: ${err.message}`;\n        console.error(err);\n      }\n    }\n  }\n\n  // Migrate World Compendium Packs\n  for ( let p of game.packs ) {\n    if ( p.metadata.packageType !== \"world\" ) continue;\n    if ( ![\"Actor\", \"Item\", \"Scene\"].includes(p.documentName) ) continue;\n    await migrateCompendium(p);\n  }\n\n  // Set the migration as complete\n  game.settings.set(\"dnd5e\", \"systemMigrationVersion\", game.system.version);\n  ui.notifications.info(game.i18n.format(\"MIGRATION.5eComplete\", {version}), {permanent: true});\n};\n\n/* -------------------------------------------- */\n\n/**\n * Apply migration rules to all Documents within a single Compendium pack\n * @param {CompendiumCollection} pack  Pack to be migrated.\n * @returns {Promise}\n */\nexport const migrateCompendium = async function(pack) {\n  const documentName = pack.documentName;\n  if ( ![\"Actor\", \"Item\", \"Scene\"].includes(documentName) ) return;\n\n  const migrationData = await getMigrationData();\n\n  // Unlock the pack for editing\n  const wasLocked = pack.locked;\n  await pack.configure({locked: false});\n  dnd5e.moduleArt.suppressArt = true;\n\n  // Begin by requesting server-side data model migration and get the migrated content\n  await pack.migrate();\n  const documents = await pack.getDocuments();\n\n  // Iterate over compendium entries - applying fine-tuned migration functions\n  for ( let doc of documents ) {\n    let updateData = {};\n    try {\n      const flags = { persistSourceMigration: false };\n      const source = doc.toObject();\n      switch ( documentName ) {\n        case \"Actor\":\n          updateData = migrateActorData(source, migrationData, flags, { actorUuid: doc.uuid });\n          if ( (documentName === \"Actor\") && source.effects && source.items\n            && foundry.utils.isNewerVersion(\"3.0.3\", source._stats.systemVersion) ) {\n            const deleteIds = _duplicatedEffects(source);\n            if ( deleteIds.size ) {\n              if ( flags.persistSourceMigration ) source.effects = source.effects.filter(e => !deleteIds.has(e._id));\n              else await doc.deleteEmbeddedDocuments(\"ActiveEffect\", Array.from(deleteIds));\n            }\n          }\n          break;\n        case \"Item\":\n          updateData = migrateItemData(source, migrationData, flags);\n          break;\n        case \"Scene\":\n          updateData = migrateSceneData(source, migrationData, flags);\n          break;\n      }\n\n      // Save the entry, if data was changed\n      if ( foundry.utils.isEmpty(updateData) ) continue;\n      if ( flags.persistSourceMigration ) updateData = foundry.utils.mergeObject(source, updateData);\n      await doc.update(updateData, { diff: !flags.persistSourceMigration });\n      console.log(`Migrated ${documentName} document ${doc.name} in Compendium ${pack.collection}`);\n    }\n\n    // Handle migration failures\n    catch(err) {\n      err.message = `Failed dnd5e system migration for document ${doc.name} in pack ${pack.collection}: ${err.message}`;\n      console.error(err);\n    }\n  }\n\n  // Apply the original locked status for the pack\n  await pack.configure({locked: wasLocked});\n  dnd5e.moduleArt.suppressArt = false;\n  console.log(`Migrated all ${documentName} documents from Compendium ${pack.collection}`);\n};\n\n/* -------------------------------------------- */\n\n/**\n * Re-parents compendia from one top-level folder to another.\n * @param {string} from  The name of the source folder.\n * @param {string} to    The name of the destination folder.\n * @returns {Promise<Folder[]> | undefined}\n */\nexport function reparentCompendiums(from, to) {\n  const compendiumFolders = new Map();\n  for ( const folder of game.folders ) {\n    if ( folder.type !== \"Compendium\" ) continue;\n    if ( folder.folder ) {\n      let folders = compendiumFolders.get(folder.folder);\n      if ( !folders ) {\n        folders = [];\n        compendiumFolders.set(folder.folder, folders);\n      }\n      folders.push(folder);\n    }\n    if ( folder.name === from ) from = folder;\n    else if ( folder.name === to ) to = folder;\n  }\n  if ( !(from instanceof Folder) || !(to instanceof Folder) ) return;\n  const config = game.settings.get(\"core\", \"compendiumConfiguration\");\n\n  // Re-parent packs directly under the source folder.\n  Object.values(config).forEach(conf => {\n    if ( conf.folder === from.id ) conf.folder = to.id;\n  });\n\n  game.settings.set(\"core\", \"compendiumConfiguration\", config);\n\n  // Re-parent folders directly under the source folder.\n  const updates = (compendiumFolders.get(from) ?? []).map(f => ({ _id: f.id, folder: to.id }));\n  return Folder.implementation.updateDocuments(updates).then(() => from.delete());\n}\n\n/* -------------------------------------------- */\n\n/**\n * Update all compendium packs using the new system data model.\n */\nexport async function refreshAllCompendiums() {\n  for ( const pack of game.packs ) {\n    await refreshCompendium(pack);\n  }\n}\n\n/* -------------------------------------------- */\n\n/**\n * Update all Documents in a compendium using the new system data model.\n * @param {CompendiumCollection} pack  Pack to refresh.\n */\nexport async function refreshCompendium(pack) {\n  if ( !pack?.documentName ) return;\n  dnd5e.moduleArt.suppressArt = true;\n  const DocumentClass = CONFIG[pack.documentName].documentClass;\n  const wasLocked = pack.locked;\n  await pack.configure({locked: false});\n  await pack.migrate();\n\n  ui.notifications.info(`Beginning to refresh Compendium ${pack.collection}`);\n  const documents = await pack.getDocuments();\n  for ( const doc of documents ) {\n    const data = doc.toObject();\n    await doc.delete();\n    await DocumentClass.create(data, {keepId: true, keepEmbeddedIds: true, pack: pack.collection});\n  }\n  await pack.configure({locked: wasLocked});\n  dnd5e.moduleArt.suppressArt = false;\n  ui.notifications.info(`Refreshed all documents from Compendium ${pack.collection}`);\n}\n\n/* -------------------------------------------- */\n\n/**\n * Apply 'smart' AC migration to a given Actor compendium. This will perform the normal AC migration but additionally\n * check to see if the actor has armor already equipped, and opt to use that instead.\n * @param {CompendiumCollection|string} pack  Pack or name of pack to migrate.\n * @returns {Promise}\n */\nexport const migrateArmorClass = async function(pack) {\n  if ( typeof pack === \"string\" ) pack = game.packs.get(pack);\n  if ( pack.documentName !== \"Actor\" ) return;\n  const wasLocked = pack.locked;\n  await pack.configure({locked: false});\n  const actors = await pack.getDocuments();\n  const updates = [];\n  const armor = new Set(Object.keys(CONFIG.DND5E.armorTypes));\n\n  for ( const actor of actors ) {\n    try {\n      console.log(`Migrating ${actor.name}...`);\n      const src = actor.toObject();\n      const update = {_id: actor.id};\n\n      // Perform the normal migration.\n      _migrateActorAC(src, update);\n      // TODO: See if AC migration within DataModel is enough to handle this\n      updates.push(update);\n\n      // CASE 1: Armor is equipped\n      const hasArmorEquipped = actor.itemTypes.equipment.some(e => {\n        return armor.has(e.system.type.value) && e.system.equipped;\n      });\n      if ( hasArmorEquipped ) update[\"system.attributes.ac.calc\"] = \"default\";\n\n      // CASE 2: NPC Natural Armor\n      else if ( src.type === \"npc\" ) update[\"system.attributes.ac.calc\"] = \"natural\";\n    } catch(e) {\n      console.warn(`Failed to migrate armor class for Actor ${actor.name}`, e);\n    }\n  }\n\n  await Actor.implementation.updateDocuments(updates, {pack: pack.collection});\n  await pack.getDocuments(); // Force a re-prepare of all actors.\n  await pack.configure({locked: wasLocked});\n  console.log(`Migrated the AC of all Actors from Compendium ${pack.collection}`);\n};\n\n/* -------------------------------------------- */\n/*  Document Type Migration Helpers             */\n/* -------------------------------------------- */\n\n/**\n * Migrate a single Actor document to incorporate latest data model changes\n * Return an Object of updateData to be applied\n * @param {object} actor                The actor data object to update\n * @param {object} [migrationData]      Additional data to perform the migration\n * @param {object} [flags={}]           Track the needs migration flag.\n * @param {object} [options]\n * @param {string} [options.actorUuid]  The UUID of the actor.\n * @returns {object}                    The updateData to apply\n */\nexport const migrateActorData = function(actor, migrationData, flags={}, { actorUuid }={}) {\n  const updateData = {};\n  _migrateTokenImage(actor, updateData);\n  _migrateActorAC(actor, updateData);\n  _migrateActorMovementSenses(actor, updateData);\n\n  // Migrate embedded effects\n  if ( actor.effects ) {\n    const effects = migrateEffects(actor, migrationData);\n    if ( foundry.utils.isNewerVersion(\"3.1.0\", actor._stats?.systemVersion) ) {\n      migrateCopyActorTransferEffects(actor, effects, { actorUuid });\n    }\n    if ( effects.length > 0 ) updateData.effects = effects;\n  }\n\n  // Migrate Owned Items\n  if ( !actor.items ) return updateData;\n  const items = actor.items.reduce((arr, i) => {\n    // Migrate the Owned Item\n    const itemData = i instanceof CONFIG.Item.documentClass ? i.toObject() : i;\n    const itemFlags = { persistSourceMigration: false };\n    let itemUpdate = migrateItemData(itemData, migrationData, itemFlags);\n\n    if ( (itemData.type === \"background\") && (actor.system?.details?.background !== itemData._id) ) {\n      updateData[\"system.details.background\"] = itemData._id;\n    }\n\n    // Prepared, Equipped, and Proficient for NPC actors\n    if ( actor.type === \"npc\" ) {\n      if (foundry.utils.getProperty(itemData.system, \"preparation.prepared\") === false) itemUpdate[\"system.preparation.prepared\"] = true;\n      if (foundry.utils.getProperty(itemData.system, \"equipped\") === false) itemUpdate[\"system.equipped\"] = true;\n    }\n\n    // Update the Owned Item\n    if ( !foundry.utils.isEmpty(itemUpdate) ) {\n      if ( itemFlags.persistSourceMigration ) {\n        itemUpdate = foundry.utils.mergeObject(itemData, itemUpdate, {inplace: false});\n        flags.persistSourceMigration = true;\n      }\n      arr.push({ ...itemUpdate, _id: itemData._id });\n    }\n\n    // Update tool expertise.\n    if ( actor.system.tools ) {\n      const hasToolProf = itemData.system.type?.baseItem in actor.system.tools;\n      if ( (itemData.type === \"tool\") && (itemData.system.proficient > 1) && hasToolProf ) {\n        updateData[`system.tools.${itemData.system.type.baseItem}.value`] = itemData.system.proficient;\n      }\n    }\n\n    return arr;\n  }, []);\n  if ( items.length > 0 ) updateData.items = items;\n\n  return updateData;\n};\n\n/* -------------------------------------------- */\n\n/**\n * Migrate a single Item document to incorporate latest data model changes\n *\n * @param {object} item             Item data to migrate\n * @param {object} [migrationData]  Additional data to perform the migration\n * @param {object} [flags={}]       Track the needs migration flag.\n * @returns {object}                The updateData to apply\n */\nexport function migrateItemData(item, migrationData, flags={}) {\n  const updateData = {};\n  _migrateDocumentIcon(item, updateData, migrationData);\n\n  // Migrate embedded effects\n  if ( item.effects ) {\n    const effects = migrateEffects(item, migrationData);\n    if ( effects.length > 0 ) updateData.effects = effects;\n  }\n\n  // Migrate properties\n  const migratedProperties = foundry.utils.getProperty(item, \"flags.dnd5e.migratedProperties\");\n  if ( migratedProperties?.length ) {\n    flags.persistSourceMigration = true;\n    const properties = new Set(foundry.utils.getProperty(item, \"system.properties\") ?? [])\n      .union(new Set(migratedProperties));\n    updateData[\"system.properties\"] = Array.from(properties);\n    updateData[\"flags.dnd5e.-=migratedProperties\"] = null;\n  }\n\n  if ( foundry.utils.getProperty(item, \"flags.dnd5e.persistSourceMigration\") ) {\n    flags.persistSourceMigration = true;\n    updateData[\"flags.dnd5e.-=persistSourceMigration\"] = null;\n  }\n\n  return updateData;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Migrate any active effects attached to the provided parent.\n * @param {object} parent           Data of the parent being migrated.\n * @param {object} [migrationData]  Additional data to perform the migration.\n * @returns {object[]}              Updates to apply on the embedded effects.\n */\nexport const migrateEffects = function(parent, migrationData) {\n  if ( !parent.effects ) return [];\n  return parent.effects.reduce((arr, e) => {\n    const effectData = e instanceof CONFIG.ActiveEffect.documentClass ? e.toObject() : e;\n    let effectUpdate = migrateEffectData(effectData, migrationData, { parent });\n    if ( !foundry.utils.isEmpty(effectUpdate) ) {\n      effectUpdate._id = effectData._id;\n      arr.push(foundry.utils.expandObject(effectUpdate));\n    }\n    return arr;\n  }, []);\n};\n\n/* -------------------------------------------- */\n\n/**\n * Migrates transfer effects on items belonging to this actor to \"real\" effects on the actor.\n * @param {object} actor                 The parent actor.\n * @param {object[]} effects             An array of new effects to add.\n * @param {object} [options]             Additional options.\n * @param {string} [options.actorUuid]   UUID of the parent actor\n */\nexport const migrateCopyActorTransferEffects = function(actor, effects, { actorUuid }={}) {\n  if ( !actor.items ) return;\n\n  for ( const item of actor.items ) {\n    for ( const effect of item.effects ) {\n      if ( !effect.transfer ) continue;\n      if ( !isSpellOrScroll(item) ) continue;\n      if ( effect.disabled ) continue;\n\n      const newEffect = foundry.utils.deepClone(effect);\n      newEffect.transfer = false;\n      if ( actorUuid ) newEffect.origin = `${actorUuid}.Item.${item._id}.ActiveEffect.${effect._id}`;\n      delete newEffect._id;\n      effects.push(newEffect);\n    }\n  }\n};\n\n/* -------------------------------------------- */\n\n/**\n * Migrate the provided active effect data.\n * @param {object} effect            Effect data to migrate.\n * @param {object} [migrationData]   Additional data to perform the migration.\n * @param {object} [options]         Additional options.\n * @param {object} [options.parent]  Parent of this effect.\n * @returns {object}                 The updateData to apply.\n */\nexport const migrateEffectData = function(effect, migrationData, { parent }={}) {\n  const updateData = {};\n  _migrateDocumentIcon(effect, updateData, {...migrationData, field: game.release.generation < 12 ? \"icon\" : \"img\"});\n  _migrateEffectArmorClass(effect, updateData);\n  if ( foundry.utils.isNewerVersion(\"3.1.0\", effect._stats?.systemVersion ?? parent?._stats?.systemVersion) ) {\n    _migrateTransferEffect(effect, parent, updateData);\n  }\n  return updateData;\n};\n\n/* -------------------------------------------- */\n\n/**\n * Migrate a single Macro document to incorporate latest data model changes.\n * @param {object} macro            Macro data to migrate\n * @param {object} [migrationData]  Additional data to perform the migration\n * @returns {object}                The updateData to apply\n */\nexport const migrateMacroData = function(macro, migrationData) {\n  const updateData = {};\n  _migrateDocumentIcon(macro, updateData, migrationData);\n  _migrateMacroCommands(macro, updateData);\n  return updateData;\n};\n\n/* -------------------------------------------- */\n\n/**\n * Migrate a single RollTable document to incorporate the latest data model changes.\n * @param {object} table            Roll table data to migrate.\n * @param {object} [migrationData]  Additional data to perform the migration.\n * @returns {object}                The update delta to apply.\n */\nexport function migrateRollTableData(table, migrationData) {\n  const updateData = {};\n  _migrateDocumentIcon(table, updateData, migrationData);\n  if ( !table.results?.length ) return updateData;\n  const results = table.results.reduce((arr, result) => {\n    const resultUpdate = {};\n    _migrateDocumentIcon(result, resultUpdate, migrationData);\n    if ( !foundry.utils.isEmpty(resultUpdate) ) {\n      resultUpdate._id = result._id;\n      arr.push(foundry.utils.expandObject(resultUpdate));\n    }\n    return arr;\n  }, []);\n  if ( results.length ) updateData.results = results;\n  return updateData;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Migrate a single Scene document to incorporate changes to the data model of its actor data overrides\n * Return an Object of updateData to be applied\n * @param {object} scene            The Scene data to Update\n * @param {object} [migrationData]  Additional data to perform the migration\n * @returns {object}                The updateData to apply\n */\nexport const migrateSceneData = function(scene, migrationData) {\n  const tokens = scene.tokens.reduce((arr, token) => {\n    const t = token instanceof foundry.abstract.DataModel ? token.toObject() : token;\n    const update = {};\n    _migrateTokenImage(t, update);\n    if ( !game.actors.has(t.actorId) ) update.actorId = null;\n    if ( !foundry.utils.isEmpty(update) ) arr.push({ ...update, _id: t._id });\n    return arr;\n  }, []);\n  if ( tokens.length ) return { tokens };\n  return {};\n};\n\n/* -------------------------------------------- */\n\n/**\n * Fetch bundled data for large-scale migrations.\n * @returns {Promise<object>}  Object mapping original system icons to their core replacements.\n */\nexport const getMigrationData = async function() {\n  const data = {};\n  try {\n    const icons = await fetch(\"systems/dnd5e/json/icon-migration.json\");\n    const spellIcons = await fetch(\"systems/dnd5e/json/spell-icon-migration.json\");\n    data.iconMap = {...await icons.json(), ...await spellIcons.json()};\n  } catch(err) {\n    console.warn(`Failed to retrieve icon migration data: ${err.message}`);\n  }\n  return data;\n};\n\n/* -------------------------------------------- */\n/*  Low level migration utilities\n/* -------------------------------------------- */\n\n/**\n * Identify effects that might have been duplicated when legacyTransferral was disabled.\n * @param {object} parent   Data of the actor being migrated.\n * @returns {Set<string>}   IDs of effects to delete from the actor.\n * @private\n */\nfunction _duplicatedEffects(parent) {\n  const deleteIds = new Set();\n  for ( const item of parent.items ) {\n    for ( const effect of item.effects ?? [] ) {\n      if ( !effect.transfer ) continue;\n      const match = parent.effects.find(t => {\n        const diff = foundry.utils.diffObject(t, effect);\n        return t.origin?.endsWith(`Item.${item._id}`) && !(\"changes\" in diff) && !deleteIds.has(t._id);\n      });\n      if ( match ) deleteIds.add(match._id);\n    }\n  }\n  return deleteIds;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Migrate the actor attributes.ac.value to the new ac.flat override field.\n * @param {object} actorData   Actor data being migrated.\n * @param {object} updateData  Existing updates being applied to actor. *Will be mutated.*\n * @returns {object}           Modified version of update data.\n * @private\n */\nfunction _migrateActorAC(actorData, updateData) {\n  const ac = actorData.system?.attributes?.ac;\n  // If the actor has a numeric ac.value, then their AC has not been migrated to the auto-calculation schema yet.\n  if ( Number.isNumeric(ac?.value) ) {\n    updateData[\"system.attributes.ac.flat\"] = parseInt(ac.value);\n    updateData[\"system.attributes.ac.calc\"] = actorData.type === \"npc\" ? \"natural\" : \"flat\";\n    updateData[\"system.attributes.ac.-=value\"] = null;\n    return updateData;\n  }\n\n  // Migrate ac.base in custom formulas to ac.armor\n  if ( (typeof ac?.formula === \"string\") && ac?.formula.includes(\"@attributes.ac.base\") ) {\n    updateData[\"system.attributes.ac.formula\"] = ac.formula.replaceAll(\"@attributes.ac.base\", \"@attributes.ac.armor\");\n  }\n\n  // Protect against string values created by character sheets or importers that don't enforce data types\n  if ( (typeof ac?.flat === \"string\") && Number.isNumeric(ac.flat) ) {\n    updateData[\"system.attributes.ac.flat\"] = parseInt(ac.flat);\n  }\n\n  // Remove invalid AC formula strings.\n  if ( ac?.formula ) {\n    try {\n      const roll = new Roll(ac.formula);\n      if ( game.release.generation < 12 ) Roll.safeEval(roll.formula);\n      else roll.evaluateSync();\n    } catch( e ) {\n      updateData[\"system.attributes.ac.formula\"] = \"\";\n    }\n  }\n\n  return updateData;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Migrate the actor movement & senses to replace `0` with `null`.\n * @param {object} actorData   Actor data being migrated.\n * @param {object} updateData  Existing updates being applied to actor. *Will be mutated.*\n * @returns {object}           Modified version of update data.\n * @private\n */\nfunction _migrateActorMovementSenses(actorData, updateData) {\n  if ( actorData._stats?.systemVersion && foundry.utils.isNewerVersion(\"2.4.0\", actorData._stats.systemVersion) ) {\n    for ( const key of Object.keys(CONFIG.DND5E.movementTypes) ) {\n      const keyPath = `system.attributes.movement.${key}`;\n      if ( foundry.utils.getProperty(actorData, keyPath) === 0 ) updateData[keyPath] = null;\n    }\n    for ( const key of Object.keys(CONFIG.DND5E.senses) ) {\n      const keyPath = `system.attributes.senses.${key}`;\n      if ( foundry.utils.getProperty(actorData, keyPath) === 0 ) updateData[keyPath] = null;\n    }\n  }\n  return updateData;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Migrate any system token images from PNG to WEBP.\n * @param {object} actorData    Actor or token data to migrate.\n * @param {object} updateData   Existing update to expand upon.\n * @returns {object}            The updateData to apply\n * @private\n */\nfunction _migrateTokenImage(actorData, updateData) {\n  const oldSystemPNG = /^systems\\/dnd5e\\/tokens\\/([a-z]+)\\/([A-z]+).png$/;\n  for ( const path of [\"texture.src\", \"prototypeToken.texture.src\"] ) {\n    const v = foundry.utils.getProperty(actorData, path);\n    if ( oldSystemPNG.test(v) ) {\n      const [type, fileName] = v.match(oldSystemPNG).slice(1);\n      updateData[path] = `systems/dnd5e/tokens/${type}/${fileName}.webp`;\n    }\n  }\n  return updateData;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Convert system icons to use bundled core webp icons.\n * @param {object} document                                 Document data to migrate\n * @param {object} updateData                               Existing update to expand upon\n * @param {object} [migrationData={}]                       Additional data to perform the migration\n * @param {Object<string, string>} [migrationData.iconMap]  A mapping of system icons to core foundry icons\n * @param {string} [migrationData.field]                    The document field to migrate\n * @returns {object}                                        The updateData to apply\n * @private\n */\nfunction _migrateDocumentIcon(document, updateData, {iconMap, field=\"img\"}={}) {\n  let path = document?.[field];\n  if ( path && iconMap ) {\n    if ( path.startsWith(\"/\") || path.startsWith(\"\\\\\") ) path = path.substring(1);\n    const rename = iconMap[path];\n    if ( rename ) updateData[field] = rename;\n  }\n  return updateData;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Change active effects that target AC.\n * @param {object} effect      Effect data to migrate.\n * @param {object} updateData  Existing update to expand upon.\n * @returns {object}           The updateData to apply.\n */\nfunction _migrateEffectArmorClass(effect, updateData) {\n  let containsUpdates = false;\n  const changes = (effect.changes || []).map(c => {\n    if ( c.key !== \"system.attributes.ac.base\" ) return c;\n    c.key = \"system.attributes.ac.armor\";\n    containsUpdates = true;\n    return c;\n  });\n  if ( containsUpdates ) updateData.changes = changes;\n  return updateData;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Disable transfer on effects on spell items\n * @param {object} effect      Effect data to migrate.\n * @param {object} parent      The parent of this effect.\n * @param {object} updateData  Existing update to expand upon.\n * @returns {object}           The updateData to apply.\n */\nfunction _migrateTransferEffect(effect, parent, updateData) {\n  if ( !effect.transfer ) return updateData;\n  if ( !isSpellOrScroll(parent) ) return updateData;\n\n  updateData.transfer = false;\n  updateData.disabled = true;\n  updateData[\"duration.startTime\"] = null;\n  updateData[\"duration.startRound\"] = null;\n  updateData[\"duration.startTurn\"] = null;\n\n  return updateData;\n}\n\n/* -------------------------------------------- */\n\n/**\n * Migrate macros from the old 'dnd5e.rollItemMacro' and 'dnd5e.macros' commands to the new location.\n * @param {object} macro       Macro data to migrate.\n * @param {object} updateData  Existing update to expand upon.\n * @returns {object}           The updateData to apply.\n */\nfunction _migrateMacroCommands(macro, updateData) {\n  if ( macro.command.includes(\"game.dnd5e.rollItemMacro\") ) {\n    updateData.command = macro.command.replaceAll(\"game.dnd5e.rollItemMacro\", \"dnd5e.documents.macro.rollItem\");\n  } else if ( macro.command.includes(\"game.dnd5e.macros.\") ) {\n    updateData.command = macro.command.replaceAll(\"game.dnd5e.macros.\", \"dnd5e.documents.macro.\");\n  }\n  return updateData;\n}\n\n/* -------------------------------------------- */\n\n/**\n * A general tool to purge flags from all documents in a Compendium pack.\n * @param {CompendiumCollection} pack   The compendium pack to clean.\n * @private\n */\nexport async function purgeFlags(pack) {\n  const cleanFlags = flags => {\n    const flags5e = flags.dnd5e || null;\n    return flags5e ? {dnd5e: flags5e} : {};\n  };\n  await pack.configure({locked: false});\n  const content = await pack.getDocuments();\n  for ( let doc of content ) {\n    const update = {flags: cleanFlags(doc.flags)};\n    if ( pack.documentName === \"Actor\" ) {\n      update.items = doc.items.map(i => {\n        i.flags = cleanFlags(i.flags);\n        return i;\n      });\n    }\n    await doc.update(update, {recursive: false});\n    console.log(`Purged flags from ${doc.name}`);\n  }\n  await pack.configure({locked: true});\n}\n\n/* -------------------------------------------- */\n\n/**\n * Returns whether given item data represents either a spell item or a spell scroll consumable\n * @param {object} item  The item data.\n * @returns {boolean}\n */\nfunction isSpellOrScroll(item) {\n  if ( (item.type === \"consumable\") && (item.system.type.value === \"scroll\") ) return true;\n  return item.type === \"spell\";\n}\n","/**\n * A class responsible for orchestrating tooltips in the system.\n */\nexport default class Tooltips5e {\n  /* -------------------------------------------- */\n  /*  Properties & Getters                        */\n  /* -------------------------------------------- */\n\n  /**\n   * The currently registered observer.\n   * @type {MutationObserver}\n   */\n  #observer;\n\n  /**\n   * The tooltip element.\n   * @type {HTMLElement}\n   */\n  get tooltip() {\n    return document.getElementById(\"tooltip\");\n  }\n\n  /* -------------------------------------------- */\n  /*  Methods                                     */\n  /* -------------------------------------------- */\n\n  /**\n   * Initialize the mutation observer.\n   */\n  observe() {\n    this.#observer?.disconnect();\n    this.#observer = new MutationObserver(this._onMutation.bind(this));\n    this.#observer.observe(this.tooltip, { attributeFilter: [\"class\"], attributeOldValue: true });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle a mutation event.\n   * @param {MutationRecord[]} mutationList  The list of changes.\n   * @protected\n   */\n  _onMutation(mutationList) {\n    let isActive = false;\n    const tooltip = this.tooltip;\n    for ( const { type, attributeName, oldValue } of mutationList ) {\n      if ( (type === \"attributes\") && (attributeName === \"class\") ) {\n        const difference = new Set(tooltip.classList).difference(new Set(oldValue?.split(\" \")));\n        if ( difference.has(\"active\") ) isActive = true;\n      }\n    }\n    if ( isActive ) this._onTooltipActivate();\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle tooltip activation.\n   * @protected\n   * @returns {Promise}\n   */\n  async _onTooltipActivate() {\n    // General content links\n    if ( game.tooltip.element?.classList.contains(\"content-link\") ) {\n      const doc = await fromUuid(game.tooltip.element.dataset.uuid);\n      return this._onHoverContentLink(doc);\n    }\n\n    const loading = this.tooltip.querySelector(\".loading\");\n\n    // Sheet-specific tooltips\n    if ( loading?.dataset.uuid ) {\n      const doc = await fromUuid(loading.dataset.uuid);\n      if ( doc instanceof dnd5e.documents.Actor5e ) return this._onHoverActor(doc);\n      return this._onHoverContentLink(doc);\n    }\n\n    // Passive checks\n    else if ( loading?.dataset.passive !== undefined ) {\n      const { skill, ability, dc } = game.tooltip.element?.dataset ?? {};\n      return this._onHoverPassive(skill, ability, dc);\n    }\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle hovering some part of an actor's sheet.\n   * @param {Actor5e} actor  The actor.\n   * @protected\n   */\n  async _onHoverActor(actor) {\n    const { attribution, attributionCaption } = game.tooltip.element.dataset;\n    if ( !attribution ) return;\n    this.tooltip.innerHTML = await actor.getAttributionData(attribution, { title: attributionCaption });\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle hovering over a content link and showing rich tooltips if possible.\n   * @param {Document} doc  The document linked by the content link.\n   * @protected\n   */\n  async _onHoverContentLink(doc) {\n    const { content, classes } = await (doc.richTooltip?.() ?? doc.system?.richTooltip?.() ?? {});\n    if ( !content ) return;\n    this.tooltip.innerHTML = content;\n    classes?.forEach(c => this.tooltip.classList.add(c));\n    const { tooltipDirection } = game.tooltip.element.dataset;\n    requestAnimationFrame(() => this._positionItemTooltip(tooltipDirection));\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Handle hovering a passive skill or ability check link to display results for primary party.\n   * Either skill or ability (or both) must be provided.\n   * @param {string} [skill]     Passive skill key. If undefined, this will be a passive ability check.\n   * @param {string} [ability]   Passive ability key. If undefined, the skill's default ability is used.\n   * @param {number} [dc]        DC against which to compare party values.\n   * @protected\n   */\n  async _onHoverPassive(skill, ability, dc) {\n    const skillConfig = CONFIG.DND5E.skills[skill];\n    const abilityConfig = CONFIG.DND5E.abilities[ability ?? skillConfig.ability];\n\n    let label;\n    if ( skillConfig ) {\n      label = game.i18n.format(\"DND5E.SkillPassiveSpecificHint\", { skill: skillConfig.label, ability: abilityConfig.label });\n    } else {\n      // If no skill was provided, we're doing a passive ability check.\n      // This isn't technically a thing in the rules, but we can support it anyway if people want to use it.\n      label = game.i18n.format(\"DND5E.SkillPassiveHint\", { skill: abilityConfig.label });\n    }\n\n    const party = game.settings.get(\"dnd5e\", \"primaryParty\")?.actor;\n    if ( !party ) {\n      this.tooltip.innerHTML = label;\n      return;\n    }\n\n    const context = { label, party: [] };\n    for ( const member of party.system.members ) {\n      const systemData = member.actor?.system;\n      let passive;\n      if ( skill && (!ability || (ability === skillConfig.ability)) ) {\n        // Default passive skill check\n        passive = systemData?.skills?.[skill]?.passive;\n      } else if ( skill ) {\n        // Passive ability check with custom ability\n        const customSkillData = member.actor?._prepareSkill(skill, { ability });\n        passive = customSkillData.passive;\n      } else {\n        // Passive ability check\n        const abilityMod = systemData?.abilities?.[ability]?.mod;\n        if ( abilityMod !== undefined ) passive = 10 + abilityMod;\n      }\n\n      if ( !passive ) continue;\n      const data = { name: member.actor.name, img: member.actor.img, passive };\n      if ( dc !== undefined ) data.status = passive >= dc ? \"success\" : \"failure\";\n      context.party.push(data);\n    }\n\n    this.tooltip.classList.add(\"dnd5e-tooltip\", \"passive-tooltip\");\n    this.tooltip.innerHTML = await renderTemplate(\"systems/dnd5e/templates/journal/passive-tooltip.hbs\", context);\n    game.tooltip._setAnchor(TooltipManager.TOOLTIP_DIRECTIONS.DOWN);\n  }\n\n  /* -------------------------------------------- */\n\n  /**\n   * Position a tooltip after rendering.\n   * @param {string} [direction]  The direction to position the tooltip.\n   * @protected\n   */\n  _positionItemTooltip(direction) {\n    if ( !direction ) {\n      direction = TooltipManager.TOOLTIP_DIRECTIONS.LEFT;\n      game.tooltip._setAnchor(direction);\n    }\n\n    const pos = this.tooltip.getBoundingClientRect();\n    const dirs = TooltipManager.TOOLTIP_DIRECTIONS;\n    switch ( direction ) {\n      case dirs.UP:\n        if ( pos.y - TooltipManager.TOOLTIP_MARGIN_PX <= 0 ) direction = dirs.DOWN;\n        break;\n      case dirs.DOWN:\n        if ( pos.y + this.tooltip.offsetHeight > window.innerHeight ) direction = dirs.UP;\n        break;\n      case dirs.LEFT:\n        if ( pos.x - TooltipManager.TOOLTIP_MARGIN_PX <= 0 ) direction = dirs.RIGHT;\n        break;\n      case dirs.RIGHT:\n        if ( pos.x + this.tooltip.offsetWidth > window.innerWith ) direction = dirs.LEFT;\n        break;\n    }\n\n    game.tooltip._setAnchor(direction);\n\n    // Set overflowing styles for item tooltips.\n    if ( tooltip.classList.contains(\"item-tooltip\") ) {\n      const description = tooltip.querySelector(\".description\");\n      description?.classList.toggle(\"overflowing\", description.clientHeight < description.scrollHeight);\n    }\n  }\n\n  /* -------------------------------------------- */\n  /*  Static Helpers                              */\n  /* -------------------------------------------- */\n\n  /**\n   * Intercept middle-click listeners to prevent scrolling behavior inside a locked tooltip when attempting to lock\n   * another tooltip.\n   */\n  static activateListeners() {\n    document.addEventListener(\"pointerdown\", event => {\n      if ( (event.button === 1) && event.target.closest(\".locked-tooltip\") ) {\n        event.preventDefault();\n      }\n    }, { capture: true });\n  }\n}\n","/**\n * The D&D fifth edition game system for Foundry Virtual Tabletop\n * A system for playing the fifth edition of the world's most popular role-playing game.\n * Author: Atropos\n * Software License: MIT\n * Content License: https://www.dndbeyond.com/attachments/39j2li89/SRD5.1-CCBY4.0License.pdf\n * Repository: https://github.com/foundryvtt/dnd5e\n * Issue Tracker: https://github.com/foundryvtt/dnd5e/issues\n */\n\n// Import Configuration\nimport DND5E from \"./module/config.mjs\";\nimport { registerSystemSettings, registerDeferredSettings } from \"./module/settings.mjs\";\n\n// Import Submodules\nimport * as applications from \"./module/applications/_module.mjs\";\nimport * as canvas from \"./module/canvas/_module.mjs\";\nimport * as dataModels from \"./module/data/_module.mjs\";\nimport * as dice from \"./module/dice/_module.mjs\";\nimport * as documents from \"./module/documents/_module.mjs\";\nimport * as enrichers from \"./module/enrichers.mjs\";\nimport * as Filter from \"./module/filter.mjs\";\nimport * as migrations from \"./module/migration.mjs\";\nimport * as utils from \"./module/utils.mjs\";\nimport {ModuleArt} from \"./module/module-art.mjs\";\nimport Tooltips5e from \"./module/tooltips.mjs\";\n\n/* -------------------------------------------- */\n/*  Define Module Structure                     */\n/* -------------------------------------------- */\n\nglobalThis.dnd5e = {\n  applications,\n  canvas,\n  config: DND5E,\n  dataModels,\n  dice,\n  documents,\n  enrichers,\n  Filter,\n  migrations,\n  utils\n};\n\n/* -------------------------------------------- */\n/*  Foundry VTT Initialization                  */\n/* -------------------------------------------- */\n\nHooks.once(\"init\", function() {\n  globalThis.dnd5e = game.dnd5e = Object.assign(game.system, globalThis.dnd5e);\n  console.log(`D&D 5e | Initializing the D&D Fifth Game System - Version ${dnd5e.version}\\n${DND5E.ASCII}`);\n\n  // TODO: Remove when v11 support is dropped.\n  CONFIG.compatibility.excludePatterns.push(/filePicker|select/);\n  CONFIG.compatibility.excludePatterns.push(/foundry\\.dice\\.terms/);\n  CONFIG.compatibility.excludePatterns.push(\n    /aggregateDamageRoll|configureDamage|preprocessFormula|simplifyRollFormula/\n  );\n  CONFIG.compatibility.excludePatterns.push(/core\\.sourceId/);\n  if ( game.release.generation < 12 ) Math.clamp = Math.clamped;\n\n  // Record Configuration Values\n  CONFIG.DND5E = DND5E;\n  CONFIG.ActiveEffect.documentClass = documents.ActiveEffect5e;\n  CONFIG.ActiveEffect.legacyTransferral = false;\n  CONFIG.Actor.documentClass = documents.Actor5e;\n  CONFIG.ChatMessage.documentClass = documents.ChatMessage5e;\n  CONFIG.Combat.documentClass = documents.Combat5e;\n  CONFIG.Combatant.documentClass = documents.Combatant5e;\n  CONFIG.Item.collection = dataModels.collection.Items5e;\n  CONFIG.Item.compendiumIndexFields.push(\"system.container\");\n  CONFIG.Item.documentClass = documents.Item5e;\n  CONFIG.Token.documentClass = documents.TokenDocument5e;\n  CONFIG.Token.objectClass = canvas.Token5e;\n  CONFIG.Token.ringClass = canvas.TokenRing;\n  CONFIG.User.documentClass = documents.User5e;\n  CONFIG.time.roundTime = 6;\n  Roll.TOOLTIP_TEMPLATE = \"systems/dnd5e/templates/chat/roll-breakdown.hbs\";\n  CONFIG.Dice.DamageRoll = dice.DamageRoll;\n  CONFIG.Dice.D20Roll = dice.D20Roll;\n  CONFIG.MeasuredTemplate.defaults.angle = 53.13; // 5e cone RAW should be 53.13 degrees\n  CONFIG.Note.objectClass = canvas.Note5e;\n  CONFIG.ui.combat = applications.combat.CombatTracker5e;\n  CONFIG.ui.items = dnd5e.applications.item.ItemDirectory5e;\n\n  // Register System Settings\n  registerSystemSettings();\n\n  // Configure module art\n  game.dnd5e.moduleArt = new ModuleArt();\n\n  // Configure tooltips\n  game.dnd5e.tooltips = new Tooltips5e();\n\n  // Set up status effects\n  _configureStatusEffects();\n\n  // Remove honor & sanity from configuration if they aren't enabled\n  if ( !game.settings.get(\"dnd5e\", \"honorScore\") ) delete DND5E.abilities.hon;\n  if ( !game.settings.get(\"dnd5e\", \"sanityScore\") ) delete DND5E.abilities.san;\n\n  // Register Roll Extensions\n  CONFIG.Dice.rolls.push(dice.D20Roll);\n  CONFIG.Dice.rolls.push(dice.DamageRoll);\n\n  // Hook up system data types\n  CONFIG.Actor.dataModels = dataModels.actor.config;\n  CONFIG.Item.dataModels = dataModels.item.config;\n  CONFIG.JournalEntryPage.dataModels = dataModels.journal.config;\n\n  // Add fonts\n  _configureFonts();\n\n  // Register sheet application classes\n  Actors.unregisterSheet(\"core\", ActorSheet);\n  Actors.registerSheet(\"dnd5e\", applications.actor.ActorSheet5eCharacter, {\n    types: [\"character\"],\n    label: \"DND5E.SheetClassCharacterLegacy\"\n  });\n  DocumentSheetConfig.registerSheet(Actor, \"dnd5e\", applications.actor.ActorSheet5eCharacter2, {\n    types: [\"character\"],\n    makeDefault: true,\n    label: \"DND5E.SheetClassCharacter\"\n  });\n  Actors.registerSheet(\"dnd5e\", applications.actor.ActorSheet5eNPC, {\n    types: [\"npc\"],\n    makeDefault: true,\n    label: \"DND5E.SheetClassNPCLegacy\"\n  });\n  DocumentSheetConfig.registerSheet(Actor, \"dnd5e\", applications.actor.ActorSheet5eNPC2, {\n    types: [\"npc\"],\n    makeDefault: true,\n    label: \"DND5E.SheetClassNPC\"\n  });\n  Actors.registerSheet(\"dnd5e\", applications.actor.ActorSheet5eVehicle, {\n    types: [\"vehicle\"],\n    makeDefault: true,\n    label: \"DND5E.SheetClassVehicle\"\n  });\n  Actors.registerSheet(\"dnd5e\", applications.actor.GroupActorSheet, {\n    types: [\"group\"],\n    makeDefault: true,\n    label: \"DND5E.SheetClassGroup\"\n  });\n\n  DocumentSheetConfig.unregisterSheet(Item, \"core\", ItemSheet);\n  DocumentSheetConfig.registerSheet(Item, \"dnd5e\", applications.item.ItemSheet5e, {\n    makeDefault: true,\n    label: \"DND5E.SheetClassItem\"\n  });\n  DocumentSheetConfig.unregisterSheet(Item, \"dnd5e\", applications.item.ItemSheet5e, { types: [\"container\"] });\n  DocumentSheetConfig.registerSheet(Item, \"dnd5e\", applications.item.ContainerSheet, {\n    makeDefault: true,\n    types: [\"container\"],\n    label: \"DND5E.SheetClassContainer\"\n  });\n\n  DocumentSheetConfig.registerSheet(JournalEntry, \"dnd5e\", applications.journal.JournalSheet5e, {\n    makeDefault: true,\n    label: \"DND5E.SheetClassJournalEntry\"\n  });\n  DocumentSheetConfig.registerSheet(JournalEntryPage, \"dnd5e\", applications.journal.JournalClassPageSheet, {\n    label: \"DND5E.SheetClassClassSummary\",\n    types: [\"class\", \"subclass\"]\n  });\n  DocumentSheetConfig.registerSheet(JournalEntryPage, \"dnd5e\", applications.journal.JournalMapLocationPageSheet, {\n    label: \"DND5E.SheetClassMapLocation\",\n    types: [\"map\"]\n  });\n  DocumentSheetConfig.registerSheet(JournalEntryPage, \"dnd5e\", applications.journal.JournalRulePageSheet, {\n    label: \"DND5E.SheetClassRule\",\n    types: [\"rule\"]\n  });\n  DocumentSheetConfig.registerSheet(JournalEntryPage, \"dnd5e\", applications.journal.JournalSpellListPageSheet, {\n    label: \"DND5E.SheetClassSpellList\",\n    types: [\"spells\"]\n  });\n\n  CONFIG.Token.prototypeSheetClass = applications.TokenConfig5e;\n  DocumentSheetConfig.unregisterSheet(TokenDocument, \"core\", TokenConfig);\n  DocumentSheetConfig.registerSheet(TokenDocument, \"dnd5e\", applications.TokenConfig5e, {\n    label: \"DND5E.SheetClassToken\"\n  });\n\n  // Preload Handlebars helpers & partials\n  utils.registerHandlebarsHelpers();\n  utils.preloadHandlebarsTemplates();\n\n  // Enrichers\n  enrichers.registerCustomEnrichers();\n\n  // Exhaustion handling\n  documents.ActiveEffect5e.registerHUDListeners();\n});\n\n/* -------------------------------------------- */\n\n/**\n * Configure explicit lists of attributes that are trackable on the token HUD and in the combat tracker.\n * @internal\n */\nfunction _configureTrackableAttributes() {\n  const common = {\n    bar: [],\n    value: [\n      ...Object.keys(DND5E.abilities).map(ability => `abilities.${ability}.value`),\n      ...Object.keys(DND5E.movementTypes).map(movement => `attributes.movement.${movement}`),\n      \"attributes.ac.value\", \"attributes.init.total\"\n    ]\n  };\n\n  const altSpells = Object.entries(DND5E.spellPreparationModes).reduce((acc, [k, v]) => {\n    if ( ![\"prepared\", \"always\"].includes(k) && v.upcast ) acc.push(`spells.${k}`);\n    return acc;\n  }, []);\n\n  const creature = {\n    bar: [\n      ...common.bar,\n      \"attributes.hp\",\n      ...altSpells,\n      ...Array.fromRange(Object.keys(DND5E.spellLevels).length - 1, 1).map(l => `spells.spell${l}`)\n    ],\n    value: [\n      ...common.value,\n      ...Object.keys(DND5E.skills).map(skill => `skills.${skill}.passive`),\n      ...Object.keys(DND5E.senses).map(sense => `attributes.senses.${sense}`),\n      \"attributes.spelldc\"\n    ]\n  };\n\n  CONFIG.Actor.trackableAttributes = {\n    character: {\n      bar: [...creature.bar, \"resources.primary\", \"resources.secondary\", \"resources.tertiary\", \"details.xp\"],\n      value: [...creature.value]\n    },\n    npc: {\n      bar: [...creature.bar, \"resources.legact\", \"resources.legres\"],\n      value: [...creature.value, \"details.cr\", \"details.spellLevel\", \"details.xp.value\"]\n    },\n    vehicle: {\n      bar: [...common.bar, \"attributes.hp\"],\n      value: [...common.value]\n    },\n    group: {\n      bar: [],\n      value: []\n    }\n  };\n}\n\n/* -------------------------------------------- */\n\n/**\n * Configure which attributes are available for item consumption.\n * @internal\n */\nfunction _configureConsumableAttributes() {\n  const altSpells = Object.entries(DND5E.spellPreparationModes).reduce((acc, [k, v]) => {\n    if ( ![\"prepared\", \"always\"].includes(k) && v.upcast ) acc.push(`spells.${k}.value`);\n    return acc;\n  }, []);\n\n  CONFIG.DND5E.consumableResources = [\n    ...Object.keys(DND5E.abilities).map(ability => `abilities.${ability}.value`),\n    \"attributes.ac.flat\",\n    \"attributes.hp.value\",\n    ...Object.keys(DND5E.senses).map(sense => `attributes.senses.${sense}`),\n    ...Object.keys(DND5E.movementTypes).map(type => `attributes.movement.${type}`),\n    ...Object.keys(DND5E.currencies).map(denom => `currency.${denom}`),\n    \"details.xp.value\",\n    \"resources.primary.value\", \"resources.secondary.value\", \"resources.tertiary.value\",\n    \"resources.legact.value\", \"resources.legres.value\",\n    ...altSpells,\n    ...Array.fromRange(Object.keys(DND5E.spellLevels).length - 1, 1).map(level => `spells.spell${level}.value`)\n  ];\n}\n\n/* -------------------------------------------- */\n\n/**\n * Configure additional system fonts.\n */\nfunction _configureFonts() {\n  Object.assign(CONFIG.fontDefinitions, {\n    Roboto: {\n      editor: true,\n      fonts: [\n        { urls: [\"systems/dnd5e/fonts/roboto/Roboto-Regular.woff2\"] },\n        { urls: [\"systems/dnd5e/fonts/roboto/Roboto-Bold.woff2\"], weight: \"bold\" },\n        { urls: [\"systems/dnd5e/fonts/roboto/Roboto-Italic.woff2\"], style: \"italic\" },\n        { urls: [\"systems/dnd5e/fonts/roboto/Roboto-BoldItalic.woff2\"], weight: \"bold\", style: \"italic\" }\n      ]\n    },\n    \"Roboto Condensed\": {\n      editor: true,\n      fonts: [\n        { urls: [\"systems/dnd5e/fonts/roboto-condensed/RobotoCondensed-Regular.woff2\"] },\n        { urls: [\"systems/dnd5e/fonts/roboto-condensed/RobotoCondensed-Bold.woff2\"], weight: \"bold\" },\n        { urls: [\"systems/dnd5e/fonts/roboto-condensed/RobotoCondensed-Italic.woff2\"], style: \"italic\" },\n        {\n          urls: [\"systems/dnd5e/fonts/roboto-condensed/RobotoCondensed-BoldItalic.woff2\"], weight: \"bold\",\n          style: \"italic\"\n        }\n      ]\n    },\n    \"Roboto Slab\": {\n      editor: true,\n      fonts: [\n        { urls: [\"systems/dnd5e/fonts/roboto-slab/RobotoSlab-Regular.ttf\"] },\n        { urls: [\"systems/dnd5e/fonts/roboto-slab/RobotoSlab-Bold.ttf\"], weight: \"bold\" }\n      ]\n    }\n  });\n}\n\n/* -------------------------------------------- */\n\n/**\n * Configure system status effects.\n */\nfunction _configureStatusEffects() {\n  const addEffect = (effects, {special, ...data}) => {\n    data = foundry.utils.deepClone(data);\n    data._id = utils.staticID(`dnd5e${data.id}`);\n    if ( foundry.utils.isNewerVersion(game.version, 12) ) {\n      data.img = data.icon ?? data.img;\n      delete data.icon;\n    }\n    effects.push(data);\n    if ( special ) CONFIG.specialStatusEffects[special] = data.id;\n  };\n  CONFIG.statusEffects = Object.entries(CONFIG.DND5E.statusEffects).reduce((arr, [id, data]) => {\n    const original = CONFIG.statusEffects.find(s => s.id === id);\n    addEffect(arr, foundry.utils.mergeObject(original ?? {}, { id, ...data }, { inplace: false }));\n    return arr;\n  }, []);\n  for ( const [id, {label: name, ...data}] of Object.entries(CONFIG.DND5E.conditionTypes) ) {\n    addEffect(CONFIG.statusEffects, { id, name, ...data });\n  }\n  for ( const [id, data] of Object.entries(CONFIG.DND5E.encumbrance.effects) ) {\n    addEffect(CONFIG.statusEffects, { id, ...data, hud: false });\n  }\n}\n\n/* -------------------------------------------- */\n/*  Foundry VTT Setup                           */\n/* -------------------------------------------- */\n\n/**\n * Prepare attribute lists.\n */\nHooks.once(\"setup\", function() {\n  // Configure trackable & consumable attributes.\n  _configureTrackableAttributes();\n  _configureConsumableAttributes();\n\n  CONFIG.DND5E.trackableAttributes = expandAttributeList(CONFIG.DND5E.trackableAttributes);\n  game.dnd5e.moduleArt.registerModuleArt();\n  Tooltips5e.activateListeners();\n  game.dnd5e.tooltips.observe();\n\n  // Register settings after modules have had a chance to initialize\n  registerDeferredSettings();\n\n  // Apply table of contents compendium style if specified in flags\n  game.packs\n    .filter(p => p.metadata.flags?.display === \"table-of-contents\")\n    .forEach(p => p.applicationClass = applications.journal.TableOfContentsCompendium);\n\n  // Apply custom item compendium\n  game.packs.filter(p => p.metadata.type === \"Item\")\n    .forEach(p => p.applicationClass = applications.item.ItemCompendium5e);\n\n  // Configure token rings\n  CONFIG.DND5E.tokenRings.shaderClass ??= canvas.TokenRingSamplerShaderV11;\n  CONFIG.Token.ringClass.initialize();\n});\n\n/* --------------------------------------------- */\n\n/**\n * Expand a list of attribute paths into an object that can be traversed.\n * @param {string[]} attributes  The initial attributes configuration.\n * @returns {object}  The expanded object structure.\n */\nfunction expandAttributeList(attributes) {\n  return attributes.reduce((obj, attr) => {\n    foundry.utils.setProperty(obj, attr, true);\n    return obj;\n  }, {});\n}\n\n/* --------------------------------------------- */\n\n/**\n * Perform one-time pre-localization and sorting of some configuration objects\n */\nHooks.once(\"i18nInit\", () => utils.performPreLocalization(CONFIG.DND5E));\n\n/* -------------------------------------------- */\n/*  Foundry VTT Ready                           */\n/* -------------------------------------------- */\n\n/**\n * Once the entire VTT framework is initialized, check to see if we should perform a data migration\n */\nHooks.once(\"ready\", function() {\n  // Wait to register hotbar drop hook on ready so that modules could register earlier if they want to\n  Hooks.on(\"hotbarDrop\", (bar, data, slot) => {\n    if ( [\"Item\", \"ActiveEffect\"].includes(data.type) ) {\n      documents.macro.create5eMacro(data, slot);\n      return false;\n    }\n  });\n\n  // Determine whether a system migration is required and feasible\n  if ( !game.user.isGM ) return;\n  const cv = game.settings.get(\"dnd5e\", \"systemMigrationVersion\") || game.world.flags.dnd5e?.version;\n  const totalDocuments = game.actors.size + game.scenes.size + game.items.size;\n  if ( !cv && totalDocuments === 0 ) return game.settings.set(\"dnd5e\", \"systemMigrationVersion\", game.system.version);\n  if ( cv && !foundry.utils.isNewerVersion(game.system.flags.needsMigrationVersion, cv) ) return;\n\n  // Compendium pack folder migration.\n  if ( foundry.utils.isNewerVersion(\"3.0.0\", cv) ) {\n    migrations.reparentCompendiums(\"DnD5e SRD Content\", \"D&D SRD Content\");\n  }\n\n  // Perform the migration\n  if ( cv && foundry.utils.isNewerVersion(game.system.flags.compatibleMigrationVersion, cv) ) {\n    ui.notifications.error(\"MIGRATION.5eVersionTooOldWarning\", {localize: true, permanent: true});\n  }\n  migrations.migrateWorld();\n});\n\n/* -------------------------------------------- */\n/*  Canvas Initialization                       */\n/* -------------------------------------------- */\n\nHooks.on(\"canvasInit\", gameCanvas => {\n  if ( game.release.generation < 12 ) {\n    gameCanvas.grid.diagonalRule = game.settings.get(\"dnd5e\", \"diagonalMovement\");\n    SquareGrid.prototype.measureDistances = canvas.measureDistances;\n  }\n  CONFIG.Token.ringClass.pushToLoad(gameCanvas.loadTexturesOptions.additionalSources);\n});\n\n/* -------------------------------------------- */\n/*  Canvas Draw                                 */\n/* -------------------------------------------- */\n\nHooks.on(\"canvasDraw\", gameCanvas => {\n  // The sprite sheet has been loaded now, we can create the uvs for each texture\n  CONFIG.Token.ringClass.createAssetsUVs();\n});\n\n/* -------------------------------------------- */\n/*  System Styling                              */\n/* -------------------------------------------- */\n\nHooks.on(\"renderPause\", (app, [html]) => {\n  html.classList.add(\"dnd5e2\");\n  const img = html.querySelector(\"img\");\n  img.src = \"systems/dnd5e/ui/official/ampersand.svg\";\n  img.className = \"\";\n});\n\nHooks.on(\"renderSettings\", (app, [html]) => {\n  const details = html.querySelector(\"#game-details\");\n  const pip = details.querySelector(\".system-info .update\");\n  details.querySelector(\".system\").remove();\n\n  const heading = document.createElement(\"div\");\n  heading.classList.add(\"dnd5e2\", \"sidebar-heading\");\n  heading.innerHTML = `\n    <h2>${game.i18n.localize(\"WORLD.GameSystem\")}</h2>\n    <ul class=\"links\">\n      <li>\n        <a href=\"https://github.com/foundryvtt/dnd5e/releases/latest\" target=\"_blank\">\n          ${game.i18n.localize(\"DND5E.Notes\")}\n        </a>\n      </li>\n      <li>\n        <a href=\"https://github.com/foundryvtt/dnd5e/issues\" target=\"_blank\">${game.i18n.localize(\"DND5E.Issues\")}</a>\n      </li>\n      <li>\n        <a href=\"https://github.com/foundryvtt/dnd5e/wiki\" target=\"_blank\">${game.i18n.localize(\"DND5E.Wiki\")}</a>\n      </li>\n      <li>\n        <a href=\"https://discord.com/channels/170995199584108546/670336046164213761\" target=\"_blank\">\n          ${game.i18n.localize(\"DND5E.Discord\")}\n        </a>\n      </li>\n    </ul>\n  `;\n  details.insertAdjacentElement(\"afterend\", heading);\n\n  const badge = document.createElement(\"div\");\n  badge.classList.add(\"dnd5e2\", \"system-badge\");\n  badge.innerHTML = `\n    <img src=\"systems/dnd5e/ui/official/dnd-badge-32.webp\" data-tooltip=\"${dnd5e.title}\" alt=\"${dnd5e.title}\">\n    <span class=\"system-info\">${dnd5e.version}</span>\n  `;\n  if ( pip ) badge.querySelector(\".system-info\").insertAdjacentElement(\"beforeend\", pip);\n  heading.insertAdjacentElement(\"afterend\", badge);\n});\n\n/* -------------------------------------------- */\n/*  Other Hooks                                 */\n/* -------------------------------------------- */\n\nHooks.on(\"renderChatPopout\", documents.ChatMessage5e.onRenderChatPopout);\nHooks.on(\"getChatLogEntryContext\", documents.ChatMessage5e.addChatMessageContextOptions);\n\nHooks.on(\"renderChatLog\", (app, html, data) => {\n  documents.Item5e.chatListeners(html);\n  documents.ChatMessage5e.onRenderChatLog(html);\n});\nHooks.on(\"renderChatPopout\", (app, html, data) => documents.Item5e.chatListeners(html));\n\nHooks.on(\"chatMessage\", (app, message, data) => applications.Award.chatMessage(message));\n\nHooks.on(\"renderActorDirectory\", (app, html, data) => documents.Actor5e.onRenderActorDirectory(html));\nHooks.on(\"getActorDirectoryEntryContext\", documents.Actor5e.addDirectoryContextOptions);\n\nHooks.on(\"renderCompendiumDirectory\", (app, [html], data) => applications.CompendiumBrowser.injectSidebarButton(html));\nHooks.on(\"getCompendiumEntryContext\", documents.Item5e.addCompendiumContextOptions);\nHooks.on(\"getItemDirectoryEntryContext\", documents.Item5e.addDirectoryContextOptions);\n\nHooks.on(\"renderJournalPageSheet\", applications.journal.JournalSheet5e.onRenderJournalPageSheet);\n\nHooks.on(\"targetToken\", canvas.Token5e.onTargetToken);\n\n/* -------------------------------------------- */\n/*  Bundled Module Exports                      */\n/* -------------------------------------------- */\n\nexport {\n  applications,\n  canvas,\n  dataModels,\n  dice,\n  documents,\n  enrichers,\n  Filter,\n  migrations,\n  utils,\n  DND5E\n};\n"],"names":["DocumentIdField","FilePathField","NumberField","StringField","Filter.uniqueKeys","Filter.performCheck","ArrayField","BooleanField","EmbeddedDataField","SchemaField","SetField","HTMLField","Trait.localizedList","Trait.choiceLabel","Trait.choices","Trait.keyLabel","Trait.changeKeyPath","trait","actorValues","Trait.actorValues","choices","Trait.traitLabel","Trait.mixedChoices","IntegerSortField","Trait.getBaseItem","ForeignDocumentField","advancement.AbilityScoreImprovementAdvancement","advancement.HitPointsAdvancement","advancement.ItemChoiceAdvancement","advancement.ItemGrantAdvancement","advancement.ScaleValueAdvancement","advancement.SizeAdvancement","advancement.TraitAdvancement","BaseConfig","Trait.actorKeyPath","DetailsFields","TraitsFields","Trait.getBaseItemUUID","AbstractFormInputElement","config","GroupData","canvas","documents.ActiveEffect5e","documents.Actor5e","documents.ChatMessage5e","documents.Combat5e","documents.Combatant5e","dataModels.collection.Items5e","documents.Item5e","documents.TokenDocument5e","canvas.Token5e","canvas.TokenRing","documents.User5e","dice.DamageRoll","dice.D20Roll","canvas.Note5e","applications.combat.CombatTracker5e","dataModels.actor.config","dataModels.item.config","dataModels.journal.config","applications.actor.ActorSheet5eCharacter","applications.actor.ActorSheet5eCharacter2","applications.actor.ActorSheet5eNPC","applications.actor.ActorSheet5eNPC2","applications.actor.ActorSheet5eVehicle","applications.actor.GroupActorSheet","applications.item.ItemSheet5e","applications.item.ContainerSheet","applications.journal.JournalSheet5e","applications.journal.JournalClassPageSheet","applications.journal.JournalMapLocationPageSheet","applications.journal.JournalRulePageSheet","applications.journal.JournalSpellListPageSheet","applications.TokenConfig5e","utils.registerHandlebarsHelpers","utils.preloadHandlebarsTemplates","enrichers.registerCustomEnrichers","utils.staticID","applications.journal.TableOfContentsCompendium","applications.item.ItemCompendium5e","canvas.TokenRingSamplerShaderV11","utils.performPreLocalization","documents.macro.create5eMacro","migrations.reparentCompendiums","migrations.migrateWorld","canvas.measureDistances","applications.Award","applications.CompendiumBrowser"],"mappings":"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"}